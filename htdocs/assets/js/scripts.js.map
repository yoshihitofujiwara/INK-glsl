{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///../src/dat/color/toString.js","webpack:///../src/dat/utils/common.js","webpack:///../src/dat/color/interpret.js","webpack:///../src/dat/color/math.js","webpack:///../src/dat/color/Color.js","webpack:///../src/dat/controllers/Controller.js","webpack:///../src/dat/dom/dom.js","webpack:///../src/dat/controllers/BooleanController.js","webpack:///../src/dat/controllers/OptionController.js","webpack:///../src/dat/controllers/StringController.js","webpack:///../src/dat/controllers/NumberController.js","webpack:///../src/dat/controllers/NumberControllerBox.js","webpack:///../src/dat/controllers/NumberControllerSlider.js","webpack:///../src/dat/controllers/FunctionController.js","webpack:///../src/dat/controllers/ColorController.js","webpack:///../src/dat/utils/css.js","webpack:///../src/dat/gui/saveDialogue.html.js","webpack:///../src/dat/controllers/ControllerFactory.js","webpack:///../src/dat/utils/requestAnimationFrame.js","webpack:///../src/dat/dom/CenteredDiv.js","webpack:///../src/dat/gui/GUI.js","webpack:///../src/dat/index.js","webpack:///./node_modules/stats-js/build/stats.min.js","webpack:///./node_modules/three/build/three.module.js","webpack:///(webpack)/buildin/global.js","webpack:///./src/assets/js/libs/inkjs/utils/array.js","webpack:///./src/assets/js/libs/inkjs/utils/is.js","webpack:///./src/assets/js/libs/inkjs/utils/utility.js","webpack:///./src/assets/js/scripts/days/Day001.js","webpack:///./src/assets/js/scripts/days/Day002.js","webpack:///./src/assets/js/scripts/days/Day003.js","webpack:///./src/assets/js/scripts/days/Day004.js","webpack:///./src/assets/js/scripts/days/Day005.js","webpack:///./src/assets/js/scripts/days/index.js","webpack:///./src/assets/js/scripts/index.js","webpack:///./src/assets/js/scripts/utils/Debug.js","webpack:///./src/assets/js/scripts/utils/RenderManager.js","webpack:///./src/assets/js/scripts/utils/ShaderPlaneMesh.js","webpack:///./src/assets/shader/days/day001.frag","webpack:///./src/assets/shader/days/day002.frag","webpack:///./src/assets/shader/days/day003.frag","webpack:///./src/assets/shader/days/day004.frag","webpack:///./src/assets/shader/days/day005.frag"],"names":["colorFormat","color","r","Math","g","b","a","h","s","v","forceCSSHex","str","ARR_EACH","Array","ARR_SLICE","Common","keys","Object","obj","target","toCall","args","i","key","l","itr","timeout","func","callNow","callImmediately","setTimeout","isNaN","INTERPRETATIONS","common","test","original","parseInt","toString","parseFloat","result","toReturn","interpret","arguments","family","conversion","tmpComponent","ColorMath","hi","f","p","q","t","c","min","max","delta","hex","componentIndex","value","Color","colorToString","math","defineRGBComponent","defineHSVComponent","Controller","object","document","fnc","newValue","EVENT_MAP","EVENT_MAP_INV","CSS_VALUE_PIXELS","val","match","dom","elem","selectable","vertical","horizontal","params","pars","className","evt","clientX","clientY","init","undefined","bool","newBool","classes","index","style","getComputedStyle","cssValueToPixels","offset","left","top","BooleanController","_this","OptionController","options","map","opt","desiredValue","StringController","e","_x","x","NumberController","_params","numDecimals","_v","minValue","maxValue","stepValue","tenTo","NumberControllerBox","prevY","attempted","diff","roundToDecimal","o1","o2","i2","NumberControllerSlider","step","bgRect","pct","FunctionController","text","ColorController","valueField","fieldRect","mismatch","flip","_flip","vendors","css","doc","indoc","link","injected","head","saveDialogContents","ControllerFactory","initialValue","window","CenteredDiv","hide","CSS_NAMESPACE","HIDE_KEY_CODE","CLOSE_BUTTON_HEIGHT","DEFAULT_DEFAULT_PRESET_NAME","SUPPORTS_LOCAL_STORAGE","SAVE_DIALOGUE","autoPlaceVirgin","autoPlaceContainer","hideableGuis","GUI","DEFAULT_WIDTH","autoPlace","preset","useLocalStorage","localStorage","getLocalStorageHash","saveToLocalStorage","titleRow","savedGui","JSON","titleRowName","addRow","onClickTitle","root","controller","newGuiParams","name","parent","gui","li","folder","node","getCurrentPreset","element","nextSibling","box","pc","pb","oldName","wasListening","newController","matchedIndex","controllerMap","presetMap","factoryArgs","container","div","gears","button","button2","button3","select","explain","localStorageCheckBox","saveLocally","newConstructorTextArea","presetName","prompt","pmouseX","w","savedValues","useInitialValues","controllerArray","controllers","exports","module","define","n","createElement","appendChild","children","length","display","cssText","addEventListener","preventDefault","performance","Date","now","o","Panel","self","memory","d","REVISION","addPanel","showPanel","begin","end","update","usedJSHeapSize","jsHeapSizeLimit","domElement","setMode","round","devicePixelRatio","u","m","y","width","height","getContext","font","textBaseline","fillStyle","fillRect","fillText","globalAlpha","drawImage","Number","EPSILON","pow","isInteger","isFinite","floor","sign","Function","prototype","defineProperty","get","assign","TypeError","output","source","nextKey","hasOwnProperty","call","MOUSE","LEFT","MIDDLE","RIGHT","ROTATE","DOLLY","PAN","TOUCH","DOLLY_PAN","DOLLY_ROTATE","CullFaceNone","CullFaceBack","CullFaceFront","CullFaceFrontBack","FrontFaceDirectionCW","FrontFaceDirectionCCW","BasicShadowMap","PCFShadowMap","PCFSoftShadowMap","VSMShadowMap","FrontSide","BackSide","DoubleSide","FlatShading","SmoothShading","NoBlending","NormalBlending","AdditiveBlending","SubtractiveBlending","MultiplyBlending","CustomBlending","AddEquation","SubtractEquation","ReverseSubtractEquation","MinEquation","MaxEquation","ZeroFactor","OneFactor","SrcColorFactor","OneMinusSrcColorFactor","SrcAlphaFactor","OneMinusSrcAlphaFactor","DstAlphaFactor","OneMinusDstAlphaFactor","DstColorFactor","OneMinusDstColorFactor","SrcAlphaSaturateFactor","NeverDepth","AlwaysDepth","LessDepth","LessEqualDepth","EqualDepth","GreaterEqualDepth","GreaterDepth","NotEqualDepth","MultiplyOperation","MixOperation","AddOperation","NoToneMapping","LinearToneMapping","ReinhardToneMapping","Uncharted2ToneMapping","CineonToneMapping","ACESFilmicToneMapping","UVMapping","CubeReflectionMapping","CubeRefractionMapping","EquirectangularReflectionMapping","EquirectangularRefractionMapping","SphericalReflectionMapping","CubeUVReflectionMapping","CubeUVRefractionMapping","RepeatWrapping","ClampToEdgeWrapping","MirroredRepeatWrapping","NearestFilter","NearestMipmapNearestFilter","NearestMipMapNearestFilter","NearestMipmapLinearFilter","NearestMipMapLinearFilter","LinearFilter","LinearMipmapNearestFilter","LinearMipMapNearestFilter","LinearMipmapLinearFilter","LinearMipMapLinearFilter","UnsignedByteType","ByteType","ShortType","UnsignedShortType","IntType","UnsignedIntType","FloatType","HalfFloatType","UnsignedShort4444Type","UnsignedShort5551Type","UnsignedShort565Type","UnsignedInt248Type","AlphaFormat","RGBFormat","RGBAFormat","LuminanceFormat","LuminanceAlphaFormat","RGBEFormat","DepthFormat","DepthStencilFormat","RedFormat","RedIntegerFormat","RGFormat","RGIntegerFormat","RGBIntegerFormat","RGBAIntegerFormat","RGB_S3TC_DXT1_Format","RGBA_S3TC_DXT1_Format","RGBA_S3TC_DXT3_Format","RGBA_S3TC_DXT5_Format","RGB_PVRTC_4BPPV1_Format","RGB_PVRTC_2BPPV1_Format","RGBA_PVRTC_4BPPV1_Format","RGBA_PVRTC_2BPPV1_Format","RGB_ETC1_Format","RGB_ETC2_Format","RGBA_ETC2_EAC_Format","RGBA_ASTC_4x4_Format","RGBA_ASTC_5x4_Format","RGBA_ASTC_5x5_Format","RGBA_ASTC_6x5_Format","RGBA_ASTC_6x6_Format","RGBA_ASTC_8x5_Format","RGBA_ASTC_8x6_Format","RGBA_ASTC_8x8_Format","RGBA_ASTC_10x5_Format","RGBA_ASTC_10x6_Format","RGBA_ASTC_10x8_Format","RGBA_ASTC_10x10_Format","RGBA_ASTC_12x10_Format","RGBA_ASTC_12x12_Format","SRGB8_ALPHA8_ASTC_4x4_Format","SRGB8_ALPHA8_ASTC_5x4_Format","SRGB8_ALPHA8_ASTC_5x5_Format","SRGB8_ALPHA8_ASTC_6x5_Format","SRGB8_ALPHA8_ASTC_6x6_Format","SRGB8_ALPHA8_ASTC_8x5_Format","SRGB8_ALPHA8_ASTC_8x6_Format","SRGB8_ALPHA8_ASTC_8x8_Format","SRGB8_ALPHA8_ASTC_10x5_Format","SRGB8_ALPHA8_ASTC_10x6_Format","SRGB8_ALPHA8_ASTC_10x8_Format","SRGB8_ALPHA8_ASTC_10x10_Format","SRGB8_ALPHA8_ASTC_12x10_Format","SRGB8_ALPHA8_ASTC_12x12_Format","LoopOnce","LoopRepeat","LoopPingPong","InterpolateDiscrete","InterpolateLinear","InterpolateSmooth","ZeroCurvatureEnding","ZeroSlopeEnding","WrapAroundEnding","TrianglesDrawMode","TriangleStripDrawMode","TriangleFanDrawMode","LinearEncoding","sRGBEncoding","GammaEncoding","RGBEEncoding","LogLuvEncoding","RGBM7Encoding","RGBM16Encoding","RGBDEncoding","BasicDepthPacking","RGBADepthPacking","TangentSpaceNormalMap","ObjectSpaceNormalMap","ZeroStencilOp","KeepStencilOp","ReplaceStencilOp","IncrementStencilOp","DecrementStencilOp","IncrementWrapStencilOp","DecrementWrapStencilOp","InvertStencilOp","NeverStencilFunc","LessStencilFunc","EqualStencilFunc","LessEqualStencilFunc","GreaterStencilFunc","NotEqualStencilFunc","GreaterEqualStencilFunc","AlwaysStencilFunc","StaticDrawUsage","DynamicDrawUsage","StreamDrawUsage","StaticReadUsage","DynamicReadUsage","StreamReadUsage","StaticCopyUsage","DynamicCopyUsage","StreamCopyUsage","EventDispatcher","type","listener","_listeners","listeners","indexOf","push","hasEventListener","removeEventListener","listenerArray","splice","dispatchEvent","event","array","slice","_lut","MathUtils","DEG2RAD","PI","RAD2DEG","generateUUID","d0","random","d1","d2","d3","uuid","toUpperCase","clamp","euclideanModulo","mapLinear","a1","a2","b1","b2","lerp","smoothstep","smootherstep","randInt","low","high","randFloat","randFloatSpread","range","degToRad","degrees","radToDeg","radians","isPowerOfTwo","ceilPowerOfTwo","ceil","log","LN2","floorPowerOfTwo","setQuaternionFromProperEuler","order","cos","sin","c2","s2","c13","s13","c1_3","s1_3","c3_1","s3_1","set","console","warn","Vector2","defineProperties","isVector2","setScalar","scalar","setX","setY","setComponent","Error","getComponent","clone","constructor","copy","add","addVectors","addScalar","addScaledVector","sub","subVectors","subScalar","multiply","multiplyScalar","divide","divideScalar","applyMatrix3","elements","clampScalar","minVal","maxVal","clampLength","roundToZero","negate","dot","cross","lengthSq","sqrt","manhattanLength","abs","normalize","angle","atan2","distanceTo","distanceToSquared","dx","dy","manhattanDistanceTo","setLength","alpha","lerpVectors","v1","v2","equals","fromArray","toArray","fromBufferAttribute","attribute","getX","getY","rotateAround","center","Matrix3","error","isMatrix3","n11","n12","n13","n21","n22","n23","n31","n32","n33","te","identity","me","extractBasis","xAxis","yAxis","zAxis","setFromMatrix3Column","setFromMatrix4","multiplyMatrices","premultiply","ae","be","a11","a12","a13","a21","a22","a23","a31","a32","a33","b11","b12","b13","b21","b22","b23","b31","b32","b33","determinant","getInverse","matrix","throwOnDegenerate","isMatrix4","t11","t12","t13","det","msg","detInv","transpose","tmp","getNormalMatrix","matrix4","transposeIntoArray","setUvTransform","tx","ty","sx","sy","rotation","cx","cy","scale","rotate","theta","translate","_canvas","ImageUtils","getDataURL","image","canvas","HTMLCanvasElement","src","createElementNS","context","ImageData","putImageData","toDataURL","textureId","Texture","mapping","wrapS","wrapT","magFilter","minFilter","format","anisotropy","encoding","DEFAULT_IMAGE","mipmaps","DEFAULT_MAPPING","internalFormat","repeat","matrixAutoUpdate","generateMipmaps","premultiplyAlpha","flipY","unpackAlignment","version","onUpdate","create","isTexture","updateMatrix","toJSON","meta","isRootObject","textures","metadata","generator","wrap","images","url","isArray","dispose","transformUv","uv","Vector4","z","isVector4","setZ","setW","applyMatrix4","setAxisAngleFromQuaternion","acos","setAxisAngleFromRotationMatrix","epsilon","epsilon2","m11","m12","m13","m21","m22","m23","m31","m32","m33","xx","yy","zz","xy","xz","yz","getZ","getW","WebGLRenderTarget","scissor","scissorTest","viewport","texture","depthBuffer","stencilBuffer","depthTexture","isWebGLRenderTarget","setSize","WebGLMultisampleRenderTarget","samples","isWebGLMultisampleRenderTarget","Quaternion","_y","_z","_w","slerp","qa","qb","qm","slerpFlat","dst","dstOffset","src0","srcOffset0","src1","srcOffset1","x0","y0","z0","w0","x1","y1","z1","w1","dir","sqrSin","len","tDir","_onChangeCallback","isQuaternion","quaternion","setFromEuler","euler","isEuler","c1","c3","s1","s3","setFromAxisAngle","axis","halfAngle","setFromRotationMatrix","trace","setFromUnitVectors","vFrom","vTo","EPS","angleTo","rotateTowards","inverse","conjugate","multiplyQuaternions","qax","qay","qaz","qaw","qbx","qby","qbz","qbw","cosHalfTheta","sqrSinHalfTheta","sinHalfTheta","halfTheta","ratioA","ratioB","_onChange","callback","_vector","Vector3","_quaternion","isVector3","multiplyVectors","applyEuler","applyQuaternion","applyAxisAngle","applyNormalMatrix","qx","qy","qz","qw","ix","iy","iz","iw","project","camera","matrixWorldInverse","projectionMatrix","unproject","projectionMatrixInverse","matrixWorld","transformDirection","crossVectors","ax","ay","az","bx","by","bz","projectOnVector","denominator","projectOnPlane","planeNormal","reflect","normal","dz","setFromSpherical","setFromSphericalCoords","radius","phi","sinPhiRadius","setFromCylindrical","setFromCylindricalCoords","setFromMatrixPosition","setFromMatrixScale","setFromMatrixColumn","sz","_v1","_m1","Matrix4","_zero","_one","n14","n24","n34","n41","n42","n43","n44","copyPosition","makeBasis","extractRotation","scaleX","scaleY","scaleZ","makeRotationFromEuler","af","bf","ce","cf","de","df","ac","ad","bc","bd","makeRotationFromQuaternion","compose","lookAt","eye","up","a14","a24","a34","a41","a42","a43","a44","b14","b24","b34","b41","b42","b43","b44","setPosition","t14","getMaxScaleOnAxis","scaleXSq","scaleYSq","scaleZSq","makeTranslation","makeRotationX","makeRotationY","makeRotationZ","makeRotationAxis","makeScale","makeShear","position","x2","y2","z2","wx","wy","wz","decompose","invSX","invSY","invSZ","makePerspective","right","bottom","near","far","makeOrthographic","_matrix","_quaternion$1","Euler","_order","DefaultOrder","RotationOrders","asin","setFromQuaternion","setFromVector3","reorder","newOrder","toVector3","optionalResult","Layers","mask","channel","enable","enableAll","toggle","disable","disableAll","layers","_object3DId","_v1$1","_q1","_m1$1","_target","_position","_scale","_quaternion$2","_xAxis","_yAxis","_zAxis","_addedEvent","_removedEvent","Object3D","DefaultUp","onRotationChange","onQuaternionChange","configurable","enumerable","modelViewMatrix","normalMatrix","DefaultMatrixAutoUpdate","matrixWorldNeedsUpdate","visible","castShadow","receiveShadow","frustumCulled","renderOrder","userData","isObject3D","onBeforeRender","onAfterRender","setRotationFromAxisAngle","setRotationFromEuler","setRotationFromMatrix","setRotationFromQuaternion","rotateOnAxis","rotateOnWorldAxis","rotateX","rotateY","rotateZ","translateOnAxis","distance","translateX","translateY","translateZ","localToWorld","vector","worldToLocal","updateWorldMatrix","isCamera","isLight","remove","attach","getObjectById","id","getObjectByProperty","getObjectByName","child","getWorldPosition","updateMatrixWorld","getWorldQuaternion","getWorldScale","getWorldDirection","raycast","traverse","traverseVisible","traverseAncestors","force","updateParents","updateChildren","geometries","materials","shapes","stringify","isInstancedMesh","count","instanceMatrix","serialize","library","isMesh","isLine","isPoints","geometry","parameters","shape","material","uuids","extractFromCache","cache","values","data","recursive","parse","Scene","background","environment","fog","overrideMaterial","autoUpdate","__THREE_DEVTOOLS__","CustomEvent","detail","isScene","_points","_vector$1","_box","Box3","_v0","_v1$2","_v2","_f0","_f1","_f2","_center","_extents","_triangleNormal","_testAxis","Infinity","isBox3","setFromArray","minX","minY","minZ","maxX","maxY","maxZ","setFromBufferAttribute","setFromPoints","points","makeEmpty","il","expandByPoint","setFromCenterAndSize","size","halfSize","setFromObject","expandByObject","isEmpty","getCenter","getSize","point","expandByVector","expandByScalar","boundingBox","computeBoundingBox","union","containsPoint","containsBox","getParameter","intersectsBox","intersectsSphere","sphere","clampPoint","intersectsPlane","plane","constant","intersectsTriangle","triangle","axes","satForAxes","distanceToPoint","clampedPoint","getBoundingSphere","intersect","v0","extents","j","p0","p1","p2","_box$1","Sphere","optionalCenter","maxRadiusSq","empty","radiusSum","deltaLengthSq","getBoundingBox","_vector$2","_segCenter","_segDir","_diff","_edge1","_edge2","_normal","Ray","origin","direction","ray","at","recast","closestPointToPoint","directionDistance","distanceSqToPoint","distanceSqToSegment","optionalPointOnRay","optionalPointOnSegment","segExtent","a01","b0","s0","sqrDist","extDet","invDet","intersectSphere","tca","radius2","thc","t0","t1","distanceToPlane","intersectPlane","distToPoint","intersectBox","tmin","tmax","tymin","tymax","tzmin","tzmax","invdirx","invdiry","invdirz","intersectTriangle","backfaceCulling","DdN","DdQxE2","DdE1xQ","QdN","_vector1","_vector2","_normalMatrix","Plane","isPlane","setComponents","setFromNormalAndCoplanarPoint","setFromCoplanarPoints","inverseNormalLength","distanceToSphere","projectPoint","intersectLine","line","start","intersectsLine","startSign","endSign","coplanarPoint","optionalNormalMatrix","referencePoint","_v0$1","_v1$3","_v2$1","_v3","_vab","_vac","_vbc","_vap","_vbp","_vcp","Triangle","getNormal","targetLengthSq","getBarycoord","dot00","dot01","dot02","dot11","dot12","denom","invDenom","getUV","p3","uv1","uv2","uv3","isFrontFacing","setFromPointsAndIndices","i0","i1","getArea","getMidpoint","getPlane","d4","vc","d5","d6","vb","va","_colorKeywords","_hslA","_hslB","setRGB","hue2rgb","SRGBToLinear","LinearToSRGB","isColor","setHex","setStyle","setHSL","handleAlpha","string","exec","components","charAt","setColorName","copyGammaToLinear","gammaFactor","copyLinearToGamma","safeInverse","convertGammaToLinear","convertLinearToGamma","copySRGBToLinear","copyLinearToSRGB","convertSRGBToLinear","convertLinearToSRGB","getHex","getHexString","getHSL","hue","saturation","lightness","getStyle","offsetHSL","addColors","color1","color2","lerpHSL","NAMES","Face3","materialIndex","vertexNormals","vertexColors","materialId","Material","blending","side","flatShading","opacity","transparent","blendSrc","blendDst","blendEquation","blendSrcAlpha","blendDstAlpha","blendEquationAlpha","depthFunc","depthTest","depthWrite","stencilWriteMask","stencilFunc","stencilRef","stencilFuncMask","stencilFail","stencilZFail","stencilZPass","stencilWrite","clippingPlanes","clipIntersection","clipShadows","shadowSide","colorWrite","precision","polygonOffset","polygonOffsetFactor","polygonOffsetUnits","dithering","alphaTest","premultipliedAlpha","toneMapped","isMaterial","onBeforeCompile","setValues","currentValue","isRoot","roughness","metalness","sheen","emissive","emissiveIntensity","specular","shininess","clearcoat","clearcoatRoughness","clearcoatNormalMap","clearcoatNormalScale","matcap","alphaMap","lightMap","aoMap","aoMapIntensity","bumpMap","bumpScale","normalMap","normalMapType","normalScale","displacementMap","displacementScale","displacementBias","roughnessMap","metalnessMap","emissiveMap","specularMap","envMap","reflectivity","refractionRatio","combine","envMapIntensity","gradientMap","sizeAttenuation","linewidth","dashSize","gapSize","wireframe","wireframeLinewidth","wireframeLinecap","wireframeLinejoin","morphTargets","morphNormals","skinning","srcPlanes","dstPlanes","MeshBasicMaterial","lightMapIntensity","isMeshBasicMaterial","_vector$3","BufferAttribute","itemSize","normalized","usage","updateRange","isBufferAttribute","onUploadCallback","setUsage","copyAt","index1","index2","copyArray","copyColorsArray","colors","copyVector2sArray","vectors","copyVector3sArray","copyVector4sArray","setXYZ","setXY","setXYZW","onUpload","Int8BufferAttribute","Int8Array","Uint8BufferAttribute","Uint8Array","Uint8ClampedBufferAttribute","Uint8ClampedArray","Int16BufferAttribute","Int16Array","Uint16BufferAttribute","Uint16Array","Int32BufferAttribute","Int32Array","Uint32BufferAttribute","Uint32Array","Float32BufferAttribute","Float32Array","Float64BufferAttribute","Float64Array","DirectGeometry","vertices","normals","uvs","uvs2","groups","skinWeights","skinIndices","boundingSphere","verticesNeedUpdate","normalsNeedUpdate","colorsNeedUpdate","uvsNeedUpdate","groupsNeedUpdate","computeGroups","group","faces","face","fromGeometry","faceVertexUvs","hasFaceVertexUv","hasFaceVertexUv2","morphTargetsLength","morphTargetsPosition","morphNormalsLength","morphTargetsNormal","hasSkinIndices","hasSkinWeights","vertexUvs","morphTarget","morphNormal","arrayMax","_bufferGeometryId","_m1$2","_obj","_offset","_box$2","_boxMorphTargets","_vector$4","BufferGeometry","attributes","morphAttributes","morphTargetsRelative","drawRange","isBufferGeometry","getIndex","setIndex","getAttribute","setAttribute","deleteAttribute","addGroup","clearGroups","setDrawRange","needsUpdate","tangent","computeBoundingSphere","positions","lineDistances","isGeometry","updateFromObject","direct","__directGeometry","elementsNeedUpdate","lineDistancesNeedUpdate","lineDistance","fromDirectGeometry","morphAttributesPosition","morphAttribute","jl","computeFaceNormals","computeVertexNormals","vA","vB","vC","pA","pB","pC","cb","ab","indices","normalizeNormals","merge","attribute1","attributeArray1","attribute2","attributeArray2","attributeOffset","toNonIndexed","convertBufferAttribute","array2","geometry2","newAttribute","morphArray","attributeData","hasMorphAttributes","attributeArray","_inverseMatrix","_ray","_sphere","_vA","_vB","_vC","_tempA","_tempB","_tempC","_morphA","_morphB","_morphC","_uvA","_uvB","_uvC","_intersectionPoint","_intersectionPointWorld","Mesh","updateMorphTargets","morphTargetInfluences","morphTargetDictionary","ml","String","raycaster","intersects","intersection","morphPosition","groupMaterial","checkBufferGeometryIntersection","faceIndex","fvA","fvB","fvC","isMultiMaterial","fl","faceMaterial","checkIntersection","uvs_f","morphInfluences","influence","_geometryId","_m1$3","_obj$1","_offset$1","Geometry","vertex","fromBufferGeometry","scope","addFace","areaWeighted","vl","computeFlatVertexNormals","computeMorphNormals","__originalFaceNormal","__originalVertexNormals","tmpGeo","faceNormals","dstNormalsFace","dstNormalsVertex","faceNormal","materialIndexOffset","vertexOffset","vertices1","vertices2","faces1","faces2","colors1","colors2","vertexCopy","faceCopy","faceVertexNormals","faceVertexColors","faceVertexUvs2","uvsCopy","k","kl","mergeMesh","mesh","mergeVertices","verticesMap","unique","changes","precisionPoints","faceIndicesToRemove","idx","sortFacesByMaterialIndex","_id","materialIndexSort","sort","uvs1","newUvs1","newUvs2","normalsHash","colorsHash","uvsHash","hasMaterial","hasFaceUv","hasFaceNormal","hasFaceVertexNormal","hasFaceColor","hasFaceVertexColor","faceType","setBit","getUvIndex","getNormalIndex","getColorIndex","enabled","hash","srcVertexNormal","destVertexNormal","BoxGeometry","depth","widthSegments","heightSegments","depthSegments","BoxBufferGeometry","numberOfVertices","groupStart","buildPlane","udir","vdir","gridX","gridY","segmentWidth","segmentHeight","widthHalf","heightHalf","depthHalf","gridX1","gridY1","vertexCounter","groupCount","cloneUniforms","property","mergeUniforms","uniforms","merged","UniformsUtils","default_vertex","default_fragment","ShaderMaterial","defines","vertexShader","fragmentShader","lights","clipping","extensions","derivatives","fragDepth","drawBuffers","shaderTextureLOD","defaultAttributeValues","index0AttributeName","uniformsNeedUpdate","isShaderMaterial","uniform","Camera","PerspectiveCamera","fov","aspect","zoom","focus","view","filmGauge","filmOffset","updateProjectionMatrix","isPerspectiveCamera","setFocalLength","focalLength","vExtentSlope","getFilmHeight","atan","getFocalLength","tan","getEffectiveFOV","getFilmWidth","setViewOffset","fullWidth","fullHeight","offsetX","offsetY","clearViewOffset","skew","CubeCamera","cubeResolution","cameraPX","cameraNX","cameraPY","cameraNY","cameraPZ","cameraNZ","renderTarget","WebGLCubeRenderTarget","renderer","scene","currentRenderTarget","getRenderTarget","setRenderTarget","render","clear","stencil","dummy","isWebGLCubeRenderTarget","fromEquirectangularTexture","shader","tEquirect","join","DataTexture","isDataTexture","_sphere$1","_vector$5","Frustum","p4","p5","planes","frustum","setFromProjectionMatrix","me0","me1","me2","me3","me4","me5","me6","me7","me8","me9","me10","me11","me12","me13","me14","me15","intersectsObject","intersectsSprite","sprite","negRadius","UniformsLib","diffuse","uvTransform","uv2Transform","specularmap","envmap","flipEnvMap","maxMipLevel","aomap","lightmap","emissivemap","bumpmap","normalmap","displacementmap","roughnessmap","metalnessmap","gradientmap","fogDensity","fogNear","fogFar","fogColor","ambientLightColor","lightProbe","directionalLights","properties","directionalLightShadows","shadowBias","shadowRadius","shadowMapSize","directionalShadowMap","directionalShadowMatrix","spotLights","coneCos","penumbraCos","decay","spotLightShadows","spotShadowMap","spotShadowMatrix","pointLights","pointLightShadows","shadowCameraNear","shadowCameraFar","pointShadowMap","pointShadowMatrix","hemisphereLights","skyColor","groundColor","rectAreaLights","WebGLAnimation","isAnimating","animationLoop","onAnimationFrame","time","frame","requestAnimationFrame","stop","setAnimationLoop","setContext","WebGLAttributes","gl","capabilities","isWebGL2","buffers","WeakMap","createBuffer","bufferType","buffer","bindBuffer","bufferData","bytesPerElement","BYTES_PER_ELEMENT","updateBuffer","bufferSubData","subarray","isInterleavedBufferAttribute","deleteBuffer","delete","PlaneGeometry","PlaneBufferGeometry","width_half","height_half","segment_width","segment_height","alphamap_fragment","alphamap_pars_fragment","alphatest_fragment","aomap_fragment","aomap_pars_fragment","begin_vertex","beginnormal_vertex","bsdfs","bumpmap_pars_fragment","clipping_planes_fragment","clipping_planes_pars_fragment","clipping_planes_pars_vertex","clipping_planes_vertex","color_fragment","color_pars_fragment","color_pars_vertex","color_vertex","cube_uv_reflection_fragment","defaultnormal_vertex","displacementmap_pars_vertex","displacementmap_vertex","emissivemap_fragment","emissivemap_pars_fragment","encodings_fragment","encodings_pars_fragment","envmap_fragment","envmap_common_pars_fragment","envmap_pars_fragment","envmap_pars_vertex","envmap_vertex","fog_vertex","fog_pars_vertex","fog_fragment","fog_pars_fragment","gradientmap_pars_fragment","lightmap_fragment","lightmap_pars_fragment","lights_lambert_vertex","lights_pars_begin","envmap_physical_pars_fragment","lights_toon_fragment","lights_toon_pars_fragment","lights_phong_fragment","lights_phong_pars_fragment","lights_physical_fragment","lights_physical_pars_fragment","lights_fragment_begin","lights_fragment_maps","lights_fragment_end","logdepthbuf_fragment","logdepthbuf_pars_fragment","logdepthbuf_pars_vertex","logdepthbuf_vertex","map_fragment","map_pars_fragment","map_particle_fragment","map_particle_pars_fragment","metalnessmap_fragment","metalnessmap_pars_fragment","morphnormal_vertex","morphtarget_pars_vertex","morphtarget_vertex","normal_fragment_begin","normal_fragment_maps","normalmap_pars_fragment","clearcoat_normal_fragment_begin","clearcoat_normal_fragment_maps","clearcoat_normalmap_pars_fragment","packing","premultiplied_alpha_fragment","project_vertex","dithering_fragment","dithering_pars_fragment","roughnessmap_fragment","roughnessmap_pars_fragment","shadowmap_pars_fragment","shadowmap_pars_vertex","shadowmap_vertex","shadowmask_pars_fragment","skinbase_vertex","skinning_pars_vertex","skinning_vertex","skinnormal_vertex","specularmap_fragment","specularmap_pars_fragment","tonemapping_fragment","tonemapping_pars_fragment","uv_pars_fragment","uv_pars_vertex","uv_vertex","uv2_pars_fragment","uv2_pars_vertex","uv2_vertex","worldpos_vertex","background_frag","background_vert","cube_frag","cube_vert","depth_frag","depth_vert","distanceRGBA_frag","distanceRGBA_vert","equirect_frag","equirect_vert","linedashed_frag","linedashed_vert","meshbasic_frag","meshbasic_vert","meshlambert_frag","meshlambert_vert","meshmatcap_frag","meshmatcap_vert","meshtoon_frag","meshtoon_vert","meshphong_frag","meshphong_vert","meshphysical_frag","meshphysical_vert","normal_frag","normal_vert","points_frag","points_vert","shadow_frag","shadow_vert","sprite_frag","sprite_vert","ShaderChunk","ShaderLib","basic","lambert","phong","standard","toon","dashed","totalSize","t2D","cube","equirect","distanceRGBA","referencePosition","nearDistance","farDistance","shadow","physical","transparency","WebGLBackground","state","objects","clearColor","clearAlpha","planeMesh","boxMesh","currentBackground","currentBackgroundVersion","currentTonemapping","renderList","forceClear","xr","session","getSession","environmentBlendMode","setClear","autoClear","autoClearColor","autoClearDepth","autoClearStencil","isCubeTexture","toneMapping","unshift","getClearColor","setClearColor","getClearAlpha","setClearAlpha","WebGLBufferRenderer","info","mode","drawArrays","renderInstances","primcount","extension","methodName","WebGLCapabilities","maxAnisotropy","getMaxAnisotropy","MAX_TEXTURE_MAX_ANISOTROPY_EXT","getMaxPrecision","getShaderPrecisionFormat","WebGL2RenderingContext","WebGL2ComputeRenderingContext","maxPrecision","logarithmicDepthBuffer","maxTextures","maxVertexTextures","maxTextureSize","maxCubemapSize","maxAttributes","maxVertexUniforms","maxVaryings","maxFragmentUniforms","vertexTextures","floatFragmentTextures","floatVertexTextures","maxSamples","WebGLClipping","globalState","numGlobalPlanes","localClippingEnabled","renderingShadows","viewNormalMatrix","numPlanes","numIntersection","enableLocalClipping","projectPlanes","beginShadows","endShadows","resetGlobalState","setState","fromCache","nGlobal","lGlobal","dstArray","clippingState","skipTransform","nPlanes","flatSize","viewMatrix","i4","WebGLExtensions","getExtension","WebGLGeometries","wireframeAttributes","onGeometryDispose","buffergeometry","_bufferGeometry","geometryAttributes","updateWireframeAttribute","geometryIndex","geometryPosition","previousAttribute","getWireframeAttribute","currentAttribute","WebGLIndexedBufferRenderer","drawElements","WebGLInfo","calls","triangles","lines","instanceCount","reset","programs","autoReset","absNumericalSort","WebGLMorphtargets","influencesList","program","objectInfluences","influences","morphInfluencesSum","morphBaseInfluence","getUniforms","setValue","WebGLObjects","updateMap","CubeTexture","DataTexture2DArray","wrapR","isDataTexture2DArray","DataTexture3D","isDataTexture3D","emptyTexture","emptyTexture2dArray","emptyTexture3d","emptyCubeTexture","arrayCacheF32","arrayCacheI32","mat4array","mat3array","mat2array","flatten","nBlocks","blockSize","firstElem","arraysEqual","allocTexUnits","allocateTextureUnit","setValueV1f","uniform1f","addr","setValueV2f","uniform2f","uniform2fv","setValueV3f","uniform3f","uniform3fv","setValueV4f","uniform4f","uniform4fv","setValueM2","uniformMatrix2fv","setValueM3","uniformMatrix3fv","setValueM4","uniformMatrix4fv","setValueT1","unit","uniform1i","safeSetTexture2D","setValueT2DArray1","setTexture2DArray","setValueT3D1","setTexture3D","setValueT6","safeSetTextureCube","setValueV1i","setValueV2i","uniform2iv","setValueV3i","uniform3iv","setValueV4i","uniform4iv","setValueV1ui","uniform1ui","getSingularSetter","setValueV1fArray","uniform1fv","setValueV1iArray","uniform1iv","setValueV2iArray","setValueV3iArray","setValueV4iArray","setValueV2fArray","setValueV3fArray","setValueV4fArray","setValueM2Array","setValueM3Array","setValueM4Array","setValueT1Array","units","setValueT6Array","getPureArraySetter","SingleUniform","activeInfo","PureArrayUniform","updateCache","StructuredUniform","seq","RePathPart","addUniform","uniformObject","parseUniform","path","pathLength","lastIndex","matchEnd","idIsIndex","subscript","next","WebGLUniforms","getProgramParameter","getActiveUniform","getUniformLocation","setOptional","upload","seqWithValue","WebGLShader","createShader","shaderSource","compileShader","programIdCount","addLineNumbers","split","getEncodingComponents","getShaderErrors","status","getShaderParameter","getShaderInfoLog","trim","getShaderSource","getTexelDecodingFunction","functionName","getTexelEncodingFunction","getToneMappingFunction","toneMappingName","generateExtensions","chunks","extensionDerivatives","envMapCubeUV","tangentSpaceNormalMap","shaderID","extensionFragDepth","rendererExtensionFragDepth","extensionDrawBuffers","rendererExtensionDrawBuffers","extensionShaderTextureLOD","rendererExtensionShaderTextureLod","filter","filterEmptyLine","generateDefines","fetchAttributeLocations","getActiveAttrib","getAttribLocation","replaceLightNums","replace","numDirLights","numSpotLights","numRectAreaLights","numPointLights","numHemiLights","numDirLightShadows","numSpotLightShadows","numPointLightShadows","replaceClippingPlaneNums","numClippingPlanes","numClipIntersection","includePattern","resolveIncludes","includeReplacer","include","loopPattern","unrollLoops","loopReplacer","snippet","generatePrecision","precisionstring","generateShadowMapTypeDefine","shadowMapTypeDefine","shadowMapType","generateEnvMapTypeDefine","envMapTypeDefine","envMapMode","generateEnvMapModeDefine","envMapModeDefine","generateEnvMapBlendingDefine","envMapBlendingDefine","WebGLProgram","cacheKey","gammaFactorDefine","customExtensions","customDefines","createProgram","prefixVertex","prefixFragment","isRawShaderMaterial","shaderName","instancing","supportsVertexTextures","maxBones","useFog","fogExp2","objectSpaceNormalMap","vertexTangents","uvsVertexOnly","useVertexTexture","doubleSided","flipSided","shadowMapEnabled","physicallyCorrectLights","outputEncoding","mapEncoding","matcapEncoding","envMapEncoding","emissiveMapEncoding","lightMapEncoding","depthPacking","isGLSL3ShaderMaterial","versionRegex","vertexGlsl","fragmentGlsl","glVertexShader","glFragmentShader","attachShader","bindAttribLocation","linkProgram","debug","checkShaderErrors","programLog","getProgramInfoLog","vertexLog","fragmentLog","runnable","haveDiagnostics","vertexErrors","fragmentErrors","getError","diagnostics","prefix","detachShader","deleteShader","cachedUniforms","cachedAttributes","getAttributes","destroy","deleteProgram","usedTimes","WebGLPrograms","shaderIDs","MeshDepthMaterial","MeshDistanceMaterial","MeshNormalMaterial","MeshLambertMaterial","MeshPhongMaterial","MeshToonMaterial","MeshStandardMaterial","MeshPhysicalMaterial","MeshMatcapMaterial","LineBasicMaterial","LineDashedMaterial","PointsMaterial","ShadowMaterial","SpriteMaterial","parameterNames","getShaderObject","shaderobject","allocateBones","skeleton","bones","nVertexUniforms","nVertexMatrices","getTextureEncodingFromMap","getParameters","shadows","nClipPlanes","nClipIntersection","isMeshStandardMaterial","isSkinnedMesh","isFogExp2","maxMorphTargets","maxMorphNormals","directional","spot","rectArea","hemi","shadowMap","extensionDrawbuffers","getProgramCacheKey","acquireProgram","pl","preexistingProgram","releaseProgram","pop","WebGLProperties","painterSortStable","groupOrder","reversePainterSortStable","WebGLRenderList","renderItems","renderItemsIndex","opaque","defaultProgram","getNextRenderItem","renderItem","customOpaqueSort","customTransparentSort","finish","WebGLRenderLists","lists","onSceneDispose","cameras","list","UniformsCache","light","halfWidth","halfHeight","ShadowUniformsCache","nextVersion","shadowCastingLightsFirst","lightA","lightB","WebGLLights","shadowCache","directionalLength","pointLength","spotLength","rectAreaLength","hemiLength","numDirectionalShadows","numPointShadows","numSpotShadows","ambient","probe","directionalShadow","spotShadow","pointShadow","vector3","matrix42","setup","intensity","isAmbientLight","isLightProbe","sh","coefficients","isDirectionalLight","shadowUniforms","bias","mapSize","isSpotLight","penumbra","isRectAreaLight","isPointLight","isHemisphereLight","WebGLRenderState","lightsArray","shadowsArray","pushLight","pushShadow","shadowLight","setupLights","WebGLRenderStates","renderStates","renderState","has","isMeshDepthMaterial","isMeshDistanceMaterial","vsm_frag","vsm_vert","WebGLShadowMap","_renderer","_objects","_frustum","_shadowMapSize","_viewportSize","_viewport","_depthMaterials","_distanceMaterials","_materialCache","shadowMaterialVertical","SAMPLE_RATE","HALF_SAMPLE_RATE","shadow_pass","resolution","shadowMaterialHorizonal","HORIZONAL_PASS","fullScreenTri","fullScreenMesh","activeCubeFace","getActiveCubeFace","activeMipmapLevel","getActiveMipmapLevel","_state","setBlending","setTest","setScissorTest","shadowFrameExtents","getFrameExtents","isPointLightShadow","mapPass","viewportCount","getViewportCount","vp","getViewport","updateMatrices","getFrustum","renderObject","VSMPass","renderBufferDirect","getDepthMaterialVariant","useMorphing","useSkinning","useInstancing","getDistanceMaterialVariant","getDepthMaterial","getMaterialVariant","customMaterial","customDepthMaterial","customDistanceMaterial","keyA","keyB","materialsForVariant","cachedMaterial","shadowCamera","depthMaterial","WebGLState","ColorBuffer","locked","currentColorMask","currentColorClear","setMask","colorMask","setLocked","lock","DepthBuffer","currentDepthMask","currentDepthFunc","currentDepthClear","depthMask","setFunc","clearDepth","StencilBuffer","currentStencilMask","currentStencilFunc","currentStencilRef","currentStencilFuncMask","currentStencilFail","currentStencilZFail","currentStencilZPass","currentStencilClear","stencilTest","stencilMask","setOp","stencilOp","clearStencil","colorBuffer","maxVertexAttributes","newAttributes","enabledAttributes","attributeDivisors","enabledCapabilities","currentProgram","currentBlendingEnabled","currentBlending","currentBlendEquation","currentBlendSrc","currentBlendDst","currentBlendEquationAlpha","currentBlendSrcAlpha","currentBlendDstAlpha","currentPremultipledAlpha","currentFlipSided","currentCullFace","currentLineWidth","currentPolygonOffsetFactor","currentPolygonOffsetUnits","lineWidthAvailable","glVersion","currentTextureSlot","currentBoundTextures","currentScissor","currentViewport","createTexture","bindTexture","texParameteri","texImage2D","emptyTextures","setFlipSided","setCullFace","initAttributes","enableAttribute","enableAttributeAndDivisor","meshPerAttribute","enableVertexAttribArray","disableUnusedAttributes","disableVertexAttribArray","useProgram","equationToGL","MIN_EXT","MAX_EXT","factorToGL","blendFuncSeparate","blendFunc","blendEquationSeparate","setMaterial","frontFaceCW","setPolygonOffset","frontFace","cullFace","setLineWidth","lineWidth","factor","activeTexture","webglSlot","webglType","webglTexture","boundTexture","unbindTexture","compressedTexImage2D","apply","texImage3D","WebGLTextures","_gl","utils","_videoTextures","useOffscreenCanvas","OffscreenCanvas","err","createCanvas","resizeImage","needsPowerOfTwo","needsNewCanvas","maxSize","HTMLImageElement","ImageBitmap","textureNeedsPowerOfTwo","textureNeedsGenerateMipmaps","supportsMips","generateMipmap","textureProperties","__maxMipLevel","LOG2E","getInternalFormat","internalFormatName","glFormat","glType","filterFallback","onTextureDispose","deallocateTexture","isVideoTexture","onRenderTargetDispose","deallocateRenderTarget","__webglInit","deleteTexture","__webglTexture","renderTargetProperties","deleteFramebuffer","__webglFramebuffer","__webglDepthbuffer","deleteRenderbuffer","textureUnits","resetTextureUnits","textureUnit","setTexture2D","slot","updateVideoTexture","__version","complete","uploadTexture","setTextureCube","initTexture","pixelStorei","isCompressed","isCompressedTexture","cubeImage","convert","glInternalFormat","setTextureParameters","mipmap","mipmapImage","setTextureCubeDynamic","wrappingToGL","filterToGL","textureType","__currentAnisotropy","texParameterf","TEXTURE_MAX_ANISOTROPY_EXT","isDepthTexture","setupFrameBufferTexture","framebuffer","attachment","textureTarget","bindFramebuffer","framebufferTexture2D","setupRenderBufferStorage","renderbuffer","isMultisample","bindRenderbuffer","getRenderTargetSamples","renderbufferStorageMultisample","renderbufferStorage","framebufferRenderbuffer","setupDepthTexture","isCube","webglDepthTexture","setupDepthRenderbuffer","createRenderbuffer","setupRenderTarget","createFramebuffer","__webglMultisampledFramebuffer","__webglColorRenderbuffer","__webglDepthRenderbuffer","updateRenderTargetMipmap","updateMultisampleRenderTarget","blitFramebuffer","warnedTexture2D","warnedTextureCube","WebGLUtils","HALF_FLOAT_OES","COMPRESSED_RGB_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_RGB_PVRTC_4BPPV1_IMG","COMPRESSED_RGB_PVRTC_2BPPV1_IMG","COMPRESSED_RGBA_PVRTC_4BPPV1_IMG","COMPRESSED_RGBA_PVRTC_2BPPV1_IMG","COMPRESSED_RGB_ETC1_WEBGL","COMPRESSED_RGB8_ETC2","COMPRESSED_RGBA8_ETC2_EAC","UNSIGNED_INT_24_8_WEBGL","ArrayCamera","isArrayCamera","Group","isGroup","WebXRManager","framebufferScaleFactor","referenceSpace","referenceSpaceType","pose","inputSourcesMap","Map","cameraL","cameraR","cameraVR","_currentDepthNear","_currentDepthFar","isPresenting","getController","targetRay","getControllerGrip","grip","onSessionEvent","inputSource","onSessionEnd","forEach","setFramebuffer","animation","onRequestReferenceSpace","setFramebufferScaleFactor","setReferenceSpaceType","getReferenceSpace","setSession","getContextAttributes","layerInit","antialias","baseLayer","XRWebGLLayer","updateRenderState","requestReferenceSpace","then","updateInputSources","inputSources","removed","added","cameraLPos","cameraRPos","setProjectionFromUnion","ipd","projL","projR","topFov","bottomFov","leftFov","rightFov","zOffset","xOffset","near2","far2","left2","right2","top2","bottom2","updateCamera","getCamera","depthNear","depthFar","onAnimationFrameCallback","getViewerPose","views","transform","inputPose","gripPose","getPose","targetRaySpace","gripSpace","WebGLRenderer","_context","_alpha","_depth","_stencil","_antialias","_premultipliedAlpha","_preserveDrawingBuffer","preserveDrawingBuffer","_powerPreference","powerPreference","_failIfMajorPerformanceCaveat","failIfMajorPerformanceCaveat","currentRenderList","currentRenderState","sortObjects","toneMappingExposure","toneMappingWhitePoint","_isContextLost","_framebuffer","_currentActiveCubeFace","_currentActiveMipmapLevel","_currentRenderTarget","_currentFramebuffer","_currentMaterialId","_currentGeometryProgram","_currentCamera","_currentArrayCamera","_currentViewport","_currentScissor","_currentScissorTest","_width","_height","_pixelRatio","_opaqueSort","_transparentSort","_scissor","_scissorTest","_clipping","_clippingEnabled","_localClippingEnabled","_projScreenMatrix","_vector3","getTargetPixelRatio","contextAttributes","xrCompatible","onContextLost","onContextRestore","message","programCache","renderLists","morphtargets","bufferRenderer","indexedBufferRenderer","initGLContext","forceContextLoss","loseContext","forceContextRestore","restoreContext","getPixelRatio","setPixelRatio","updateStyle","setViewport","getDrawingBufferSize","setDrawingBufferSize","pixelRatio","getCurrentViewport","getScissor","setScissor","getScissorTest","boolean","setOpaqueSort","method","setTransparentSort","bits","onMaterialDispose","deallocateMaterial","releaseMaterialProgramReference","programInfo","renderObjectImmediate","renderBufferImmediate","hasPositions","hasNormals","hasUvs","hasColors","programAttributes","positionArray","vertexAttribPointer","normalArray","uvArray","colorArray","tempScene","setProgram","updateBuffers","rangeFactor","setupVertexAttributes","dataCount","rangeStart","rangeCount","drawStart","drawEnd","drawCount","isLineSegments","isLineLoop","isSprite","isInstancedBufferGeometry","maxInstancedCount","materialDefaultAttributeValues","programAttribute","geometryAttribute","stride","isInstancedInterleavedBuffer","isInstancedBufferAttribute","vertexAttrib2fv","vertexAttrib3fv","vertexAttrib4fv","vertexAttrib1fv","compile","compiled","initMaterial","projectObject","opaqueObjects","transparentObjects","renderObjects","isLOD","isImmediateRenderObject","camera2","materialProperties","lightsStateVersion","programCacheKey","programChange","numSupportedMorphTargets","numSupportedMorphNormals","needsLights","materialNeedsLights","progUniforms","uniformsList","useCache","refreshProgram","refreshMaterial","refreshLights","p_uniforms","m_uniforms","isMeshPhongMaterial","isMeshToonMaterial","uCamPos","cameraPosition","isMeshLambertMaterial","isOrthographicCamera","boneTexture","boneMatrices","boneTextureSize","markUniformsLightsNeedsUpdate","refreshUniformsFog","refreshUniformsCommon","refreshUniformsLambert","refreshUniformsToon","refreshUniformsPhong","isMeshPhysicalMaterial","refreshUniformsPhysical","refreshUniformsStandard","isMeshMatcapMaterial","refreshUniformsMatcap","refreshUniformsDepth","refreshUniformsDistance","isMeshNormalMaterial","refreshUniformsNormal","isLineBasicMaterial","refreshUniformsLine","isLineDashedMaterial","refreshUniformsDash","isPointsMaterial","refreshUniformsPoints","isSpriteMaterial","refreshUniformsSprites","isShadowMaterial","ltc_1","LTC_1","ltc_2","LTC_2","uvScaleMap","uv2ScaleMap","isFog","density","readRenderTargetPixels","activeCubeFaceIndex","restore","textureFormat","checkFramebufferStatus","readPixels","copyFramebufferToTexture","level","levelScale","copyTexImage2D","copyTextureToTexture","srcTexture","dstTexture","texSubImage2D","FogExp2","Fog","InterleavedBuffer","isInterleavedBuffer","_vector$6","InterleavedBufferAttribute","interleavedBuffer","_geometry","_intersectPoint","_worldScale","_mvPosition","_alignedPosition","_rotatedPosition","_viewWorldMatrix","_vA$1","_vB$1","_vC$1","_uvA$1","_uvB$1","_uvC$1","Sprite","float32Array","transformVertex","vertexPosition","mvPosition","_v1$4","_v2$2","LOD","_currentLevel","levels","addLevel","getCurrentLevel","getObjectForDistance","SkinnedMesh","bindMode","bindMatrix","bindMatrixInverse","bind","calculateInverses","normalizeSkinWeights","skinWeight","_offsetMatrix","_identityMatrix","Skeleton","boneInverses","bone","isBone","getBoneByName","Bone","_instanceLocalMatrix","_instanceWorldMatrix","_instanceIntersects","_mesh","InstancedMesh","getMatrixAt","raycastTimes","instanceId","setMatrixAt","linecap","linejoin","_start","_end","_inverseMatrix$1","_ray$1","_sphere$2","Line","computeLineDistances","positionAttribute","threshold","localThreshold","localThresholdSq","vStart","vEnd","interSegment","interRay","distSq","nbVertices","_start$1","_end$1","LineSegments","LineLoop","_inverseMatrix$2","_ray$2","_sphere$3","_position$1","Points","testPoint","rayPointDistanceSq","intersectPoint","distanceToRay","VideoTexture","video","readyState","HAVE_CURRENT_DATA","CompressedTexture","CanvasTexture","isCanvasTexture","DepthTexture","WireframeGeometry","ol","edge","edges","edge1","edge2","ParametricGeometry","slices","stacks","ParametricBufferGeometry","pu","pv","sliceCount","PolyhedronGeometry","PolyhedronBufferGeometry","vertexBuffer","uvBuffer","subdivide","applyRadius","generateUVs","getVertexByIndex","subdivideFace","cols","aj","bj","rows","pushVertex","azimuth","inclination","correctUVs","correctSeam","centroid","uvA","uvB","uvC","azi","correctUV","TetrahedronGeometry","TetrahedronBufferGeometry","OctahedronGeometry","OctahedronBufferGeometry","IcosahedronGeometry","IcosahedronBufferGeometry","DodecahedronGeometry","DodecahedronBufferGeometry","TubeGeometry","tubularSegments","radialSegments","closed","taper","bufferGeometry","TubeBufferGeometry","tangents","binormals","frames","computeFrenetFrames","P","generateBufferData","generateSegment","generateIndices","getPointAt","N","B","TorusKnotGeometry","tube","heightScale","TorusKnotBufferGeometry","P1","P2","T","calculatePositionOnCurve","cu","su","quOverP","cs","TorusGeometry","arc","TorusBufferGeometry","Earcut","triangulate","holeIndices","dim","hasHoles","outerLen","outerNode","linkedList","prev","invSize","eliminateHoles","earcutLinked","clockwise","last","signedArea","insertNode","removeNode","filterPoints","again","steiner","area","ear","pass","indexCurve","isEarHashed","isEar","cureLocalIntersections","splitEarcut","pointInTriangle","minTX","minTY","maxTX","maxTY","zOrder","prevZ","nextZ","locallyInside","isValidDiagonal","splitPolygon","queue","getLeftmost","compareX","eliminateHole","hole","findHoleBridge","hx","hy","mx","my","tanMin","sortLinked","tail","numMerges","pSize","qSize","inSize","leftmost","px","py","intersectsPolygon","middleInside","q1","q2","inside","Node","an","bp","sum","ShapeUtils","contour","isClockWise","pts","triangulateShape","holes","removeDupEndPts","addContour","holeIndex","ExtrudeGeometry","ExtrudeBufferGeometry","verticesArray","addShape","placeholder","curveSegments","steps","bevelEnabled","bevelThickness","bevelSize","bevelOffset","bevelSegments","extrudePath","uvgen","UVGenerator","WorldUVGenerator","amount","extrudePts","extrudeByPath","splineTube","binormal","position2","getSpacedPoints","ahole","hl","shapePoints","extractPoints","reverse","concat","scalePt2","pt","vec","bs","vert","vlen","flen","getBevelVec","inPt","inPrev","inNext","v_trans_x","v_trans_y","shrink_by","v_prev_x","v_prev_y","v_next_x","v_next_y","v_prev_lensq","collinear0","v_prev_len","v_next_len","ptPrevShift_x","ptPrevShift_y","ptNextShift_x","ptNextShift_y","sf","v_trans_lensq","direction_eq","contourMovements","holesMovements","oneHoleMovements","verticesMovements","buildLidFaces","buildSideFaces","layer","f3","layeroffset","sidewalls","sl","slen1","slen2","f4","addVertex","nextIndex","generateTopUV","addUV","generateSideWallUV","vector2","indexA","indexB","indexC","a_x","a_y","b_x","b_y","c_x","c_y","indexD","a_z","b_z","c_z","d_x","d_y","d_z","TextGeometry","TextBufferGeometry","isFont","generateShapes","SphereGeometry","phiStart","phiLength","thetaStart","thetaLength","SphereBufferGeometry","thetaEnd","grid","verticesRow","uOffset","RingGeometry","innerRadius","outerRadius","thetaSegments","phiSegments","RingBufferGeometry","segment","radiusStep","thetaSegmentLevel","LatheGeometry","segments","LatheBufferGeometry","base","inverseSegments","n1","n2","ShapeGeometry","ShapeBufferGeometry","toJSON$1","shapeHole","indexOffset","shapeVertices","shapeHoles","EdgesGeometry","thresholdAngle","thresholdDot","sourceVertices","face1","face2","CylinderGeometry","radiusTop","radiusBottom","openEnded","CylinderBufferGeometry","indexArray","generateTorso","generateCap","slope","indexRow","sinTheta","cosTheta","centerIndexStart","centerIndexEnd","ConeGeometry","ConeBufferGeometry","CircleGeometry","CircleBufferGeometry","Geometries","freeze","__proto__","RawShaderMaterial","Materials","AnimationUtils","arraySlice","from","to","isTypedArray","convertArray","forceClone","ArrayBuffer","isView","DataView","getKeyframeOrder","times","compareTime","sortedArray","nValues","srcOffset","flattenJSON","jsonKeys","valuePropertyName","subclip","sourceClip","startFrame","endFrame","fps","clip","tracks","track","valueSize","getValueSize","minStartTime","shift","resetDuration","Interpolant","parameterPositions","sampleValues","sampleSize","resultBuffer","_cachedIndex","evaluate","pp","validate_interval","seek","linear_scan","forward_scan","giveUpAt","afterEnd_","t1global","beforeStart_","mid","intervalChanged_","interpolate_","settings","DefaultSettings_","getSettings_","copySampleValue_","CubicInterpolant","_weightPrev","_offsetPrev","_weightNext","_offsetNext","endingStart","endingEnd","iPrev","iNext","tPrev","tNext","halfDt","o0","oP","oN","wP","wN","ppp","sP","sN","LinearInterpolant","offset1","offset0","weight1","weight0","DiscreteInterpolant","KeyframeTrack","interpolation","TimeBufferType","ValueBufferType","setInterpolation","DefaultInterpolation","trackType","json","getInterpolation","ValueTypeName","InterpolantFactoryMethodDiscrete","InterpolantFactoryMethodLinear","InterpolantFactoryMethodSmooth","factoryMethod","createInterpolant","timeOffset","timeScale","startTime","endTime","nKeys","validate","valid","prevTime","currTime","optimize","smoothInterpolation","writeIndex","keep","timeNext","offsetP","offsetN","readOffset","writeOffset","TypedKeyframeTrack","BooleanKeyframeTrack","ColorKeyframeTrack","NumberKeyframeTrack","QuaternionLinearInterpolant","QuaternionKeyframeTrack","StringKeyframeTrack","VectorKeyframeTrack","AnimationClip","duration","getTrackTypeForValueTypeName","typeName","toLowerCase","parseKeyframeTrack","jsonTracks","frameTime","clipTracks","CreateFromMorphTargetSequence","morphTargetSequence","noLoop","numMorphTargets","findByName","objectOrClipArray","clipArray","animations","CreateClipsFromMorphTargetSequences","animationToMorphTargets","pattern","parts","animationMorphTargets","clips","parseAnimation","addNonemptyTrack","trackName","animationKeys","propertyName","destTracks","clipName","hierarchyTracks","hierarchy","morphTargetNames","morphTargetName","animationKey","boneName","Cache","files","file","LoadingManager","onLoad","onProgress","onError","isLoading","itemsLoaded","itemsTotal","urlModifier","handlers","onStart","itemStart","itemEnd","itemError","resolveURL","setURLModifier","addHandler","regex","loader","removeHandler","getHandler","global","DefaultLoadingManager","Loader","manager","crossOrigin","resourcePath","load","setCrossOrigin","setPath","setResourcePath","loading","FileLoader","cached","dataUriRegex","dataUriRegexResult","mimeType","isBase64","decodeURIComponent","atob","response","responseType","charCodeAt","Blob","parser","DOMParser","parseFromString","request","XMLHttpRequest","open","callbacks","withCredentials","overrideMimeType","header","requestHeader","setRequestHeader","send","setResponseType","setWithCredentials","setMimeType","AnimationLoader","CompressedTextureLoader","loadTexture","texDatas","loaded","mipmapCount","isCubemap","DataTextureLoader","texData","ImageLoader","onImageLoad","onImageError","substr","CubeTextureLoader","urls","TextureLoader","isJPEG","search","Curve","arcLengthDivisions","getPoint","optionalTarget","getUtoTmapping","getPoints","divisions","getLength","lengths","getLengths","cacheArcLengths","current","updateArcLengths","arcLengths","targetArcLength","comparison","lengthBefore","lengthAfter","segmentLength","segmentFraction","getTangent","t2","pt1","pt2","getTangentAt","mat","MAX_VALUE","tz","fromJSON","EllipseCurve","aX","aY","xRadius","yRadius","aStartAngle","aEndAngle","aClockwise","aRotation","isEllipseCurve","twoPi","deltaAngle","samePoints","ArcCurve","aRadius","isArcCurve","CubicPoly","c0","initCatmullRom","x3","tension","initNonuniformCatmullRom","dt0","dt1","dt2","calc","t3","pz","CatmullRomCurve3","curveType","isCatmullRomCurve3","intPoint","weight","CatmullRom","QuadraticBezierP0","QuadraticBezierP1","QuadraticBezierP2","QuadraticBezier","CubicBezierP0","CubicBezierP1","CubicBezierP2","CubicBezierP3","CubicBezier","CubicBezierCurve","v3","isCubicBezierCurve","CubicBezierCurve3","isCubicBezierCurve3","LineCurve","isLineCurve","LineCurve3","isLineCurve3","QuadraticBezierCurve","isQuadraticBezierCurve","QuadraticBezierCurve3","isQuadraticBezierCurve3","SplineCurve","isSplineCurve","Curves","CurvePath","curves","autoClose","curve","closePath","startPoint","endPoint","curveLengths","getCurveLengths","lens","cacheLengths","sums","Path","currentPoint","moveTo","lineTo","quadraticCurveTo","aCPx","aCPy","bezierCurveTo","aCP1x","aCP1y","aCP2x","aCP2y","splineThru","npts","absarc","absellipse","ellipse","firstPoint","lastPoint","Shape","getPointsHoles","holesPts","Light","HemisphereLight","LightShadow","_frameExtents","_viewportCount","_viewports","_lightPositionWorld","_lookTarget","shadowMatrix","projScreenMatrix","lookTarget","lightPositionWorld","viewportIndex","SpotLightShadow","isSpotLightShadow","SpotLight","power","PointLightShadow","_cubeDirections","_cubeUps","PointLight","OrthographicCamera","scaleW","scaleH","DirectionalLightShadow","isDirectionalLightShadow","DirectionalLight","AmbientLight","RectAreaLight","MaterialLoader","getTexture","shading","setTextures","LoaderUtils","decodeText","TextDecoder","decode","fromCharCode","escape","extractUrlBase","lastIndexOf","InstancedBufferGeometry","InstancedBufferAttribute","BufferGeometryLoader","typedArray","TYPED_ARRAYS","bufferAttributeConstr","bufferAttribute","drawcalls","offsets","ObjectLoader","parseShape","parseGeometries","parseImages","parseTextures","parseMaterials","parseObject","parseAnimations","bufferGeometryLoader","details","geometryShapes","loadImage","currentUrl","parseConstant","TEXTURE_MAPPING","TEXTURE_WRAPPING","TEXTURE_FILTER","getGeometry","getMaterial","ImageBitmapLoader","createImageBitmap","fetch","setOptions","res","blob","imageBitmap","catch","ShapePath","subPaths","currentPath","toShapes","isCCW","noHoles","toShapesNoHoles","inSubpaths","tmpPath","tmpShape","isPointInsidePolygon","inPolygon","polyLen","edgeLowPt","edgeHighPt","edgeDx","edgeDy","perpEdge","solid","holesFirst","betterShapeHoles","newShapes","newShapeHoles","mainIdx","tmpPoints","ambiguous","toChange","sIdx","sLen","sho","hIdx","ho","hole_unassigned","s2Idx","froms","tos","tmpHoles","Font","paths","createPaths","chars","line_height","yMax","yMin","underlineThickness","char","ret","createPath","glyph","glyphs","familyName","cpx","cpy","cpx1","cpy1","cpx2","cpy2","outline","_cachedOutline","action","ha","FontLoader","substring","AudioContext","webkitAudioContext","AudioLoader","bufferCopy","decodeAudioData","audioBuffer","SphericalHarmonics3","isSphericalHarmonics3","zero","getAt","coeff","addScale","getIrradianceAt","getBasisAt","shBasis","LightProbe","HemisphereLightProbe","sky","ground","isHemisphereLightProbe","AmbientLightProbe","isAmbientLightProbe","_eyeRight","_eyeLeft","StereoCamera","eyeSep","_cache","eyeSepHalf","eyeSepOnProjection","ymax","xmin","xmax","Clock","autoStart","oldTime","elapsedTime","running","getElapsedTime","getDelta","newTime","_position$2","_quaternion$3","_scale$1","_orientation","AudioListener","gain","createGain","connect","destination","timeDelta","_clock","getInput","removeFilter","disconnect","getFilter","setFilter","getMasterVolume","setMasterVolume","setTargetAtTime","currentTime","positionX","linearRampToValueAtTime","positionY","positionZ","forwardX","forwardY","forwardZ","upX","upY","upZ","setOrientation","Audio","autoplay","detune","loop","loopStart","loopEnd","playbackRate","isPlaying","hasPlaybackControl","sourceType","_startedAt","_pausedAt","filters","getOutput","setNodeSource","audioNode","setMediaElementSource","mediaElement","createMediaElementSource","setMediaStreamSource","mediaStream","createMediaStreamSource","setBuffer","play","delay","createBufferSource","onended","onEnded","setDetune","setPlaybackRate","pause","getFilters","setFilters","getDetune","getPlaybackRate","getLoop","setLoop","setLoopStart","setLoopEnd","getVolume","setVolume","_position$3","_quaternion$4","_scale$2","_orientation$1","PositionalAudio","panner","createPanner","panningModel","getRefDistance","refDistance","setRefDistance","getRolloffFactor","rolloffFactor","setRolloffFactor","getDistanceModel","distanceModel","setDistanceModel","getMaxDistance","maxDistance","setMaxDistance","setDirectionalCone","coneInnerAngle","coneOuterAngle","coneOuterGain","orientationX","orientationY","orientationZ","AudioAnalyser","audio","fftSize","analyser","createAnalyser","frequencyBinCount","getFrequencyData","getByteFrequencyData","getAverageFrequency","PropertyMixer","binding","mixFunction","_slerp","_select","_lerp","_mixBufferRegion","cumulativeWeight","useCount","referenceCount","accumulate","accuIndex","currentWeight","mix","originalValueOffset","saveOriginalState","getValue","restoreOriginalState","_RESERVED_CHARS_RE","_reservedRe","RegExp","_wordChar","_wordCharOrDot","_directoryRe","_nodeRe","_objectRe","_propertyRe","_trackRe","_supportedObjectNames","Composite","targetGroup","optionalParsedPath","parsedPath","PropertyBinding","parseTrackName","_targetGroup","_bindings","subscribe_","firstValidIndex","nCachedObjects_","bindings","unbind","rootNode","findNode","nodeName","isAnimationObjectGroup","sanitizeNodeName","matches","results","objectName","objectIndex","propertyIndex","lastDot","searchNodeSubtree","childNode","subTreeNode","_getValue_unavailable","_setValue_unavailable","BindingType","Direct","EntireArray","ArrayElement","HasFromToArray","Versioning","None","NeedsUpdate","MatrixWorldNeedsUpdate","GetterByBindingType","getValue_direct","getValue_array","resolvedProperty","getValue_arrayElement","getValue_toArray","SetterByBindingTypeAndVersioning","setValue_direct","targetObject","setValue_direct_setNeedsUpdate","setValue_direct_setMatrixWorldNeedsUpdate","setValue_array","dest","setValue_array_setNeedsUpdate","setValue_array_setMatrixWorldNeedsUpdate","setValue_arrayElement","setValue_arrayElement_setNeedsUpdate","setValue_arrayElement_setMatrixWorldNeedsUpdate","setValue_fromArray","setValue_fromArray_setNeedsUpdate","setValue_fromArray_setMatrixWorldNeedsUpdate","getValue_unbound","targetArray","sourceArray","nodeProperty","versioning","bindingType","_getValue_unbound","_setValue_unbound","AnimationObjectGroup","_indicesByUUID","_paths","_parsedPaths","_bindingsIndicesByPath","stats","total","inUse","bindingsPerObject","nObjects","nCachedObjects","indicesByUUID","parsedPaths","nBindings","knownObject","firstActiveIndex","lastCachedObject","bindingsForPath","lastCached","lastCachedIndex","firstActiveObject","firstActive","uncache","lastObject","indicesByPath","unsubscribe_","lastBindingsIndex","lastBindings","lastBindingsPath","AnimationAction","mixer","localRoot","_mixer","_clip","_localRoot","nTracks","interpolants","interpolantSettings","interpolant","_interpolantSettings","_interpolants","_propertyBindings","_cacheIndex","_byClipCacheIndex","_timeScaleInterpolant","_weightInterpolant","_loopCount","_startTime","_effectiveTimeScale","_effectiveWeight","repetitions","paused","clampWhenFinished","zeroSlopeAtStart","zeroSlopeAtEnd","_activateAction","_deactivateAction","stopFading","stopWarping","isRunning","_isActiveAction","isScheduled","startAt","setEffectiveWeight","getEffectiveWeight","fadeIn","_scheduleFading","fadeOut","crossFadeFrom","fadeOutAction","warp","fadeInDuration","fadeOutDuration","startEndRatio","endStartRatio","crossFadeTo","fadeInAction","weightInterpolant","_takeBackControlInterpolant","setEffectiveTimeScale","getEffectiveTimeScale","setDuration","syncWith","halt","startTimeScale","endTimeScale","_lendControlInterpolant","timeScaleInterpolant","getMixer","getClip","getRoot","_root","_update","deltaTime","timeDirection","_updateWeight","timeRunning","_updateTimeScale","clipTime","_updateTime","propertyMixers","interpolantValue","loopCount","pingPong","_setEndings","handle_stop","loopDelta","pending","atStart","atEnd","weightNow","weightThen","AnimationMixer","_initMemoryManager","_accuIndex","_bindAction","prototypeAction","rootUuid","bindingsByRoot","_bindingsByRootAndName","bindingsByName","_addInactiveBinding","clipUuid","actionsForClip","_actionsByClip","knownActions","_addInactiveAction","_lendBinding","_lendAction","_takeBackBinding","_takeBackAction","_actions","_nActiveActions","_nActiveBindings","_controlInterpolants","_nActiveControlInterpolants","actions","controlInterpolants","actionsByClip","actionByRoot","_removeInactiveAction","lastInactiveAction","cacheIndex","knownActionsForClip","lastKnownAction","byClipCacheIndex","_removeInactiveBindingsForAction","_removeInactiveBinding","prevIndex","lastActiveIndex","firstInactiveAction","firstInactiveIndex","lastActiveAction","bindingByName","propBinding","lastInactiveBinding","firstInactiveBinding","lastActiveBinding","_controlInterpolantsResultBuffer","__cacheIndex","lastActiveInterpolant","clipAction","optionalRoot","clipObject","existingAction","newAction","stopAllAction","nActions","setTime","timeInSeconds","uncacheClip","actionsToRemove","uncacheRoot","uncacheAction","Uniform","InstancedInterleavedBuffer","Raycaster","PointCloud","ascSort","intersectObject","setFromCamera","coords","intersectObjects","Spherical","other","makeSafe","setFromCartesianCoords","Cylindrical","_vector$7","Box2","_startP","_startEnd","Line3","distanceSq","closestPointToPointParameter","clampToLine","startEnd2","startEnd_startP","ImmediateRenderObject","_vector$8","SpotLightHelper","cone","coneLength","coneWidth","_vector$9","_boneMatrix","_matrixWorldInv","getBoneList","boneList","SkeletonHelper","isSkeletonHelper","PointLightHelper","sphereSize","_vector$a","_color1","_color2","HemisphereLightHelper","GridHelper","PolarGridHelper","radials","circles","_v1$5","_v2$3","_v3$1","DirectionalLightHelper","lightPlane","targetLine","_vector$b","_camera","CameraHelper","pointMap","colorFrustum","colorCone","colorUp","colorTarget","colorCross","addLine","addPoint","setPoint","_box$3","BoxHelper","Box3Helper","PlaneHelper","positions2","_axis","_lineGeometry","_coneGeometry","ArrowHelper","headLength","headWidth","setDirection","setColor","AxesHelper","LOD_MIN","LOD_MAX","SIZE_MAX","EXTRA_LOD_SIGMA","TOTAL_LODS","MAX_SAMPLES","ENCODINGS","_flatCamera","_blurMaterial","_getBlurShader","_equirectShader","_cubemapShader","_createPlanes","_lodPlanes","_sizeLods","_sigmas","_pingPongRenderTarget","_oldTarget","PHI","INV_PHI","_axisDirections","PMREMGenerator","_compileMaterial","fromScene","sigma","cubeUVRenderTarget","_allocateTargets","_sceneToCubeUV","_blur","_applyPMREM","_cleanup","fromEquirectangular","equirectangular","fromCubemap","cubemap","_textureToCubeUV","compileCubemapShader","_getCubemapShader","compileEquirectangularShader","_getEquirectShader","lod","sizeLod","texelSize","cubeFaces","positionSize","uvSize","faceIndexSize","coordinates","fill","_createRenderTarget","outputTarget","cubeCamera","upSign","forwardSign","maxComponent","fExp","log2","col","_setViewport","tmpScene","poleAxis","lodIn","lodOut","_halfBlur","targetIn","targetOut","sigmaRadians","STANDARD_DEVIATIONS","blurScene","blurUniforms","pixels","radiansPerPixel","sigmaPixels","weights","exp","outputSize","shaderMaterial","_getCommonVertexShader","_getEncodings","Face4","LineStrip","LinePieces","NoColors","FaceColors","VertexColors","MeshFaceMaterial","MultiMaterial","Particle","ParticleSystem","PointCloudMaterial","ParticleBasicMaterial","ParticleSystemMaterial","Vertex","DynamicBufferAttribute","Int8Attribute","Uint8Attribute","Uint8ClampedAttribute","Int16Attribute","Uint16Attribute","Int32Attribute","Uint32Attribute","Float32Attribute","Float64Attribute","construct","createPointsGeometry","createGeometry","createSpacedPointsGeometry","fromPoints","ClosedSplineCurve3","SplineCurve3","Spline","initFromArray","getControlPointsArray","reparametrizeByArcLength","AxisHelper","BoundingBoxHelper","EdgesHelper","setColors","WireframeHelper","Handlers","XHRLoader","BinaryTextureLoader","setTexturePath","isIntersectionBox","isIntersectionSphere","setFromMatrix","random16","nearestPowerOfTwo","nextPowerOfTwo","flattenToArrayOffset","multiplyVector3","multiplyVector3Array","applyToBufferAttribute","applyToVector3Array","extractPosition","getPosition","multiplyToArray","multiplyVector4","rotateAxis","crossVector","rotateByAxis","makeFrustum","isIntersectionLine","isIntersectionPlane","barycoordFromPoint","midpoint","extractAllPoints","extrude","makeGeometry","fromAttribute","distanceToManhattan","lengthManhattan","setEulerFromRotationMatrix","setEulerFromQuaternion","getPositionFromMatrix","getScaleFromMatrix","getColumnFromMatrix","applyProjection","computeTangents","applyMatrix","getChildByName","renderDepth","getWorldRotation","eulerOrder","useQuaternion","setDrawMode","drawMode","initBones","setLens","onlyShadow","shadowCameraFov","shadowCameraLeft","shadowCameraRight","shadowCameraTop","shadowCameraBottom","shadowCameraVisible","shadowDarkness","shadowMapWidth","shadowMapHeight","dynamic","setDynamic","copyIndicesArray","setArray","addIndex","addAttribute","addDrawCall","clearDrawCalls","computeOffsets","removeAttribute","linePrecision","getArrays","addShapeList","wrapAround","overdraw","wrapRGB","metal","clearTarget","animate","getCurrentRenderTarget","getPrecision","resetGLState","supportsFloatTextures","supportsHalfFloatTextures","supportsStandardDerivatives","supportsCompressedTextureS3TC","supportsCompressedTexturePVRTC","supportsBlendMinMax","supportsInstancedArrays","enableScissorTest","addPrePlugin","addPostPlugin","updateShadowMap","setFaceCulling","allocTextureUnit","setTexture","getActiveMipMapLevel","shadowMapCullFace","vr","gammaInput","gammaOutput","renderReverseSided","renderSingleSided","WebGLRenderTargetCube","audioLoader","getData","updateCubeMap","GeometryUtils","geometry1","loadTextureCube","loadCompressedTexture","loadCompressedTextureCube","CanvasRenderer","JSONLoader","SceneUtils","createMultiMaterialObject","detach","LensFlare","revision","argsToArray","each","isContinue","is","findMax","nums","findMin","shuffle","ary","getProto","getPrototypeOf","hasOwn","UA","navigator","userAgent","ua","isBoolean","isFunction","isNumber","isObject","isPlainObject","proto","ctor","isString","isRegexp","isUndefined","isNull","isMultibyte","chara","isEmail","email","isOS","os","ver","_os","isWindows","isMac","isAndroid","isIos","_ver","isTouchScreen","serial","isDevice","device","_device","isPC","isSmartDevice","isSmartPhone","isTablet","isIPhone","isIPad","isIPod","isAndroidPhone","isAndroidTablet","_isIpad","isBrowser","browser","_browser","isIE","isEdge","isChrome","isFirefox","isSafari","isMobileSafari","isAndroidBrowser","isMobileChrome","isAndroidChrome","isIosChrome","isWebkit","isFileAPI","File","FileReader","FileList","isRequestFileSystem","requestFileSystem","webkitRequestFileSystem","isStorage","setItem","removeItem","ontouchstart","base64FileSize","base64","bytes","getFunctionName","fn","mixin","isDeep","objA","objB","copyIsArray","deep","nowDate","date","year","getFullYear","month","getMonth","day","getDay","getDate","getHours","getMinutes","getSeconds","spec","SPEED_CONSTANT","START_TIME","AMOUNT","END_TIME","speed","core","hardwareConcurrency","clock","noop","INK","isDevelop","Day001","Debug","ShaderPlaneMesh","dayFrag","renderManager","RenderManager","querySelector","u_time","u_mouse","Day002","Day003","u_rotate","u_translate","u_scale","u_vert","u_radius","onChange","Day004","u_tile","Day005","u_map1","u_zoom","days","location","href","find","item","fileName","getElementById","prevPage","_prev","_next","nextPage","dat","Stats","body","isUpdate","_animationId","cancelAnimationFrame","VERTEX_SHADER","FRAGMENT_SHADER","geometryParams","materialParams","gParams","segX","segY","mParams","u_resolution"],"mappings":"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","file":"scripts.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/assets/js/scripts/index.js\");\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nexport default function(color, forceCSSHex) {\n  const colorFormat = color.__state.conversionName.toString();\n\n  const r = Math.round(color.r);\n  const g = Math.round(color.g);\n  const b = Math.round(color.b);\n  const a = color.a;\n  const h = Math.round(color.h);\n  const s = color.s.toFixed(1);\n  const v = color.v.toFixed(1);\n\n  if (forceCSSHex || (colorFormat === 'THREE_CHAR_HEX') || (colorFormat === 'SIX_CHAR_HEX')) {\n    let str = color.hex.toString(16);\n    while (str.length < 6) {\n      str = '0' + str;\n    }\n    return '#' + str;\n  } else if (colorFormat === 'CSS_RGB') {\n    return 'rgb(' + r + ',' + g + ',' + b + ')';\n  } else if (colorFormat === 'CSS_RGBA') {\n    return 'rgba(' + r + ',' + g + ',' + b + ',' + a + ')';\n  } else if (colorFormat === 'HEX') {\n    return '0x' + color.hex.toString(16);\n  } else if (colorFormat === 'RGB_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ']';\n  } else if (colorFormat === 'RGBA_ARRAY') {\n    return '[' + r + ',' + g + ',' + b + ',' + a + ']';\n  } else if (colorFormat === 'RGB_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + '}';\n  } else if (colorFormat === 'RGBA_OBJ') {\n    return '{r:' + r + ',g:' + g + ',b:' + b + ',a:' + a + '}';\n  } else if (colorFormat === 'HSV_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + '}';\n  } else if (colorFormat === 'HSVA_OBJ') {\n    return '{h:' + h + ',s:' + s + ',v:' + v + ',a:' + a + '}';\n  }\n\n  return 'unknown format';\n}\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst ARR_EACH = Array.prototype.forEach;\nconst ARR_SLICE = Array.prototype.slice;\n\n/**\n * Band-aid methods for things that should be a lot easier in JavaScript.\n * Implementation and structure inspired by underscore.js\n * http://documentcloud.github.com/underscore/\n */\n\nconst Common = {\n  BREAK: {},\n\n  extend: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (!this.isUndefined(obj[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  defaults: function(target) {\n    this.each(ARR_SLICE.call(arguments, 1), function(obj) {\n      const keys = this.isObject(obj) ? Object.keys(obj) : [];\n      keys.forEach(function(key) {\n        if (this.isUndefined(target[key])) {\n          target[key] = obj[key];\n        }\n      }.bind(this));\n    }, this);\n\n    return target;\n  },\n\n  compose: function() {\n    const toCall = ARR_SLICE.call(arguments);\n    return function() {\n      let args = ARR_SLICE.call(arguments);\n      for (let i = toCall.length - 1; i >= 0; i--) {\n        args = [toCall[i].apply(this, args)];\n      }\n      return args[0];\n    };\n  },\n\n  each: function(obj, itr, scope) {\n    if (!obj) {\n      return;\n    }\n\n    if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) {\n      obj.forEach(itr, scope);\n    } else if (obj.length === obj.length + 0) { // Is number but not NaN\n      let key;\n      let l;\n      for (key = 0, l = obj.length; key < l; key++) {\n        if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    } else {\n      for (const key in obj) {\n        if (itr.call(scope, obj[key], key) === this.BREAK) {\n          return;\n        }\n      }\n    }\n  },\n\n  defer: function(fnc) {\n    setTimeout(fnc, 0);\n  },\n\n  // if the function is called repeatedly, wait until threshold passes until we execute the function\n  debounce: function(func, threshold, callImmediately) {\n    let timeout;\n\n    return function() {\n      const obj = this;\n      const args = arguments;\n      function delayed() {\n        timeout = null;\n        if (!callImmediately) func.apply(obj, args);\n      }\n\n      const callNow = callImmediately || !timeout;\n\n      clearTimeout(timeout);\n      timeout = setTimeout(delayed, threshold);\n\n      if (callNow) {\n        func.apply(obj, args);\n      }\n    };\n  },\n\n  toArray: function(obj) {\n    if (obj.toArray) return obj.toArray();\n    return ARR_SLICE.call(obj);\n  },\n\n  isUndefined: function(obj) {\n    return obj === undefined;\n  },\n\n  isNull: function(obj) {\n    return obj === null;\n  },\n\n  isNaN: function(obj) {\n    return isNaN(obj);\n  },\n\n  isArray: Array.isArray || function(obj) {\n    return obj.constructor === Array;\n  },\n\n  isObject: function(obj) {\n    return obj === Object(obj);\n  },\n\n  isNumber: function(obj) {\n    return obj === obj + 0;\n  },\n\n  isString: function(obj) {\n    return obj === obj + '';\n  },\n\n  isBoolean: function(obj) {\n    return obj === false || obj === true;\n  },\n\n  isFunction: function(obj) {\n    return Object.prototype.toString.call(obj) === '[object Function]';\n  }\n\n};\n\nexport default Common;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport toString from './toString';\nimport common from '../utils/common';\n\nconst INTERPRETATIONS = [\n  // Strings\n  {\n    litmus: common.isString,\n    conversions: {\n      THREE_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt(\n              '0x' +\n              test[1].toString() + test[1].toString() +\n              test[2].toString() + test[2].toString() +\n              test[3].toString() + test[3].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      SIX_CHAR_HEX: {\n        read: function(original) {\n          const test = original.match(/^#([A-F0-9]{6})$/i);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'HEX',\n            hex: parseInt('0x' + test[1].toString(), 0)\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGB: {\n        read: function(original) {\n          const test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3])\n          };\n        },\n\n        write: toString\n      },\n\n      CSS_RGBA: {\n        read: function(original) {\n          const test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\n          if (test === null) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: parseFloat(test[1]),\n            g: parseFloat(test[2]),\n            b: parseFloat(test[3]),\n            a: parseFloat(test[4])\n          };\n        },\n\n        write: toString\n      }\n    }\n  },\n\n  // Numbers\n  {\n    litmus: common.isNumber,\n\n    conversions: {\n\n      HEX: {\n        read: function(original) {\n          return {\n            space: 'HEX',\n            hex: original,\n            conversionName: 'HEX'\n          };\n        },\n\n        write: function(color) {\n          return color.hex;\n        }\n      }\n\n    }\n\n  },\n\n  // Arrays\n  {\n    litmus: common.isArray,\n    conversions: {\n      RGB_ARRAY: {\n        read: function(original) {\n          if (original.length !== 3) {\n            return false;\n          }\n\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b];\n        }\n      },\n\n      RGBA_ARRAY: {\n        read: function(original) {\n          if (original.length !== 4) return false;\n          return {\n            space: 'RGB',\n            r: original[0],\n            g: original[1],\n            b: original[2],\n            a: original[3]\n          };\n        },\n\n        write: function(color) {\n          return [color.r, color.g, color.b, color.a];\n        }\n      }\n    }\n  },\n\n  // Objects\n  {\n    litmus: common.isObject,\n    conversions: {\n\n      RGBA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b,\n            a: color.a\n          };\n        }\n      },\n\n      RGB_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.r) &&\n            common.isNumber(original.g) &&\n            common.isNumber(original.b)) {\n            return {\n              space: 'RGB',\n              r: original.r,\n              g: original.g,\n              b: original.b\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            r: color.r,\n            g: color.g,\n            b: color.b\n          };\n        }\n      },\n\n      HSVA_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v) &&\n            common.isNumber(original.a)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v,\n              a: original.a\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v,\n            a: color.a\n          };\n        }\n      },\n\n      HSV_OBJ: {\n        read: function(original) {\n          if (common.isNumber(original.h) &&\n            common.isNumber(original.s) &&\n            common.isNumber(original.v)) {\n            return {\n              space: 'HSV',\n              h: original.h,\n              s: original.s,\n              v: original.v\n            };\n          }\n          return false;\n        },\n\n        write: function(color) {\n          return {\n            h: color.h,\n            s: color.s,\n            v: color.v\n          };\n        }\n      }\n    }\n  }\n];\n\nlet result;\nlet toReturn;\n\nconst interpret = function() {\n  toReturn = false;\n\n  const original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\n  common.each(INTERPRETATIONS, function(family) {\n    if (family.litmus(original)) {\n      common.each(family.conversions, function(conversion, conversionName) {\n        result = conversion.read(original);\n\n        if (toReturn === false && result !== false) {\n          toReturn = result;\n          result.conversionName = conversionName;\n          result.conversion = conversion;\n          return common.BREAK;\n        }\n      });\n\n      return common.BREAK;\n    }\n  });\n\n  return toReturn;\n};\n\nexport default interpret;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nlet tmpComponent;\n\nconst ColorMath = {\n  hsv_to_rgb: function(h, s, v) {\n    const hi = Math.floor(h / 60) % 6;\n\n    const f = h / 60 - Math.floor(h / 60);\n    const p = v * (1.0 - s);\n    const q = v * (1.0 - (f * s));\n    const t = v * (1.0 - ((1.0 - f) * s));\n\n    const c = [\n      [v, t, p],\n      [q, v, p],\n      [p, v, t],\n      [p, q, v],\n      [t, p, v],\n      [v, p, q]\n    ][hi];\n\n    return {\n      r: c[0] * 255,\n      g: c[1] * 255,\n      b: c[2] * 255\n    };\n  },\n\n  rgb_to_hsv: function(r, g, b) {\n    const min = Math.min(r, g, b);\n    const max = Math.max(r, g, b);\n    const delta = max - min;\n    let h;\n    let s;\n\n    if (max !== 0) {\n      s = delta / max;\n    } else {\n      return {\n        h: NaN,\n        s: 0,\n        v: 0\n      };\n    }\n\n    if (r === max) {\n      h = (g - b) / delta;\n    } else if (g === max) {\n      h = 2 + (b - r) / delta;\n    } else {\n      h = 4 + (r - g) / delta;\n    }\n    h /= 6;\n    if (h < 0) {\n      h += 1;\n    }\n\n    return {\n      h: h * 360,\n      s: s,\n      v: max / 255\n    };\n  },\n\n  rgb_to_hex: function(r, g, b) {\n    let hex = this.hex_with_component(0, 2, r);\n    hex = this.hex_with_component(hex, 1, g);\n    hex = this.hex_with_component(hex, 0, b);\n    return hex;\n  },\n\n  component_from_hex: function(hex, componentIndex) {\n    return (hex >> (componentIndex * 8)) & 0xFF;\n  },\n\n  hex_with_component: function(hex, componentIndex, value) {\n    return value << (tmpComponent = componentIndex * 8) | (hex & ~(0xFF << tmpComponent));\n  }\n};\n\nexport default ColorMath;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport interpret from './interpret';\nimport math from './math';\nimport colorToString from './toString';\nimport common from '../utils/common';\n\nclass Color {\n  constructor() {\n    this.__state = interpret.apply(this, arguments);\n\n    if (this.__state === false) {\n      throw new Error('Failed to interpret color arguments');\n    }\n\n    this.__state.a = this.__state.a || 1;\n  }\n\n  toString() {\n    return colorToString(this);\n  }\n\n  toHexString() {\n    return colorToString(this, true);\n  }\n\n  toOriginal() {\n    return this.__state.conversion.write(this);\n  }\n}\n\nfunction defineRGBComponent(target, component, componentHexIndex) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'RGB') {\n        return this.__state[component];\n      }\n\n      Color.recalculateRGB(this, component, componentHexIndex);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'RGB') {\n        Color.recalculateRGB(this, component, componentHexIndex);\n        this.__state.space = 'RGB';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\nfunction defineHSVComponent(target, component) {\n  Object.defineProperty(target, component, {\n    get: function() {\n      if (this.__state.space === 'HSV') {\n        return this.__state[component];\n      }\n\n      Color.recalculateHSV(this);\n\n      return this.__state[component];\n    },\n\n    set: function(v) {\n      if (this.__state.space !== 'HSV') {\n        Color.recalculateHSV(this);\n        this.__state.space = 'HSV';\n      }\n\n      this.__state[component] = v;\n    }\n  });\n}\n\n\nColor.recalculateRGB = function(color, component, componentHexIndex) {\n  if (color.__state.space === 'HEX') {\n    color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\n  } else if (color.__state.space === 'HSV') {\n    common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\n  } else {\n    throw new Error('Corrupted color state');\n  }\n};\n\nColor.recalculateHSV = function(color) {\n  const result = math.rgb_to_hsv(color.r, color.g, color.b);\n\n  common.extend(color.__state,\n    {\n      s: result.s,\n      v: result.v\n    }\n  );\n\n  if (!common.isNaN(result.h)) {\n    color.__state.h = result.h;\n  } else if (common.isUndefined(color.__state.h)) {\n    color.__state.h = 0;\n  }\n};\n\nColor.COMPONENTS = ['r', 'g', 'b', 'h', 's', 'v', 'hex', 'a'];\n\ndefineRGBComponent(Color.prototype, 'r', 2);\ndefineRGBComponent(Color.prototype, 'g', 1);\ndefineRGBComponent(Color.prototype, 'b', 0);\n\ndefineHSVComponent(Color.prototype, 'h');\ndefineHSVComponent(Color.prototype, 's');\ndefineHSVComponent(Color.prototype, 'v');\n\nObject.defineProperty(Color.prototype, 'a', {\n  get: function() {\n    return this.__state.a;\n  },\n\n  set: function(v) {\n    this.__state.a = v;\n  }\n});\n\nObject.defineProperty(Color.prototype, 'hex', {\n  get: function() {\n    if (!this.__state.space !== 'HEX') {\n      this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\n    }\n\n    return this.__state.hex;\n  },\n\n  set: function(v) {\n    this.__state.space = 'HEX';\n    this.__state.hex = v;\n  }\n});\n\nexport default Color;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\n/**\n * @class An \"abstract\" class that represents a given property of an object.\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass Controller {\n  constructor(object, property) {\n    this.initialValue = object[property];\n\n    /**\n     * Those who extend this class will put their DOM elements in here.\n     * @type {DOMElement}\n     */\n    this.domElement = document.createElement('div');\n\n    /**\n     * The object to manipulate\n     * @type {Object}\n     */\n    this.object = object;\n\n    /**\n     * The name of the property to manipulate\n     * @type {String}\n     */\n    this.property = property;\n\n    /**\n     * The function to be called on change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onChange = undefined;\n\n    /**\n     * The function to be called on finishing change.\n     * @type {Function}\n     * @ignore\n     */\n    this.__onFinishChange = undefined;\n  }\n\n  /**\n   * Specify that a function fire every time someone changes the value with\n   * this Controller.\n   *\n   * @param {Function} fnc This function will be called whenever the value\n   * is modified via this Controller.\n   * @returns {Controller} this\n   */\n  onChange(fnc) {\n    this.__onChange = fnc;\n    return this;\n  }\n\n  /**\n   * Specify that a function fire every time someone \"finishes\" changing\n   * the value wih this Controller. Useful for values that change\n   * incrementally like numbers or strings.\n   *\n   * @param {Function} fnc This function will be called whenever\n   * someone \"finishes\" changing the value via this Controller.\n   * @returns {Controller} this\n   */\n  onFinishChange(fnc) {\n    this.__onFinishChange = fnc;\n    return this;\n  }\n\n  /**\n   * Change the value of <code>object[property]</code>\n   *\n   * @param {Object} newValue The new value of <code>object[property]</code>\n   */\n  setValue(newValue) {\n    this.object[this.property] = newValue;\n    if (this.__onChange) {\n      this.__onChange.call(this, newValue);\n    }\n\n    this.updateDisplay();\n    return this;\n  }\n\n  /**\n   * Gets the value of <code>object[property]</code>\n   *\n   * @returns {Object} The current value of <code>object[property]</code>\n   */\n  getValue() {\n    return this.object[this.property];\n  }\n\n  /**\n   * Refreshes the visual display of a Controller in order to keep sync\n   * with the object's current value.\n   * @returns {Controller} this\n   */\n  updateDisplay() {\n    return this;\n  }\n\n  /**\n   * @returns {Boolean} true if the value has deviated from initialValue\n   */\n  isModified() {\n    return this.initialValue !== this.getValue();\n  }\n}\n\nexport default Controller;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport common from '../utils/common';\n\nconst EVENT_MAP = {\n  HTMLEvents: ['change'],\n  MouseEvents: ['click', 'mousemove', 'mousedown', 'mouseup', 'mouseover'],\n  KeyboardEvents: ['keydown']\n};\n\nconst EVENT_MAP_INV = {};\ncommon.each(EVENT_MAP, function(v, k) {\n  common.each(v, function(e) {\n    EVENT_MAP_INV[e] = k;\n  });\n});\n\nconst CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\n\nfunction cssValueToPixels(val) {\n  if (val === '0' || common.isUndefined(val)) {\n    return 0;\n  }\n\n  const match = val.match(CSS_VALUE_PIXELS);\n\n  if (!common.isNull(match)) {\n    return parseFloat(match[1]);\n  }\n\n  // TODO ...ems? %?\n\n  return 0;\n}\n\n/**\n * @namespace\n * @member dat.dom\n */\nconst dom = {\n\n  /**\n   *\n   * @param elem\n   * @param selectable\n   */\n  makeSelectable: function(elem, selectable) {\n    if (elem === undefined || elem.style === undefined) return;\n\n    elem.onselectstart = selectable ? function() {\n      return false;\n    } : function() {\n    };\n\n    elem.style.MozUserSelect = selectable ? 'auto' : 'none';\n    elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\n    elem.unselectable = selectable ? 'on' : 'off';\n  },\n\n  /**\n   *\n   * @param elem\n   * @param horizontal\n   * @param vert\n   */\n  makeFullscreen: function(elem, hor, vert) {\n    let vertical = vert;\n    let horizontal = hor;\n\n    if (common.isUndefined(horizontal)) {\n      horizontal = true;\n    }\n\n    if (common.isUndefined(vertical)) {\n      vertical = true;\n    }\n\n    elem.style.position = 'absolute';\n\n    if (horizontal) {\n      elem.style.left = 0;\n      elem.style.right = 0;\n    }\n    if (vertical) {\n      elem.style.top = 0;\n      elem.style.bottom = 0;\n    }\n  },\n\n  /**\n   *\n   * @param elem\n   * @param eventType\n   * @param params\n   */\n  fakeEvent: function(elem, eventType, pars, aux) {\n    const params = pars || {};\n    const className = EVENT_MAP_INV[eventType];\n    if (!className) {\n      throw new Error('Event type ' + eventType + ' not supported.');\n    }\n    const evt = document.createEvent(className);\n    switch (className) {\n      case 'MouseEvents':\n        {\n          const clientX = params.x || params.clientX || 0;\n          const clientY = params.y || params.clientY || 0;\n          evt.initMouseEvent(eventType, params.bubbles || false,\n            params.cancelable || true, window, params.clickCount || 1,\n            0, // screen X\n            0, // screen Y\n            clientX, // client X\n            clientY, // client Y\n            false, false, false, false, 0, null);\n          break;\n        }\n      case 'KeyboardEvents':\n        {\n          const init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\n          common.defaults(params, {\n            cancelable: true,\n            ctrlKey: false,\n            altKey: false,\n            shiftKey: false,\n            metaKey: false,\n            keyCode: undefined,\n            charCode: undefined\n          });\n          init(eventType, params.bubbles || false,\n            params.cancelable, window,\n            params.ctrlKey, params.altKey,\n            params.shiftKey, params.metaKey,\n            params.keyCode, params.charCode);\n          break;\n        }\n      default:\n        {\n          evt.initEvent(eventType, params.bubbles || false, params.cancelable || true);\n          break;\n        }\n    }\n    common.defaults(evt, aux);\n    elem.dispatchEvent(evt);\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  bind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.addEventListener) {\n      elem.addEventListener(event, func, bool);\n    } else if (elem.attachEvent) {\n      elem.attachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param event\n   * @param func\n   * @param bool\n   */\n  unbind: function(elem, event, func, newBool) {\n    const bool = newBool || false;\n    if (elem.removeEventListener) {\n      elem.removeEventListener(event, func, bool);\n    } else if (elem.detachEvent) {\n      elem.detachEvent('on' + event, func);\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  addClass: function(elem, className) {\n    if (elem.className === undefined) {\n      elem.className = className;\n    } else if (elem.className !== className) {\n      const classes = elem.className.split(/ +/);\n      if (classes.indexOf(className) === -1) {\n        classes.push(className);\n        elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\n      }\n    }\n    return dom;\n  },\n\n  /**\n   *\n   * @param elem\n   * @param className\n   */\n  removeClass: function(elem, className) {\n    if (className) {\n      if (elem.className === className) {\n        elem.removeAttribute('class');\n      } else {\n        const classes = elem.className.split(/ +/);\n        const index = classes.indexOf(className);\n        if (index !== -1) {\n          classes.splice(index, 1);\n          elem.className = classes.join(' ');\n        }\n      }\n    } else {\n      elem.className = undefined;\n    }\n    return dom;\n  },\n\n  hasClass: function(elem, className) {\n    return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getWidth: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-left-width']) +\n      cssValueToPixels(style['border-right-width']) +\n      cssValueToPixels(style['padding-left']) +\n      cssValueToPixels(style['padding-right']) +\n      cssValueToPixels(style.width);\n  },\n\n  /**\n   *\n   * @param elem\n   */\n  getHeight: function(elem) {\n    const style = getComputedStyle(elem);\n\n    return cssValueToPixels(style['border-top-width']) +\n      cssValueToPixels(style['border-bottom-width']) +\n      cssValueToPixels(style['padding-top']) +\n      cssValueToPixels(style['padding-bottom']) +\n      cssValueToPixels(style.height);\n  },\n\n  /**\n   *\n   * @param el\n   */\n  getOffset: function(el) {\n    let elem = el;\n    const offset = { left: 0, top: 0 };\n    if (elem.offsetParent) {\n      do {\n        offset.left += elem.offsetLeft;\n        offset.top += elem.offsetTop;\n        elem = elem.offsetParent;\n      } while (elem);\n    }\n    return offset;\n  },\n\n  // http://stackoverflow.com/posts/2684561/revisions\n  /**\n   *\n   * @param elem\n   */\n  isActive: function(elem) {\n    return elem === document.activeElement && (elem.type || elem.href);\n  }\n\n};\n\nexport default dom;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a checkbox input to alter the boolean property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass BooleanController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n    this.__prev = this.getValue();\n\n    this.__checkbox = document.createElement('input');\n    this.__checkbox.setAttribute('type', 'checkbox');\n\n    function onChange() {\n      _this.setValue(!_this.__prev);\n    }\n\n    dom.bind(this.__checkbox, 'change', onChange, false);\n\n    this.domElement.appendChild(this.__checkbox);\n\n    // Match original value\n    this.updateDisplay();\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    this.__prev = this.getValue();\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (this.getValue() === true) {\n      this.__checkbox.setAttribute('checked', 'checked');\n      this.__checkbox.checked = true;\n      this.__prev = true;\n    } else {\n      this.__checkbox.checked = false;\n      this.__prev = false;\n    }\n\n    return super.updateDisplay();\n  }\n}\n\nexport default BooleanController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\n/**\n * @class Provides a select input to alter the property of an object, using a\n * list of accepted values.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object|string[]} options A map of labels to acceptable values, or\n * a list of acceptable string values.\n */\nclass OptionController extends Controller {\n  constructor(object, property, opts) {\n    super(object, property);\n\n    let options = opts;\n\n    const _this = this;\n\n    /**\n     * The drop down menu\n     * @ignore\n     */\n    this.__select = document.createElement('select');\n\n    if (common.isArray(options)) {\n      const map = {};\n      common.each(options, function(element) {\n        map[element] = element;\n      });\n      options = map;\n    }\n\n    common.each(options, function(value, key) {\n      const opt = document.createElement('option');\n      opt.innerHTML = key;\n      opt.setAttribute('value', value);\n      _this.__select.appendChild(opt);\n    });\n\n    // Acknowledge original value\n    this.updateDisplay();\n\n    dom.bind(this.__select, 'change', function() {\n      const desiredValue = this.options[this.selectedIndex].value;\n      _this.setValue(desiredValue);\n    });\n\n    this.domElement.appendChild(this.__select);\n  }\n\n  setValue(v) {\n    const toReturn = super.setValue(v);\n\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n    return toReturn;\n  }\n\n  updateDisplay() {\n    if (dom.isActive(this.__select)) return this; // prevent number from updating if user is trying to manually update\n    this.__select.value = this.getValue();\n    return super.updateDisplay();\n  }\n}\n\nexport default OptionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a text input to alter the string property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass StringController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    const _this = this;\n\n    function onChange() {\n      _this.setValue(_this.__input.value);\n    }\n\n    function onBlur() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    dom.bind(this.__input, 'keyup', onChange);\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) {\n        this.blur();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    // Stops the caret from moving on account of:\n    // keyup -> setValue -> updateDisplay\n    if (!dom.isActive(this.__input)) {\n      this.__input.value = this.getValue();\n    }\n    return super.updateDisplay();\n  }\n}\n\nexport default StringController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport common from '../utils/common';\n\nfunction numDecimals(x) {\n  const _x = x.toString();\n  if (_x.indexOf('.') > -1) {\n    return _x.length - _x.indexOf('.') - 1;\n  }\n\n  return 0;\n}\n\n/**\n * @class Represents a given property of an object that is a number.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberController extends Controller {\n  constructor(object, property, params) {\n    super(object, property);\n\n    const _params = params || {};\n\n    this.__min = _params.min;\n    this.__max = _params.max;\n    this.__step = _params.step;\n\n    if (common.isUndefined(this.__step)) {\n      if (this.initialValue === 0) {\n        this.__impliedStep = 1; // What are we, psychics?\n      } else {\n        // Hey Doug, check this out.\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(Math.abs(this.initialValue)) / Math.LN10)) / 10;\n      }\n    } else {\n      this.__impliedStep = this.__step;\n    }\n\n    this.__precision = numDecimals(this.__impliedStep);\n  }\n\n  setValue(v) {\n    let _v = v;\n\n    if (this.__min !== undefined && _v < this.__min) {\n      _v = this.__min;\n    } else if (this.__max !== undefined && _v > this.__max) {\n      _v = this.__max;\n    }\n\n    if (this.__step !== undefined && _v % this.__step !== 0) {\n      _v = Math.round(_v / this.__step) * this.__step;\n    }\n\n    return super.setValue(_v);\n  }\n\n  /**\n   * Specify a minimum value for <code>object[property]</code>.\n   *\n   * @param {Number} minValue The minimum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  min(minValue) {\n    this.__min = minValue;\n    return this;\n  }\n\n  /**\n   * Specify a maximum value for <code>object[property]</code>.\n   *\n   * @param {Number} maxValue The maximum value for\n   * <code>object[property]</code>\n   * @returns {dat.controllers.NumberController} this\n   */\n  max(maxValue) {\n    this.__max = maxValue;\n    return this;\n  }\n\n  /**\n   * Specify a step value that dat.controllers.NumberController\n   * increments by.\n   *\n   * @param {Number} stepValue The step value for\n   * dat.controllers.NumberController\n   * @default if minimum and maximum specified increment is 1% of the\n   * difference otherwise stepValue is 1\n   * @returns {dat.controllers.NumberController} this\n   */\n  step(stepValue) {\n    this.__step = stepValue;\n    this.__impliedStep = stepValue;\n    this.__precision = numDecimals(stepValue);\n    return this;\n  }\n}\n\nexport default NumberController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nfunction roundToDecimal(value, decimals) {\n  const tenTo = Math.pow(10, decimals);\n  return Math.round(value * tenTo) / tenTo;\n}\n\n/**\n * @class Represents a given property of an object that is a number and\n * provides an input element with which to manipulate it.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Object} [params] Optional parameters\n * @param {Number} [params.min] Minimum allowed value\n * @param {Number} [params.max] Maximum allowed value\n * @param {Number} [params.step] Increment by which to change value\n */\nclass NumberControllerBox extends NumberController {\n  constructor(object, property, params) {\n    super(object, property, params);\n\n    this.__truncationSuspended = false;\n\n    const _this = this;\n\n    /**\n     * {Number} Previous mouse y position\n     * @ignore\n     */\n    let prevY;\n\n    function onChange() {\n      const attempted = parseFloat(_this.__input.value);\n      if (!common.isNaN(attempted)) {\n        _this.setValue(attempted);\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onBlur() {\n      onFinish();\n    }\n\n    function onMouseDrag(e) {\n      const diff = prevY - e.clientY;\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\n\n      prevY = e.clientY;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      onFinish();\n    }\n\n    function onMouseDown(e) {\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n      prevY = e.clientY;\n    }\n\n    this.__input = document.createElement('input');\n    this.__input.setAttribute('type', 'text');\n\n    // Makes it so manually specified values are not truncated.\n\n    dom.bind(this.__input, 'change', onChange);\n    dom.bind(this.__input, 'blur', onBlur);\n    dom.bind(this.__input, 'mousedown', onMouseDown);\n    dom.bind(this.__input, 'keydown', function(e) {\n      // When pressing enter, you can be as precise as you want.\n      if (e.keyCode === 13) {\n        _this.__truncationSuspended = true;\n        this.blur();\n        _this.__truncationSuspended = false;\n        onFinish();\n      }\n    });\n\n    this.updateDisplay();\n\n    this.domElement.appendChild(this.__input);\n  }\n\n  updateDisplay() {\n    this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerBox;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport NumberController from './NumberController';\nimport dom from '../dom/dom';\n\nfunction map(v, i1, i2, o1, o2) {\n  return o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\n}\n\n/**\n * @class Represents a given property of an object that is a number, contains\n * a minimum and maximum, and provides a slider element with which to\n * manipulate it. It should be noted that the slider element is made up of\n * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\n * <code>&lt;slider&gt;</code> element.\n *\n * @extends dat.controllers.Controller\n * @extends dat.controllers.NumberController\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n * @param {Number} minValue Minimum allowed value\n * @param {Number} maxValue Maximum allowed value\n * @param {Number} stepValue Increment by which to change value\n */\nclass NumberControllerSlider extends NumberController {\n  constructor(object, property, min, max, step) {\n    super(object, property, { min: min, max: max, step: step });\n\n    const _this = this;\n\n    this.__background = document.createElement('div');\n    this.__foreground = document.createElement('div');\n\n    dom.bind(this.__background, 'mousedown', onMouseDown);\n    dom.bind(this.__background, 'touchstart', onTouchStart);\n\n    dom.addClass(this.__background, 'slider');\n    dom.addClass(this.__foreground, 'slider-fg');\n\n    function onMouseDown(e) {\n      document.activeElement.blur();\n\n      dom.bind(window, 'mousemove', onMouseDrag);\n      dom.bind(window, 'mouseup', onMouseUp);\n\n      onMouseDrag(e);\n    }\n\n    function onMouseDrag(e) {\n      e.preventDefault();\n\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(e.clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n\n      return false;\n    }\n\n    function onMouseUp() {\n      dom.unbind(window, 'mousemove', onMouseDrag);\n      dom.unbind(window, 'mouseup', onMouseUp);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    function onTouchStart(e) {\n      if (e.touches.length !== 1) { return; }\n      dom.bind(window, 'touchmove', onTouchMove);\n      dom.bind(window, 'touchend', onTouchEnd);\n      onTouchMove(e);\n    }\n\n    function onTouchMove(e) {\n      const clientX = e.touches[0].clientX;\n      const bgRect = _this.__background.getBoundingClientRect();\n\n      _this.setValue(\n        map(clientX, bgRect.left, bgRect.right, _this.__min, _this.__max)\n      );\n    }\n\n    function onTouchEnd() {\n      dom.unbind(window, 'touchmove', onTouchMove);\n      dom.unbind(window, 'touchend', onTouchEnd);\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.getValue());\n      }\n    }\n\n    this.updateDisplay();\n\n    this.__background.appendChild(this.__foreground);\n    this.domElement.appendChild(this.__background);\n  }\n\n  updateDisplay() {\n    const pct = (this.getValue() - this.__min) / (this.__max - this.__min);\n    this.__foreground.style.width = pct * 100 + '%';\n    return super.updateDisplay();\n  }\n}\n\nexport default NumberControllerSlider;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\n\n/**\n * @class Provides a GUI interface to fire a specified method, a property of an object.\n *\n * @extends dat.controllers.Controller\n *\n * @param {Object} object The object to be manipulated\n * @param {string} property The name of the property to be manipulated\n */\nclass FunctionController extends Controller {\n  constructor(object, property, text) {\n    super(object, property);\n\n    const _this = this;\n\n    this.__button = document.createElement('div');\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\n\n    dom.bind(this.__button, 'click', function(e) {\n      e.preventDefault();\n      _this.fire();\n      return false;\n    });\n\n    dom.addClass(this.__button, 'button');\n\n    this.domElement.appendChild(this.__button);\n  }\n\n  fire() {\n    if (this.__onChange) {\n      this.__onChange.call(this);\n    }\n    this.getValue().call(this.object);\n    if (this.__onFinishChange) {\n      this.__onFinishChange.call(this, this.getValue());\n    }\n  }\n}\n\nexport default FunctionController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Controller from './Controller';\nimport dom from '../dom/dom';\nimport Color from '../color/Color';\nimport interpret from '../color/interpret';\nimport common from '../utils/common';\n\n/**\n * @class Represents a given property of an object that is a color.\n * @param {Object} object\n * @param {string} property\n */\nclass ColorController extends Controller {\n  constructor(object, property) {\n    super(object, property);\n\n    this.__color = new Color(this.getValue());\n    this.__temp = new Color(0);\n\n    const _this = this;\n\n    this.domElement = document.createElement('div');\n\n    dom.makeSelectable(this.domElement, false);\n\n    this.__selector = document.createElement('div');\n    this.__selector.className = 'selector';\n\n    this.__saturation_field = document.createElement('div');\n    this.__saturation_field.className = 'saturation-field';\n\n    this.__field_knob = document.createElement('div');\n    this.__field_knob.className = 'field-knob';\n    this.__field_knob_border = '2px solid ';\n\n    this.__hue_knob = document.createElement('div');\n    this.__hue_knob.className = 'hue-knob';\n\n    this.__hue_field = document.createElement('div');\n    this.__hue_field.className = 'hue-field';\n\n    this.__input = document.createElement('input');\n    this.__input.type = 'text';\n    this.__input_textShadow = '0 1px 1px ';\n\n    dom.bind(this.__input, 'keydown', function(e) {\n      if (e.keyCode === 13) { // on enter\n        onBlur.call(this);\n      }\n    });\n\n    dom.bind(this.__input, 'blur', onBlur);\n\n    dom.bind(this.__selector, 'mousedown', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'mouseup', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    dom.bind(this.__selector, 'touchstart', function(/* e */) {\n      dom\n        .addClass(this, 'drag')\n        .bind(window, 'touchend', function(/* e */) {\n          dom.removeClass(_this.__selector, 'drag');\n        });\n    });\n\n    const valueField = document.createElement('div');\n\n    common.extend(this.__selector.style, {\n      width: '122px',\n      height: '102px',\n      padding: '3px',\n      backgroundColor: '#222',\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\n    });\n\n    common.extend(this.__field_knob.style, {\n      position: 'absolute',\n      width: '12px',\n      height: '12px',\n      border: this.__field_knob_border + (this.__color.v < 0.5 ? '#fff' : '#000'),\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\n      borderRadius: '12px',\n      zIndex: 1\n    });\n\n    common.extend(this.__hue_knob.style, {\n      position: 'absolute',\n      width: '15px',\n      height: '2px',\n      borderRight: '4px solid #fff',\n      zIndex: 1\n    });\n\n    common.extend(this.__saturation_field.style, {\n      width: '100px',\n      height: '100px',\n      border: '1px solid #555',\n      marginRight: '3px',\n      display: 'inline-block',\n      cursor: 'pointer'\n    });\n\n    common.extend(valueField.style, {\n      width: '100%',\n      height: '100%',\n      background: 'none'\n    });\n\n    linearGradient(valueField, 'top', 'rgba(0,0,0,0)', '#000');\n\n    common.extend(this.__hue_field.style, {\n      width: '15px',\n      height: '100px',\n      border: '1px solid #555',\n      cursor: 'ns-resize',\n      position: 'absolute',\n      top: '3px',\n      right: '3px'\n    });\n\n    hueGradient(this.__hue_field);\n\n    common.extend(this.__input.style, {\n      outline: 'none',\n//      width: '120px',\n      textAlign: 'center',\n//      padding: '4px',\n//      marginBottom: '6px',\n      color: '#fff',\n      border: 0,\n      fontWeight: 'bold',\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\n    });\n\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\n    dom.bind(this.__saturation_field, 'touchstart', fieldDown);\n\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\n    dom.bind(this.__field_knob, 'touchstart', fieldDown);\n\n    dom.bind(this.__hue_field, 'mousedown', fieldDownH);\n    dom.bind(this.__hue_field, 'touchstart', fieldDownH);\n\n    function fieldDown(e) {\n      setSV(e);\n      dom.bind(window, 'mousemove', setSV);\n      dom.bind(window, 'touchmove', setSV);\n      dom.bind(window, 'mouseup', fieldUpSV);\n      dom.bind(window, 'touchend', fieldUpSV);\n    }\n\n    function fieldDownH(e) {\n      setH(e);\n      dom.bind(window, 'mousemove', setH);\n      dom.bind(window, 'touchmove', setH);\n      dom.bind(window, 'mouseup', fieldUpH);\n      dom.bind(window, 'touchend', fieldUpH);\n    }\n\n    function fieldUpSV() {\n      dom.unbind(window, 'mousemove', setSV);\n      dom.unbind(window, 'touchmove', setSV);\n      dom.unbind(window, 'mouseup', fieldUpSV);\n      dom.unbind(window, 'touchend', fieldUpSV);\n      onFinish();\n    }\n\n    function fieldUpH() {\n      dom.unbind(window, 'mousemove', setH);\n      dom.unbind(window, 'touchmove', setH);\n      dom.unbind(window, 'mouseup', fieldUpH);\n      dom.unbind(window, 'touchend', fieldUpH);\n      onFinish();\n    }\n\n    function onBlur() {\n      const i = interpret(this.value);\n      if (i !== false) {\n        _this.__color.__state = i;\n        _this.setValue(_this.__color.toOriginal());\n      } else {\n        this.value = _this.__color.toString();\n      }\n    }\n\n    function onFinish() {\n      if (_this.__onFinishChange) {\n        _this.__onFinishChange.call(_this, _this.__color.toOriginal());\n      }\n    }\n\n    this.__saturation_field.appendChild(valueField);\n    this.__selector.appendChild(this.__field_knob);\n    this.__selector.appendChild(this.__saturation_field);\n    this.__selector.appendChild(this.__hue_field);\n    this.__hue_field.appendChild(this.__hue_knob);\n\n    this.domElement.appendChild(this.__input);\n    this.domElement.appendChild(this.__selector);\n\n    this.updateDisplay();\n\n    function setSV(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__saturation_field.getBoundingClientRect();\n      const { clientX, clientY } = (e.touches && e.touches[0]) || e;\n      let s = (clientX - fieldRect.left) / (fieldRect.right - fieldRect.left);\n      let v = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (v > 1) {\n        v = 1;\n      } else if (v < 0) {\n        v = 0;\n      }\n\n      if (s > 1) {\n        s = 1;\n      } else if (s < 0) {\n        s = 0;\n      }\n\n      _this.__color.v = v;\n      _this.__color.s = s;\n\n      _this.setValue(_this.__color.toOriginal());\n\n\n      return false;\n    }\n\n    function setH(e) {\n      if (e.type.indexOf('touch') === -1) { e.preventDefault(); }\n\n      const fieldRect = _this.__hue_field.getBoundingClientRect();\n      const { clientY } = (e.touches && e.touches[0]) || e;\n      let h = 1 - (clientY - fieldRect.top) / (fieldRect.bottom - fieldRect.top);\n\n      if (h > 1) {\n        h = 1;\n      } else if (h < 0) {\n        h = 0;\n      }\n\n      _this.__color.h = h * 360;\n\n      _this.setValue(_this.__color.toOriginal());\n\n      return false;\n    }\n  }\n\n  updateDisplay() {\n    const i = interpret(this.getValue());\n\n    if (i !== false) {\n      let mismatch = false;\n\n      // Check for mismatch on the interpreted value.\n\n      common.each(Color.COMPONENTS, function(component) {\n        if (!common.isUndefined(i[component]) && !common.isUndefined(this.__color.__state[component]) &&\n          i[component] !== this.__color.__state[component]) {\n          mismatch = true;\n          return {}; // break\n        }\n      }, this);\n\n      // If nothing diverges, we keep our previous values\n      // for statefulness, otherwise we recalculate fresh\n      if (mismatch) {\n        common.extend(this.__color.__state, i);\n      }\n    }\n\n    common.extend(this.__temp.__state, this.__color.__state);\n\n    this.__temp.a = 1;\n\n    const flip = (this.__color.v < 0.5 || this.__color.s > 0.5) ? 255 : 0;\n    const _flip = 255 - flip;\n\n    common.extend(this.__field_knob.style, {\n      marginLeft: 100 * this.__color.s - 7 + 'px',\n      marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\n      backgroundColor: this.__temp.toHexString(),\n      border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip + ')'\n    });\n\n    this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px';\n\n    this.__temp.s = 1;\n    this.__temp.v = 1;\n\n    linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toHexString());\n\n    this.__input.value = this.__color.toString();\n\n    common.extend(this.__input.style, {\n      backgroundColor: this.__color.toHexString(),\n      color: 'rgb(' + flip + ',' + flip + ',' + flip + ')',\n      textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip + ',.7)'\n    });\n  }\n}\n\nconst vendors = ['-moz-', '-o-', '-webkit-', '-ms-', ''];\n\nfunction linearGradient(elem, x, a, b) {\n  elem.style.background = '';\n  common.each(vendors, function(vendor) {\n    elem.style.cssText += 'background: ' + vendor + 'linear-gradient(' + x + ', ' + a + ' 0%, ' + b + ' 100%); ';\n  });\n}\n\nfunction hueGradient(elem) {\n  elem.style.background = '';\n  elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);';\n  elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n  elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);';\n}\n\nexport default ColorController;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nconst css = {\n  load: function(url, indoc) {\n    const doc = indoc || document;\n    const link = doc.createElement('link');\n    link.type = 'text/css';\n    link.rel = 'stylesheet';\n    link.href = url;\n    doc.getElementsByTagName('head')[0].appendChild(link);\n  },\n\n  inject: function(cssContent, indoc) {\n    const doc = indoc || document;\n    const injected = document.createElement('style');\n    injected.type = 'text/css';\n    injected.innerHTML = cssContent;\n    const head = doc.getElementsByTagName('head')[0];\n    try {\n      head.appendChild(injected);\n    } catch (e) { // Unable to inject CSS, probably because of a Content Security Policy\n    }\n  }\n};\n\nexport default css;\n","const saveDialogContents = `<div id=\"dg-save\" class=\"dg dialogue\">\n\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\n\n  <textarea id=\"dg-new-constructor\"></textarea>\n\n  <div id=\"dg-save-locally\">\n\n    <input id=\"dg-local-storage\" type=\"checkbox\"/> Automatically save\n    values to <code>localStorage</code> on exit.\n\n    <div id=\"dg-local-explain\">The values saved to <code>localStorage</code> will\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\n      easier to work incrementally, but <code>localStorage</code> is fragile,\n      and your friends may not see the same values you do.\n\n    </div>\n\n  </div>\n\n</div>`;\n\nexport default saveDialogContents;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport OptionController from './OptionController';\nimport NumberControllerBox from './NumberControllerBox';\nimport NumberControllerSlider from './NumberControllerSlider';\nimport StringController from './StringController';\nimport FunctionController from './FunctionController';\nimport BooleanController from './BooleanController';\nimport common from '../utils/common';\n\nconst ControllerFactory = function(object, property) {\n  const initialValue = object[property];\n\n  // Providing options?\n  if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\n    return new OptionController(object, property, arguments[2]);\n  }\n\n  // Providing a map?\n  if (common.isNumber(initialValue)) {\n    // Has min and max? (slider)\n    if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\n      // has step?\n      if (common.isNumber(arguments[4])) {\n        return new NumberControllerSlider(object, property,\n                        arguments[2], arguments[3], arguments[4]);\n      }\n\n      return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\n    }\n\n    // number box\n    if (common.isNumber(arguments[4])) { // has step\n      return new NumberControllerBox(object, property,\n                        { min: arguments[2], max: arguments[3], step: arguments[4] });\n    }\n    return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\n  }\n\n  if (common.isString(initialValue)) {\n    return new StringController(object, property);\n  }\n\n  if (common.isFunction(initialValue)) {\n    return new FunctionController(object, property, '');\n  }\n\n  if (common.isBoolean(initialValue)) {\n    return new BooleanController(object, property);\n  }\n\n  return null;\n};\n\nexport default ControllerFactory;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nfunction requestAnimationFrame(callback) {\n  setTimeout(callback, 1000 / 60);\n}\n\nexport default window.requestAnimationFrame ||\n    window.webkitRequestAnimationFrame ||\n    window.mozRequestAnimationFrame ||\n    window.oRequestAnimationFrame ||\n    window.msRequestAnimationFrame ||\n    requestAnimationFrame;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nclass CenteredDiv {\n  constructor() {\n    this.backgroundElement = document.createElement('div');\n    common.extend(this.backgroundElement.style, {\n      backgroundColor: 'rgba(0,0,0,0.8)',\n      top: 0,\n      left: 0,\n      display: 'none',\n      zIndex: '1000',\n      opacity: 0,\n      WebkitTransition: 'opacity 0.2s linear',\n      transition: 'opacity 0.2s linear'\n    });\n\n    dom.makeFullscreen(this.backgroundElement);\n    this.backgroundElement.style.position = 'fixed';\n\n    this.domElement = document.createElement('div');\n    common.extend(this.domElement.style, {\n      position: 'fixed',\n      display: 'none',\n      zIndex: '1001',\n      opacity: 0,\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\n    });\n\n\n    document.body.appendChild(this.backgroundElement);\n    document.body.appendChild(this.domElement);\n\n    const _this = this;\n    dom.bind(this.backgroundElement, 'click', function() {\n      _this.hide();\n    });\n  }\n\n  show() {\n    const _this = this;\n\n    this.backgroundElement.style.display = 'block';\n\n    this.domElement.style.display = 'block';\n    this.domElement.style.opacity = 0;\n//    this.domElement.style.top = '52%';\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n\n    this.layout();\n\n    common.defer(function() {\n      _this.backgroundElement.style.opacity = 1;\n      _this.domElement.style.opacity = 1;\n      _this.domElement.style.webkitTransform = 'scale(1)';\n    });\n  }\n\n  /**\n   * Hide centered div\n   */\n  hide() {\n    const _this = this;\n\n    const hide = function() {\n      _this.domElement.style.display = 'none';\n      _this.backgroundElement.style.display = 'none';\n\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\n      dom.unbind(_this.domElement, 'transitionend', hide);\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\n    };\n\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\n    dom.bind(this.domElement, 'transitionend', hide);\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\n\n    this.backgroundElement.style.opacity = 0;\n//    this.domElement.style.top = '48%';\n    this.domElement.style.opacity = 0;\n    this.domElement.style.webkitTransform = 'scale(1.1)';\n  }\n\n  layout() {\n    this.domElement.style.left = window.innerWidth / 2 - dom.getWidth(this.domElement) / 2 + 'px';\n    this.domElement.style.top = window.innerHeight / 2 - dom.getHeight(this.domElement) / 2 + 'px';\n  }\n}\n\nexport default CenteredDiv;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport css from '../utils/css';\nimport saveDialogueContents from './saveDialogue.html';\nimport ControllerFactory from '../controllers/ControllerFactory';\nimport Controller from '../controllers/Controller';\nimport BooleanController from '../controllers/BooleanController';\nimport FunctionController from '../controllers/FunctionController';\nimport NumberControllerBox from '../controllers/NumberControllerBox';\nimport NumberControllerSlider from '../controllers/NumberControllerSlider';\nimport ColorController from '../controllers/ColorController';\nimport requestAnimationFrame from '../utils/requestAnimationFrame';\nimport CenteredDiv from '../dom/CenteredDiv';\nimport dom from '../dom/dom';\nimport common from '../utils/common';\n\nimport styleSheet from './style.scss'; // CSS to embed in build\n\ncss.inject(styleSheet);\n\n/** @ignore Outer-most className for GUI's */\nconst CSS_NAMESPACE = 'dg';\n\nconst HIDE_KEY_CODE = 72;\n\n/** @ignore The only value shared between the JS and SCSS. Use caution. */\nconst CLOSE_BUTTON_HEIGHT = 20;\n\nconst DEFAULT_DEFAULT_PRESET_NAME = 'Default';\n\nconst SUPPORTS_LOCAL_STORAGE = (function() {\n  try {\n    return !!window.localStorage;\n  } catch (e) {\n    return false;\n  }\n}());\n\nlet SAVE_DIALOGUE;\n\n/** @ignore Have we yet to create an autoPlace GUI? */\nlet autoPlaceVirgin = true;\n\n/** @ignore Fixed position div that auto place GUI's go inside */\nlet autoPlaceContainer;\n\n/** @ignore Are we hiding the GUI's ? */\nlet hide = false;\n\n/** @private GUI's which should be hidden */\nconst hideableGuis = [];\n\n/**\n * @class A lightweight controller library for JavaScript. It allows you to easily\n * manipulate variables and fire functions on the fly.\n *\n * @typicalname gui\n *\n * @example\n * // Creating a GUI with options.\n * var gui = new dat.GUI({name: 'My GUI'});\n *\n * @example\n * // Creating a GUI and a subfolder.\n * var gui = new dat.GUI();\n * var folder1 = gui.addFolder('Flow Field');\n *\n * @param {Object} [params]\n * @param {String} [params.name] The name of this GUI.\n * @param {Object} [params.load] JSON object representing the saved state of\n * this GUI.\n * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\n * @param {Boolean} [params.autoPlace=true]\n * @param {Boolean} [params.hideable=true] If true, GUI is shown/hidden by <kbd>h</kbd> keypress.\n * @param {Boolean} [params.closed=false] If true, starts closed\n * @param {Boolean} [params.closeOnTop=false] If true, close/open button shows on top of the GUI\n */\nconst GUI = function(pars) {\n  const _this = this;\n\n  let params = pars || {};\n\n  /**\n   * Outermost DOM Element\n   * @type {DOMElement}\n   */\n  this.domElement = document.createElement('div');\n  this.__ul = document.createElement('ul');\n  this.domElement.appendChild(this.__ul);\n\n  dom.addClass(this.domElement, CSS_NAMESPACE);\n\n  /**\n   * Nested GUI's by name\n   * @ignore\n   */\n  this.__folders = {};\n\n  this.__controllers = [];\n\n  /**\n   * List of objects I'm remembering for save, only used in top level GUI\n   * @ignore\n   */\n  this.__rememberedObjects = [];\n\n  /**\n   * Maps the index of remembered objects to a map of controllers, only used\n   * in top level GUI.\n   *\n   * @private\n   * @ignore\n   *\n   * @example\n   * [\n   *  {\n     *    propertyName: Controller,\n     *    anotherPropertyName: Controller\n     *  },\n   *  {\n     *    propertyName: Controller\n     *  }\n   * ]\n   */\n  this.__rememberedObjectIndecesToControllers = [];\n\n  this.__listening = [];\n\n  // Default parameters\n  params = common.defaults(params, {\n    closeOnTop: false,\n    autoPlace: true,\n    width: GUI.DEFAULT_WIDTH\n  });\n\n  params = common.defaults(params, {\n    resizable: params.autoPlace,\n    hideable: params.autoPlace\n  });\n\n  if (!common.isUndefined(params.load)) {\n    // Explicit preset\n    if (params.preset) {\n      params.load.preset = params.preset;\n    }\n  } else {\n    params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\n  }\n\n  if (common.isUndefined(params.parent) && params.hideable) {\n    hideableGuis.push(this);\n  }\n\n  // Only root level GUI's are resizable.\n  params.resizable = common.isUndefined(params.parent) && params.resizable;\n\n  if (params.autoPlace && common.isUndefined(params.scrollable)) {\n    params.scrollable = true;\n  }\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\n\n  // Not part of params because I don't want people passing this in via\n  // constructor. Should be a 'remembered' value.\n  let useLocalStorage =\n    SUPPORTS_LOCAL_STORAGE &&\n    localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\n\n  let saveToLocalStorage;\n  let titleRow;\n\n  Object.defineProperties(this,\n    /** @lends GUI.prototype */\n    {\n      /**\n       * The parent <code>GUI</code>\n       * @type dat.gui.GUI\n       */\n      parent: {\n        get: function() {\n          return params.parent;\n        }\n      },\n\n      scrollable: {\n        get: function() {\n          return params.scrollable;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s element placement for you\n       * @type Boolean\n       */\n      autoPlace: {\n        get: function() {\n          return params.autoPlace;\n        }\n      },\n\n      /**\n       * Handles <code>GUI</code>'s position of open/close button\n       * @type Boolean\n       */\n      closeOnTop: {\n        get: function() {\n          return params.closeOnTop;\n        }\n      },\n\n      /**\n       * The identifier for a set of saved values\n       * @type String\n       */\n      preset: {\n        get: function() {\n          if (_this.parent) {\n            return _this.getRoot().preset;\n          }\n\n          return params.load.preset;\n        },\n\n        set: function(v) {\n          if (_this.parent) {\n            _this.getRoot().preset = v;\n          } else {\n            params.load.preset = v;\n          }\n          setPresetSelectIndex(this);\n          _this.revert();\n        }\n      },\n\n      /**\n       * The width of <code>GUI</code> element\n       * @type Number\n       */\n      width: {\n        get: function() {\n          return params.width;\n        },\n        set: function(v) {\n          params.width = v;\n          setWidth(_this, v);\n        }\n      },\n\n      /**\n       * The name of <code>GUI</code>. Used for folders. i.e\n       * a folder's name\n       * @type String\n       */\n      name: {\n        get: function() {\n          return params.name;\n        },\n        set: function(v) {\n          // TODO Check for collisions among sibling folders\n          params.name = v;\n          if (titleRow) {\n            titleRow.innerHTML = params.name;\n          }\n        }\n      },\n\n      /**\n       * Whether the <code>GUI</code> is collapsed or not\n       * @type Boolean\n       */\n      closed: {\n        get: function() {\n          return params.closed;\n        },\n        set: function(v) {\n          params.closed = v;\n          if (params.closed) {\n            dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\n          } else {\n            dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\n          }\n          // For browsers that aren't going to respect the CSS transition,\n          // Lets just check our height against the window height right off\n          // the bat.\n          this.onResize();\n\n          if (_this.__closeButton) {\n            _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\n          }\n        }\n      },\n\n      /**\n       * Contains all presets\n       * @type Object\n       */\n      load: {\n        get: function() {\n          return params.load;\n        }\n      },\n\n      /**\n       * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\n       * <code>remember</code>ing\n       * @type Boolean\n       */\n      useLocalStorage: {\n\n        get: function() {\n          return useLocalStorage;\n        },\n        set: function(bool) {\n          if (SUPPORTS_LOCAL_STORAGE) {\n            useLocalStorage = bool;\n            if (bool) {\n              dom.bind(window, 'unload', saveToLocalStorage);\n            } else {\n              dom.unbind(window, 'unload', saveToLocalStorage);\n            }\n            localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\n          }\n        }\n      }\n    });\n\n  // Are we a root level GUI?\n  if (common.isUndefined(params.parent)) {\n    this.closed = params.closed || false;\n\n    dom.addClass(this.domElement, GUI.CLASS_MAIN);\n    dom.makeSelectable(this.domElement, false);\n\n    // Are we supposed to be loading locally?\n    if (SUPPORTS_LOCAL_STORAGE) {\n      if (useLocalStorage) {\n        _this.useLocalStorage = true;\n\n        const savedGui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\n\n        if (savedGui) {\n          params.load = JSON.parse(savedGui);\n        }\n      }\n    }\n\n    this.__closeButton = document.createElement('div');\n    this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\n    dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\n    if (params.closeOnTop) {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_TOP);\n      this.domElement.insertBefore(this.__closeButton, this.domElement.childNodes[0]);\n    } else {\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BOTTOM);\n      this.domElement.appendChild(this.__closeButton);\n    }\n\n    dom.bind(this.__closeButton, 'click', function() {\n      _this.closed = !_this.closed;\n    });\n    // Oh, you're a nested GUI!\n  } else {\n    if (params.closed === undefined) {\n      params.closed = true;\n    }\n\n    const titleRowName = document.createTextNode(params.name);\n    dom.addClass(titleRowName, 'controller-name');\n\n    titleRow = addRow(_this, titleRowName);\n\n    const onClickTitle = function(e) {\n      e.preventDefault();\n      _this.closed = !_this.closed;\n      return false;\n    };\n\n    dom.addClass(this.__ul, GUI.CLASS_CLOSED);\n\n    dom.addClass(titleRow, 'title');\n    dom.bind(titleRow, 'click', onClickTitle);\n\n    if (!params.closed) {\n      this.closed = false;\n    }\n  }\n\n  if (params.autoPlace) {\n    if (common.isUndefined(params.parent)) {\n      if (autoPlaceVirgin) {\n        autoPlaceContainer = document.createElement('div');\n        dom.addClass(autoPlaceContainer, CSS_NAMESPACE);\n        dom.addClass(autoPlaceContainer, GUI.CLASS_AUTO_PLACE_CONTAINER);\n        document.body.appendChild(autoPlaceContainer);\n        autoPlaceVirgin = false;\n      }\n\n      // Put it in the dom for you.\n      autoPlaceContainer.appendChild(this.domElement);\n\n      // Apply the auto styles\n      dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\n    }\n\n\n    // Make it not elastic.\n    if (!this.parent) {\n      setWidth(_this, params.width);\n    }\n  }\n\n  this.__resizeHandler = function() {\n    _this.onResizeDebounced();\n  };\n\n  dom.bind(window, 'resize', this.__resizeHandler);\n  dom.bind(this.__ul, 'webkitTransitionEnd', this.__resizeHandler);\n  dom.bind(this.__ul, 'transitionend', this.__resizeHandler);\n  dom.bind(this.__ul, 'oTransitionEnd', this.__resizeHandler);\n  this.onResize();\n\n  if (params.resizable) {\n    addResizeHandle(this);\n  }\n\n  saveToLocalStorage = function() {\n    if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\n      localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\n    }\n  };\n\n  // expose this method publicly\n  this.saveToLocalStorageIfPossible = saveToLocalStorage;\n\n  function resetWidth() {\n    const root = _this.getRoot();\n    root.width += 1;\n    common.defer(function() {\n      root.width -= 1;\n    });\n  }\n\n  if (!params.parent) {\n    resetWidth();\n  }\n};\n\nGUI.toggleHide = function() {\n  hide = !hide;\n  common.each(hideableGuis, function(gui) {\n    gui.domElement.style.display = hide ? 'none' : '';\n  });\n};\n\nGUI.CLASS_AUTO_PLACE = 'a';\nGUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\nGUI.CLASS_MAIN = 'main';\nGUI.CLASS_CONTROLLER_ROW = 'cr';\nGUI.CLASS_TOO_TALL = 'taller-than-window';\nGUI.CLASS_CLOSED = 'closed';\nGUI.CLASS_CLOSE_BUTTON = 'close-button';\nGUI.CLASS_CLOSE_TOP = 'close-top';\nGUI.CLASS_CLOSE_BOTTOM = 'close-bottom';\nGUI.CLASS_DRAG = 'drag';\n\nGUI.DEFAULT_WIDTH = 245;\nGUI.TEXT_CLOSED = 'Close Controls';\nGUI.TEXT_OPEN = 'Open Controls';\n\nGUI._keydownHandler = function(e) {\n  if (document.activeElement.type !== 'text' &&\n    (e.which === HIDE_KEY_CODE || e.keyCode === HIDE_KEY_CODE)) {\n    GUI.toggleHide();\n  }\n};\ndom.bind(window, 'keydown', GUI._keydownHandler, false);\n\ncommon.extend(\n  GUI.prototype,\n\n  /** @lends GUI.prototype */\n  {\n\n    /**\n     * Adds a new {@link Controller} to the GUI. The type of controller created\n     * is inferred from the initial value of <code>object[property]</code>. For\n     * color properties, see {@link addColor}.\n     *\n     * @param {Object} object The object to be manipulated\n     * @param {String} property The name of the property to be manipulated\n     * @param {Number} [min] Minimum allowed value\n     * @param {Number} [max] Maximum allowed value\n     * @param {Number} [step] Increment by which to change value\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * // Add a string controller.\n     * var person = {name: 'Sam'};\n     * gui.add(person, 'name');\n     *\n     * @example\n     * // Add a number controller slider.\n     * var person = {age: 45};\n     * gui.add(person, 'age', 0, 100);\n     */\n    add: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          factoryArgs: Array.prototype.slice.call(arguments, 2)\n        }\n      );\n    },\n\n    /**\n     * Adds a new color controller to the GUI.\n     *\n     * @param object\n     * @param property\n     * @returns {Controller} The controller that was added to the GUI.\n     * @instance\n     *\n     * @example\n     * var palette = {\n     *   color1: '#FF0000', // CSS string\n     *   color2: [ 0, 128, 255 ], // RGB array\n     *   color3: [ 0, 128, 255, 0.3 ], // RGB with alpha\n     *   color4: { h: 350, s: 0.9, v: 0.3 } // Hue, saturation, value\n     * };\n     * gui.addColor(palette, 'color1');\n     * gui.addColor(palette, 'color2');\n     * gui.addColor(palette, 'color3');\n     * gui.addColor(palette, 'color4');\n     */\n    addColor: function(object, property) {\n      return add(\n        this,\n        object,\n        property,\n        {\n          color: true\n        }\n      );\n    },\n\n    /**\n     * Removes the given controller from the GUI.\n     * @param {Controller} controller\n     * @instance\n     */\n    remove: function(controller) {\n      // TODO listening?\n      this.__ul.removeChild(controller.__li);\n      this.__controllers.splice(this.__controllers.indexOf(controller), 1);\n      const _this = this;\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Removes the root GUI from the document and unbinds all event listeners.\n     * For subfolders, use `gui.removeFolder(folder)` instead.\n     * @instance\n     */\n    destroy: function() {\n      if (this.parent) {\n        throw new Error(\n          'Only the root GUI should be removed with .destroy(). ' +\n          'For subfolders, use gui.removeFolder(folder) instead.'\n        );\n      }\n\n      if (this.autoPlace) {\n        autoPlaceContainer.removeChild(this.domElement);\n      }\n\n      const _this = this;\n      common.each(this.__folders, function(subfolder) {\n        _this.removeFolder(subfolder);\n      });\n\n      dom.unbind(window, 'keydown', GUI._keydownHandler, false);\n\n      removeListeners(this);\n    },\n\n    /**\n     * Creates a new subfolder GUI instance.\n     * @param name\n     * @returns {dat.gui.GUI} The new folder.\n     * @throws {Error} if this GUI already has a folder by the specified\n     * name\n     * @instance\n     */\n    addFolder: function(name) {\n      // We have to prevent collisions on names in order to have a key\n      // by which to remember saved values\n      if (this.__folders[name] !== undefined) {\n        throw new Error('You already have a folder in this GUI by the' +\n          ' name \"' + name + '\"');\n      }\n\n      const newGuiParams = { name: name, parent: this };\n\n      // We need to pass down the autoPlace trait so that we can\n      // attach event listeners to open/close folder actions to\n      // ensure that a scrollbar appears if the window is too short.\n      newGuiParams.autoPlace = this.autoPlace;\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[name]) { // Did daddy remember me?\n        // Start me closed if I was closed\n        newGuiParams.closed = this.load.folders[name].closed;\n\n        // Pass down the loaded data\n        newGuiParams.load = this.load.folders[name];\n      }\n\n      const gui = new GUI(newGuiParams);\n      this.__folders[name] = gui;\n\n      const li = addRow(this, gui.domElement);\n      dom.addClass(li, 'folder');\n      return gui;\n    },\n\n    /**\n     * Removes a subfolder GUI instance.\n     * @param {dat.gui.GUI} folder The folder to remove.\n     * @instance\n     */\n    removeFolder: function(folder) {\n      this.__ul.removeChild(folder.domElement.parentElement);\n\n      delete this.__folders[folder.name];\n\n      // Do we have saved appearance data for this folder?\n      if (this.load && // Anything loaded?\n        this.load.folders && // Was my parent a dead-end?\n        this.load.folders[folder.name]) {\n        delete this.load.folders[folder.name];\n      }\n\n      removeListeners(folder);\n\n      const _this = this;\n\n      common.each(folder.__folders, function(subfolder) {\n        folder.removeFolder(subfolder);\n      });\n\n      common.defer(function() {\n        _this.onResize();\n      });\n    },\n\n    /**\n     * Opens the GUI.\n     */\n    open: function() {\n      this.closed = false;\n    },\n\n    /**\n     * Closes the GUI.\n     */\n    close: function() {\n      this.closed = true;\n    },\n\n    /**\n    * Hides the GUI.\n    */\n    hide: function() {\n      this.domElement.style.display = 'none';\n    },\n\n    /**\n    * Shows the GUI.\n    */\n    show: function() {\n      this.domElement.style.display = '';\n    },\n\n\n    onResize: function() {\n      // we debounce this function to prevent performance issues when rotating on tablet/mobile\n      const root = this.getRoot();\n      if (root.scrollable) {\n        const top = dom.getOffset(root.__ul).top;\n        let h = 0;\n\n        common.each(root.__ul.childNodes, function(node) {\n          if (!(root.autoPlace && node === root.__save_row)) {\n            h += dom.getHeight(node);\n          }\n        });\n\n        if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\n          dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\n        } else {\n          dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\n          root.__ul.style.height = 'auto';\n        }\n      }\n\n      if (root.__resize_handle) {\n        common.defer(function() {\n          root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\n        });\n      }\n\n      if (root.__closeButton) {\n        root.__closeButton.style.width = root.width + 'px';\n      }\n    },\n\n    onResizeDebounced: common.debounce(function() { this.onResize(); }, 50),\n\n    /**\n     * Mark objects for saving. The order of these objects cannot change as\n     * the GUI grows. When remembering new objects, append them to the end\n     * of the list.\n     *\n     * @param {...Object} objects\n     * @throws {Error} if not called on a top level GUI.\n     * @instance\n     * @ignore\n     */\n    remember: function() {\n      if (common.isUndefined(SAVE_DIALOGUE)) {\n        SAVE_DIALOGUE = new CenteredDiv();\n        SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\n      }\n\n      if (this.parent) {\n        throw new Error('You can only call remember on a top level GUI.');\n      }\n\n      const _this = this;\n\n      common.each(Array.prototype.slice.call(arguments), function(object) {\n        if (_this.__rememberedObjects.length === 0) {\n          addSaveMenu(_this);\n        }\n        if (_this.__rememberedObjects.indexOf(object) === -1) {\n          _this.__rememberedObjects.push(object);\n        }\n      });\n\n      if (this.autoPlace) {\n        // Set save row width\n        setWidth(this, this.width);\n      }\n    },\n\n    /**\n     * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\n     * @instance\n     */\n    getRoot: function() {\n      let gui = this;\n      while (gui.parent) {\n        gui = gui.parent;\n      }\n      return gui;\n    },\n\n    /**\n     * @returns {Object} a JSON object representing the current state of\n     * this GUI as well as its remembered properties.\n     * @instance\n     */\n    getSaveObject: function() {\n      const toReturn = this.load;\n      toReturn.closed = this.closed;\n\n      // Am I remembering any values?\n      if (this.__rememberedObjects.length > 0) {\n        toReturn.preset = this.preset;\n\n        if (!toReturn.remembered) {\n          toReturn.remembered = {};\n        }\n\n        toReturn.remembered[this.preset] = getCurrentPreset(this);\n      }\n\n      toReturn.folders = {};\n      common.each(this.__folders, function(element, key) {\n        toReturn.folders[key] = element.getSaveObject();\n      });\n\n      return toReturn;\n    },\n\n    save: function() {\n      if (!this.load.remembered) {\n        this.load.remembered = {};\n      }\n\n      this.load.remembered[this.preset] = getCurrentPreset(this);\n      markPresetModified(this, false);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    saveAs: function(presetName) {\n      if (!this.load.remembered) {\n        // Retain default values upon first save\n        this.load.remembered = {};\n        this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\n      }\n\n      this.load.remembered[presetName] = getCurrentPreset(this);\n      this.preset = presetName;\n      addPresetOption(this, presetName, true);\n      this.saveToLocalStorageIfPossible();\n    },\n\n    revert: function(gui) {\n      common.each(this.__controllers, function(controller) {\n        // Make revert work on Default.\n        if (!this.getRoot().load.remembered) {\n          controller.setValue(controller.initialValue);\n        } else {\n          recallSavedValue(gui || this.getRoot(), controller);\n        }\n\n        // fire onFinishChange callback\n        if (controller.__onFinishChange) {\n          controller.__onFinishChange.call(controller, controller.getValue());\n        }\n      }, this);\n\n      common.each(this.__folders, function(folder) {\n        folder.revert(folder);\n      });\n\n      if (!gui) {\n        markPresetModified(this.getRoot(), false);\n      }\n    },\n\n    listen: function(controller) {\n      const init = this.__listening.length === 0;\n      this.__listening.push(controller);\n      if (init) {\n        updateDisplays(this.__listening);\n      }\n    },\n\n    updateDisplay: function() {\n      common.each(this.__controllers, function(controller) {\n        controller.updateDisplay();\n      });\n      common.each(this.__folders, function(folder) {\n        folder.updateDisplay();\n      });\n    }\n  }\n);\n\n/**\n * Add a row to the end of the GUI or before another row.\n *\n * @param gui\n * @param [newDom] If specified, inserts the dom content in the new row\n * @param [liBefore] If specified, places the new row before another row\n *\n * @ignore\n */\nfunction addRow(gui, newDom, liBefore) {\n  const li = document.createElement('li');\n  if (newDom) {\n    li.appendChild(newDom);\n  }\n\n  if (liBefore) {\n    gui.__ul.insertBefore(li, liBefore);\n  } else {\n    gui.__ul.appendChild(li);\n  }\n  gui.onResize();\n  return li;\n}\n\nfunction removeListeners(gui) {\n  dom.unbind(window, 'resize', gui.__resizeHandler);\n\n  if (gui.saveToLocalStorageIfPossible) {\n    dom.unbind(window, 'unload', gui.saveToLocalStorageIfPossible);\n  }\n}\n\nfunction markPresetModified(gui, modified) {\n  const opt = gui.__preset_select[gui.__preset_select.selectedIndex];\n\n  if (modified) {\n    opt.innerHTML = opt.value + '*';\n  } else {\n    opt.innerHTML = opt.value;\n  }\n}\n\nfunction augmentController(gui, li, controller) {\n  controller.__li = li;\n  controller.__gui = gui;\n\n  common.extend(controller, /** @lends Controller.prototype */ {\n    /**\n     * @param  {Array|Object} options\n     * @return {Controller}\n     */\n    options: function(options) {\n      if (arguments.length > 1) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [common.toArray(arguments)]\n          }\n        );\n      }\n\n      if (common.isArray(options) || common.isObject(options)) {\n        const nextSibling = controller.__li.nextElementSibling;\n        controller.remove();\n\n        return add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: nextSibling,\n            factoryArgs: [options]\n          }\n        );\n      }\n    },\n\n    /**\n     * Sets the name of the controller.\n     * @param  {string} name\n     * @return {Controller}\n     */\n    name: function(name) {\n      controller.__li.firstElementChild.firstElementChild.innerHTML = name;\n      return controller;\n    },\n\n    /**\n     * Sets controller to listen for changes on its underlying object.\n     * @return {Controller}\n     */\n    listen: function() {\n      controller.__gui.listen(controller);\n      return controller;\n    },\n\n    /**\n     * Removes the controller from its parent GUI.\n     * @return {Controller}\n     */\n    remove: function() {\n      controller.__gui.remove(controller);\n      return controller;\n    }\n  });\n\n  // All sliders should be accompanied by a box.\n  if (controller instanceof NumberControllerSlider) {\n    const box = new NumberControllerBox(controller.object, controller.property,\n      { min: controller.__min, max: controller.__max, step: controller.__step });\n\n    common.each(['updateDisplay', 'onChange', 'onFinishChange', 'step', 'min', 'max'], function(method) {\n      const pc = controller[method];\n      const pb = box[method];\n      controller[method] = box[method] = function() {\n        const args = Array.prototype.slice.call(arguments);\n        pb.apply(box, args);\n        return pc.apply(controller, args);\n      };\n    });\n\n    dom.addClass(li, 'has-slider');\n    controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\n  } else if (controller instanceof NumberControllerBox) {\n    const r = function(returned) {\n      // Have we defined both boundaries?\n      if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\n        // Well, then lets just replace this with a slider.\n\n        // lets remember if the old controller had a specific name or was listening\n        const oldName = controller.__li.firstElementChild.firstElementChild.innerHTML;\n        const wasListening = controller.__gui.__listening.indexOf(controller) > -1;\n\n        controller.remove();\n        const newController = add(\n          gui,\n          controller.object,\n          controller.property,\n          {\n            before: controller.__li.nextElementSibling,\n            factoryArgs: [controller.__min, controller.__max, controller.__step]\n          });\n\n        newController.name(oldName);\n        if (wasListening) newController.listen();\n\n        return newController;\n      }\n\n      return returned;\n    };\n\n    controller.min = common.compose(r, controller.min);\n    controller.max = common.compose(r, controller.max);\n  } else if (controller instanceof BooleanController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__checkbox, 'click');\n    });\n\n    dom.bind(controller.__checkbox, 'click', function(e) {\n      e.stopPropagation(); // Prevents double-toggle\n    });\n  } else if (controller instanceof FunctionController) {\n    dom.bind(li, 'click', function() {\n      dom.fakeEvent(controller.__button, 'click');\n    });\n\n    dom.bind(li, 'mouseover', function() {\n      dom.addClass(controller.__button, 'hover');\n    });\n\n    dom.bind(li, 'mouseout', function() {\n      dom.removeClass(controller.__button, 'hover');\n    });\n  } else if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n    controller.updateDisplay = common.compose(function(val) {\n      li.style.borderLeftColor = controller.__color.toString();\n      return val;\n    }, controller.updateDisplay);\n\n    controller.updateDisplay();\n  }\n\n  controller.setValue = common.compose(function(val) {\n    if (gui.getRoot().__preset_select && controller.isModified()) {\n      markPresetModified(gui.getRoot(), true);\n    }\n\n    return val;\n  }, controller.setValue);\n}\n\nfunction recallSavedValue(gui, controller) {\n  // Find the topmost GUI, that's where remembered objects live.\n  const root = gui.getRoot();\n\n  // Does the object we're controlling match anything we've been told to\n  // remember?\n  const matchedIndex = root.__rememberedObjects.indexOf(controller.object);\n\n  // Why yes, it does!\n  if (matchedIndex !== -1) {\n    // Let me fetch a map of controllers for thcommon.isObject.\n    let controllerMap = root.__rememberedObjectIndecesToControllers[matchedIndex];\n\n    // Ohp, I believe this is the first controller we've created for this\n    // object. Lets make the map fresh.\n    if (controllerMap === undefined) {\n      controllerMap = {};\n      root.__rememberedObjectIndecesToControllers[matchedIndex] =\n        controllerMap;\n    }\n\n    // Keep track of this controller\n    controllerMap[controller.property] = controller;\n\n    // Okay, now have we saved any values for this controller?\n    if (root.load && root.load.remembered) {\n      const presetMap = root.load.remembered;\n\n      // Which preset are we trying to load?\n      let preset;\n\n      if (presetMap[gui.preset]) {\n        preset = presetMap[gui.preset];\n      } else if (presetMap[DEFAULT_DEFAULT_PRESET_NAME]) {\n        // Uhh, you can have the default instead?\n        preset = presetMap[DEFAULT_DEFAULT_PRESET_NAME];\n      } else {\n        // Nada.\n        return;\n      }\n\n      // Did the loaded object remember thcommon.isObject? &&  Did we remember this particular property?\n      if (preset[matchedIndex] && preset[matchedIndex][controller.property] !== undefined) {\n        // We did remember something for this guy ...\n        const value = preset[matchedIndex][controller.property];\n\n        // And that's what it is.\n        controller.initialValue = value;\n        controller.setValue(value);\n      }\n    }\n  }\n}\n\nfunction add(gui, object, property, params) {\n  if (object[property] === undefined) {\n    throw new Error(`Object \"${object}\" has no property \"${property}\"`);\n  }\n\n  let controller;\n\n  if (params.color) {\n    controller = new ColorController(object, property);\n  } else {\n    const factoryArgs = [object, property].concat(params.factoryArgs);\n    controller = ControllerFactory.apply(gui, factoryArgs);\n  }\n\n  if (params.before instanceof Controller) {\n    params.before = params.before.__li;\n  }\n\n  recallSavedValue(gui, controller);\n\n  dom.addClass(controller.domElement, 'c');\n\n  const name = document.createElement('span');\n  dom.addClass(name, 'property-name');\n  name.innerHTML = controller.property;\n\n  const container = document.createElement('div');\n  container.appendChild(name);\n  container.appendChild(controller.domElement);\n\n  const li = addRow(gui, container, params.before);\n\n  dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\n  if (controller instanceof ColorController) {\n    dom.addClass(li, 'color');\n  } else {\n    dom.addClass(li, typeof controller.getValue());\n  }\n\n  augmentController(gui, li, controller);\n\n  gui.__controllers.push(controller);\n\n  return controller;\n}\n\nfunction getLocalStorageHash(gui, key) {\n  // TODO how does this deal with multiple GUI's?\n  return document.location.href + '.' + key;\n}\n\nfunction addPresetOption(gui, name, setSelected) {\n  const opt = document.createElement('option');\n  opt.innerHTML = name;\n  opt.value = name;\n  gui.__preset_select.appendChild(opt);\n  if (setSelected) {\n    gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\n  }\n}\n\nfunction showHideExplain(gui, explain) {\n  explain.style.display = gui.useLocalStorage ? 'block' : 'none';\n}\n\nfunction addSaveMenu(gui) {\n  const div = gui.__save_row = document.createElement('li');\n\n  dom.addClass(gui.domElement, 'has-save');\n\n  gui.__ul.insertBefore(div, gui.__ul.firstChild);\n\n  dom.addClass(div, 'save-row');\n\n  const gears = document.createElement('span');\n  gears.innerHTML = '&nbsp;';\n  dom.addClass(gears, 'button gears');\n\n  // TODO replace with FunctionController\n  const button = document.createElement('span');\n  button.innerHTML = 'Save';\n  dom.addClass(button, 'button');\n  dom.addClass(button, 'save');\n\n  const button2 = document.createElement('span');\n  button2.innerHTML = 'New';\n  dom.addClass(button2, 'button');\n  dom.addClass(button2, 'save-as');\n\n  const button3 = document.createElement('span');\n  button3.innerHTML = 'Revert';\n  dom.addClass(button3, 'button');\n  dom.addClass(button3, 'revert');\n\n  const select = gui.__preset_select = document.createElement('select');\n\n  if (gui.load && gui.load.remembered) {\n    common.each(gui.load.remembered, function(value, key) {\n      addPresetOption(gui, key, key === gui.preset);\n    });\n  } else {\n    addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\n  }\n\n  dom.bind(select, 'change', function() {\n    for (let index = 0; index < gui.__preset_select.length; index++) {\n      gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\n    }\n\n    gui.preset = this.value;\n  });\n\n  div.appendChild(select);\n  div.appendChild(gears);\n  div.appendChild(button);\n  div.appendChild(button2);\n  div.appendChild(button3);\n\n  if (SUPPORTS_LOCAL_STORAGE) {\n    const explain = document.getElementById('dg-local-explain');\n    const localStorageCheckBox = document.getElementById('dg-local-storage');\n    const saveLocally = document.getElementById('dg-save-locally');\n\n    saveLocally.style.display = 'block';\n\n    if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\n      localStorageCheckBox.setAttribute('checked', 'checked');\n    }\n\n    showHideExplain(gui, explain);\n\n    // TODO: Use a boolean controller, fool!\n    dom.bind(localStorageCheckBox, 'change', function() {\n      gui.useLocalStorage = !gui.useLocalStorage;\n      showHideExplain(gui, explain);\n    });\n  }\n\n  const newConstructorTextArea = document.getElementById('dg-new-constructor');\n\n  dom.bind(newConstructorTextArea, 'keydown', function(e) {\n    if (e.metaKey && (e.which === 67 || e.keyCode === 67)) {\n      SAVE_DIALOGUE.hide();\n    }\n  });\n\n  dom.bind(gears, 'click', function() {\n    newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\n    SAVE_DIALOGUE.show();\n    newConstructorTextArea.focus();\n    newConstructorTextArea.select();\n  });\n\n  dom.bind(button, 'click', function() {\n    gui.save();\n  });\n\n  dom.bind(button2, 'click', function() {\n    const presetName = prompt('Enter a new preset name.');\n    if (presetName) {\n      gui.saveAs(presetName);\n    }\n  });\n\n  dom.bind(button3, 'click', function() {\n    gui.revert();\n  });\n\n  // div.appendChild(button2);\n}\n\nfunction addResizeHandle(gui) {\n  let pmouseX;\n\n  gui.__resize_handle = document.createElement('div');\n\n  common.extend(gui.__resize_handle.style, {\n\n    width: '6px',\n    marginLeft: '-3px',\n    height: '200px',\n    cursor: 'ew-resize',\n    position: 'absolute'\n    // border: '1px solid blue'\n\n  });\n\n  function drag(e) {\n    e.preventDefault();\n\n    gui.width += pmouseX - e.clientX;\n    gui.onResize();\n    pmouseX = e.clientX;\n\n    return false;\n  }\n\n  function dragStop() {\n    dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.unbind(window, 'mousemove', drag);\n    dom.unbind(window, 'mouseup', dragStop);\n  }\n\n  function dragStart(e) {\n    e.preventDefault();\n\n    pmouseX = e.clientX;\n\n    dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\n    dom.bind(window, 'mousemove', drag);\n    dom.bind(window, 'mouseup', dragStop);\n\n    return false;\n  }\n\n  dom.bind(gui.__resize_handle, 'mousedown', dragStart);\n  dom.bind(gui.__closeButton, 'mousedown', dragStart);\n\n  gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\n}\n\nfunction setWidth(gui, w) {\n  gui.domElement.style.width = w + 'px';\n  // Auto placed save-rows are position fixed, so we have to\n  // set the width manually if we want it to bleed to the edge\n  if (gui.__save_row && gui.autoPlace) {\n    gui.__save_row.style.width = w + 'px';\n  }\n  if (gui.__closeButton) {\n    gui.__closeButton.style.width = w + 'px';\n  }\n}\n\nfunction getCurrentPreset(gui, useInitialValues) {\n  const toReturn = {};\n\n  // For each object I'm remembering\n  common.each(gui.__rememberedObjects, function(val, index) {\n    const savedValues = {};\n\n    // The controllers I've made for thcommon.isObject by property\n    const controllerMap =\n      gui.__rememberedObjectIndecesToControllers[index];\n\n    // Remember each value for each property\n    common.each(controllerMap, function(controller, property) {\n      savedValues[property] = useInitialValues ? controller.initialValue : controller.getValue();\n    });\n\n    // Save the values for thcommon.isObject\n    toReturn[index] = savedValues;\n  });\n\n  return toReturn;\n}\n\nfunction setPresetSelectIndex(gui) {\n  for (let index = 0; index < gui.__preset_select.length; index++) {\n    if (gui.__preset_select[index].value === gui.preset) {\n      gui.__preset_select.selectedIndex = index;\n    }\n  }\n}\n\nfunction updateDisplays(controllerArray) {\n  if (controllerArray.length !== 0) {\n    requestAnimationFrame.call(window, function() {\n      updateDisplays(controllerArray);\n    });\n  }\n\n  common.each(controllerArray, function(c) {\n    c.updateDisplay();\n  });\n}\n\nexport default GUI;\n","/**\n * dat-gui JavaScript Controller Library\n * http://code.google.com/p/dat-gui\n *\n * Copyright 2011 Data Arts Team, Google Creative Lab\n *\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n */\n\nimport Color from './color/Color';\nimport math from './color/math';\nimport interpret from './color/interpret';\n\nimport Controller from './controllers/Controller';\nimport BooleanController from './controllers/BooleanController';\nimport OptionController from './controllers/OptionController';\nimport StringController from './controllers/StringController';\nimport NumberController from './controllers/NumberController';\nimport NumberControllerBox from './controllers/NumberControllerBox';\nimport NumberControllerSlider from './controllers/NumberControllerSlider';\nimport FunctionController from './controllers/FunctionController';\nimport ColorController from './controllers/ColorController';\n\nimport domImport from './dom/dom';\nimport GUIImport from './gui/GUI';\n\nexport const color = {\n  Color: Color,\n  math: math,\n  interpret: interpret\n};\n\nexport const controllers = {\n  Controller: Controller,\n  BooleanController: BooleanController,\n  OptionController: OptionController,\n  StringController: StringController,\n  NumberController: NumberController,\n  NumberControllerBox: NumberControllerBox,\n  NumberControllerSlider: NumberControllerSlider,\n  FunctionController: FunctionController,\n  ColorController: ColorController\n};\n\nexport const dom = { dom: domImport };\n\nexport const gui = { GUI: GUIImport };\n\nexport const GUI = GUIImport;\n\nexport default {\n  color,\n  controllers,\n  dom,\n  gui,\n  GUI\n};\n","!function(e,t){\"object\"==typeof exports&&\"undefined\"!=typeof module?module.exports=t():\"function\"==typeof define&&define.amd?define(t):e.Stats=t()}(this,function(){\"use strict\";var c=function(){var n=0,l=document.createElement(\"div\");function e(e){return l.appendChild(e.dom),e}function t(e){for(var t=0;t<l.children.length;t++)l.children[t].style.display=t===e?\"block\":\"none\";n=e}l.style.cssText=\"position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000\",l.addEventListener(\"click\",function(e){e.preventDefault(),t(++n%l.children.length)},!1);var i=(performance||Date).now(),a=i,o=0,f=e(new c.Panel(\"FPS\",\"#0ff\",\"#002\")),r=e(new c.Panel(\"MS\",\"#0f0\",\"#020\"));if(self.performance&&self.performance.memory)var d=e(new c.Panel(\"MB\",\"#f08\",\"#201\"));return t(0),{REVISION:16,dom:l,addPanel:e,showPanel:t,begin:function(){i=(performance||Date).now()},end:function(){o++;var e=(performance||Date).now();if(r.update(e-i,200),a+1e3<=e&&(f.update(1e3*o/(e-a),100),a=e,o=0,d)){var t=performance.memory;d.update(t.usedJSHeapSize/1048576,t.jsHeapSizeLimit/1048576)}return e},update:function(){i=this.end()},domElement:l,setMode:t}};return c.Panel=function(n,l,i){var a=1/0,o=0,f=Math.round,r=f(window.devicePixelRatio||1),d=80*r,e=48*r,c=3*r,p=2*r,u=3*r,s=15*r,m=74*r,h=30*r,y=document.createElement(\"canvas\");y.width=d,y.height=e,y.style.cssText=\"width:80px;height:48px\";var v=y.getContext(\"2d\");return v.font=\"bold \"+9*r+\"px Helvetica,Arial,sans-serif\",v.textBaseline=\"top\",v.fillStyle=i,v.fillRect(0,0,d,e),v.fillStyle=l,v.fillText(n,c,p),v.fillRect(u,s,m,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u,s,m,h),{dom:y,update:function(e,t){a=Math.min(a,e),o=Math.max(o,e),v.fillStyle=i,v.globalAlpha=1,v.fillRect(0,0,d,s),v.fillStyle=l,v.fillText(f(e)+\" \"+n+\" (\"+f(a)+\"-\"+f(o)+\")\",c,p),v.drawImage(y,u+r,s,m-r,h,u,s,m-r,h),v.fillRect(u+m-r,s,r,h),v.fillStyle=i,v.globalAlpha=.9,v.fillRect(u+m-r,s,r,f((1-e/t)*h))}}},c});\n","// Polyfills\n\nif ( Number.EPSILON === undefined ) {\n\n\tNumber.EPSILON = Math.pow( 2, - 52 );\n\n}\n\nif ( Number.isInteger === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Number/isInteger\n\n\tNumber.isInteger = function ( value ) {\n\n\t\treturn typeof value === 'number' && isFinite( value ) && Math.floor( value ) === value;\n\n\t};\n\n}\n\n//\n\nif ( Math.sign === undefined ) {\n\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Math/sign\n\n\tMath.sign = function ( x ) {\n\n\t\treturn ( x < 0 ) ? - 1 : ( x > 0 ) ? 1 : + x;\n\n\t};\n\n}\n\nif ( 'name' in Function.prototype === false ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Function/name\n\n\tObject.defineProperty( Function.prototype, 'name', {\n\n\t\tget: function () {\n\n\t\t\treturn this.toString().match( /^\\s*function\\s*([^\\(\\s]*)/ )[ 1 ];\n\n\t\t}\n\n\t} );\n\n}\n\nif ( Object.assign === undefined ) {\n\n\t// Missing in IE\n\t// https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Object/assign\n\n\tObject.assign = function ( target ) {\n\n\t\tif ( target === undefined || target === null ) {\n\n\t\t\tthrow new TypeError( 'Cannot convert undefined or null to object' );\n\n\t\t}\n\n\t\tvar output = Object( target );\n\n\t\tfor ( var index = 1; index < arguments.length; index ++ ) {\n\n\t\t\tvar source = arguments[ index ];\n\n\t\t\tif ( source !== undefined && source !== null ) {\n\n\t\t\t\tfor ( var nextKey in source ) {\n\n\t\t\t\t\tif ( Object.prototype.hasOwnProperty.call( source, nextKey ) ) {\n\n\t\t\t\t\t\toutput[ nextKey ] = source[ nextKey ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn output;\n\n\t};\n\n}\n\nvar REVISION = '114';\nvar MOUSE = { LEFT: 0, MIDDLE: 1, RIGHT: 2, ROTATE: 0, DOLLY: 1, PAN: 2 };\nvar TOUCH = { ROTATE: 0, PAN: 1, DOLLY_PAN: 2, DOLLY_ROTATE: 3 };\nvar CullFaceNone = 0;\nvar CullFaceBack = 1;\nvar CullFaceFront = 2;\nvar CullFaceFrontBack = 3;\nvar FrontFaceDirectionCW = 0;\nvar FrontFaceDirectionCCW = 1;\nvar BasicShadowMap = 0;\nvar PCFShadowMap = 1;\nvar PCFSoftShadowMap = 2;\nvar VSMShadowMap = 3;\nvar FrontSide = 0;\nvar BackSide = 1;\nvar DoubleSide = 2;\nvar FlatShading = 1;\nvar SmoothShading = 2;\nvar NoBlending = 0;\nvar NormalBlending = 1;\nvar AdditiveBlending = 2;\nvar SubtractiveBlending = 3;\nvar MultiplyBlending = 4;\nvar CustomBlending = 5;\nvar AddEquation = 100;\nvar SubtractEquation = 101;\nvar ReverseSubtractEquation = 102;\nvar MinEquation = 103;\nvar MaxEquation = 104;\nvar ZeroFactor = 200;\nvar OneFactor = 201;\nvar SrcColorFactor = 202;\nvar OneMinusSrcColorFactor = 203;\nvar SrcAlphaFactor = 204;\nvar OneMinusSrcAlphaFactor = 205;\nvar DstAlphaFactor = 206;\nvar OneMinusDstAlphaFactor = 207;\nvar DstColorFactor = 208;\nvar OneMinusDstColorFactor = 209;\nvar SrcAlphaSaturateFactor = 210;\nvar NeverDepth = 0;\nvar AlwaysDepth = 1;\nvar LessDepth = 2;\nvar LessEqualDepth = 3;\nvar EqualDepth = 4;\nvar GreaterEqualDepth = 5;\nvar GreaterDepth = 6;\nvar NotEqualDepth = 7;\nvar MultiplyOperation = 0;\nvar MixOperation = 1;\nvar AddOperation = 2;\nvar NoToneMapping = 0;\nvar LinearToneMapping = 1;\nvar ReinhardToneMapping = 2;\nvar Uncharted2ToneMapping = 3;\nvar CineonToneMapping = 4;\nvar ACESFilmicToneMapping = 5;\n\nvar UVMapping = 300;\nvar CubeReflectionMapping = 301;\nvar CubeRefractionMapping = 302;\nvar EquirectangularReflectionMapping = 303;\nvar EquirectangularRefractionMapping = 304;\nvar SphericalReflectionMapping = 305;\nvar CubeUVReflectionMapping = 306;\nvar CubeUVRefractionMapping = 307;\nvar RepeatWrapping = 1000;\nvar ClampToEdgeWrapping = 1001;\nvar MirroredRepeatWrapping = 1002;\nvar NearestFilter = 1003;\nvar NearestMipmapNearestFilter = 1004;\nvar NearestMipMapNearestFilter = 1004;\nvar NearestMipmapLinearFilter = 1005;\nvar NearestMipMapLinearFilter = 1005;\nvar LinearFilter = 1006;\nvar LinearMipmapNearestFilter = 1007;\nvar LinearMipMapNearestFilter = 1007;\nvar LinearMipmapLinearFilter = 1008;\nvar LinearMipMapLinearFilter = 1008;\nvar UnsignedByteType = 1009;\nvar ByteType = 1010;\nvar ShortType = 1011;\nvar UnsignedShortType = 1012;\nvar IntType = 1013;\nvar UnsignedIntType = 1014;\nvar FloatType = 1015;\nvar HalfFloatType = 1016;\nvar UnsignedShort4444Type = 1017;\nvar UnsignedShort5551Type = 1018;\nvar UnsignedShort565Type = 1019;\nvar UnsignedInt248Type = 1020;\nvar AlphaFormat = 1021;\nvar RGBFormat = 1022;\nvar RGBAFormat = 1023;\nvar LuminanceFormat = 1024;\nvar LuminanceAlphaFormat = 1025;\nvar RGBEFormat = RGBAFormat;\nvar DepthFormat = 1026;\nvar DepthStencilFormat = 1027;\nvar RedFormat = 1028;\nvar RedIntegerFormat = 1029;\nvar RGFormat = 1030;\nvar RGIntegerFormat = 1031;\nvar RGBIntegerFormat = 1032;\nvar RGBAIntegerFormat = 1033;\n\nvar RGB_S3TC_DXT1_Format = 33776;\nvar RGBA_S3TC_DXT1_Format = 33777;\nvar RGBA_S3TC_DXT3_Format = 33778;\nvar RGBA_S3TC_DXT5_Format = 33779;\nvar RGB_PVRTC_4BPPV1_Format = 35840;\nvar RGB_PVRTC_2BPPV1_Format = 35841;\nvar RGBA_PVRTC_4BPPV1_Format = 35842;\nvar RGBA_PVRTC_2BPPV1_Format = 35843;\nvar RGB_ETC1_Format = 36196;\nvar RGB_ETC2_Format = 37492;\nvar RGBA_ETC2_EAC_Format = 37496;\nvar RGBA_ASTC_4x4_Format = 37808;\nvar RGBA_ASTC_5x4_Format = 37809;\nvar RGBA_ASTC_5x5_Format = 37810;\nvar RGBA_ASTC_6x5_Format = 37811;\nvar RGBA_ASTC_6x6_Format = 37812;\nvar RGBA_ASTC_8x5_Format = 37813;\nvar RGBA_ASTC_8x6_Format = 37814;\nvar RGBA_ASTC_8x8_Format = 37815;\nvar RGBA_ASTC_10x5_Format = 37816;\nvar RGBA_ASTC_10x6_Format = 37817;\nvar RGBA_ASTC_10x8_Format = 37818;\nvar RGBA_ASTC_10x10_Format = 37819;\nvar RGBA_ASTC_12x10_Format = 37820;\nvar RGBA_ASTC_12x12_Format = 37821;\nvar SRGB8_ALPHA8_ASTC_4x4_Format = 37840;\nvar SRGB8_ALPHA8_ASTC_5x4_Format = 37841;\nvar SRGB8_ALPHA8_ASTC_5x5_Format = 37842;\nvar SRGB8_ALPHA8_ASTC_6x5_Format = 37843;\nvar SRGB8_ALPHA8_ASTC_6x6_Format = 37844;\nvar SRGB8_ALPHA8_ASTC_8x5_Format = 37845;\nvar SRGB8_ALPHA8_ASTC_8x6_Format = 37846;\nvar SRGB8_ALPHA8_ASTC_8x8_Format = 37847;\nvar SRGB8_ALPHA8_ASTC_10x5_Format = 37848;\nvar SRGB8_ALPHA8_ASTC_10x6_Format = 37849;\nvar SRGB8_ALPHA8_ASTC_10x8_Format = 37850;\nvar SRGB8_ALPHA8_ASTC_10x10_Format = 37851;\nvar SRGB8_ALPHA8_ASTC_12x10_Format = 37852;\nvar SRGB8_ALPHA8_ASTC_12x12_Format = 37853;\nvar LoopOnce = 2200;\nvar LoopRepeat = 2201;\nvar LoopPingPong = 2202;\nvar InterpolateDiscrete = 2300;\nvar InterpolateLinear = 2301;\nvar InterpolateSmooth = 2302;\nvar ZeroCurvatureEnding = 2400;\nvar ZeroSlopeEnding = 2401;\nvar WrapAroundEnding = 2402;\nvar TrianglesDrawMode = 0;\nvar TriangleStripDrawMode = 1;\nvar TriangleFanDrawMode = 2;\nvar LinearEncoding = 3000;\nvar sRGBEncoding = 3001;\nvar GammaEncoding = 3007;\nvar RGBEEncoding = 3002;\nvar LogLuvEncoding = 3003;\nvar RGBM7Encoding = 3004;\nvar RGBM16Encoding = 3005;\nvar RGBDEncoding = 3006;\nvar BasicDepthPacking = 3200;\nvar RGBADepthPacking = 3201;\nvar TangentSpaceNormalMap = 0;\nvar ObjectSpaceNormalMap = 1;\n\nvar ZeroStencilOp = 0;\nvar KeepStencilOp = 7680;\nvar ReplaceStencilOp = 7681;\nvar IncrementStencilOp = 7682;\nvar DecrementStencilOp = 7683;\nvar IncrementWrapStencilOp = 34055;\nvar DecrementWrapStencilOp = 34056;\nvar InvertStencilOp = 5386;\n\nvar NeverStencilFunc = 512;\nvar LessStencilFunc = 513;\nvar EqualStencilFunc = 514;\nvar LessEqualStencilFunc = 515;\nvar GreaterStencilFunc = 516;\nvar NotEqualStencilFunc = 517;\nvar GreaterEqualStencilFunc = 518;\nvar AlwaysStencilFunc = 519;\n\nvar StaticDrawUsage = 35044;\nvar DynamicDrawUsage = 35048;\nvar StreamDrawUsage = 35040;\nvar StaticReadUsage = 35045;\nvar DynamicReadUsage = 35049;\nvar StreamReadUsage = 35041;\nvar StaticCopyUsage = 35046;\nvar DynamicCopyUsage = 35050;\nvar StreamCopyUsage = 35042;\n\n/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\n\nfunction EventDispatcher() {}\n\nObject.assign( EventDispatcher.prototype, {\n\n\taddEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tvar listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t},\n\n\thasEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tvar listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t},\n\n\tremoveEventListener: function ( type, listener ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tvar index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tdispatchEvent: function ( event ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tvar listeners = this._listeners;\n\t\tvar listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\tvar array = listenerArray.slice( 0 );\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author thezwap\n */\n\nvar _lut = [];\n\nfor ( var i = 0; i < 256; i ++ ) {\n\n\t_lut[ i ] = ( i < 16 ? '0' : '' ) + ( i ).toString( 16 );\n\n}\n\nvar MathUtils = {\n\n\tDEG2RAD: Math.PI / 180,\n\tRAD2DEG: 180 / Math.PI,\n\n\tgenerateUUID: function () {\n\n\t\t// http://stackoverflow.com/questions/105034/how-to-create-a-guid-uuid-in-javascript/21963136#21963136\n\n\t\tvar d0 = Math.random() * 0xffffffff | 0;\n\t\tvar d1 = Math.random() * 0xffffffff | 0;\n\t\tvar d2 = Math.random() * 0xffffffff | 0;\n\t\tvar d3 = Math.random() * 0xffffffff | 0;\n\t\tvar uuid = _lut[ d0 & 0xff ] + _lut[ d0 >> 8 & 0xff ] + _lut[ d0 >> 16 & 0xff ] + _lut[ d0 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d1 & 0xff ] + _lut[ d1 >> 8 & 0xff ] + '-' + _lut[ d1 >> 16 & 0x0f | 0x40 ] + _lut[ d1 >> 24 & 0xff ] + '-' +\n\t\t\t_lut[ d2 & 0x3f | 0x80 ] + _lut[ d2 >> 8 & 0xff ] + '-' + _lut[ d2 >> 16 & 0xff ] + _lut[ d2 >> 24 & 0xff ] +\n\t\t\t_lut[ d3 & 0xff ] + _lut[ d3 >> 8 & 0xff ] + _lut[ d3 >> 16 & 0xff ] + _lut[ d3 >> 24 & 0xff ];\n\n\t\t// .toUpperCase() here flattens concatenated strings to save heap memory space.\n\t\treturn uuid.toUpperCase();\n\n\t},\n\n\tclamp: function ( value, min, max ) {\n\n\t\treturn Math.max( min, Math.min( max, value ) );\n\n\t},\n\n\t// compute euclidian modulo of m % n\n\t// https://en.wikipedia.org/wiki/Modulo_operation\n\n\teuclideanModulo: function ( n, m ) {\n\n\t\treturn ( ( n % m ) + m ) % m;\n\n\t},\n\n\t// Linear mapping from range <a1, a2> to range <b1, b2>\n\n\tmapLinear: function ( x, a1, a2, b1, b2 ) {\n\n\t\treturn b1 + ( x - a1 ) * ( b2 - b1 ) / ( a2 - a1 );\n\n\t},\n\n\t// https://en.wikipedia.org/wiki/Linear_interpolation\n\n\tlerp: function ( x, y, t ) {\n\n\t\treturn ( 1 - t ) * x + t * y;\n\n\t},\n\n\t// http://en.wikipedia.org/wiki/Smoothstep\n\n\tsmoothstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * ( 3 - 2 * x );\n\n\t},\n\n\tsmootherstep: function ( x, min, max ) {\n\n\t\tif ( x <= min ) return 0;\n\t\tif ( x >= max ) return 1;\n\n\t\tx = ( x - min ) / ( max - min );\n\n\t\treturn x * x * x * ( x * ( x * 6 - 15 ) + 10 );\n\n\t},\n\n\t// Random integer from <low, high> interval\n\n\trandInt: function ( low, high ) {\n\n\t\treturn low + Math.floor( Math.random() * ( high - low + 1 ) );\n\n\t},\n\n\t// Random float from <low, high> interval\n\n\trandFloat: function ( low, high ) {\n\n\t\treturn low + Math.random() * ( high - low );\n\n\t},\n\n\t// Random float from <-range/2, range/2> interval\n\n\trandFloatSpread: function ( range ) {\n\n\t\treturn range * ( 0.5 - Math.random() );\n\n\t},\n\n\tdegToRad: function ( degrees ) {\n\n\t\treturn degrees * MathUtils.DEG2RAD;\n\n\t},\n\n\tradToDeg: function ( radians ) {\n\n\t\treturn radians * MathUtils.RAD2DEG;\n\n\t},\n\n\tisPowerOfTwo: function ( value ) {\n\n\t\treturn ( value & ( value - 1 ) ) === 0 && value !== 0;\n\n\t},\n\n\tceilPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.ceil( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tfloorPowerOfTwo: function ( value ) {\n\n\t\treturn Math.pow( 2, Math.floor( Math.log( value ) / Math.LN2 ) );\n\n\t},\n\n\tsetQuaternionFromProperEuler: function ( q, a, b, c, order ) {\n\n\t\t// Intrinsic Proper Euler Angles - see https://en.wikipedia.org/wiki/Euler_angles\n\n\t\t// rotations are applied to the axes in the order specified by 'order'\n\t\t// rotation by angle 'a' is applied first, then by angle 'b', then by angle 'c'\n\t\t// angles are in radians\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c2 = cos( b / 2 );\n\t\tvar s2 = sin( b / 2 );\n\n\t\tvar c13 = cos( ( a + c ) / 2 );\n\t\tvar s13 = sin( ( a + c ) / 2 );\n\n\t\tvar c1_3 = cos( ( a - c ) / 2 );\n\t\tvar s1_3 = sin( ( a - c ) / 2 );\n\n\t\tvar c3_1 = cos( ( c - a ) / 2 );\n\t\tvar s3_1 = sin( ( c - a ) / 2 );\n\n\t\tif ( order === 'XYX' ) {\n\n\t\t\tq.set( c2 * s13, s2 * c1_3, s2 * s1_3, c2 * c13 );\n\n\t\t} else if ( order === 'YZY' ) {\n\n\t\t\tq.set( s2 * s1_3, c2 * s13, s2 * c1_3, c2 * c13 );\n\n\t\t} else if ( order === 'ZXZ' ) {\n\n\t\t\tq.set( s2 * c1_3, s2 * s1_3, c2 * s13, c2 * c13 );\n\n\t\t} else if ( order === 'XZX' ) {\n\n\t\t\tq.set( c2 * s13, s2 * s3_1, s2 * c3_1, c2 * c13 );\n\n\t\t} else if ( order === 'YXY' ) {\n\n\t\t\tq.set( s2 * c3_1, c2 * s13, s2 * s3_1, c2 * c13 );\n\n\t\t} else if ( order === 'ZYZ' ) {\n\n\t\t\tq.set( s2 * s3_1, s2 * c3_1, c2 * s13, c2 * c13 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order.' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author philogb / http://blog.thejit.org/\n * @author egraether / http://egraether.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nfunction Vector2( x, y ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\n}\n\nObject.defineProperties( Vector2.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.x = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.y = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tisVector2: true,\n\n\tset: function ( x, y ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v ) {\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ];\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ];\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y;\n\n\t},\n\n\tcross: function ( v ) {\n\n\t\treturn this.x * v.y - this.y * v.x;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tangle: function () {\n\n\t\t// computes the angle in radians with respect to the positive x-axis\n\n\t\tvar angle = Math.atan2( - this.y, - this.x ) + Math.PI;\n\n\t\treturn angle;\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y;\n\t\treturn dx * dx + dy * dy;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector2: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\n\t\treturn this;\n\n\t},\n\n\trotateAround: function ( center, angle ) {\n\n\t\tvar c = Math.cos( angle ), s = Math.sin( angle );\n\n\t\tvar x = this.x - center.x;\n\t\tvar y = this.y - center.y;\n\n\t\tthis.x = x * c - y * s + center.x;\n\t\tthis.y = x * s + y * c + center.y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n * @author tschw\n */\n\nfunction Matrix3() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0,\n\t\t0, 1, 0,\n\t\t0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix3: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix3.prototype, {\n\n\tisMatrix3: true,\n\n\tset: function ( n11, n12, n13, n21, n22, n23, n31, n32, n33 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 1 ] = n21; te[ 2 ] = n31;\n\t\tte[ 3 ] = n12; te[ 4 ] = n22; te[ 5 ] = n32;\n\t\tte[ 6 ] = n13; te[ 7 ] = n23; te[ 8 ] = n33;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0,\n\t\t\t0, 1, 0,\n\t\t\t0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ];\n\t\tte[ 3 ] = me[ 3 ]; te[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ];\n\t\tte[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ]; te[ 8 ] = me[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrix3Column( this, 0 );\n\t\tyAxis.setFromMatrix3Column( this, 1 );\n\t\tzAxis.setFromMatrix3Column( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrix4: function ( m ) {\n\n\t\tvar me = m.elements;\n\n\t\tthis.set(\n\n\t\t\tme[ 0 ], me[ 4 ], me[ 8 ],\n\t\t\tme[ 1 ], me[ 5 ], me[ 9 ],\n\t\t\tme[ 2 ], me[ 6 ], me[ 10 ]\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 3 ], a13 = ae[ 6 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 4 ], a23 = ae[ 7 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 5 ], a33 = ae[ 8 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 3 ], b13 = be[ 6 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 4 ], b23 = be[ 7 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 5 ], b33 = be[ 8 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31;\n\t\tte[ 3 ] = a11 * b12 + a12 * b22 + a13 * b32;\n\t\tte[ 6 ] = a11 * b13 + a12 * b23 + a13 * b33;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31;\n\t\tte[ 4 ] = a21 * b12 + a22 * b22 + a23 * b32;\n\t\tte[ 7 ] = a21 * b13 + a22 * b23 + a23 * b33;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31;\n\t\tte[ 5 ] = a31 * b12 + a32 * b22 + a33 * b32;\n\t\tte[ 8 ] = a31 * b13 + a32 * b23 + a33 * b33;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 3 ] *= s; te[ 6 ] *= s;\n\t\tte[ 1 ] *= s; te[ 4 ] *= s; te[ 7 ] *= s;\n\t\tte[ 2 ] *= s; te[ 5 ] *= s; te[ 8 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar a = te[ 0 ], b = te[ 1 ], c = te[ 2 ],\n\t\t\td = te[ 3 ], e = te[ 4 ], f = te[ 5 ],\n\t\t\tg = te[ 6 ], h = te[ 7 ], i = te[ 8 ];\n\n\t\treturn a * e * i - a * f * h - b * d * i + b * f * g + c * d * h - c * e * g;\n\n\t},\n\n\tgetInverse: function ( matrix, throwOnDegenerate ) {\n\n\t\tif ( matrix && matrix.isMatrix4 ) {\n\n\t\t\tconsole.error( \"THREE.Matrix3: .getInverse() no longer takes a Matrix4 argument.\" );\n\n\t\t}\n\n\t\tvar me = matrix.elements,\n\t\t\tte = this.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ],\n\t\t\tn12 = me[ 3 ], n22 = me[ 4 ], n32 = me[ 5 ],\n\t\t\tn13 = me[ 6 ], n23 = me[ 7 ], n33 = me[ 8 ],\n\n\t\t\tt11 = n33 * n22 - n32 * n23,\n\t\t\tt12 = n32 * n13 - n33 * n12,\n\t\t\tt13 = n23 * n12 - n22 * n13,\n\n\t\t\tdet = n11 * t11 + n21 * t12 + n31 * t13;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix3: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n31 * n23 - n33 * n21 ) * detInv;\n\t\tte[ 2 ] = ( n32 * n21 - n31 * n22 ) * detInv;\n\n\t\tte[ 3 ] = t12 * detInv;\n\t\tte[ 4 ] = ( n33 * n11 - n31 * n13 ) * detInv;\n\t\tte[ 5 ] = ( n31 * n12 - n32 * n11 ) * detInv;\n\n\t\tte[ 6 ] = t13 * detInv;\n\t\tte[ 7 ] = ( n21 * n13 - n23 * n11 ) * detInv;\n\t\tte[ 8 ] = ( n22 * n11 - n21 * n12 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar tmp, m = this.elements;\n\n\t\ttmp = m[ 1 ]; m[ 1 ] = m[ 3 ]; m[ 3 ] = tmp;\n\t\ttmp = m[ 2 ]; m[ 2 ] = m[ 6 ]; m[ 6 ] = tmp;\n\t\ttmp = m[ 5 ]; m[ 5 ] = m[ 7 ]; m[ 7 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tgetNormalMatrix: function ( matrix4 ) {\n\n\t\treturn this.setFromMatrix4( matrix4 ).getInverse( this ).transpose();\n\n\t},\n\n\ttransposeIntoArray: function ( r ) {\n\n\t\tvar m = this.elements;\n\n\t\tr[ 0 ] = m[ 0 ];\n\t\tr[ 1 ] = m[ 3 ];\n\t\tr[ 2 ] = m[ 6 ];\n\t\tr[ 3 ] = m[ 1 ];\n\t\tr[ 4 ] = m[ 4 ];\n\t\tr[ 5 ] = m[ 7 ];\n\t\tr[ 6 ] = m[ 2 ];\n\t\tr[ 7 ] = m[ 5 ];\n\t\tr[ 8 ] = m[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetUvTransform: function ( tx, ty, sx, sy, rotation, cx, cy ) {\n\n\t\tvar c = Math.cos( rotation );\n\t\tvar s = Math.sin( rotation );\n\n\t\tthis.set(\n\t\t\tsx * c, sx * s, - sx * ( c * cx + s * cy ) + cx + tx,\n\t\t\t- sy * s, sy * c, - sy * ( - s * cx + c * cy ) + cy + ty,\n\t\t\t0, 0, 1\n\t\t);\n\n\t},\n\n\tscale: function ( sx, sy ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= sx; te[ 3 ] *= sx; te[ 6 ] *= sx;\n\t\tte[ 1 ] *= sy; te[ 4 ] *= sy; te[ 7 ] *= sy;\n\n\t\treturn this;\n\n\t},\n\n\trotate: function ( theta ) {\n\n\t\tvar c = Math.cos( theta );\n\t\tvar s = Math.sin( theta );\n\n\t\tvar te = this.elements;\n\n\t\tvar a11 = te[ 0 ], a12 = te[ 3 ], a13 = te[ 6 ];\n\t\tvar a21 = te[ 1 ], a22 = te[ 4 ], a23 = te[ 7 ];\n\n\t\tte[ 0 ] = c * a11 + s * a21;\n\t\tte[ 3 ] = c * a12 + s * a22;\n\t\tte[ 6 ] = c * a13 + s * a23;\n\n\t\tte[ 1 ] = - s * a11 + c * a21;\n\t\tte[ 4 ] = - s * a12 + c * a22;\n\t\tte[ 7 ] = - s * a13 + c * a23;\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( tx, ty ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] += tx * te[ 2 ]; te[ 3 ] += tx * te[ 5 ]; te[ 6 ] += tx * te[ 8 ];\n\t\tte[ 1 ] += ty * te[ 2 ]; te[ 4 ] += ty * te[ 5 ]; te[ 7 ] += ty * te[ 8 ];\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar _canvas;\n\nvar ImageUtils = {\n\n\tgetDataURL: function ( image ) {\n\n\t\tvar canvas;\n\n\t\tif ( typeof HTMLCanvasElement == 'undefined' ) {\n\n\t\t\treturn image.src;\n\n\t\t} else if ( image instanceof HTMLCanvasElement ) {\n\n\t\t\tcanvas = image;\n\n\t\t} else {\n\n\t\t\tif ( _canvas === undefined ) _canvas = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t\t\t_canvas.width = image.width;\n\t\t\t_canvas.height = image.height;\n\n\t\t\tvar context = _canvas.getContext( '2d' );\n\n\t\t\tif ( image instanceof ImageData ) {\n\n\t\t\t\tcontext.putImageData( image, 0, 0 );\n\n\t\t\t} else {\n\n\t\t\t\tcontext.drawImage( image, 0, 0, image.width, image.height );\n\n\t\t\t}\n\n\t\t\tcanvas = _canvas;\n\n\t\t}\n\n\t\tif ( canvas.width > 2048 || canvas.height > 2048 ) {\n\n\t\t\treturn canvas.toDataURL( 'image/jpeg', 0.6 );\n\n\t\t} else {\n\n\t\t\treturn canvas.toDataURL( 'image/png' );\n\n\t\t}\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n */\n\nvar textureId = 0;\n\nfunction Texture( image, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\tObject.defineProperty( this, 'id', { value: textureId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\n\tthis.image = image !== undefined ? image : Texture.DEFAULT_IMAGE;\n\tthis.mipmaps = [];\n\n\tthis.mapping = mapping !== undefined ? mapping : Texture.DEFAULT_MAPPING;\n\n\tthis.wrapS = wrapS !== undefined ? wrapS : ClampToEdgeWrapping;\n\tthis.wrapT = wrapT !== undefined ? wrapT : ClampToEdgeWrapping;\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearMipmapLinearFilter;\n\n\tthis.anisotropy = anisotropy !== undefined ? anisotropy : 1;\n\n\tthis.format = format !== undefined ? format : RGBAFormat;\n\tthis.internalFormat = null;\n\tthis.type = type !== undefined ? type : UnsignedByteType;\n\n\tthis.offset = new Vector2( 0, 0 );\n\tthis.repeat = new Vector2( 1, 1 );\n\tthis.center = new Vector2( 0, 0 );\n\tthis.rotation = 0;\n\n\tthis.matrixAutoUpdate = true;\n\tthis.matrix = new Matrix3();\n\n\tthis.generateMipmaps = true;\n\tthis.premultiplyAlpha = false;\n\tthis.flipY = true;\n\tthis.unpackAlignment = 4;\t// valid values: 1, 2, 4, 8 (see http://www.khronos.org/opengles/sdk/docs/man/xhtml/glPixelStorei.xml)\n\n\t// Values of encoding !== THREE.LinearEncoding only supported on map, envMap and emissiveMap.\n\t//\n\t// Also changing the encoding after already used by a Material will not automatically make the Material\n\t// update. You need to explicitly call Material.needsUpdate to trigger it to recompile.\n\tthis.encoding = encoding !== undefined ? encoding : LinearEncoding;\n\n\tthis.version = 0;\n\tthis.onUpdate = null;\n\n}\n\nTexture.DEFAULT_IMAGE = undefined;\nTexture.DEFAULT_MAPPING = UVMapping;\n\nTexture.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Texture,\n\n\tisTexture: true,\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.setUvTransform( this.offset.x, this.offset.y, this.repeat.x, this.repeat.y, this.rotation, this.center.x, this.center.y );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.image = source.image;\n\t\tthis.mipmaps = source.mipmaps.slice( 0 );\n\n\t\tthis.mapping = source.mapping;\n\n\t\tthis.wrapS = source.wrapS;\n\t\tthis.wrapT = source.wrapT;\n\n\t\tthis.magFilter = source.magFilter;\n\t\tthis.minFilter = source.minFilter;\n\n\t\tthis.anisotropy = source.anisotropy;\n\n\t\tthis.format = source.format;\n\t\tthis.internalFormat = source.internalFormat;\n\t\tthis.type = source.type;\n\n\t\tthis.offset.copy( source.offset );\n\t\tthis.repeat.copy( source.repeat );\n\t\tthis.center.copy( source.center );\n\t\tthis.rotation = source.rotation;\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrix.copy( source.matrix );\n\n\t\tthis.generateMipmaps = source.generateMipmaps;\n\t\tthis.premultiplyAlpha = source.premultiplyAlpha;\n\t\tthis.flipY = source.flipY;\n\t\tthis.unpackAlignment = source.unpackAlignment;\n\t\tthis.encoding = source.encoding;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( ! isRootObject && meta.textures[ this.uuid ] !== undefined ) {\n\n\t\t\treturn meta.textures[ this.uuid ];\n\n\t\t}\n\n\t\tvar output = {\n\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Texture',\n\t\t\t\tgenerator: 'Texture.toJSON'\n\t\t\t},\n\n\t\t\tuuid: this.uuid,\n\t\t\tname: this.name,\n\n\t\t\tmapping: this.mapping,\n\n\t\t\trepeat: [ this.repeat.x, this.repeat.y ],\n\t\t\toffset: [ this.offset.x, this.offset.y ],\n\t\t\tcenter: [ this.center.x, this.center.y ],\n\t\t\trotation: this.rotation,\n\n\t\t\twrap: [ this.wrapS, this.wrapT ],\n\n\t\t\tformat: this.format,\n\t\t\ttype: this.type,\n\t\t\tencoding: this.encoding,\n\n\t\t\tminFilter: this.minFilter,\n\t\t\tmagFilter: this.magFilter,\n\t\t\tanisotropy: this.anisotropy,\n\n\t\t\tflipY: this.flipY,\n\n\t\t\tpremultiplyAlpha: this.premultiplyAlpha,\n\t\t\tunpackAlignment: this.unpackAlignment\n\n\t\t};\n\n\t\tif ( this.image !== undefined ) {\n\n\t\t\t// TODO: Move to THREE.Image\n\n\t\t\tvar image = this.image;\n\n\t\t\tif ( image.uuid === undefined ) {\n\n\t\t\t\timage.uuid = MathUtils.generateUUID(); // UGH\n\n\t\t\t}\n\n\t\t\tif ( ! isRootObject && meta.images[ image.uuid ] === undefined ) {\n\n\t\t\t\tvar url;\n\n\t\t\t\tif ( Array.isArray( image ) ) {\n\n\t\t\t\t\t// process array of images e.g. CubeTexture\n\n\t\t\t\t\turl = [];\n\n\t\t\t\t\tfor ( var i = 0, l = image.length; i < l; i ++ ) {\n\n\t\t\t\t\t\turl.push( ImageUtils.getDataURL( image[ i ] ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// process single image\n\n\t\t\t\t\turl = ImageUtils.getDataURL( image );\n\n\t\t\t\t}\n\n\t\t\t\tmeta.images[ image.uuid ] = {\n\t\t\t\t\tuuid: image.uuid,\n\t\t\t\t\turl: url\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\toutput.image = image.uuid;\n\n\t\t}\n\n\t\tif ( ! isRootObject ) {\n\n\t\t\tmeta.textures[ this.uuid ] = output;\n\n\t\t}\n\n\t\treturn output;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t},\n\n\ttransformUv: function ( uv ) {\n\n\t\tif ( this.mapping !== UVMapping ) return uv;\n\n\t\tuv.applyMatrix3( this.matrix );\n\n\t\tif ( uv.x < 0 || uv.x > 1 ) {\n\n\t\t\tswitch ( this.wrapS ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.x = uv.x < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.x ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.x = Math.ceil( uv.x ) - uv.x;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.x = uv.x - Math.floor( uv.x );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( uv.y < 0 || uv.y > 1 ) {\n\n\t\t\tswitch ( this.wrapT ) {\n\n\t\t\t\tcase RepeatWrapping:\n\n\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase ClampToEdgeWrapping:\n\n\t\t\t\t\tuv.y = uv.y < 0 ? 0 : 1;\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase MirroredRepeatWrapping:\n\n\t\t\t\t\tif ( Math.abs( Math.floor( uv.y ) % 2 ) === 1 ) {\n\n\t\t\t\t\t\tuv.y = Math.ceil( uv.y ) - uv.y;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tuv.y = uv.y - Math.floor( uv.y );\n\n\t\t\t\t\t}\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.flipY ) {\n\n\t\t\tuv.y = 1 - uv.y;\n\n\t\t}\n\n\t\treturn uv;\n\n\t}\n\n} );\n\nObject.defineProperty( Texture.prototype, \"needsUpdate\", {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Vector4( x, y, z, w ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\tthis.w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.defineProperties( Vector4.prototype, {\n\n\t\"width\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.z = value;\n\n\t\t}\n\n\t},\n\n\t\"height\": {\n\n\t\tget: function () {\n\n\t\t\treturn this.w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis.w = value;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tisVector4: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\t\tthis.w = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( w ) {\n\n\t\tthis.w = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tcase 3: this.w = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tcase 3: return this.w;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z, this.w );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\t\tthis.w = ( v.w !== undefined ) ? v.w : 1;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\t\tthis.w += v.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\t\tthis.w += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\t\tthis.w = a.w + b.w;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\t\tthis.w += v.w * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\t\tthis.w -= v.w;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\t\tthis.w -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\t\tthis.w = a.w - b.w;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\t\tthis.w *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z, w = this.w;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] * w;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] * w;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] * w;\n\t\tthis.w = e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] * w;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tsetAxisAngleFromQuaternion: function ( q ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/quaternionToAngle/index.htm\n\n\t\t// q is assumed to be normalized\n\n\t\tthis.w = 2 * Math.acos( q.w );\n\n\t\tvar s = Math.sqrt( 1 - q.w * q.w );\n\n\t\tif ( s < 0.0001 ) {\n\n\t\t\tthis.x = 1;\n\t\t\tthis.y = 0;\n\t\t\tthis.z = 0;\n\n\t\t} else {\n\n\t\t\tthis.x = q.x / s;\n\t\t\tthis.y = q.y / s;\n\t\t\tthis.z = q.z / s;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetAxisAngleFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToAngle/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar angle, x, y, z,\t\t// variables for result\n\t\t\tepsilon = 0.01,\t\t// margin to allow for rounding errors\n\t\t\tepsilon2 = 0.1,\t\t// margin to distinguish between 0 and 180 degrees\n\n\t\t\tte = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\tif ( ( Math.abs( m12 - m21 ) < epsilon ) &&\n\t\t     ( Math.abs( m13 - m31 ) < epsilon ) &&\n\t\t     ( Math.abs( m23 - m32 ) < epsilon ) ) {\n\n\t\t\t// singularity found\n\t\t\t// first check for identity matrix which must have +1 for all terms\n\t\t\t// in leading diagonal and zero in other terms\n\n\t\t\tif ( ( Math.abs( m12 + m21 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m13 + m31 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m23 + m32 ) < epsilon2 ) &&\n\t\t\t     ( Math.abs( m11 + m22 + m33 - 3 ) < epsilon2 ) ) {\n\n\t\t\t\t// this singularity is identity matrix so angle = 0\n\n\t\t\t\tthis.set( 1, 0, 0, 0 );\n\n\t\t\t\treturn this; // zero angle, arbitrary axis\n\n\t\t\t}\n\n\t\t\t// otherwise this singularity is angle = 180\n\n\t\t\tangle = Math.PI;\n\n\t\t\tvar xx = ( m11 + 1 ) / 2;\n\t\t\tvar yy = ( m22 + 1 ) / 2;\n\t\t\tvar zz = ( m33 + 1 ) / 2;\n\t\t\tvar xy = ( m12 + m21 ) / 4;\n\t\t\tvar xz = ( m13 + m31 ) / 4;\n\t\t\tvar yz = ( m23 + m32 ) / 4;\n\n\t\t\tif ( ( xx > yy ) && ( xx > zz ) ) {\n\n\t\t\t\t// m11 is the largest diagonal term\n\n\t\t\t\tif ( xx < epsilon ) {\n\n\t\t\t\t\tx = 0;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tx = Math.sqrt( xx );\n\t\t\t\t\ty = xy / x;\n\t\t\t\t\tz = xz / x;\n\n\t\t\t\t}\n\n\t\t\t} else if ( yy > zz ) {\n\n\t\t\t\t// m22 is the largest diagonal term\n\n\t\t\t\tif ( yy < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0;\n\t\t\t\t\tz = 0.707106781;\n\n\t\t\t\t} else {\n\n\t\t\t\t\ty = Math.sqrt( yy );\n\t\t\t\t\tx = xy / y;\n\t\t\t\t\tz = yz / y;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// m33 is the largest diagonal term so base result on this\n\n\t\t\t\tif ( zz < epsilon ) {\n\n\t\t\t\t\tx = 0.707106781;\n\t\t\t\t\ty = 0.707106781;\n\t\t\t\t\tz = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tz = Math.sqrt( zz );\n\t\t\t\t\tx = xz / z;\n\t\t\t\t\ty = yz / z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.set( x, y, z, angle );\n\n\t\t\treturn this; // return 180 deg rotation\n\n\t\t}\n\n\t\t// as we have reached here there are no singularities so we can handle normally\n\n\t\tvar s = Math.sqrt( ( m32 - m23 ) * ( m32 - m23 ) +\n\t\t                   ( m13 - m31 ) * ( m13 - m31 ) +\n\t\t                   ( m21 - m12 ) * ( m21 - m12 ) ); // used to normalize\n\n\t\tif ( Math.abs( s ) < 0.001 ) s = 1;\n\n\t\t// prevent divide by zero, should not happen if matrix is orthogonal and should be\n\t\t// caught by singularity test above, but I've left it in just in case\n\n\t\tthis.x = ( m32 - m23 ) / s;\n\t\tthis.y = ( m13 - m31 ) / s;\n\t\tthis.z = ( m21 - m12 ) / s;\n\t\tthis.w = Math.acos( ( m11 + m22 + m33 - 1 ) / 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\t\tthis.w = Math.min( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\t\tthis.w = Math.max( this.w, v.w );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\t\tthis.w = Math.max( min.w, Math.min( max.w, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\t\tthis.w = Math.max( minVal, Math.min( maxVal, this.w ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\t\tthis.w = Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\t\tthis.w = Math.ceil( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\t\tthis.w = Math.round( this.w );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\t\tthis.w = ( this.w < 0 ) ? Math.ceil( this.w ) : Math.floor( this.w );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\t\tthis.w = - this.w;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z + this.w * v.w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z + this.w * this.w );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z ) + Math.abs( this.w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\t\tthis.w += ( v.w - this.w ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) && ( v.w === this.w ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\t\tthis.w = array[ offset + 3 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\t\tarray[ offset + 3 ] = this.w;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector4: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\t\tthis.w = attribute.getW( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author szimek / https://github.com/szimek/\n * @author alteredq / http://alteredqualia.com/\n * @author Marius Kintel / https://github.com/kintel\n */\n\n/*\n In options, we can specify:\n * Texture parameters for an auto-generated target texture\n * depthBuffer/stencilBuffer: Booleans to indicate if we should generate these buffers\n*/\nfunction WebGLRenderTarget( width, height, options ) {\n\n\tthis.width = width;\n\tthis.height = height;\n\n\tthis.scissor = new Vector4( 0, 0, width, height );\n\tthis.scissorTest = false;\n\n\tthis.viewport = new Vector4( 0, 0, width, height );\n\n\toptions = options || {};\n\n\tthis.texture = new Texture( undefined, options.mapping, options.wrapS, options.wrapT, options.magFilter, options.minFilter, options.format, options.type, options.anisotropy, options.encoding );\n\n\tthis.texture.image = {};\n\tthis.texture.image.width = width;\n\tthis.texture.image.height = height;\n\n\tthis.texture.generateMipmaps = options.generateMipmaps !== undefined ? options.generateMipmaps : false;\n\tthis.texture.minFilter = options.minFilter !== undefined ? options.minFilter : LinearFilter;\n\n\tthis.depthBuffer = options.depthBuffer !== undefined ? options.depthBuffer : true;\n\tthis.stencilBuffer = options.stencilBuffer !== undefined ? options.stencilBuffer : true;\n\tthis.depthTexture = options.depthTexture !== undefined ? options.depthTexture : null;\n\n}\n\nWebGLRenderTarget.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: WebGLRenderTarget,\n\n\tisWebGLRenderTarget: true,\n\n\tsetSize: function ( width, height ) {\n\n\t\tif ( this.width !== width || this.height !== height ) {\n\n\t\t\tthis.width = width;\n\t\t\tthis.height = height;\n\n\t\t\tthis.texture.image.width = width;\n\t\t\tthis.texture.image.height = height;\n\n\t\t\tthis.dispose();\n\n\t\t}\n\n\t\tthis.viewport.set( 0, 0, width, height );\n\t\tthis.scissor.set( 0, 0, width, height );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\tthis.viewport.copy( source.viewport );\n\n\t\tthis.texture = source.texture.clone();\n\n\t\tthis.depthBuffer = source.depthBuffer;\n\t\tthis.stencilBuffer = source.stencilBuffer;\n\t\tthis.depthTexture = source.depthTexture;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * @author Matt DesLauriers / @mattdesl\n */\n\nfunction WebGLMultisampleRenderTarget( width, height, options ) {\n\n\tWebGLRenderTarget.call( this, width, height, options );\n\n\tthis.samples = 4;\n\n}\n\nWebGLMultisampleRenderTarget.prototype = Object.assign( Object.create( WebGLRenderTarget.prototype ), {\n\n\tconstructor: WebGLMultisampleRenderTarget,\n\n\tisWebGLMultisampleRenderTarget: true,\n\n\tcopy: function ( source ) {\n\n\t\tWebGLRenderTarget.prototype.copy.call( this, source );\n\n\t\tthis.samples = source.samples;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nfunction Quaternion( x, y, z, w ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._w = ( w !== undefined ) ? w : 1;\n\n}\n\nObject.assign( Quaternion, {\n\n\tslerp: function ( qa, qb, qm, t ) {\n\n\t\treturn qm.copy( qa ).slerp( qb, t );\n\n\t},\n\n\tslerpFlat: function ( dst, dstOffset, src0, srcOffset0, src1, srcOffset1, t ) {\n\n\t\t// fuzz-free, array-based Quaternion SLERP operation\n\n\t\tvar x0 = src0[ srcOffset0 + 0 ],\n\t\t\ty0 = src0[ srcOffset0 + 1 ],\n\t\t\tz0 = src0[ srcOffset0 + 2 ],\n\t\t\tw0 = src0[ srcOffset0 + 3 ],\n\n\t\t\tx1 = src1[ srcOffset1 + 0 ],\n\t\t\ty1 = src1[ srcOffset1 + 1 ],\n\t\t\tz1 = src1[ srcOffset1 + 2 ],\n\t\t\tw1 = src1[ srcOffset1 + 3 ];\n\n\t\tif ( w0 !== w1 || x0 !== x1 || y0 !== y1 || z0 !== z1 ) {\n\n\t\t\tvar s = 1 - t,\n\n\t\t\t\tcos = x0 * x1 + y0 * y1 + z0 * z1 + w0 * w1,\n\n\t\t\t\tdir = ( cos >= 0 ? 1 : - 1 ),\n\t\t\t\tsqrSin = 1 - cos * cos;\n\n\t\t\t// Skip the Slerp for tiny steps to avoid numeric problems:\n\t\t\tif ( sqrSin > Number.EPSILON ) {\n\n\t\t\t\tvar sin = Math.sqrt( sqrSin ),\n\t\t\t\t\tlen = Math.atan2( sin, cos * dir );\n\n\t\t\t\ts = Math.sin( s * len ) / sin;\n\t\t\t\tt = Math.sin( t * len ) / sin;\n\n\t\t\t}\n\n\t\t\tvar tDir = t * dir;\n\n\t\t\tx0 = x0 * s + x1 * tDir;\n\t\t\ty0 = y0 * s + y1 * tDir;\n\t\t\tz0 = z0 * s + z1 * tDir;\n\t\t\tw0 = w0 * s + w1 * tDir;\n\n\t\t\t// Normalize in case we just did a lerp:\n\t\t\tif ( s === 1 - t ) {\n\n\t\t\t\tvar f = 1 / Math.sqrt( x0 * x0 + y0 * y0 + z0 * z0 + w0 * w0 );\n\n\t\t\t\tx0 *= f;\n\t\t\t\ty0 *= f;\n\t\t\t\tz0 *= f;\n\t\t\t\tw0 *= f;\n\n\t\t\t}\n\n\t\t}\n\n\t\tdst[ dstOffset ] = x0;\n\t\tdst[ dstOffset + 1 ] = y0;\n\t\tdst[ dstOffset + 2 ] = z0;\n\t\tdst[ dstOffset + 3 ] = w0;\n\n\t}\n\n} );\n\nObject.defineProperties( Quaternion.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tw: {\n\n\t\tget: function () {\n\n\t\t\treturn this._w;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._w = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Quaternion.prototype, {\n\n\tisQuaternion: true,\n\n\tset: function ( x, y, z, w ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._w = w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._w );\n\n\t},\n\n\tcopy: function ( quaternion ) {\n\n\t\tthis._x = quaternion.x;\n\t\tthis._y = quaternion.y;\n\t\tthis._z = quaternion.z;\n\t\tthis._w = quaternion.w;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromEuler: function ( euler, update ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tthrow new Error( 'THREE.Quaternion: .setFromEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar x = euler._x, y = euler._y, z = euler._z, order = euler.order;\n\n\t\t// http://www.mathworks.com/matlabcentral/fileexchange/\n\t\t// \t20696-function-to-convert-between-dcm-euler-angles-quaternions-and-euler-vectors/\n\t\t//\tcontent/SpinCalc.m\n\n\t\tvar cos = Math.cos;\n\t\tvar sin = Math.sin;\n\n\t\tvar c1 = cos( x / 2 );\n\t\tvar c2 = cos( y / 2 );\n\t\tvar c3 = cos( z / 2 );\n\n\t\tvar s1 = sin( x / 2 );\n\t\tvar s2 = sin( y / 2 );\n\t\tvar s3 = sin( z / 2 );\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 + c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 + s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 - s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 - s1 * s2 * s3;\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._x = s1 * c2 * c3 - c1 * s2 * s3;\n\t\t\tthis._y = c1 * s2 * c3 - s1 * c2 * s3;\n\t\t\tthis._z = c1 * c2 * s3 + s1 * s2 * c3;\n\t\t\tthis._w = c1 * c2 * c3 + s1 * s2 * s3;\n\n\t\t}\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromAxisAngle: function ( axis, angle ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/angleToQuaternion/index.htm\n\n\t\t// assumes axis is normalized\n\n\t\tvar halfAngle = angle / 2, s = Math.sin( halfAngle );\n\n\t\tthis._x = axis.x * s;\n\t\tthis._y = axis.y * s;\n\t\tthis._z = axis.z * s;\n\t\tthis._w = Math.cos( halfAngle );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m ) {\n\n\t\t// http://www.euclideanspace.com/maths/geometry/rotations/conversions/matrixToQuaternion/index.htm\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements,\n\n\t\t\tm11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ],\n\t\t\tm21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ],\n\t\t\tm31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ],\n\n\t\t\ttrace = m11 + m22 + m33,\n\t\t\ts;\n\n\t\tif ( trace > 0 ) {\n\n\t\t\ts = 0.5 / Math.sqrt( trace + 1.0 );\n\n\t\t\tthis._w = 0.25 / s;\n\t\t\tthis._x = ( m32 - m23 ) * s;\n\t\t\tthis._y = ( m13 - m31 ) * s;\n\t\t\tthis._z = ( m21 - m12 ) * s;\n\n\t\t} else if ( m11 > m22 && m11 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m11 - m22 - m33 );\n\n\t\t\tthis._w = ( m32 - m23 ) / s;\n\t\t\tthis._x = 0.25 * s;\n\t\t\tthis._y = ( m12 + m21 ) / s;\n\t\t\tthis._z = ( m13 + m31 ) / s;\n\n\t\t} else if ( m22 > m33 ) {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m22 - m11 - m33 );\n\n\t\t\tthis._w = ( m13 - m31 ) / s;\n\t\t\tthis._x = ( m12 + m21 ) / s;\n\t\t\tthis._y = 0.25 * s;\n\t\t\tthis._z = ( m23 + m32 ) / s;\n\n\t\t} else {\n\n\t\t\ts = 2.0 * Math.sqrt( 1.0 + m33 - m11 - m22 );\n\n\t\t\tthis._w = ( m21 - m12 ) / s;\n\t\t\tthis._x = ( m13 + m31 ) / s;\n\t\t\tthis._y = ( m23 + m32 ) / s;\n\t\t\tthis._z = 0.25 * s;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromUnitVectors: function ( vFrom, vTo ) {\n\n\t\t// assumes direction vectors vFrom and vTo are normalized\n\n\t\tvar EPS = 0.000001;\n\n\t\tvar r = vFrom.dot( vTo ) + 1;\n\n\t\tif ( r < EPS ) {\n\n\t\t\tr = 0;\n\n\t\t\tif ( Math.abs( vFrom.x ) > Math.abs( vFrom.z ) ) {\n\n\t\t\t\tthis._x = - vFrom.y;\n\t\t\t\tthis._y = vFrom.x;\n\t\t\t\tthis._z = 0;\n\t\t\t\tthis._w = r;\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = - vFrom.z;\n\t\t\t\tthis._z = vFrom.y;\n\t\t\t\tthis._w = r;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// crossVectors( vFrom, vTo ); // inlined to avoid cyclic dependency on Vector3\n\n\t\t\tthis._x = vFrom.y * vTo.z - vFrom.z * vTo.y;\n\t\t\tthis._y = vFrom.z * vTo.x - vFrom.x * vTo.z;\n\t\t\tthis._z = vFrom.x * vTo.y - vFrom.y * vTo.x;\n\t\t\tthis._w = r;\n\n\t\t}\n\n\t\treturn this.normalize();\n\n\t},\n\n\tangleTo: function ( q ) {\n\n\t\treturn 2 * Math.acos( Math.abs( MathUtils.clamp( this.dot( q ), - 1, 1 ) ) );\n\n\t},\n\n\trotateTowards: function ( q, step ) {\n\n\t\tvar angle = this.angleTo( q );\n\n\t\tif ( angle === 0 ) return this;\n\n\t\tvar t = Math.min( 1, step / angle );\n\n\t\tthis.slerp( q, t );\n\n\t\treturn this;\n\n\t},\n\n\tinverse: function () {\n\n\t\t// quaternion is assumed to have unit length\n\n\t\treturn this.conjugate();\n\n\t},\n\n\tconjugate: function () {\n\n\t\tthis._x *= - 1;\n\t\tthis._y *= - 1;\n\t\tthis._z *= - 1;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this._x * v._x + this._y * v._y + this._z * v._z + this._w * v._w;\n\n\t},\n\n\tlengthSq: function () {\n\n\t\treturn this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this._x * this._x + this._y * this._y + this._z * this._z + this._w * this._w );\n\n\t},\n\n\tnormalize: function () {\n\n\t\tvar l = this.length();\n\n\t\tif ( l === 0 ) {\n\n\t\t\tthis._x = 0;\n\t\t\tthis._y = 0;\n\t\t\tthis._z = 0;\n\t\t\tthis._w = 1;\n\n\t\t} else {\n\n\t\t\tl = 1 / l;\n\n\t\t\tthis._x = this._x * l;\n\t\t\tthis._y = this._y * l;\n\t\t\tthis._z = this._z * l;\n\t\t\tthis._w = this._w * l;\n\n\t\t}\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( q, p ) {\n\n\t\tif ( p !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Quaternion: .multiply() now only accepts one argument. Use .multiplyQuaternions( a, b ) instead.' );\n\t\t\treturn this.multiplyQuaternions( q, p );\n\n\t\t}\n\n\t\treturn this.multiplyQuaternions( this, q );\n\n\t},\n\n\tpremultiply: function ( q ) {\n\n\t\treturn this.multiplyQuaternions( q, this );\n\n\t},\n\n\tmultiplyQuaternions: function ( a, b ) {\n\n\t\t// from http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/code/index.htm\n\n\t\tvar qax = a._x, qay = a._y, qaz = a._z, qaw = a._w;\n\t\tvar qbx = b._x, qby = b._y, qbz = b._z, qbw = b._w;\n\n\t\tthis._x = qax * qbw + qaw * qbx + qay * qbz - qaz * qby;\n\t\tthis._y = qay * qbw + qaw * qby + qaz * qbx - qax * qbz;\n\t\tthis._z = qaz * qbw + qaw * qbz + qax * qby - qay * qbx;\n\t\tthis._w = qaw * qbw - qax * qbx - qay * qby - qaz * qbz;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tslerp: function ( qb, t ) {\n\n\t\tif ( t === 0 ) return this;\n\t\tif ( t === 1 ) return this.copy( qb );\n\n\t\tvar x = this._x, y = this._y, z = this._z, w = this._w;\n\n\t\t// http://www.euclideanspace.com/maths/algebra/realNormedAlgebra/quaternions/slerp/\n\n\t\tvar cosHalfTheta = w * qb._w + x * qb._x + y * qb._y + z * qb._z;\n\n\t\tif ( cosHalfTheta < 0 ) {\n\n\t\t\tthis._w = - qb._w;\n\t\t\tthis._x = - qb._x;\n\t\t\tthis._y = - qb._y;\n\t\t\tthis._z = - qb._z;\n\n\t\t\tcosHalfTheta = - cosHalfTheta;\n\n\t\t} else {\n\n\t\t\tthis.copy( qb );\n\n\t\t}\n\n\t\tif ( cosHalfTheta >= 1.0 ) {\n\n\t\t\tthis._w = w;\n\t\t\tthis._x = x;\n\t\t\tthis._y = y;\n\t\t\tthis._z = z;\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sqrSinHalfTheta = 1.0 - cosHalfTheta * cosHalfTheta;\n\n\t\tif ( sqrSinHalfTheta <= Number.EPSILON ) {\n\n\t\t\tvar s = 1 - t;\n\t\t\tthis._w = s * w + t * this._w;\n\t\t\tthis._x = s * x + t * this._x;\n\t\t\tthis._y = s * y + t * this._y;\n\t\t\tthis._z = s * z + t * this._z;\n\n\t\t\tthis.normalize();\n\t\t\tthis._onChangeCallback();\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar sinHalfTheta = Math.sqrt( sqrSinHalfTheta );\n\t\tvar halfTheta = Math.atan2( sinHalfTheta, cosHalfTheta );\n\t\tvar ratioA = Math.sin( ( 1 - t ) * halfTheta ) / sinHalfTheta,\n\t\t\tratioB = Math.sin( t * halfTheta ) / sinHalfTheta;\n\n\t\tthis._w = ( w * ratioA + this._w * ratioB );\n\t\tthis._x = ( x * ratioA + this._x * ratioB );\n\t\tthis._y = ( y * ratioA + this._y * ratioB );\n\t\tthis._z = ( z * ratioA + this._z * ratioB );\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( quaternion ) {\n\n\t\treturn ( quaternion._x === this._x ) && ( quaternion._y === this._y ) && ( quaternion._z === this._z ) && ( quaternion._w === this._w );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis._x = array[ offset ];\n\t\tthis._y = array[ offset + 1 ];\n\t\tthis._z = array[ offset + 2 ];\n\t\tthis._w = array[ offset + 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._w;\n\n\t\treturn array;\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author philogb / http://blog.thejit.org/\n * @author mikael emtinger / http://gomo.se/\n * @author egraether / http://egraether.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _vector = new Vector3();\nvar _quaternion = new Quaternion();\n\nfunction Vector3( x, y, z ) {\n\n\tthis.x = x || 0;\n\tthis.y = y || 0;\n\tthis.z = z || 0;\n\n}\n\nObject.assign( Vector3.prototype, {\n\n\tisVector3: true,\n\n\tset: function ( x, y, z ) {\n\n\t\tthis.x = x;\n\t\tthis.y = y;\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.x = scalar;\n\t\tthis.y = scalar;\n\t\tthis.z = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( x ) {\n\n\t\tthis.x = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( y ) {\n\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( z ) {\n\n\t\tthis.z = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponent: function ( index, value ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: this.x = value; break;\n\t\t\tcase 1: this.y = value; break;\n\t\t\tcase 2: this.z = value; break;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetComponent: function ( index ) {\n\n\t\tswitch ( index ) {\n\n\t\t\tcase 0: return this.x;\n\t\t\tcase 1: return this.y;\n\t\t\tcase 2: return this.z;\n\t\t\tdefault: throw new Error( 'index is out of range: ' + index );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.x, this.y, this.z );\n\n\t},\n\n\tcopy: function ( v ) {\n\n\t\tthis.x = v.x;\n\t\tthis.y = v.y;\n\t\tthis.z = v.z;\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .add() now only accepts one argument. Use .addVectors( a, b ) instead.' );\n\t\t\treturn this.addVectors( v, w );\n\n\t\t}\n\n\t\tthis.x += v.x;\n\t\tthis.y += v.y;\n\t\tthis.z += v.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.x += s;\n\t\tthis.y += s;\n\t\tthis.z += s;\n\n\t\treturn this;\n\n\t},\n\n\taddVectors: function ( a, b ) {\n\n\t\tthis.x = a.x + b.x;\n\t\tthis.y = a.y + b.y;\n\t\tthis.z = a.z + b.z;\n\n\t\treturn this;\n\n\t},\n\n\taddScaledVector: function ( v, s ) {\n\n\t\tthis.x += v.x * s;\n\t\tthis.y += v.y * s;\n\t\tthis.z += v.z * s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .sub() now only accepts one argument. Use .subVectors( a, b ) instead.' );\n\t\t\treturn this.subVectors( v, w );\n\n\t\t}\n\n\t\tthis.x -= v.x;\n\t\tthis.y -= v.y;\n\t\tthis.z -= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tsubScalar: function ( s ) {\n\n\t\tthis.x -= s;\n\t\tthis.y -= s;\n\t\tthis.z -= s;\n\n\t\treturn this;\n\n\t},\n\n\tsubVectors: function ( a, b ) {\n\n\t\tthis.x = a.x - b.x;\n\t\tthis.y = a.y - b.y;\n\t\tthis.z = a.z - b.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .multiply() now only accepts one argument. Use .multiplyVectors( a, b ) instead.' );\n\t\t\treturn this.multiplyVectors( v, w );\n\n\t\t}\n\n\t\tthis.x *= v.x;\n\t\tthis.y *= v.y;\n\t\tthis.z *= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( scalar ) {\n\n\t\tthis.x *= scalar;\n\t\tthis.y *= scalar;\n\t\tthis.z *= scalar;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyVectors: function ( a, b ) {\n\n\t\tthis.x = a.x * b.x;\n\t\tthis.y = a.y * b.y;\n\t\tthis.z = a.z * b.z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Vector3: .applyEuler() now expects an Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\treturn this.applyQuaternion( _quaternion.setFromEuler( euler ) );\n\n\t},\n\n\tapplyAxisAngle: function ( axis, angle ) {\n\n\t\treturn this.applyQuaternion( _quaternion.setFromAxisAngle( axis, angle ) );\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 3 ] * y + e[ 6 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 4 ] * y + e[ 7 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 5 ] * y + e[ 8 ] * z;\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\treturn this.applyMatrix3( m ).normalize();\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tvar w = 1 / ( e[ 3 ] * x + e[ 7 ] * y + e[ 11 ] * z + e[ 15 ] );\n\n\t\tthis.x = ( e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z + e[ 12 ] ) * w;\n\t\tthis.y = ( e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z + e[ 13 ] ) * w;\n\t\tthis.z = ( e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z + e[ 14 ] ) * w;\n\n\t\treturn this;\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar qx = q.x, qy = q.y, qz = q.z, qw = q.w;\n\n\t\t// calculate quat * vector\n\n\t\tvar ix = qw * x + qy * z - qz * y;\n\t\tvar iy = qw * y + qz * x - qx * z;\n\t\tvar iz = qw * z + qx * y - qy * x;\n\t\tvar iw = - qx * x - qy * y - qz * z;\n\n\t\t// calculate result * inverse quat\n\n\t\tthis.x = ix * qw + iw * - qx + iy * - qz - iz * - qy;\n\t\tthis.y = iy * qw + iw * - qy + iz * - qx - ix * - qz;\n\t\tthis.z = iz * qw + iw * - qz + ix * - qy - iy * - qx;\n\n\t\treturn this;\n\n\t},\n\n\tproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.matrixWorldInverse ).applyMatrix4( camera.projectionMatrix );\n\n\t},\n\n\tunproject: function ( camera ) {\n\n\t\treturn this.applyMatrix4( camera.projectionMatrixInverse ).applyMatrix4( camera.matrixWorld );\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\t// input: THREE.Matrix4 affine matrix\n\t\t// vector interpreted as a direction\n\n\t\tvar x = this.x, y = this.y, z = this.z;\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 0 ] * x + e[ 4 ] * y + e[ 8 ] * z;\n\t\tthis.y = e[ 1 ] * x + e[ 5 ] * y + e[ 9 ] * z;\n\t\tthis.z = e[ 2 ] * x + e[ 6 ] * y + e[ 10 ] * z;\n\n\t\treturn this.normalize();\n\n\t},\n\n\tdivide: function ( v ) {\n\n\t\tthis.x /= v.x;\n\t\tthis.y /= v.y;\n\t\tthis.z /= v.z;\n\n\t\treturn this;\n\n\t},\n\n\tdivideScalar: function ( scalar ) {\n\n\t\treturn this.multiplyScalar( 1 / scalar );\n\n\t},\n\n\tmin: function ( v ) {\n\n\t\tthis.x = Math.min( this.x, v.x );\n\t\tthis.y = Math.min( this.y, v.y );\n\t\tthis.z = Math.min( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tmax: function ( v ) {\n\n\t\tthis.x = Math.max( this.x, v.x );\n\t\tthis.y = Math.max( this.y, v.y );\n\t\tthis.z = Math.max( this.z, v.z );\n\n\t\treturn this;\n\n\t},\n\n\tclamp: function ( min, max ) {\n\n\t\t// assumes min < max, componentwise\n\n\t\tthis.x = Math.max( min.x, Math.min( max.x, this.x ) );\n\t\tthis.y = Math.max( min.y, Math.min( max.y, this.y ) );\n\t\tthis.z = Math.max( min.z, Math.min( max.z, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampScalar: function ( minVal, maxVal ) {\n\n\t\tthis.x = Math.max( minVal, Math.min( maxVal, this.x ) );\n\t\tthis.y = Math.max( minVal, Math.min( maxVal, this.y ) );\n\t\tthis.z = Math.max( minVal, Math.min( maxVal, this.z ) );\n\n\t\treturn this;\n\n\t},\n\n\tclampLength: function ( min, max ) {\n\n\t\tvar length = this.length();\n\n\t\treturn this.divideScalar( length || 1 ).multiplyScalar( Math.max( min, Math.min( max, length ) ) );\n\n\t},\n\n\tfloor: function () {\n\n\t\tthis.x = Math.floor( this.x );\n\t\tthis.y = Math.floor( this.y );\n\t\tthis.z = Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tceil: function () {\n\n\t\tthis.x = Math.ceil( this.x );\n\t\tthis.y = Math.ceil( this.y );\n\t\tthis.z = Math.ceil( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tround: function () {\n\n\t\tthis.x = Math.round( this.x );\n\t\tthis.y = Math.round( this.y );\n\t\tthis.z = Math.round( this.z );\n\n\t\treturn this;\n\n\t},\n\n\troundToZero: function () {\n\n\t\tthis.x = ( this.x < 0 ) ? Math.ceil( this.x ) : Math.floor( this.x );\n\t\tthis.y = ( this.y < 0 ) ? Math.ceil( this.y ) : Math.floor( this.y );\n\t\tthis.z = ( this.z < 0 ) ? Math.ceil( this.z ) : Math.floor( this.z );\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.x = - this.x;\n\t\tthis.y = - this.y;\n\t\tthis.z = - this.z;\n\n\t\treturn this;\n\n\t},\n\n\tdot: function ( v ) {\n\n\t\treturn this.x * v.x + this.y * v.y + this.z * v.z;\n\n\t},\n\n\t// TODO lengthSquared?\n\n\tlengthSq: function () {\n\n\t\treturn this.x * this.x + this.y * this.y + this.z * this.z;\n\n\t},\n\n\tlength: function () {\n\n\t\treturn Math.sqrt( this.x * this.x + this.y * this.y + this.z * this.z );\n\n\t},\n\n\tmanhattanLength: function () {\n\n\t\treturn Math.abs( this.x ) + Math.abs( this.y ) + Math.abs( this.z );\n\n\t},\n\n\tnormalize: function () {\n\n\t\treturn this.divideScalar( this.length() || 1 );\n\n\t},\n\n\tsetLength: function ( length ) {\n\n\t\treturn this.normalize().multiplyScalar( length );\n\n\t},\n\n\tlerp: function ( v, alpha ) {\n\n\t\tthis.x += ( v.x - this.x ) * alpha;\n\t\tthis.y += ( v.y - this.y ) * alpha;\n\t\tthis.z += ( v.z - this.z ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpVectors: function ( v1, v2, alpha ) {\n\n\t\treturn this.subVectors( v2, v1 ).multiplyScalar( alpha ).add( v1 );\n\n\t},\n\n\tcross: function ( v, w ) {\n\n\t\tif ( w !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: .cross() now only accepts one argument. Use .crossVectors( a, b ) instead.' );\n\t\t\treturn this.crossVectors( v, w );\n\n\t\t}\n\n\t\treturn this.crossVectors( this, v );\n\n\t},\n\n\tcrossVectors: function ( a, b ) {\n\n\t\tvar ax = a.x, ay = a.y, az = a.z;\n\t\tvar bx = b.x, by = b.y, bz = b.z;\n\n\t\tthis.x = ay * bz - az * by;\n\t\tthis.y = az * bx - ax * bz;\n\t\tthis.z = ax * by - ay * bx;\n\n\t\treturn this;\n\n\t},\n\n\tprojectOnVector: function ( v ) {\n\n\t\tvar denominator = v.lengthSq();\n\n\t\tif ( denominator === 0 ) return this.set( 0, 0, 0 );\n\n\t\tvar scalar = v.dot( this ) / denominator;\n\n\t\treturn this.copy( v ).multiplyScalar( scalar );\n\n\t},\n\n\tprojectOnPlane: function ( planeNormal ) {\n\n\t\t_vector.copy( this ).projectOnVector( planeNormal );\n\n\t\treturn this.sub( _vector );\n\n\t},\n\n\treflect: function ( normal ) {\n\n\t\t// reflect incident vector off plane orthogonal to normal\n\t\t// normal is assumed to have unit length\n\n\t\treturn this.sub( _vector.copy( normal ).multiplyScalar( 2 * this.dot( normal ) ) );\n\n\t},\n\n\tangleTo: function ( v ) {\n\n\t\tvar denominator = Math.sqrt( this.lengthSq() * v.lengthSq() );\n\n\t\tif ( denominator === 0 ) return Math.PI / 2;\n\n\t\tvar theta = this.dot( v ) / denominator;\n\n\t\t// clamp, to handle numerical problems\n\n\t\treturn Math.acos( MathUtils.clamp( theta, - 1, 1 ) );\n\n\t},\n\n\tdistanceTo: function ( v ) {\n\n\t\treturn Math.sqrt( this.distanceToSquared( v ) );\n\n\t},\n\n\tdistanceToSquared: function ( v ) {\n\n\t\tvar dx = this.x - v.x, dy = this.y - v.y, dz = this.z - v.z;\n\n\t\treturn dx * dx + dy * dy + dz * dz;\n\n\t},\n\n\tmanhattanDistanceTo: function ( v ) {\n\n\t\treturn Math.abs( this.x - v.x ) + Math.abs( this.y - v.y ) + Math.abs( this.z - v.z );\n\n\t},\n\n\tsetFromSpherical: function ( s ) {\n\n\t\treturn this.setFromSphericalCoords( s.radius, s.phi, s.theta );\n\n\t},\n\n\tsetFromSphericalCoords: function ( radius, phi, theta ) {\n\n\t\tvar sinPhiRadius = Math.sin( phi ) * radius;\n\n\t\tthis.x = sinPhiRadius * Math.sin( theta );\n\t\tthis.y = Math.cos( phi ) * radius;\n\t\tthis.z = sinPhiRadius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCylindrical: function ( c ) {\n\n\t\treturn this.setFromCylindricalCoords( c.radius, c.theta, c.y );\n\n\t},\n\n\tsetFromCylindricalCoords: function ( radius, theta, y ) {\n\n\t\tthis.x = radius * Math.sin( theta );\n\t\tthis.y = y;\n\t\tthis.z = radius * Math.cos( theta );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixPosition: function ( m ) {\n\n\t\tvar e = m.elements;\n\n\t\tthis.x = e[ 12 ];\n\t\tthis.y = e[ 13 ];\n\t\tthis.z = e[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixScale: function ( m ) {\n\n\t\tvar sx = this.setFromMatrixColumn( m, 0 ).length();\n\t\tvar sy = this.setFromMatrixColumn( m, 1 ).length();\n\t\tvar sz = this.setFromMatrixColumn( m, 2 ).length();\n\n\t\tthis.x = sx;\n\t\tthis.y = sy;\n\t\tthis.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromMatrixColumn: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 4 );\n\n\t},\n\n\tsetFromMatrix3Column: function ( m, index ) {\n\n\t\treturn this.fromArray( m.elements, index * 3 );\n\n\t},\n\n\tequals: function ( v ) {\n\n\t\treturn ( ( v.x === this.x ) && ( v.y === this.y ) && ( v.z === this.z ) );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.x = array[ offset ];\n\t\tthis.y = array[ offset + 1 ];\n\t\tthis.z = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.x;\n\t\tarray[ offset + 1 ] = this.y;\n\t\tarray[ offset + 2 ] = this.z;\n\n\t\treturn array;\n\n\t},\n\n\tfromBufferAttribute: function ( attribute, index, offset ) {\n\n\t\tif ( offset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Vector3: offset has been removed from .fromBufferAttribute().' );\n\n\t\t}\n\n\t\tthis.x = attribute.getX( index );\n\t\tthis.y = attribute.getY( index );\n\t\tthis.z = attribute.getZ( index );\n\n\t\treturn this;\n\n\t}\n\n} );\n\nvar _v1 = new Vector3();\nvar _m1 = new Matrix4();\nvar _zero = new Vector3( 0, 0, 0 );\nvar _one = new Vector3( 1, 1, 1 );\nvar _x = new Vector3();\nvar _y = new Vector3();\nvar _z = new Vector3();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author philogb / http://blog.thejit.org/\n * @author jordi_ros / http://plattsoft.com\n * @author D1plo1d / http://github.com/D1plo1d\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author timknip / http://www.floorplanner.com/\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Matrix4() {\n\n\tthis.elements = [\n\n\t\t1, 0, 0, 0,\n\t\t0, 1, 0, 0,\n\t\t0, 0, 1, 0,\n\t\t0, 0, 0, 1\n\n\t];\n\n\tif ( arguments.length > 0 ) {\n\n\t\tconsole.error( 'THREE.Matrix4: the constructor no longer reads arguments. use .set() instead.' );\n\n\t}\n\n}\n\nObject.assign( Matrix4.prototype, {\n\n\tisMatrix4: true,\n\n\tset: function ( n11, n12, n13, n14, n21, n22, n23, n24, n31, n32, n33, n34, n41, n42, n43, n44 ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] = n11; te[ 4 ] = n12; te[ 8 ] = n13; te[ 12 ] = n14;\n\t\tte[ 1 ] = n21; te[ 5 ] = n22; te[ 9 ] = n23; te[ 13 ] = n24;\n\t\tte[ 2 ] = n31; te[ 6 ] = n32; te[ 10 ] = n33; te[ 14 ] = n34;\n\t\tte[ 3 ] = n41; te[ 7 ] = n42; te[ 11 ] = n43; te[ 15 ] = n44;\n\n\t\treturn this;\n\n\t},\n\n\tidentity: function () {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, 1, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Matrix4().fromArray( this.elements );\n\n\t},\n\n\tcopy: function ( m ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tte[ 0 ] = me[ 0 ]; te[ 1 ] = me[ 1 ]; te[ 2 ] = me[ 2 ]; te[ 3 ] = me[ 3 ];\n\t\tte[ 4 ] = me[ 4 ]; te[ 5 ] = me[ 5 ]; te[ 6 ] = me[ 6 ]; te[ 7 ] = me[ 7 ];\n\t\tte[ 8 ] = me[ 8 ]; te[ 9 ] = me[ 9 ]; te[ 10 ] = me[ 10 ]; te[ 11 ] = me[ 11 ];\n\t\tte[ 12 ] = me[ 12 ]; te[ 13 ] = me[ 13 ]; te[ 14 ] = me[ 14 ]; te[ 15 ] = me[ 15 ];\n\n\t\treturn this;\n\n\t},\n\n\tcopyPosition: function ( m ) {\n\n\t\tvar te = this.elements, me = m.elements;\n\n\t\tte[ 12 ] = me[ 12 ];\n\t\tte[ 13 ] = me[ 13 ];\n\t\tte[ 14 ] = me[ 14 ];\n\n\t\treturn this;\n\n\t},\n\n\textractBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\txAxis.setFromMatrixColumn( this, 0 );\n\t\tyAxis.setFromMatrixColumn( this, 1 );\n\t\tzAxis.setFromMatrixColumn( this, 2 );\n\n\t\treturn this;\n\n\t},\n\n\tmakeBasis: function ( xAxis, yAxis, zAxis ) {\n\n\t\tthis.set(\n\t\t\txAxis.x, yAxis.x, zAxis.x, 0,\n\t\t\txAxis.y, yAxis.y, zAxis.y, 0,\n\t\t\txAxis.z, yAxis.z, zAxis.z, 0,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\textractRotation: function ( m ) {\n\n\t\t// this method does not support reflection matrices\n\n\t\tvar te = this.elements;\n\t\tvar me = m.elements;\n\n\t\tvar scaleX = 1 / _v1.setFromMatrixColumn( m, 0 ).length();\n\t\tvar scaleY = 1 / _v1.setFromMatrixColumn( m, 1 ).length();\n\t\tvar scaleZ = 1 / _v1.setFromMatrixColumn( m, 2 ).length();\n\n\t\tte[ 0 ] = me[ 0 ] * scaleX;\n\t\tte[ 1 ] = me[ 1 ] * scaleX;\n\t\tte[ 2 ] = me[ 2 ] * scaleX;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = me[ 4 ] * scaleY;\n\t\tte[ 5 ] = me[ 5 ] * scaleY;\n\t\tte[ 6 ] = me[ 6 ] * scaleY;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = me[ 8 ] * scaleZ;\n\t\tte[ 9 ] = me[ 9 ] * scaleZ;\n\t\tte[ 10 ] = me[ 10 ] * scaleZ;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromEuler: function ( euler ) {\n\n\t\tif ( ! ( euler && euler.isEuler ) ) {\n\n\t\t\tconsole.error( 'THREE.Matrix4: .makeRotationFromEuler() now expects a Euler rotation rather than a Vector3 and order.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\n\t\tvar x = euler.x, y = euler.y, z = euler.z;\n\t\tvar a = Math.cos( x ), b = Math.sin( x );\n\t\tvar c = Math.cos( y ), d = Math.sin( y );\n\t\tvar e = Math.cos( z ), f = Math.sin( z );\n\n\t\tif ( euler.order === 'XYZ' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - c * f;\n\t\t\tte[ 8 ] = d;\n\n\t\t\tte[ 1 ] = af + be * d;\n\t\t\tte[ 5 ] = ae - bf * d;\n\t\t\tte[ 9 ] = - b * c;\n\n\t\t\tte[ 2 ] = bf - ae * d;\n\t\t\tte[ 6 ] = be + af * d;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YXZ' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce + df * b;\n\t\t\tte[ 4 ] = de * b - cf;\n\t\t\tte[ 8 ] = a * d;\n\n\t\t\tte[ 1 ] = a * f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b;\n\n\t\t\tte[ 2 ] = cf * b - de;\n\t\t\tte[ 6 ] = df + ce * b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZXY' ) {\n\n\t\t\tvar ce = c * e, cf = c * f, de = d * e, df = d * f;\n\n\t\t\tte[ 0 ] = ce - df * b;\n\t\t\tte[ 4 ] = - a * f;\n\t\t\tte[ 8 ] = de + cf * b;\n\n\t\t\tte[ 1 ] = cf + de * b;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = df - ce * b;\n\n\t\t\tte[ 2 ] = - a * d;\n\t\t\tte[ 6 ] = b;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'ZYX' ) {\n\n\t\t\tvar ae = a * e, af = a * f, be = b * e, bf = b * f;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = be * d - af;\n\t\t\tte[ 8 ] = ae * d + bf;\n\n\t\t\tte[ 1 ] = c * f;\n\t\t\tte[ 5 ] = bf * d + ae;\n\t\t\tte[ 9 ] = af * d - be;\n\n\t\t\tte[ 2 ] = - d;\n\t\t\tte[ 6 ] = b * c;\n\t\t\tte[ 10 ] = a * c;\n\n\t\t} else if ( euler.order === 'YZX' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = bd - ac * f;\n\t\t\tte[ 8 ] = bc * f + ad;\n\n\t\t\tte[ 1 ] = f;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = - b * e;\n\n\t\t\tte[ 2 ] = - d * e;\n\t\t\tte[ 6 ] = ad * f + bc;\n\t\t\tte[ 10 ] = ac - bd * f;\n\n\t\t} else if ( euler.order === 'XZY' ) {\n\n\t\t\tvar ac = a * c, ad = a * d, bc = b * c, bd = b * d;\n\n\t\t\tte[ 0 ] = c * e;\n\t\t\tte[ 4 ] = - f;\n\t\t\tte[ 8 ] = d * e;\n\n\t\t\tte[ 1 ] = ac * f + bd;\n\t\t\tte[ 5 ] = a * e;\n\t\t\tte[ 9 ] = ad * f - bc;\n\n\t\t\tte[ 2 ] = bc * f - ad;\n\t\t\tte[ 6 ] = b * e;\n\t\t\tte[ 10 ] = bd * f + ac;\n\n\t\t}\n\n\t\t// bottom row\n\t\tte[ 3 ] = 0;\n\t\tte[ 7 ] = 0;\n\t\tte[ 11 ] = 0;\n\n\t\t// last column\n\t\tte[ 12 ] = 0;\n\t\tte[ 13 ] = 0;\n\t\tte[ 14 ] = 0;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationFromQuaternion: function ( q ) {\n\n\t\treturn this.compose( _zero, q, _one );\n\n\t},\n\n\tlookAt: function ( eye, target, up ) {\n\n\t\tvar te = this.elements;\n\n\t\t_z.subVectors( eye, target );\n\n\t\tif ( _z.lengthSq() === 0 ) {\n\n\t\t\t// eye and target are in the same position\n\n\t\t\t_z.z = 1;\n\n\t\t}\n\n\t\t_z.normalize();\n\t\t_x.crossVectors( up, _z );\n\n\t\tif ( _x.lengthSq() === 0 ) {\n\n\t\t\t// up and z are parallel\n\n\t\t\tif ( Math.abs( up.z ) === 1 ) {\n\n\t\t\t\t_z.x += 0.0001;\n\n\t\t\t} else {\n\n\t\t\t\t_z.z += 0.0001;\n\n\t\t\t}\n\n\t\t\t_z.normalize();\n\t\t\t_x.crossVectors( up, _z );\n\n\t\t}\n\n\t\t_x.normalize();\n\t\t_y.crossVectors( _z, _x );\n\n\t\tte[ 0 ] = _x.x; te[ 4 ] = _y.x; te[ 8 ] = _z.x;\n\t\tte[ 1 ] = _x.y; te[ 5 ] = _y.y; te[ 9 ] = _z.y;\n\t\tte[ 2 ] = _x.z; te[ 6 ] = _y.z; te[ 10 ] = _z.z;\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( m, n ) {\n\n\t\tif ( n !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .multiply() now only accepts one argument. Use .multiplyMatrices( a, b ) instead.' );\n\t\t\treturn this.multiplyMatrices( m, n );\n\n\t\t}\n\n\t\treturn this.multiplyMatrices( this, m );\n\n\t},\n\n\tpremultiply: function ( m ) {\n\n\t\treturn this.multiplyMatrices( m, this );\n\n\t},\n\n\tmultiplyMatrices: function ( a, b ) {\n\n\t\tvar ae = a.elements;\n\t\tvar be = b.elements;\n\t\tvar te = this.elements;\n\n\t\tvar a11 = ae[ 0 ], a12 = ae[ 4 ], a13 = ae[ 8 ], a14 = ae[ 12 ];\n\t\tvar a21 = ae[ 1 ], a22 = ae[ 5 ], a23 = ae[ 9 ], a24 = ae[ 13 ];\n\t\tvar a31 = ae[ 2 ], a32 = ae[ 6 ], a33 = ae[ 10 ], a34 = ae[ 14 ];\n\t\tvar a41 = ae[ 3 ], a42 = ae[ 7 ], a43 = ae[ 11 ], a44 = ae[ 15 ];\n\n\t\tvar b11 = be[ 0 ], b12 = be[ 4 ], b13 = be[ 8 ], b14 = be[ 12 ];\n\t\tvar b21 = be[ 1 ], b22 = be[ 5 ], b23 = be[ 9 ], b24 = be[ 13 ];\n\t\tvar b31 = be[ 2 ], b32 = be[ 6 ], b33 = be[ 10 ], b34 = be[ 14 ];\n\t\tvar b41 = be[ 3 ], b42 = be[ 7 ], b43 = be[ 11 ], b44 = be[ 15 ];\n\n\t\tte[ 0 ] = a11 * b11 + a12 * b21 + a13 * b31 + a14 * b41;\n\t\tte[ 4 ] = a11 * b12 + a12 * b22 + a13 * b32 + a14 * b42;\n\t\tte[ 8 ] = a11 * b13 + a12 * b23 + a13 * b33 + a14 * b43;\n\t\tte[ 12 ] = a11 * b14 + a12 * b24 + a13 * b34 + a14 * b44;\n\n\t\tte[ 1 ] = a21 * b11 + a22 * b21 + a23 * b31 + a24 * b41;\n\t\tte[ 5 ] = a21 * b12 + a22 * b22 + a23 * b32 + a24 * b42;\n\t\tte[ 9 ] = a21 * b13 + a22 * b23 + a23 * b33 + a24 * b43;\n\t\tte[ 13 ] = a21 * b14 + a22 * b24 + a23 * b34 + a24 * b44;\n\n\t\tte[ 2 ] = a31 * b11 + a32 * b21 + a33 * b31 + a34 * b41;\n\t\tte[ 6 ] = a31 * b12 + a32 * b22 + a33 * b32 + a34 * b42;\n\t\tte[ 10 ] = a31 * b13 + a32 * b23 + a33 * b33 + a34 * b43;\n\t\tte[ 14 ] = a31 * b14 + a32 * b24 + a33 * b34 + a34 * b44;\n\n\t\tte[ 3 ] = a41 * b11 + a42 * b21 + a43 * b31 + a44 * b41;\n\t\tte[ 7 ] = a41 * b12 + a42 * b22 + a43 * b32 + a44 * b42;\n\t\tte[ 11 ] = a41 * b13 + a42 * b23 + a43 * b33 + a44 * b43;\n\t\tte[ 15 ] = a41 * b14 + a42 * b24 + a43 * b34 + a44 * b44;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tvar te = this.elements;\n\n\t\tte[ 0 ] *= s; te[ 4 ] *= s; te[ 8 ] *= s; te[ 12 ] *= s;\n\t\tte[ 1 ] *= s; te[ 5 ] *= s; te[ 9 ] *= s; te[ 13 ] *= s;\n\t\tte[ 2 ] *= s; te[ 6 ] *= s; te[ 10 ] *= s; te[ 14 ] *= s;\n\t\tte[ 3 ] *= s; te[ 7 ] *= s; te[ 11 ] *= s; te[ 15 ] *= s;\n\n\t\treturn this;\n\n\t},\n\n\tdeterminant: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar n11 = te[ 0 ], n12 = te[ 4 ], n13 = te[ 8 ], n14 = te[ 12 ];\n\t\tvar n21 = te[ 1 ], n22 = te[ 5 ], n23 = te[ 9 ], n24 = te[ 13 ];\n\t\tvar n31 = te[ 2 ], n32 = te[ 6 ], n33 = te[ 10 ], n34 = te[ 14 ];\n\t\tvar n41 = te[ 3 ], n42 = te[ 7 ], n43 = te[ 11 ], n44 = te[ 15 ];\n\n\t\t//TODO: make this more efficient\n\t\t//( based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm )\n\n\t\treturn (\n\t\t\tn41 * (\n\t\t\t\t+ n14 * n23 * n32\n\t\t\t\t - n13 * n24 * n32\n\t\t\t\t - n14 * n22 * n33\n\t\t\t\t + n12 * n24 * n33\n\t\t\t\t + n13 * n22 * n34\n\t\t\t\t - n12 * n23 * n34\n\t\t\t) +\n\t\t\tn42 * (\n\t\t\t\t+ n11 * n23 * n34\n\t\t\t\t - n11 * n24 * n33\n\t\t\t\t + n14 * n21 * n33\n\t\t\t\t - n13 * n21 * n34\n\t\t\t\t + n13 * n24 * n31\n\t\t\t\t - n14 * n23 * n31\n\t\t\t) +\n\t\t\tn43 * (\n\t\t\t\t+ n11 * n24 * n32\n\t\t\t\t - n11 * n22 * n34\n\t\t\t\t - n14 * n21 * n32\n\t\t\t\t + n12 * n21 * n34\n\t\t\t\t + n14 * n22 * n31\n\t\t\t\t - n12 * n24 * n31\n\t\t\t) +\n\t\t\tn44 * (\n\t\t\t\t- n13 * n22 * n31\n\t\t\t\t - n11 * n23 * n32\n\t\t\t\t + n11 * n22 * n33\n\t\t\t\t + n13 * n21 * n32\n\t\t\t\t - n12 * n21 * n33\n\t\t\t\t + n12 * n23 * n31\n\t\t\t)\n\n\t\t);\n\n\t},\n\n\ttranspose: function () {\n\n\t\tvar te = this.elements;\n\t\tvar tmp;\n\n\t\ttmp = te[ 1 ]; te[ 1 ] = te[ 4 ]; te[ 4 ] = tmp;\n\t\ttmp = te[ 2 ]; te[ 2 ] = te[ 8 ]; te[ 8 ] = tmp;\n\t\ttmp = te[ 6 ]; te[ 6 ] = te[ 9 ]; te[ 9 ] = tmp;\n\n\t\ttmp = te[ 3 ]; te[ 3 ] = te[ 12 ]; te[ 12 ] = tmp;\n\t\ttmp = te[ 7 ]; te[ 7 ] = te[ 13 ]; te[ 13 ] = tmp;\n\t\ttmp = te[ 11 ]; te[ 11 ] = te[ 14 ]; te[ 14 ] = tmp;\n\n\t\treturn this;\n\n\t},\n\n\tsetPosition: function ( x, y, z ) {\n\n\t\tvar te = this.elements;\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\tte[ 12 ] = x.x;\n\t\t\tte[ 13 ] = x.y;\n\t\t\tte[ 14 ] = x.z;\n\n\t\t} else {\n\n\t\t\tte[ 12 ] = x;\n\t\t\tte[ 13 ] = y;\n\t\t\tte[ 14 ] = z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetInverse: function ( m, throwOnDegenerate ) {\n\n\t\t// based on http://www.euclideanspace.com/maths/algebra/matrix/functions/inverse/fourD/index.htm\n\t\tvar te = this.elements,\n\t\t\tme = m.elements,\n\n\t\t\tn11 = me[ 0 ], n21 = me[ 1 ], n31 = me[ 2 ], n41 = me[ 3 ],\n\t\t\tn12 = me[ 4 ], n22 = me[ 5 ], n32 = me[ 6 ], n42 = me[ 7 ],\n\t\t\tn13 = me[ 8 ], n23 = me[ 9 ], n33 = me[ 10 ], n43 = me[ 11 ],\n\t\t\tn14 = me[ 12 ], n24 = me[ 13 ], n34 = me[ 14 ], n44 = me[ 15 ],\n\n\t\t\tt11 = n23 * n34 * n42 - n24 * n33 * n42 + n24 * n32 * n43 - n22 * n34 * n43 - n23 * n32 * n44 + n22 * n33 * n44,\n\t\t\tt12 = n14 * n33 * n42 - n13 * n34 * n42 - n14 * n32 * n43 + n12 * n34 * n43 + n13 * n32 * n44 - n12 * n33 * n44,\n\t\t\tt13 = n13 * n24 * n42 - n14 * n23 * n42 + n14 * n22 * n43 - n12 * n24 * n43 - n13 * n22 * n44 + n12 * n23 * n44,\n\t\t\tt14 = n14 * n23 * n32 - n13 * n24 * n32 - n14 * n22 * n33 + n12 * n24 * n33 + n13 * n22 * n34 - n12 * n23 * n34;\n\n\t\tvar det = n11 * t11 + n21 * t12 + n31 * t13 + n41 * t14;\n\n\t\tif ( det === 0 ) {\n\n\t\t\tvar msg = \"THREE.Matrix4: .getInverse() can't invert matrix, determinant is 0\";\n\n\t\t\tif ( throwOnDegenerate === true ) {\n\n\t\t\t\tthrow new Error( msg );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( msg );\n\n\t\t\t}\n\n\t\t\treturn this.identity();\n\n\t\t}\n\n\t\tvar detInv = 1 / det;\n\n\t\tte[ 0 ] = t11 * detInv;\n\t\tte[ 1 ] = ( n24 * n33 * n41 - n23 * n34 * n41 - n24 * n31 * n43 + n21 * n34 * n43 + n23 * n31 * n44 - n21 * n33 * n44 ) * detInv;\n\t\tte[ 2 ] = ( n22 * n34 * n41 - n24 * n32 * n41 + n24 * n31 * n42 - n21 * n34 * n42 - n22 * n31 * n44 + n21 * n32 * n44 ) * detInv;\n\t\tte[ 3 ] = ( n23 * n32 * n41 - n22 * n33 * n41 - n23 * n31 * n42 + n21 * n33 * n42 + n22 * n31 * n43 - n21 * n32 * n43 ) * detInv;\n\n\t\tte[ 4 ] = t12 * detInv;\n\t\tte[ 5 ] = ( n13 * n34 * n41 - n14 * n33 * n41 + n14 * n31 * n43 - n11 * n34 * n43 - n13 * n31 * n44 + n11 * n33 * n44 ) * detInv;\n\t\tte[ 6 ] = ( n14 * n32 * n41 - n12 * n34 * n41 - n14 * n31 * n42 + n11 * n34 * n42 + n12 * n31 * n44 - n11 * n32 * n44 ) * detInv;\n\t\tte[ 7 ] = ( n12 * n33 * n41 - n13 * n32 * n41 + n13 * n31 * n42 - n11 * n33 * n42 - n12 * n31 * n43 + n11 * n32 * n43 ) * detInv;\n\n\t\tte[ 8 ] = t13 * detInv;\n\t\tte[ 9 ] = ( n14 * n23 * n41 - n13 * n24 * n41 - n14 * n21 * n43 + n11 * n24 * n43 + n13 * n21 * n44 - n11 * n23 * n44 ) * detInv;\n\t\tte[ 10 ] = ( n12 * n24 * n41 - n14 * n22 * n41 + n14 * n21 * n42 - n11 * n24 * n42 - n12 * n21 * n44 + n11 * n22 * n44 ) * detInv;\n\t\tte[ 11 ] = ( n13 * n22 * n41 - n12 * n23 * n41 - n13 * n21 * n42 + n11 * n23 * n42 + n12 * n21 * n43 - n11 * n22 * n43 ) * detInv;\n\n\t\tte[ 12 ] = t14 * detInv;\n\t\tte[ 13 ] = ( n13 * n24 * n31 - n14 * n23 * n31 + n14 * n21 * n33 - n11 * n24 * n33 - n13 * n21 * n34 + n11 * n23 * n34 ) * detInv;\n\t\tte[ 14 ] = ( n14 * n22 * n31 - n12 * n24 * n31 - n14 * n21 * n32 + n11 * n24 * n32 + n12 * n21 * n34 - n11 * n22 * n34 ) * detInv;\n\t\tte[ 15 ] = ( n12 * n23 * n31 - n13 * n22 * n31 + n13 * n21 * n32 - n11 * n23 * n32 - n12 * n21 * n33 + n11 * n22 * n33 ) * detInv;\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( v ) {\n\n\t\tvar te = this.elements;\n\t\tvar x = v.x, y = v.y, z = v.z;\n\n\t\tte[ 0 ] *= x; te[ 4 ] *= y; te[ 8 ] *= z;\n\t\tte[ 1 ] *= x; te[ 5 ] *= y; te[ 9 ] *= z;\n\t\tte[ 2 ] *= x; te[ 6 ] *= y; te[ 10 ] *= z;\n\t\tte[ 3 ] *= x; te[ 7 ] *= y; te[ 11 ] *= z;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxScaleOnAxis: function () {\n\n\t\tvar te = this.elements;\n\n\t\tvar scaleXSq = te[ 0 ] * te[ 0 ] + te[ 1 ] * te[ 1 ] + te[ 2 ] * te[ 2 ];\n\t\tvar scaleYSq = te[ 4 ] * te[ 4 ] + te[ 5 ] * te[ 5 ] + te[ 6 ] * te[ 6 ];\n\t\tvar scaleZSq = te[ 8 ] * te[ 8 ] + te[ 9 ] * te[ 9 ] + te[ 10 ] * te[ 10 ];\n\n\t\treturn Math.sqrt( Math.max( scaleXSq, scaleYSq, scaleZSq ) );\n\n\t},\n\n\tmakeTranslation: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, x,\n\t\t\t0, 1, 0, y,\n\t\t\t0, 0, 1, z,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationX: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t1, 0, 0, 0,\n\t\t\t0, c, - s, 0,\n\t\t\t0, s, c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationY: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\t c, 0, s, 0,\n\t\t\t 0, 1, 0, 0,\n\t\t\t- s, 0, c, 0,\n\t\t\t 0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationZ: function ( theta ) {\n\n\t\tvar c = Math.cos( theta ), s = Math.sin( theta );\n\n\t\tthis.set(\n\n\t\t\tc, - s, 0, 0,\n\t\t\ts, c, 0, 0,\n\t\t\t0, 0, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeRotationAxis: function ( axis, angle ) {\n\n\t\t// Based on http://www.gamedev.net/reference/articles/article1199.asp\n\n\t\tvar c = Math.cos( angle );\n\t\tvar s = Math.sin( angle );\n\t\tvar t = 1 - c;\n\t\tvar x = axis.x, y = axis.y, z = axis.z;\n\t\tvar tx = t * x, ty = t * y;\n\n\t\tthis.set(\n\n\t\t\ttx * x + c, tx * y - s * z, tx * z + s * y, 0,\n\t\t\ttx * y + s * z, ty * y + c, ty * z - s * x, 0,\n\t\t\ttx * z - s * y, ty * z + s * x, t * z * z + c, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\t return this;\n\n\t},\n\n\tmakeScale: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\tx, 0, 0, 0,\n\t\t\t0, y, 0, 0,\n\t\t\t0, 0, z, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tmakeShear: function ( x, y, z ) {\n\n\t\tthis.set(\n\n\t\t\t1, y, z, 0,\n\t\t\tx, 1, z, 0,\n\t\t\tx, y, 1, 0,\n\t\t\t0, 0, 0, 1\n\n\t\t);\n\n\t\treturn this;\n\n\t},\n\n\tcompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar x = quaternion._x, y = quaternion._y, z = quaternion._z, w = quaternion._w;\n\t\tvar x2 = x + x,\ty2 = y + y, z2 = z + z;\n\t\tvar xx = x * x2, xy = x * y2, xz = x * z2;\n\t\tvar yy = y * y2, yz = y * z2, zz = z * z2;\n\t\tvar wx = w * x2, wy = w * y2, wz = w * z2;\n\n\t\tvar sx = scale.x, sy = scale.y, sz = scale.z;\n\n\t\tte[ 0 ] = ( 1 - ( yy + zz ) ) * sx;\n\t\tte[ 1 ] = ( xy + wz ) * sx;\n\t\tte[ 2 ] = ( xz - wy ) * sx;\n\t\tte[ 3 ] = 0;\n\n\t\tte[ 4 ] = ( xy - wz ) * sy;\n\t\tte[ 5 ] = ( 1 - ( xx + zz ) ) * sy;\n\t\tte[ 6 ] = ( yz + wx ) * sy;\n\t\tte[ 7 ] = 0;\n\n\t\tte[ 8 ] = ( xz + wy ) * sz;\n\t\tte[ 9 ] = ( yz - wx ) * sz;\n\t\tte[ 10 ] = ( 1 - ( xx + yy ) ) * sz;\n\t\tte[ 11 ] = 0;\n\n\t\tte[ 12 ] = position.x;\n\t\tte[ 13 ] = position.y;\n\t\tte[ 14 ] = position.z;\n\t\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tdecompose: function ( position, quaternion, scale ) {\n\n\t\tvar te = this.elements;\n\n\t\tvar sx = _v1.set( te[ 0 ], te[ 1 ], te[ 2 ] ).length();\n\t\tvar sy = _v1.set( te[ 4 ], te[ 5 ], te[ 6 ] ).length();\n\t\tvar sz = _v1.set( te[ 8 ], te[ 9 ], te[ 10 ] ).length();\n\n\t\t// if determine is negative, we need to invert one scale\n\t\tvar det = this.determinant();\n\t\tif ( det < 0 ) sx = - sx;\n\n\t\tposition.x = te[ 12 ];\n\t\tposition.y = te[ 13 ];\n\t\tposition.z = te[ 14 ];\n\n\t\t// scale the rotation part\n\t\t_m1.copy( this );\n\n\t\tvar invSX = 1 / sx;\n\t\tvar invSY = 1 / sy;\n\t\tvar invSZ = 1 / sz;\n\n\t\t_m1.elements[ 0 ] *= invSX;\n\t\t_m1.elements[ 1 ] *= invSX;\n\t\t_m1.elements[ 2 ] *= invSX;\n\n\t\t_m1.elements[ 4 ] *= invSY;\n\t\t_m1.elements[ 5 ] *= invSY;\n\t\t_m1.elements[ 6 ] *= invSY;\n\n\t\t_m1.elements[ 8 ] *= invSZ;\n\t\t_m1.elements[ 9 ] *= invSZ;\n\t\t_m1.elements[ 10 ] *= invSZ;\n\n\t\tquaternion.setFromRotationMatrix( _m1 );\n\n\t\tscale.x = sx;\n\t\tscale.y = sy;\n\t\tscale.z = sz;\n\n\t\treturn this;\n\n\t},\n\n\tmakePerspective: function ( left, right, top, bottom, near, far ) {\n\n\t\tif ( far === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Matrix4: .makePerspective() has been redefined and has a new signature. Please check the docs.' );\n\n\t\t}\n\n\t\tvar te = this.elements;\n\t\tvar x = 2 * near / ( right - left );\n\t\tvar y = 2 * near / ( top - bottom );\n\n\t\tvar a = ( right + left ) / ( right - left );\n\t\tvar b = ( top + bottom ) / ( top - bottom );\n\t\tvar c = - ( far + near ) / ( far - near );\n\t\tvar d = - 2 * far * near / ( far - near );\n\n\t\tte[ 0 ] = x;\tte[ 4 ] = 0;\tte[ 8 ] = a;\tte[ 12 ] = 0;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = y;\tte[ 9 ] = b;\tte[ 13 ] = 0;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = c;\tte[ 14 ] = d;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = - 1;\tte[ 15 ] = 0;\n\n\t\treturn this;\n\n\t},\n\n\tmakeOrthographic: function ( left, right, top, bottom, near, far ) {\n\n\t\tvar te = this.elements;\n\t\tvar w = 1.0 / ( right - left );\n\t\tvar h = 1.0 / ( top - bottom );\n\t\tvar p = 1.0 / ( far - near );\n\n\t\tvar x = ( right + left ) * w;\n\t\tvar y = ( top + bottom ) * h;\n\t\tvar z = ( far + near ) * p;\n\n\t\tte[ 0 ] = 2 * w;\tte[ 4 ] = 0;\tte[ 8 ] = 0;\tte[ 12 ] = - x;\n\t\tte[ 1 ] = 0;\tte[ 5 ] = 2 * h;\tte[ 9 ] = 0;\tte[ 13 ] = - y;\n\t\tte[ 2 ] = 0;\tte[ 6 ] = 0;\tte[ 10 ] = - 2 * p;\tte[ 14 ] = - z;\n\t\tte[ 3 ] = 0;\tte[ 7 ] = 0;\tte[ 11 ] = 0;\tte[ 15 ] = 1;\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( matrix ) {\n\n\t\tvar te = this.elements;\n\t\tvar me = matrix.elements;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tif ( te[ i ] !== me[ i ] ) return false;\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tfor ( var i = 0; i < 16; i ++ ) {\n\n\t\t\tthis.elements[ i ] = array[ i + offset ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar te = this.elements;\n\n\t\tarray[ offset ] = te[ 0 ];\n\t\tarray[ offset + 1 ] = te[ 1 ];\n\t\tarray[ offset + 2 ] = te[ 2 ];\n\t\tarray[ offset + 3 ] = te[ 3 ];\n\n\t\tarray[ offset + 4 ] = te[ 4 ];\n\t\tarray[ offset + 5 ] = te[ 5 ];\n\t\tarray[ offset + 6 ] = te[ 6 ];\n\t\tarray[ offset + 7 ] = te[ 7 ];\n\n\t\tarray[ offset + 8 ] = te[ 8 ];\n\t\tarray[ offset + 9 ] = te[ 9 ];\n\t\tarray[ offset + 10 ] = te[ 10 ];\n\t\tarray[ offset + 11 ] = te[ 11 ];\n\n\t\tarray[ offset + 12 ] = te[ 12 ];\n\t\tarray[ offset + 13 ] = te[ 13 ];\n\t\tarray[ offset + 14 ] = te[ 14 ];\n\t\tarray[ offset + 15 ] = te[ 15 ];\n\n\t\treturn array;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author bhouston / http://clara.io\n */\n\nvar _matrix = new Matrix4();\nvar _quaternion$1 = new Quaternion();\n\nfunction Euler( x, y, z, order ) {\n\n\tthis._x = x || 0;\n\tthis._y = y || 0;\n\tthis._z = z || 0;\n\tthis._order = order || Euler.DefaultOrder;\n\n}\n\nEuler.RotationOrders = [ 'XYZ', 'YZX', 'ZXY', 'XZY', 'YXZ', 'ZYX' ];\n\nEuler.DefaultOrder = 'XYZ';\n\nObject.defineProperties( Euler.prototype, {\n\n\tx: {\n\n\t\tget: function () {\n\n\t\t\treturn this._x;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._x = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\ty: {\n\n\t\tget: function () {\n\n\t\t\treturn this._y;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._y = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\tz: {\n\n\t\tget: function () {\n\n\t\t\treturn this._z;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._z = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t},\n\n\torder: {\n\n\t\tget: function () {\n\n\t\t\treturn this._order;\n\n\t\t},\n\n\t\tset: function ( value ) {\n\n\t\t\tthis._order = value;\n\t\t\tthis._onChangeCallback();\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( Euler.prototype, {\n\n\tisEuler: true,\n\n\tset: function ( x, y, z, order ) {\n\n\t\tthis._x = x;\n\t\tthis._y = y;\n\t\tthis._z = z;\n\t\tthis._order = order || this._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this._x, this._y, this._z, this._order );\n\n\t},\n\n\tcopy: function ( euler ) {\n\n\t\tthis._x = euler._x;\n\t\tthis._y = euler._y;\n\t\tthis._z = euler._z;\n\t\tthis._order = euler._order;\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromRotationMatrix: function ( m, order, update ) {\n\n\t\tvar clamp = MathUtils.clamp;\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tvar te = m.elements;\n\t\tvar m11 = te[ 0 ], m12 = te[ 4 ], m13 = te[ 8 ];\n\t\tvar m21 = te[ 1 ], m22 = te[ 5 ], m23 = te[ 9 ];\n\t\tvar m31 = te[ 2 ], m32 = te[ 6 ], m33 = te[ 10 ];\n\n\t\torder = order || this._order;\n\n\t\tif ( order === 'XYZ' ) {\n\n\t\t\tthis._y = Math.asin( clamp( m13, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m13 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'YXZ' ) {\n\n\t\t\tthis._x = Math.asin( - clamp( m23, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m23 ) < 0.9999999 ) {\n\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\t\t\t\tthis._z = 0;\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZXY' ) {\n\n\t\t\tthis._x = Math.asin( clamp( m32, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m32 ) < 0.9999999 ) {\n\n\t\t\t\tthis._y = Math.atan2( - m31, m33 );\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._y = 0;\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'ZYX' ) {\n\n\t\t\tthis._y = Math.asin( - clamp( m31, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m31 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m33 );\n\t\t\t\tthis._z = Math.atan2( m21, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._z = Math.atan2( - m12, m22 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'YZX' ) {\n\n\t\t\tthis._z = Math.asin( clamp( m21, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m21 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m22 );\n\t\t\t\tthis._y = Math.atan2( - m31, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = 0;\n\t\t\t\tthis._y = Math.atan2( m13, m33 );\n\n\t\t\t}\n\n\t\t} else if ( order === 'XZY' ) {\n\n\t\t\tthis._z = Math.asin( - clamp( m12, - 1, 1 ) );\n\n\t\t\tif ( Math.abs( m12 ) < 0.9999999 ) {\n\n\t\t\t\tthis._x = Math.atan2( m32, m22 );\n\t\t\t\tthis._y = Math.atan2( m13, m11 );\n\n\t\t\t} else {\n\n\t\t\t\tthis._x = Math.atan2( - m23, m33 );\n\t\t\t\tthis._y = 0;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Euler: .setFromRotationMatrix() given unsupported order: ' + order );\n\n\t\t}\n\n\t\tthis._order = order;\n\n\t\tif ( update !== false ) this._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\tsetFromQuaternion: function ( q, order, update ) {\n\n\t\t_matrix.makeRotationFromQuaternion( q );\n\n\t\treturn this.setFromRotationMatrix( _matrix, order, update );\n\n\t},\n\n\tsetFromVector3: function ( v, order ) {\n\n\t\treturn this.set( v.x, v.y, v.z, order || this._order );\n\n\t},\n\n\treorder: function ( newOrder ) {\n\n\t\t// WARNING: this discards revolution information -bhouston\n\n\t\t_quaternion$1.setFromEuler( this );\n\n\t\treturn this.setFromQuaternion( _quaternion$1, newOrder );\n\n\t},\n\n\tequals: function ( euler ) {\n\n\t\treturn ( euler._x === this._x ) && ( euler._y === this._y ) && ( euler._z === this._z ) && ( euler._order === this._order );\n\n\t},\n\n\tfromArray: function ( array ) {\n\n\t\tthis._x = array[ 0 ];\n\t\tthis._y = array[ 1 ];\n\t\tthis._z = array[ 2 ];\n\t\tif ( array[ 3 ] !== undefined ) this._order = array[ 3 ];\n\n\t\tthis._onChangeCallback();\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this._x;\n\t\tarray[ offset + 1 ] = this._y;\n\t\tarray[ offset + 2 ] = this._z;\n\t\tarray[ offset + 3 ] = this._order;\n\n\t\treturn array;\n\n\t},\n\n\ttoVector3: function ( optionalResult ) {\n\n\t\tif ( optionalResult ) {\n\n\t\t\treturn optionalResult.set( this._x, this._y, this._z );\n\n\t\t} else {\n\n\t\t\treturn new Vector3( this._x, this._y, this._z );\n\n\t\t}\n\n\t},\n\n\t_onChange: function ( callback ) {\n\n\t\tthis._onChangeCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\t_onChangeCallback: function () {}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Layers() {\n\n\tthis.mask = 1 | 0;\n\n}\n\nObject.assign( Layers.prototype, {\n\n\tset: function ( channel ) {\n\n\t\tthis.mask = 1 << channel | 0;\n\n\t},\n\n\tenable: function ( channel ) {\n\n\t\tthis.mask |= 1 << channel | 0;\n\n\t},\n\n\tenableAll: function () {\n\n\t\tthis.mask = 0xffffffff | 0;\n\n\t},\n\n\ttoggle: function ( channel ) {\n\n\t\tthis.mask ^= 1 << channel | 0;\n\n\t},\n\n\tdisable: function ( channel ) {\n\n\t\tthis.mask &= ~ ( 1 << channel | 0 );\n\n\t},\n\n\tdisableAll: function () {\n\n\t\tthis.mask = 0;\n\n\t},\n\n\ttest: function ( layers ) {\n\n\t\treturn ( this.mask & layers.mask ) !== 0;\n\n\t}\n\n} );\n\nvar _object3DId = 0;\n\nvar _v1$1 = new Vector3();\nvar _q1 = new Quaternion();\nvar _m1$1 = new Matrix4();\nvar _target = new Vector3();\n\nvar _position = new Vector3();\nvar _scale = new Vector3();\nvar _quaternion$2 = new Quaternion();\n\nvar _xAxis = new Vector3( 1, 0, 0 );\nvar _yAxis = new Vector3( 0, 1, 0 );\nvar _zAxis = new Vector3( 0, 0, 1 );\n\nvar _addedEvent = { type: 'added' };\nvar _removedEvent = { type: 'removed' };\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author WestLangley / http://github.com/WestLangley\n * @author elephantatwork / www.elephantatwork.ch\n */\n\nfunction Object3D() {\n\n\tObject.defineProperty( this, 'id', { value: _object3DId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Object3D';\n\n\tthis.parent = null;\n\tthis.children = [];\n\n\tthis.up = Object3D.DefaultUp.clone();\n\n\tvar position = new Vector3();\n\tvar rotation = new Euler();\n\tvar quaternion = new Quaternion();\n\tvar scale = new Vector3( 1, 1, 1 );\n\n\tfunction onRotationChange() {\n\n\t\tquaternion.setFromEuler( rotation, false );\n\n\t}\n\n\tfunction onQuaternionChange() {\n\n\t\trotation.setFromQuaternion( quaternion, undefined, false );\n\n\t}\n\n\trotation._onChange( onRotationChange );\n\tquaternion._onChange( onQuaternionChange );\n\n\tObject.defineProperties( this, {\n\t\tposition: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: position\n\t\t},\n\t\trotation: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: rotation\n\t\t},\n\t\tquaternion: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: quaternion\n\t\t},\n\t\tscale: {\n\t\t\tconfigurable: true,\n\t\t\tenumerable: true,\n\t\t\tvalue: scale\n\t\t},\n\t\tmodelViewMatrix: {\n\t\t\tvalue: new Matrix4()\n\t\t},\n\t\tnormalMatrix: {\n\t\t\tvalue: new Matrix3()\n\t\t}\n\t} );\n\n\tthis.matrix = new Matrix4();\n\tthis.matrixWorld = new Matrix4();\n\n\tthis.matrixAutoUpdate = Object3D.DefaultMatrixAutoUpdate;\n\tthis.matrixWorldNeedsUpdate = false;\n\n\tthis.layers = new Layers();\n\tthis.visible = true;\n\n\tthis.castShadow = false;\n\tthis.receiveShadow = false;\n\n\tthis.frustumCulled = true;\n\tthis.renderOrder = 0;\n\n\tthis.userData = {};\n\n}\n\nObject3D.DefaultUp = new Vector3( 0, 1, 0 );\nObject3D.DefaultMatrixAutoUpdate = true;\n\nObject3D.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Object3D,\n\n\tisObject3D: true,\n\n\tonBeforeRender: function () {},\n\tonAfterRender: function () {},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tthis.matrix.premultiply( matrix );\n\n\t\tthis.matrix.decompose( this.position, this.quaternion, this.scale );\n\n\t},\n\n\tapplyQuaternion: function ( q ) {\n\n\t\tthis.quaternion.premultiply( q );\n\n\t\treturn this;\n\n\t},\n\n\tsetRotationFromAxisAngle: function ( axis, angle ) {\n\n\t\t// assumes axis is normalized\n\n\t\tthis.quaternion.setFromAxisAngle( axis, angle );\n\n\t},\n\n\tsetRotationFromEuler: function ( euler ) {\n\n\t\tthis.quaternion.setFromEuler( euler, true );\n\n\t},\n\n\tsetRotationFromMatrix: function ( m ) {\n\n\t\t// assumes the upper 3x3 of m is a pure rotation matrix (i.e, unscaled)\n\n\t\tthis.quaternion.setFromRotationMatrix( m );\n\n\t},\n\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\t// assumes q is normalized\n\n\t\tthis.quaternion.copy( q );\n\n\t},\n\n\trotateOnAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.multiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateOnWorldAxis: function ( axis, angle ) {\n\n\t\t// rotate object on axis in world space\n\t\t// axis is assumed to be normalized\n\t\t// method assumes no rotated parent\n\n\t\t_q1.setFromAxisAngle( axis, angle );\n\n\t\tthis.quaternion.premultiply( _q1 );\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _xAxis, angle );\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _yAxis, angle );\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\treturn this.rotateOnAxis( _zAxis, angle );\n\n\t},\n\n\ttranslateOnAxis: function ( axis, distance ) {\n\n\t\t// translate object by distance along axis in object space\n\t\t// axis is assumed to be normalized\n\n\t\t_v1$1.copy( axis ).applyQuaternion( this.quaternion );\n\n\t\tthis.position.add( _v1$1.multiplyScalar( distance ) );\n\n\t\treturn this;\n\n\t},\n\n\ttranslateX: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _xAxis, distance );\n\n\t},\n\n\ttranslateY: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _yAxis, distance );\n\n\t},\n\n\ttranslateZ: function ( distance ) {\n\n\t\treturn this.translateOnAxis( _zAxis, distance );\n\n\t},\n\n\tlocalToWorld: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( this.matrixWorld );\n\n\t},\n\n\tworldToLocal: function ( vector ) {\n\n\t\treturn vector.applyMatrix4( _m1$1.getInverse( this.matrixWorld ) );\n\n\t},\n\n\tlookAt: function ( x, y, z ) {\n\n\t\t// This method does not support objects having non-uniformly-scaled parent(s)\n\n\t\tif ( x.isVector3 ) {\n\n\t\t\t_target.copy( x );\n\n\t\t} else {\n\n\t\t\t_target.set( x, y, z );\n\n\t\t}\n\n\t\tvar parent = this.parent;\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_position.setFromMatrixPosition( this.matrixWorld );\n\n\t\tif ( this.isCamera || this.isLight ) {\n\n\t\t\t_m1$1.lookAt( _position, _target, this.up );\n\n\t\t} else {\n\n\t\t\t_m1$1.lookAt( _target, _position, this.up );\n\n\t\t}\n\n\t\tthis.quaternion.setFromRotationMatrix( _m1$1 );\n\n\t\tif ( parent ) {\n\n\t\t\t_m1$1.extractRotation( parent.matrixWorld );\n\t\t\t_q1.setFromRotationMatrix( _m1$1 );\n\t\t\tthis.quaternion.premultiply( _q1.inverse() );\n\n\t\t}\n\n\t},\n\n\tadd: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.add( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( object === this ) {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object can't be added as a child of itself.\", object );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tif ( ( object && object.isObject3D ) ) {\n\n\t\t\tif ( object.parent !== null ) {\n\n\t\t\t\tobject.parent.remove( object );\n\n\t\t\t}\n\n\t\t\tobject.parent = this;\n\t\t\tthis.children.push( object );\n\n\t\t\tobject.dispatchEvent( _addedEvent );\n\n\t\t} else {\n\n\t\t\tconsole.error( \"THREE.Object3D.add: object not an instance of THREE.Object3D.\", object );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tremove: function ( object ) {\n\n\t\tif ( arguments.length > 1 ) {\n\n\t\t\tfor ( var i = 0; i < arguments.length; i ++ ) {\n\n\t\t\t\tthis.remove( arguments[ i ] );\n\n\t\t\t}\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar index = this.children.indexOf( object );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\tobject.parent = null;\n\t\t\tthis.children.splice( index, 1 );\n\n\t\t\tobject.dispatchEvent( _removedEvent );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tattach: function ( object ) {\n\n\t\t// adds object as a child of this, while maintaining the object's world transform\n\n\t\tthis.updateWorldMatrix( true, false );\n\n\t\t_m1$1.getInverse( this.matrixWorld );\n\n\t\tif ( object.parent !== null ) {\n\n\t\t\tobject.parent.updateWorldMatrix( true, false );\n\n\t\t\t_m1$1.multiply( object.parent.matrixWorld );\n\n\t\t}\n\n\t\tobject.applyMatrix4( _m1$1 );\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetObjectById: function ( id ) {\n\n\t\treturn this.getObjectByProperty( 'id', id );\n\n\t},\n\n\tgetObjectByName: function ( name ) {\n\n\t\treturn this.getObjectByProperty( 'name', name );\n\n\t},\n\n\tgetObjectByProperty: function ( name, value ) {\n\n\t\tif ( this[ name ] === value ) return this;\n\n\t\tfor ( var i = 0, l = this.children.length; i < l; i ++ ) {\n\n\t\t\tvar child = this.children[ i ];\n\t\t\tvar object = child.getObjectByProperty( name, value );\n\n\t\t\tif ( object !== undefined ) {\n\n\t\t\t\treturn object;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t},\n\n\tgetWorldPosition: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldPosition() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\treturn target.setFromMatrixPosition( this.matrixWorld );\n\n\t},\n\n\tgetWorldQuaternion: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldQuaternion() target is now required' );\n\t\t\ttarget = new Quaternion();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, target, _scale );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldScale: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldScale() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tthis.matrixWorld.decompose( _position, _quaternion$2, target );\n\n\t\treturn target;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( e[ 8 ], e[ 9 ], e[ 10 ] ).normalize();\n\n\t},\n\n\traycast: function () {},\n\n\ttraverse: function ( callback ) {\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverse( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseVisible: function ( callback ) {\n\n\t\tif ( this.visible === false ) return;\n\n\t\tcallback( this );\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].traverseVisible( callback );\n\n\t\t}\n\n\t},\n\n\ttraverseAncestors: function ( callback ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( parent !== null ) {\n\n\t\t\tcallback( parent );\n\n\t\t\tparent.traverseAncestors( callback );\n\n\t\t}\n\n\t},\n\n\tupdateMatrix: function () {\n\n\t\tthis.matrix.compose( this.position, this.quaternion, this.scale );\n\n\t\tthis.matrixWorldNeedsUpdate = true;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.matrixWorldNeedsUpdate || force ) {\n\n\t\t\tif ( this.parent === null ) {\n\n\t\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t\t} else {\n\n\t\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t\t}\n\n\t\t\tthis.matrixWorldNeedsUpdate = false;\n\n\t\t\tforce = true;\n\n\t\t}\n\n\t\t// update children\n\n\t\tvar children = this.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( force );\n\n\t\t}\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tvar parent = this.parent;\n\n\t\tif ( updateParents === true && parent !== null ) {\n\n\t\t\tparent.updateWorldMatrix( true, false );\n\n\t\t}\n\n\t\tif ( this.matrixAutoUpdate ) this.updateMatrix();\n\n\t\tif ( this.parent === null ) {\n\n\t\t\tthis.matrixWorld.copy( this.matrix );\n\n\t\t} else {\n\n\t\t\tthis.matrixWorld.multiplyMatrices( this.parent.matrixWorld, this.matrix );\n\n\t\t}\n\n\t\t// update children\n\n\t\tif ( updateChildren === true ) {\n\n\t\t\tvar children = this.children;\n\n\t\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\t\tchildren[ i ].updateWorldMatrix( false, true );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\t// meta is a string when called from JSON.stringify\n\t\tvar isRootObject = ( meta === undefined || typeof meta === 'string' );\n\n\t\tvar output = {};\n\n\t\t// meta is a hash used to collect geometries, materials.\n\t\t// not providing it implies that this is the root object\n\t\t// being serialized.\n\t\tif ( isRootObject ) {\n\n\t\t\t// initialize meta obj\n\t\t\tmeta = {\n\t\t\t\tgeometries: {},\n\t\t\t\tmaterials: {},\n\t\t\t\ttextures: {},\n\t\t\t\timages: {},\n\t\t\t\tshapes: {}\n\t\t\t};\n\n\t\t\toutput.metadata = {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Object',\n\t\t\t\tgenerator: 'Object3D.toJSON'\n\t\t\t};\n\n\t\t}\n\n\t\t// standard Object3D serialization\n\n\t\tvar object = {};\n\n\t\tobject.uuid = this.uuid;\n\t\tobject.type = this.type;\n\n\t\tif ( this.name !== '' ) object.name = this.name;\n\t\tif ( this.castShadow === true ) object.castShadow = true;\n\t\tif ( this.receiveShadow === true ) object.receiveShadow = true;\n\t\tif ( this.visible === false ) object.visible = false;\n\t\tif ( this.frustumCulled === false ) object.frustumCulled = false;\n\t\tif ( this.renderOrder !== 0 ) object.renderOrder = this.renderOrder;\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) object.userData = this.userData;\n\n\t\tobject.layers = this.layers.mask;\n\t\tobject.matrix = this.matrix.toArray();\n\n\t\tif ( this.matrixAutoUpdate === false ) object.matrixAutoUpdate = false;\n\n\t\t// object specific properties\n\n\t\tif ( this.isInstancedMesh ) {\n\n\t\t\tobject.type = 'InstancedMesh';\n\t\t\tobject.count = this.count;\n\t\t\tobject.instanceMatrix = this.instanceMatrix.toJSON();\n\n\t\t}\n\n\t\t//\n\n\t\tfunction serialize( library, element ) {\n\n\t\t\tif ( library[ element.uuid ] === undefined ) {\n\n\t\t\t\tlibrary[ element.uuid ] = element.toJSON( meta );\n\n\t\t\t}\n\n\t\t\treturn element.uuid;\n\n\t\t}\n\n\t\tif ( this.isMesh || this.isLine || this.isPoints ) {\n\n\t\t\tobject.geometry = serialize( meta.geometries, this.geometry );\n\n\t\t\tvar parameters = this.geometry.parameters;\n\n\t\t\tif ( parameters !== undefined && parameters.shapes !== undefined ) {\n\n\t\t\t\tvar shapes = parameters.shapes;\n\n\t\t\t\tif ( Array.isArray( shapes ) ) {\n\n\t\t\t\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\t\t\t\tvar shape = shapes[ i ];\n\n\t\t\t\t\t\tserialize( meta.shapes, shape );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tserialize( meta.shapes, shapes );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.material !== undefined ) {\n\n\t\t\tif ( Array.isArray( this.material ) ) {\n\n\t\t\t\tvar uuids = [];\n\n\t\t\t\tfor ( var i = 0, l = this.material.length; i < l; i ++ ) {\n\n\t\t\t\t\tuuids.push( serialize( meta.materials, this.material[ i ] ) );\n\n\t\t\t\t}\n\n\t\t\t\tobject.material = uuids;\n\n\t\t\t} else {\n\n\t\t\t\tobject.material = serialize( meta.materials, this.material );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.children.length > 0 ) {\n\n\t\t\tobject.children = [];\n\n\t\t\tfor ( var i = 0; i < this.children.length; i ++ ) {\n\n\t\t\t\tobject.children.push( this.children[ i ].toJSON( meta ).object );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( isRootObject ) {\n\n\t\t\tvar geometries = extractFromCache( meta.geometries );\n\t\t\tvar materials = extractFromCache( meta.materials );\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\t\t\tvar shapes = extractFromCache( meta.shapes );\n\n\t\t\tif ( geometries.length > 0 ) output.geometries = geometries;\n\t\t\tif ( materials.length > 0 ) output.materials = materials;\n\t\t\tif ( textures.length > 0 ) output.textures = textures;\n\t\t\tif ( images.length > 0 ) output.images = images;\n\t\t\tif ( shapes.length > 0 ) output.shapes = shapes;\n\n\t\t}\n\n\t\toutput.object = object;\n\n\t\treturn output;\n\n\t\t// extract data from the cache hash\n\t\t// remove metadata on each item\n\t\t// and return as array\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\t\t\treturn values;\n\n\t\t}\n\n\t},\n\n\tclone: function ( recursive ) {\n\n\t\treturn new this.constructor().copy( this, recursive );\n\n\t},\n\n\tcopy: function ( source, recursive ) {\n\n\t\tif ( recursive === undefined ) recursive = true;\n\n\t\tthis.name = source.name;\n\n\t\tthis.up.copy( source.up );\n\n\t\tthis.position.copy( source.position );\n\t\tthis.quaternion.copy( source.quaternion );\n\t\tthis.scale.copy( source.scale );\n\n\t\tthis.matrix.copy( source.matrix );\n\t\tthis.matrixWorld.copy( source.matrixWorld );\n\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\t\tthis.matrixWorldNeedsUpdate = source.matrixWorldNeedsUpdate;\n\n\t\tthis.layers.mask = source.layers.mask;\n\t\tthis.visible = source.visible;\n\n\t\tthis.castShadow = source.castShadow;\n\t\tthis.receiveShadow = source.receiveShadow;\n\n\t\tthis.frustumCulled = source.frustumCulled;\n\t\tthis.renderOrder = source.renderOrder;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\tif ( recursive === true ) {\n\n\t\t\tfor ( var i = 0; i < source.children.length; i ++ ) {\n\n\t\t\t\tvar child = source.children[ i ];\n\t\t\t\tthis.add( child.clone() );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Scene() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Scene';\n\n\tthis.background = null;\n\tthis.environment = null;\n\tthis.fog = null;\n\n\tthis.overrideMaterial = null;\n\n\tthis.autoUpdate = true; // checked by the renderer\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\nScene.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Scene,\n\n\tisScene: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tif ( source.background !== null ) this.background = source.background.clone();\n\t\tif ( source.environment !== null ) this.environment = source.environment.clone();\n\t\tif ( source.fog !== null ) this.fog = source.fog.clone();\n\n\t\tif ( source.overrideMaterial !== null ) this.overrideMaterial = source.overrideMaterial.clone();\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\t\tthis.matrixAutoUpdate = source.matrixAutoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.background !== null ) data.object.background = this.background.toJSON( meta );\n\t\tif ( this.environment !== null ) data.object.environment = this.environment.toJSON( meta );\n\t\tif ( this.fog !== null ) data.object.fog = this.fog.toJSON();\n\n\t\treturn data;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nvar _points = [\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3(),\n\tnew Vector3()\n];\n\nvar _vector$1 = new Vector3();\n\nvar _box = new Box3();\n\n// triangle centered vertices\n\nvar _v0 = new Vector3();\nvar _v1$2 = new Vector3();\nvar _v2 = new Vector3();\n\n// triangle edge vectors\n\nvar _f0 = new Vector3();\nvar _f1 = new Vector3();\nvar _f2 = new Vector3();\n\nvar _center = new Vector3();\nvar _extents = new Vector3();\nvar _triangleNormal = new Vector3();\nvar _testAxis = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector3( + Infinity, + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector3( - Infinity, - Infinity, - Infinity );\n\n}\n\n\nObject.assign( Box3.prototype, {\n\n\tisBox3: true,\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromArray: function ( array ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\tvar x = array[ i ];\n\t\t\tvar y = array[ i + 1 ];\n\t\t\tvar z = array[ i + 2 ];\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromBufferAttribute: function ( attribute ) {\n\n\t\tvar minX = + Infinity;\n\t\tvar minY = + Infinity;\n\t\tvar minZ = + Infinity;\n\n\t\tvar maxX = - Infinity;\n\t\tvar maxY = - Infinity;\n\t\tvar maxZ = - Infinity;\n\n\t\tfor ( var i = 0, l = attribute.count; i < l; i ++ ) {\n\n\t\t\tvar x = attribute.getX( i );\n\t\t\tvar y = attribute.getY( i );\n\t\t\tvar z = attribute.getZ( i );\n\n\t\t\tif ( x < minX ) minX = x;\n\t\t\tif ( y < minY ) minY = y;\n\t\t\tif ( z < minZ ) minZ = z;\n\n\t\t\tif ( x > maxX ) maxX = x;\n\t\t\tif ( y > maxY ) maxY = y;\n\t\t\tif ( z > maxZ ) maxZ = z;\n\n\t\t}\n\n\t\tthis.min.set( minX, minY, minZ );\n\t\tthis.max.set( maxX, maxY, maxZ );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tvar halfSize = _vector$1.copy( size ).multiplyScalar( 0.5 );\n\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\tthis.makeEmpty();\n\n\t\treturn this.expandByObject( object );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = this.min.z = + Infinity;\n\t\tthis.max.x = this.max.y = this.max.z = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y ) || ( this.max.z < this.min.z );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getSize() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\texpandByObject: function ( object ) {\n\n\t\t// Computes the world-axis-aligned bounding box of an object (including its children),\n\t\t// accounting for both the object's, and children's, world transforms\n\n\t\tobject.updateWorldMatrix( false, false );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry !== undefined ) {\n\n\t\t\tif ( geometry.boundingBox === null ) {\n\n\t\t\t\tgeometry.computeBoundingBox();\n\n\t\t\t}\n\n\t\t\t_box.copy( geometry.boundingBox );\n\t\t\t_box.applyMatrix4( object.matrixWorld );\n\n\t\t\tthis.union( _box );\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tthis.expandByObject( children[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ||\n\t\t\tpoint.z < this.min.z || point.z > this.max.z ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y &&\n\t\t\tthis.min.z <= box.min.z && box.max.z <= this.max.z;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .getParameter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y ),\n\t\t\t( point.z - this.min.z ) / ( this.max.z - this.min.z )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 6 splitting planes to rule out intersections.\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ||\n\t\t\tbox.max.z < this.min.z || box.min.z > this.max.z ? false : true;\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\t// Find the point on the AABB closest to the sphere center.\n\t\tthis.clampPoint( sphere.center, _vector$1 );\n\n\t\t// If that point is inside the sphere, the AABB and sphere intersect.\n\t\treturn _vector$1.distanceToSquared( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// We compute the minimum and maximum dot product values. If those values\n\t\t// are on the same side (back or front) of the plane, then there is no intersection.\n\n\t\tvar min, max;\n\n\t\tif ( plane.normal.x > 0 ) {\n\n\t\t\tmin = plane.normal.x * this.min.x;\n\t\t\tmax = plane.normal.x * this.max.x;\n\n\t\t} else {\n\n\t\t\tmin = plane.normal.x * this.max.x;\n\t\t\tmax = plane.normal.x * this.min.x;\n\n\t\t}\n\n\t\tif ( plane.normal.y > 0 ) {\n\n\t\t\tmin += plane.normal.y * this.min.y;\n\t\t\tmax += plane.normal.y * this.max.y;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.y * this.max.y;\n\t\t\tmax += plane.normal.y * this.min.y;\n\n\t\t}\n\n\t\tif ( plane.normal.z > 0 ) {\n\n\t\t\tmin += plane.normal.z * this.min.z;\n\t\t\tmax += plane.normal.z * this.max.z;\n\n\t\t} else {\n\n\t\t\tmin += plane.normal.z * this.max.z;\n\t\t\tmax += plane.normal.z * this.min.z;\n\n\t\t}\n\n\t\treturn ( min <= - plane.constant && max >= - plane.constant );\n\n\t},\n\n\tintersectsTriangle: function ( triangle ) {\n\n\t\tif ( this.isEmpty() ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// compute box center and extents\n\t\tthis.getCenter( _center );\n\t\t_extents.subVectors( this.max, _center );\n\n\t\t// translate triangle to aabb origin\n\t\t_v0.subVectors( triangle.a, _center );\n\t\t_v1$2.subVectors( triangle.b, _center );\n\t\t_v2.subVectors( triangle.c, _center );\n\n\t\t// compute edge vectors for triangle\n\t\t_f0.subVectors( _v1$2, _v0 );\n\t\t_f1.subVectors( _v2, _v1$2 );\n\t\t_f2.subVectors( _v0, _v2 );\n\n\t\t// test against axes that are given by cross product combinations of the edges of the triangle and the edges of the aabb\n\t\t// make an axis testing of each of the 3 sides of the aabb against each of the 3 sides of the triangle = 9 axis of separation\n\t\t// axis_ij = u_i x f_j (u0, u1, u2 = face normals of aabb = x,y,z axes vectors since aabb is axis aligned)\n\t\tvar axes = [\n\t\t\t0, - _f0.z, _f0.y, 0, - _f1.z, _f1.y, 0, - _f2.z, _f2.y,\n\t\t\t_f0.z, 0, - _f0.x, _f1.z, 0, - _f1.x, _f2.z, 0, - _f2.x,\n\t\t\t- _f0.y, _f0.x, 0, - _f1.y, _f1.x, 0, - _f2.y, _f2.x, 0\n\t\t];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// test 3 face normals from the aabb\n\t\taxes = [ 1, 0, 0, 0, 1, 0, 0, 0, 1 ];\n\t\tif ( ! satForAxes( axes, _v0, _v1$2, _v2, _extents ) ) {\n\n\t\t\treturn false;\n\n\t\t}\n\n\t\t// finally testing the face normal of the triangle\n\t\t// use already existing triangle edge vectors here\n\t\t_triangleNormal.crossVectors( _f0, _f1 );\n\t\taxes = [ _triangleNormal.x, _triangleNormal.y, _triangleNormal.z ];\n\n\t\treturn satForAxes( axes, _v0, _v1$2, _v2, _extents );\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box3: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tvar clampedPoint = _vector$1.copy( point ).clamp( this.min, this.max );\n\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tgetBoundingSphere: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Box3: .getBoundingSphere() target is now required' );\n\t\t\t//target = new Sphere(); // removed to avoid cyclic dependency\n\n\t\t}\n\n\t\tthis.getCenter( target.center );\n\n\t\ttarget.radius = this.getSize( _vector$1 ).length() * 0.5;\n\n\t\treturn target;\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\t// ensure that if there is no overlap, the result is fully empty, not slightly empty with non-inf/+inf values that will cause subsequence intersects to erroneously return valid values.\n\t\tif ( this.isEmpty() ) this.makeEmpty();\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\t// transform of empty box is an empty box.\n\t\tif ( this.isEmpty() ) return this;\n\n\t\t// NOTE: I am using a binary pattern to specify all 2^3 combinations below\n\t\t_points[ 0 ].set( this.min.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 000\n\t\t_points[ 1 ].set( this.min.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 001\n\t\t_points[ 2 ].set( this.min.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 010\n\t\t_points[ 3 ].set( this.min.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 011\n\t\t_points[ 4 ].set( this.max.x, this.min.y, this.min.z ).applyMatrix4( matrix ); // 100\n\t\t_points[ 5 ].set( this.max.x, this.min.y, this.max.z ).applyMatrix4( matrix ); // 101\n\t\t_points[ 6 ].set( this.max.x, this.max.y, this.min.z ).applyMatrix4( matrix ); // 110\n\t\t_points[ 7 ].set( this.max.x, this.max.y, this.max.z ).applyMatrix4( matrix ); // 111\n\n\t\tthis.setFromPoints( _points );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\nfunction satForAxes( axes, v0, v1, v2, extents ) {\n\n\tvar i, j;\n\n\tfor ( i = 0, j = axes.length - 3; i <= j; i += 3 ) {\n\n\t\t_testAxis.fromArray( axes, i );\n\t\t// project the aabb onto the seperating axis\n\t\tvar r = extents.x * Math.abs( _testAxis.x ) + extents.y * Math.abs( _testAxis.y ) + extents.z * Math.abs( _testAxis.z );\n\t\t// project all 3 vertices of the triangle onto the seperating axis\n\t\tvar p0 = v0.dot( _testAxis );\n\t\tvar p1 = v1.dot( _testAxis );\n\t\tvar p2 = v2.dot( _testAxis );\n\t\t// actual test, basically see if either of the most extreme of the triangle points intersects r\n\t\tif ( Math.max( - Math.max( p0, p1, p2 ), Math.min( p0, p1, p2 ) ) > r ) {\n\n\t\t\t// points of the projected triangle are outside the projected half-length of the aabb\n\t\t\t// the axis is seperating and we can exit\n\t\t\treturn false;\n\n\t\t}\n\n\t}\n\n\treturn true;\n\n}\n\nvar _box$1 = new Box3();\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Sphere( center, radius ) {\n\n\tthis.center = ( center !== undefined ) ? center : new Vector3();\n\tthis.radius = ( radius !== undefined ) ? radius : 0;\n\n}\n\nObject.assign( Sphere.prototype, {\n\n\tset: function ( center, radius ) {\n\n\t\tthis.center.copy( center );\n\t\tthis.radius = radius;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points, optionalCenter ) {\n\n\t\tvar center = this.center;\n\n\t\tif ( optionalCenter !== undefined ) {\n\n\t\t\tcenter.copy( optionalCenter );\n\n\t\t} else {\n\n\t\t\t_box$1.setFromPoints( points ).getCenter( center );\n\n\t\t}\n\n\t\tvar maxRadiusSq = 0;\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( points[ i ] ) );\n\n\t\t}\n\n\t\tthis.radius = Math.sqrt( maxRadiusSq );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( sphere ) {\n\n\t\tthis.center.copy( sphere.center );\n\t\tthis.radius = sphere.radius;\n\n\t\treturn this;\n\n\t},\n\n\tempty: function () {\n\n\t\treturn ( this.radius <= 0 );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn ( point.distanceToSquared( this.center ) <= ( this.radius * this.radius ) );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn ( point.distanceTo( this.center ) - this.radius );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar radiusSum = this.radius + sphere.radius;\n\n\t\treturn sphere.center.distanceToSquared( this.center ) <= ( radiusSum * radiusSum );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsSphere( this );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\treturn Math.abs( plane.distanceToPoint( this.center ) ) <= this.radius;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tvar deltaLengthSq = this.center.distanceToSquared( point );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.copy( point );\n\n\t\tif ( deltaLengthSq > ( this.radius * this.radius ) ) {\n\n\t\t\ttarget.sub( this.center ).normalize();\n\t\t\ttarget.multiplyScalar( this.radius ).add( this.center );\n\n\t\t}\n\n\t\treturn target;\n\n\t},\n\n\tgetBoundingBox: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Sphere: .getBoundingBox() target is now required' );\n\t\t\ttarget = new Box3();\n\n\t\t}\n\n\t\ttarget.set( this.center, this.center );\n\t\ttarget.expandByScalar( this.radius );\n\n\t\treturn target;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.center.applyMatrix4( matrix );\n\t\tthis.radius = this.radius * matrix.getMaxScaleOnAxis();\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.center.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sphere ) {\n\n\t\treturn sphere.center.equals( this.center ) && ( sphere.radius === this.radius );\n\n\t}\n\n} );\n\nvar _vector$2 = new Vector3();\nvar _segCenter = new Vector3();\nvar _segDir = new Vector3();\nvar _diff = new Vector3();\n\nvar _edge1 = new Vector3();\nvar _edge2 = new Vector3();\nvar _normal = new Vector3();\n\n/**\n * @author bhouston / http://clara.io\n */\n\nfunction Ray( origin, direction ) {\n\n\tthis.origin = ( origin !== undefined ) ? origin : new Vector3();\n\tthis.direction = ( direction !== undefined ) ? direction : new Vector3( 0, 0, - 1 );\n\n}\n\nObject.assign( Ray.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\tthis.origin.copy( origin );\n\t\tthis.direction.copy( direction );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( ray ) {\n\n\t\tthis.origin.copy( ray.origin );\n\t\tthis.direction.copy( ray.direction );\n\n\t\treturn this;\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( t ).add( this.origin );\n\n\t},\n\n\tlookAt: function ( v ) {\n\n\t\tthis.direction.copy( v ).sub( this.origin ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\trecast: function ( t ) {\n\n\t\tthis.origin.copy( this.at( t, _vector$2 ) );\n\n\t\treturn this;\n\n\t},\n\n\tclosestPointToPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Ray: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( point, this.origin );\n\n\t\tvar directionDistance = target.dot( this.direction );\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn target.copy( this.origin );\n\n\t\t}\n\n\t\treturn target.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn Math.sqrt( this.distanceSqToPoint( point ) );\n\n\t},\n\n\tdistanceSqToPoint: function ( point ) {\n\n\t\tvar directionDistance = _vector$2.subVectors( point, this.origin ).dot( this.direction );\n\n\t\t// point behind the ray\n\n\t\tif ( directionDistance < 0 ) {\n\n\t\t\treturn this.origin.distanceToSquared( point );\n\n\t\t}\n\n\t\t_vector$2.copy( this.direction ).multiplyScalar( directionDistance ).add( this.origin );\n\n\t\treturn _vector$2.distanceToSquared( point );\n\n\t},\n\n\tdistanceSqToSegment: function ( v0, v1, optionalPointOnRay, optionalPointOnSegment ) {\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteDistRaySegment.h\n\t\t// It returns the min distance between the ray and the segment\n\t\t// defined by v0 and v1\n\t\t// It can also set two optional targets :\n\t\t// - The closest point on the ray\n\t\t// - The closest point on the segment\n\n\t\t_segCenter.copy( v0 ).add( v1 ).multiplyScalar( 0.5 );\n\t\t_segDir.copy( v1 ).sub( v0 ).normalize();\n\t\t_diff.copy( this.origin ).sub( _segCenter );\n\n\t\tvar segExtent = v0.distanceTo( v1 ) * 0.5;\n\t\tvar a01 = - this.direction.dot( _segDir );\n\t\tvar b0 = _diff.dot( this.direction );\n\t\tvar b1 = - _diff.dot( _segDir );\n\t\tvar c = _diff.lengthSq();\n\t\tvar det = Math.abs( 1 - a01 * a01 );\n\t\tvar s0, s1, sqrDist, extDet;\n\n\t\tif ( det > 0 ) {\n\n\t\t\t// The ray and segment are not parallel.\n\n\t\t\ts0 = a01 * b1 - b0;\n\t\t\ts1 = a01 * b0 - b1;\n\t\t\textDet = segExtent * det;\n\n\t\t\tif ( s0 >= 0 ) {\n\n\t\t\t\tif ( s1 >= - extDet ) {\n\n\t\t\t\t\tif ( s1 <= extDet ) {\n\n\t\t\t\t\t\t// region 0\n\t\t\t\t\t\t// Minimum at interior points of ray and segment.\n\n\t\t\t\t\t\tvar invDet = 1 / det;\n\t\t\t\t\t\ts0 *= invDet;\n\t\t\t\t\t\ts1 *= invDet;\n\t\t\t\t\t\tsqrDist = s0 * ( s0 + a01 * s1 + 2 * b0 ) + s1 * ( a01 * s0 + s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// region 1\n\n\t\t\t\t\t\ts1 = segExtent;\n\t\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 5\n\n\t\t\t\t\ts1 = - segExtent;\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tif ( s1 <= - extDet ) {\n\n\t\t\t\t\t// region 4\n\n\t\t\t\t\ts0 = Math.max( 0, - ( - a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? - segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else if ( s1 <= extDet ) {\n\n\t\t\t\t\t// region 3\n\n\t\t\t\t\ts0 = 0;\n\t\t\t\t\ts1 = Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// region 2\n\n\t\t\t\t\ts0 = Math.max( 0, - ( a01 * segExtent + b0 ) );\n\t\t\t\t\ts1 = ( s0 > 0 ) ? segExtent : Math.min( Math.max( - segExtent, - b1 ), segExtent );\n\t\t\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Ray and segment are parallel.\n\n\t\t\ts1 = ( a01 > 0 ) ? - segExtent : segExtent;\n\t\t\ts0 = Math.max( 0, - ( a01 * s1 + b0 ) );\n\t\t\tsqrDist = - s0 * s0 + s1 * ( s1 + 2 * b1 ) + c;\n\n\t\t}\n\n\t\tif ( optionalPointOnRay ) {\n\n\t\t\toptionalPointOnRay.copy( this.direction ).multiplyScalar( s0 ).add( this.origin );\n\n\t\t}\n\n\t\tif ( optionalPointOnSegment ) {\n\n\t\t\toptionalPointOnSegment.copy( _segDir ).multiplyScalar( s1 ).add( _segCenter );\n\n\t\t}\n\n\t\treturn sqrDist;\n\n\t},\n\n\tintersectSphere: function ( sphere, target ) {\n\n\t\t_vector$2.subVectors( sphere.center, this.origin );\n\t\tvar tca = _vector$2.dot( this.direction );\n\t\tvar d2 = _vector$2.dot( _vector$2 ) - tca * tca;\n\t\tvar radius2 = sphere.radius * sphere.radius;\n\n\t\tif ( d2 > radius2 ) return null;\n\n\t\tvar thc = Math.sqrt( radius2 - d2 );\n\n\t\t// t0 = first intersect point - entrance on front of sphere\n\t\tvar t0 = tca - thc;\n\n\t\t// t1 = second intersect point - exit point on back of sphere\n\t\tvar t1 = tca + thc;\n\n\t\t// test to see if both t0 and t1 are behind the ray - if so, return null\n\t\tif ( t0 < 0 && t1 < 0 ) return null;\n\n\t\t// test to see if t0 is behind the ray:\n\t\t// if it is, the ray is inside the sphere, so return the second exit point scaled by t1,\n\t\t// in order to always return an intersect point that is in front of the ray.\n\t\tif ( t0 < 0 ) return this.at( t1, target );\n\n\t\t// else t0 is in front of the ray, so return the first collision point scaled by t0\n\t\treturn this.at( t0, target );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn this.distanceSqToPoint( sphere.center ) <= ( sphere.radius * sphere.radius );\n\n\t},\n\n\tdistanceToPlane: function ( plane ) {\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( plane.distanceToPoint( this.origin ) === 0 ) {\n\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\t// Null is preferable to undefined since undefined means.... it is undefined\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar t = - ( this.origin.dot( plane.normal ) + plane.constant ) / denominator;\n\n\t\t// Return if the ray never intersects the plane\n\n\t\treturn t >= 0 ? t : null;\n\n\t},\n\n\tintersectPlane: function ( plane, target ) {\n\n\t\tvar t = this.distanceToPlane( plane );\n\n\t\tif ( t === null ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\treturn this.at( t, target );\n\n\t},\n\n\tintersectsPlane: function ( plane ) {\n\n\t\t// check if the ray lies on the plane first\n\n\t\tvar distToPoint = plane.distanceToPoint( this.origin );\n\n\t\tif ( distToPoint === 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\tvar denominator = plane.normal.dot( this.direction );\n\n\t\tif ( denominator * distToPoint < 0 ) {\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\t// ray origin is behind the plane (and is pointing behind it)\n\n\t\treturn false;\n\n\t},\n\n\tintersectBox: function ( box, target ) {\n\n\t\tvar tmin, tmax, tymin, tymax, tzmin, tzmax;\n\n\t\tvar invdirx = 1 / this.direction.x,\n\t\t\tinvdiry = 1 / this.direction.y,\n\t\t\tinvdirz = 1 / this.direction.z;\n\n\t\tvar origin = this.origin;\n\n\t\tif ( invdirx >= 0 ) {\n\n\t\t\ttmin = ( box.min.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.max.x - origin.x ) * invdirx;\n\n\t\t} else {\n\n\t\t\ttmin = ( box.max.x - origin.x ) * invdirx;\n\t\t\ttmax = ( box.min.x - origin.x ) * invdirx;\n\n\t\t}\n\n\t\tif ( invdiry >= 0 ) {\n\n\t\t\ttymin = ( box.min.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.max.y - origin.y ) * invdiry;\n\n\t\t} else {\n\n\t\t\ttymin = ( box.max.y - origin.y ) * invdiry;\n\t\t\ttymax = ( box.min.y - origin.y ) * invdiry;\n\n\t\t}\n\n\t\tif ( ( tmin > tymax ) || ( tymin > tmax ) ) return null;\n\n\t\t// These lines also handle the case where tmin or tmax is NaN\n\t\t// (result of 0 * Infinity). x !== x returns true if x is NaN\n\n\t\tif ( tymin > tmin || tmin !== tmin ) tmin = tymin;\n\n\t\tif ( tymax < tmax || tmax !== tmax ) tmax = tymax;\n\n\t\tif ( invdirz >= 0 ) {\n\n\t\t\ttzmin = ( box.min.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.max.z - origin.z ) * invdirz;\n\n\t\t} else {\n\n\t\t\ttzmin = ( box.max.z - origin.z ) * invdirz;\n\t\t\ttzmax = ( box.min.z - origin.z ) * invdirz;\n\n\t\t}\n\n\t\tif ( ( tmin > tzmax ) || ( tzmin > tmax ) ) return null;\n\n\t\tif ( tzmin > tmin || tmin !== tmin ) tmin = tzmin;\n\n\t\tif ( tzmax < tmax || tmax !== tmax ) tmax = tzmax;\n\n\t\t//return point closest to the ray (positive side)\n\n\t\tif ( tmax < 0 ) return null;\n\n\t\treturn this.at( tmin >= 0 ? tmin : tmax, target );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn this.intersectBox( box, _vector$2 ) !== null;\n\n\t},\n\n\tintersectTriangle: function ( a, b, c, backfaceCulling, target ) {\n\n\t\t// Compute the offset origin, edges, and normal.\n\n\t\t// from http://www.geometrictools.com/GTEngine/Include/Mathematics/GteIntrRay3Triangle3.h\n\n\t\t_edge1.subVectors( b, a );\n\t\t_edge2.subVectors( c, a );\n\t\t_normal.crossVectors( _edge1, _edge2 );\n\n\t\t// Solve Q + t*D = b1*E1 + b2*E2 (Q = kDiff, D = ray direction,\n\t\t// E1 = kEdge1, E2 = kEdge2, N = Cross(E1,E2)) by\n\t\t//   |Dot(D,N)|*b1 = sign(Dot(D,N))*Dot(D,Cross(Q,E2))\n\t\t//   |Dot(D,N)|*b2 = sign(Dot(D,N))*Dot(D,Cross(E1,Q))\n\t\t//   |Dot(D,N)|*t = -sign(Dot(D,N))*Dot(Q,N)\n\t\tvar DdN = this.direction.dot( _normal );\n\t\tvar sign;\n\n\t\tif ( DdN > 0 ) {\n\n\t\t\tif ( backfaceCulling ) return null;\n\t\t\tsign = 1;\n\n\t\t} else if ( DdN < 0 ) {\n\n\t\t\tsign = - 1;\n\t\t\tDdN = - DdN;\n\n\t\t} else {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t_diff.subVectors( this.origin, a );\n\t\tvar DdQxE2 = sign * this.direction.dot( _edge2.crossVectors( _diff, _edge2 ) );\n\n\t\t// b1 < 0, no intersection\n\t\tif ( DdQxE2 < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar DdE1xQ = sign * this.direction.dot( _edge1.cross( _diff ) );\n\n\t\t// b2 < 0, no intersection\n\t\tif ( DdE1xQ < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// b1+b2 > 1, no intersection\n\t\tif ( DdQxE2 + DdE1xQ > DdN ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Line intersects triangle, check if ray does.\n\t\tvar QdN = - sign * _diff.dot( _normal );\n\n\t\t// t < 0, no intersection\n\t\tif ( QdN < 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\t// Ray intersects triangle.\n\t\treturn this.at( QdN / DdN, target );\n\n\t},\n\n\tapplyMatrix4: function ( matrix4 ) {\n\n\t\tthis.origin.applyMatrix4( matrix4 );\n\t\tthis.direction.transformDirection( matrix4 );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( ray ) {\n\n\t\treturn ray.origin.equals( this.origin ) && ray.direction.equals( this.direction );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _vector1 = new Vector3();\nvar _vector2 = new Vector3();\nvar _normalMatrix = new Matrix3();\n\nfunction Plane( normal, constant ) {\n\n\t// normal is assumed to be normalized\n\n\tthis.normal = ( normal !== undefined ) ? normal : new Vector3( 1, 0, 0 );\n\tthis.constant = ( constant !== undefined ) ? constant : 0;\n\n}\n\nObject.assign( Plane.prototype, {\n\n\tisPlane: true,\n\n\tset: function ( normal, constant ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = constant;\n\n\t\treturn this;\n\n\t},\n\n\tsetComponents: function ( x, y, z, w ) {\n\n\t\tthis.normal.set( x, y, z );\n\t\tthis.constant = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromNormalAndCoplanarPoint: function ( normal, point ) {\n\n\t\tthis.normal.copy( normal );\n\t\tthis.constant = - point.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCoplanarPoints: function ( a, b, c ) {\n\n\t\tvar normal = _vector1.subVectors( c, b ).cross( _vector2.subVectors( a, b ) ).normalize();\n\n\t\t// Q: should an error be thrown if normal is zero (e.g. degenerate plane)?\n\n\t\tthis.setFromNormalAndCoplanarPoint( normal, a );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( plane ) {\n\n\t\tthis.normal.copy( plane.normal );\n\t\tthis.constant = plane.constant;\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\t// Note: will lead to a divide by zero if the plane is invalid.\n\n\t\tvar inverseNormalLength = 1.0 / this.normal.length();\n\t\tthis.normal.multiplyScalar( inverseNormalLength );\n\t\tthis.constant *= inverseNormalLength;\n\n\t\treturn this;\n\n\t},\n\n\tnegate: function () {\n\n\t\tthis.constant *= - 1;\n\t\tthis.normal.negate();\n\n\t\treturn this;\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\treturn this.normal.dot( point ) + this.constant;\n\n\t},\n\n\tdistanceToSphere: function ( sphere ) {\n\n\t\treturn this.distanceToPoint( sphere.center ) - sphere.radius;\n\n\t},\n\n\tprojectPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .projectPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.distanceToPoint( point ) ).add( point );\n\n\t},\n\n\tintersectLine: function ( line, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .intersectLine() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tvar direction = line.delta( _vector1 );\n\n\t\tvar denominator = this.normal.dot( direction );\n\n\t\tif ( denominator === 0 ) {\n\n\t\t\t// line is coplanar, return origin\n\t\t\tif ( this.distanceToPoint( line.start ) === 0 ) {\n\n\t\t\t\treturn target.copy( line.start );\n\n\t\t\t}\n\n\t\t\t// Unsure if this is the correct method to handle this case.\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\tvar t = - ( line.start.dot( this.normal ) + this.constant ) / denominator;\n\n\t\tif ( t < 0 || t > 1 ) {\n\n\t\t\treturn undefined;\n\n\t\t}\n\n\t\treturn target.copy( direction ).multiplyScalar( t ).add( line.start );\n\n\t},\n\n\tintersectsLine: function ( line ) {\n\n\t\t// Note: this tests if a line intersects the plane, not whether it (or its end-points) are coplanar with it.\n\n\t\tvar startSign = this.distanceToPoint( line.start );\n\t\tvar endSign = this.distanceToPoint( line.end );\n\n\t\treturn ( startSign < 0 && endSign > 0 ) || ( endSign < 0 && startSign > 0 );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsPlane( this );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\treturn sphere.intersectsPlane( this );\n\n\t},\n\n\tcoplanarPoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Plane: .coplanarPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.copy( this.normal ).multiplyScalar( - this.constant );\n\n\t},\n\n\tapplyMatrix4: function ( matrix, optionalNormalMatrix ) {\n\n\t\tvar normalMatrix = optionalNormalMatrix || _normalMatrix.getNormalMatrix( matrix );\n\n\t\tvar referencePoint = this.coplanarPoint( _vector1 ).applyMatrix4( matrix );\n\n\t\tvar normal = this.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\tthis.constant = - referencePoint.dot( normal );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.constant -= offset.dot( this.normal );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( plane ) {\n\n\t\treturn plane.normal.equals( this.normal ) && ( plane.constant === this.constant );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _v0$1 = new Vector3();\nvar _v1$3 = new Vector3();\nvar _v2$1 = new Vector3();\nvar _v3 = new Vector3();\n\nvar _vab = new Vector3();\nvar _vac = new Vector3();\nvar _vbc = new Vector3();\nvar _vap = new Vector3();\nvar _vbp = new Vector3();\nvar _vcp = new Vector3();\n\nfunction Triangle( a, b, c ) {\n\n\tthis.a = ( a !== undefined ) ? a : new Vector3();\n\tthis.b = ( b !== undefined ) ? b : new Vector3();\n\tthis.c = ( c !== undefined ) ? c : new Vector3();\n\n}\n\nObject.assign( Triangle, {\n\n\tgetNormal: function ( a, b, c, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getNormal() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\ttarget.subVectors( c, b );\n\t\t_v0$1.subVectors( a, b );\n\t\ttarget.cross( _v0$1 );\n\n\t\tvar targetLengthSq = target.lengthSq();\n\t\tif ( targetLengthSq > 0 ) {\n\n\t\t\treturn target.multiplyScalar( 1 / Math.sqrt( targetLengthSq ) );\n\n\t\t}\n\n\t\treturn target.set( 0, 0, 0 );\n\n\t},\n\n\t// static/instance method to calculate barycentric coordinates\n\t// based on: http://www.blackpawn.com/texts/pointinpoly/default.html\n\tgetBarycoord: function ( point, a, b, c, target ) {\n\n\t\t_v0$1.subVectors( c, a );\n\t\t_v1$3.subVectors( b, a );\n\t\t_v2$1.subVectors( point, a );\n\n\t\tvar dot00 = _v0$1.dot( _v0$1 );\n\t\tvar dot01 = _v0$1.dot( _v1$3 );\n\t\tvar dot02 = _v0$1.dot( _v2$1 );\n\t\tvar dot11 = _v1$3.dot( _v1$3 );\n\t\tvar dot12 = _v1$3.dot( _v2$1 );\n\n\t\tvar denom = ( dot00 * dot11 - dot01 * dot01 );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getBarycoord() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\t// collinear or singular triangle\n\t\tif ( denom === 0 ) {\n\n\t\t\t// arbitrary location outside of triangle?\n\t\t\t// not sure if this is the best idea, maybe should be returning undefined\n\t\t\treturn target.set( - 2, - 1, - 1 );\n\n\t\t}\n\n\t\tvar invDenom = 1 / denom;\n\t\tvar u = ( dot11 * dot02 - dot01 * dot12 ) * invDenom;\n\t\tvar v = ( dot00 * dot12 - dot01 * dot02 ) * invDenom;\n\n\t\t// barycentric coordinates must always sum to 1\n\t\treturn target.set( 1 - u - v, v, u );\n\n\t},\n\n\tcontainsPoint: function ( point, a, b, c ) {\n\n\t\tTriangle.getBarycoord( point, a, b, c, _v3 );\n\n\t\treturn ( _v3.x >= 0 ) && ( _v3.y >= 0 ) && ( ( _v3.x + _v3.y ) <= 1 );\n\n\t},\n\n\tgetUV: function ( point, p1, p2, p3, uv1, uv2, uv3, target ) {\n\n\t\tthis.getBarycoord( point, p1, p2, p3, _v3 );\n\n\t\ttarget.set( 0, 0 );\n\t\ttarget.addScaledVector( uv1, _v3.x );\n\t\ttarget.addScaledVector( uv2, _v3.y );\n\t\ttarget.addScaledVector( uv3, _v3.z );\n\n\t\treturn target;\n\n\t},\n\n\tisFrontFacing: function ( a, b, c, direction ) {\n\n\t\t_v0$1.subVectors( c, b );\n\t\t_v1$3.subVectors( a, b );\n\n\t\t// strictly front facing\n\t\treturn ( _v0$1.cross( _v1$3 ).dot( direction ) < 0 ) ? true : false;\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tset: function ( a, b, c ) {\n\n\t\tthis.a.copy( a );\n\t\tthis.b.copy( b );\n\t\tthis.c.copy( c );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPointsAndIndices: function ( points, i0, i1, i2 ) {\n\n\t\tthis.a.copy( points[ i0 ] );\n\t\tthis.b.copy( points[ i1 ] );\n\t\tthis.c.copy( points[ i2 ] );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( triangle ) {\n\n\t\tthis.a.copy( triangle.a );\n\t\tthis.b.copy( triangle.b );\n\t\tthis.c.copy( triangle.c );\n\n\t\treturn this;\n\n\t},\n\n\tgetArea: function () {\n\n\t\t_v0$1.subVectors( this.c, this.b );\n\t\t_v1$3.subVectors( this.a, this.b );\n\n\t\treturn _v0$1.cross( _v1$3 ).length() * 0.5;\n\n\t},\n\n\tgetMidpoint: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getMidpoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.a, this.b ).add( this.c ).multiplyScalar( 1 / 3 );\n\n\t},\n\n\tgetNormal: function ( target ) {\n\n\t\treturn Triangle.getNormal( this.a, this.b, this.c, target );\n\n\t},\n\n\tgetPlane: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .getPlane() target is now required' );\n\t\t\ttarget = new Plane();\n\n\t\t}\n\n\t\treturn target.setFromCoplanarPoints( this.a, this.b, this.c );\n\n\t},\n\n\tgetBarycoord: function ( point, target ) {\n\n\t\treturn Triangle.getBarycoord( point, this.a, this.b, this.c, target );\n\n\t},\n\n\tgetUV: function ( point, uv1, uv2, uv3, target ) {\n\n\t\treturn Triangle.getUV( point, this.a, this.b, this.c, uv1, uv2, uv3, target );\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn Triangle.containsPoint( point, this.a, this.b, this.c );\n\n\t},\n\n\tisFrontFacing: function ( direction ) {\n\n\t\treturn Triangle.isFrontFacing( this.a, this.b, this.c, direction );\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\treturn box.intersectsTriangle( this );\n\n\t},\n\n\tclosestPointToPoint: function ( p, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Triangle: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tvar a = this.a, b = this.b, c = this.c;\n\t\tvar v, w;\n\n\t\t// algorithm thanks to Real-Time Collision Detection by Christer Ericson,\n\t\t// published by Morgan Kaufmann Publishers, (c) 2005 Elsevier Inc.,\n\t\t// under the accompanying license; see chapter 5.1.5 for detailed explanation.\n\t\t// basically, we're distinguishing which of the voronoi regions of the triangle\n\t\t// the point lies in with the minimum amount of redundant computation.\n\n\t\t_vab.subVectors( b, a );\n\t\t_vac.subVectors( c, a );\n\t\t_vap.subVectors( p, a );\n\t\tvar d1 = _vab.dot( _vap );\n\t\tvar d2 = _vac.dot( _vap );\n\t\tif ( d1 <= 0 && d2 <= 0 ) {\n\n\t\t\t// vertex region of A; barycentric coords (1, 0, 0)\n\t\t\treturn target.copy( a );\n\n\t\t}\n\n\t\t_vbp.subVectors( p, b );\n\t\tvar d3 = _vab.dot( _vbp );\n\t\tvar d4 = _vac.dot( _vbp );\n\t\tif ( d3 >= 0 && d4 <= d3 ) {\n\n\t\t\t// vertex region of B; barycentric coords (0, 1, 0)\n\t\t\treturn target.copy( b );\n\n\t\t}\n\n\t\tvar vc = d1 * d4 - d3 * d2;\n\t\tif ( vc <= 0 && d1 >= 0 && d3 <= 0 ) {\n\n\t\t\tv = d1 / ( d1 - d3 );\n\t\t\t// edge region of AB; barycentric coords (1-v, v, 0)\n\t\t\treturn target.copy( a ).addScaledVector( _vab, v );\n\n\t\t}\n\n\t\t_vcp.subVectors( p, c );\n\t\tvar d5 = _vab.dot( _vcp );\n\t\tvar d6 = _vac.dot( _vcp );\n\t\tif ( d6 >= 0 && d5 <= d6 ) {\n\n\t\t\t// vertex region of C; barycentric coords (0, 0, 1)\n\t\t\treturn target.copy( c );\n\n\t\t}\n\n\t\tvar vb = d5 * d2 - d1 * d6;\n\t\tif ( vb <= 0 && d2 >= 0 && d6 <= 0 ) {\n\n\t\t\tw = d2 / ( d2 - d6 );\n\t\t\t// edge region of AC; barycentric coords (1-w, 0, w)\n\t\t\treturn target.copy( a ).addScaledVector( _vac, w );\n\n\t\t}\n\n\t\tvar va = d3 * d6 - d5 * d4;\n\t\tif ( va <= 0 && ( d4 - d3 ) >= 0 && ( d5 - d6 ) >= 0 ) {\n\n\t\t\t_vbc.subVectors( c, b );\n\t\t\tw = ( d4 - d3 ) / ( ( d4 - d3 ) + ( d5 - d6 ) );\n\t\t\t// edge region of BC; barycentric coords (0, 1-w, w)\n\t\t\treturn target.copy( b ).addScaledVector( _vbc, w ); // edge region of BC\n\n\t\t}\n\n\t\t// face region\n\t\tvar denom = 1 / ( va + vb + vc );\n\t\t// u = va * denom\n\t\tv = vb * denom;\n\t\tw = vc * denom;\n\n\t\treturn target.copy( a ).addScaledVector( _vab, v ).addScaledVector( _vac, w );\n\n\t},\n\n\tequals: function ( triangle ) {\n\n\t\treturn triangle.a.equals( this.a ) && triangle.b.equals( this.b ) && triangle.c.equals( this.c );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _colorKeywords = { 'aliceblue': 0xF0F8FF, 'antiquewhite': 0xFAEBD7, 'aqua': 0x00FFFF, 'aquamarine': 0x7FFFD4, 'azure': 0xF0FFFF,\n\t'beige': 0xF5F5DC, 'bisque': 0xFFE4C4, 'black': 0x000000, 'blanchedalmond': 0xFFEBCD, 'blue': 0x0000FF, 'blueviolet': 0x8A2BE2,\n\t'brown': 0xA52A2A, 'burlywood': 0xDEB887, 'cadetblue': 0x5F9EA0, 'chartreuse': 0x7FFF00, 'chocolate': 0xD2691E, 'coral': 0xFF7F50,\n\t'cornflowerblue': 0x6495ED, 'cornsilk': 0xFFF8DC, 'crimson': 0xDC143C, 'cyan': 0x00FFFF, 'darkblue': 0x00008B, 'darkcyan': 0x008B8B,\n\t'darkgoldenrod': 0xB8860B, 'darkgray': 0xA9A9A9, 'darkgreen': 0x006400, 'darkgrey': 0xA9A9A9, 'darkkhaki': 0xBDB76B, 'darkmagenta': 0x8B008B,\n\t'darkolivegreen': 0x556B2F, 'darkorange': 0xFF8C00, 'darkorchid': 0x9932CC, 'darkred': 0x8B0000, 'darksalmon': 0xE9967A, 'darkseagreen': 0x8FBC8F,\n\t'darkslateblue': 0x483D8B, 'darkslategray': 0x2F4F4F, 'darkslategrey': 0x2F4F4F, 'darkturquoise': 0x00CED1, 'darkviolet': 0x9400D3,\n\t'deeppink': 0xFF1493, 'deepskyblue': 0x00BFFF, 'dimgray': 0x696969, 'dimgrey': 0x696969, 'dodgerblue': 0x1E90FF, 'firebrick': 0xB22222,\n\t'floralwhite': 0xFFFAF0, 'forestgreen': 0x228B22, 'fuchsia': 0xFF00FF, 'gainsboro': 0xDCDCDC, 'ghostwhite': 0xF8F8FF, 'gold': 0xFFD700,\n\t'goldenrod': 0xDAA520, 'gray': 0x808080, 'green': 0x008000, 'greenyellow': 0xADFF2F, 'grey': 0x808080, 'honeydew': 0xF0FFF0, 'hotpink': 0xFF69B4,\n\t'indianred': 0xCD5C5C, 'indigo': 0x4B0082, 'ivory': 0xFFFFF0, 'khaki': 0xF0E68C, 'lavender': 0xE6E6FA, 'lavenderblush': 0xFFF0F5, 'lawngreen': 0x7CFC00,\n\t'lemonchiffon': 0xFFFACD, 'lightblue': 0xADD8E6, 'lightcoral': 0xF08080, 'lightcyan': 0xE0FFFF, 'lightgoldenrodyellow': 0xFAFAD2, 'lightgray': 0xD3D3D3,\n\t'lightgreen': 0x90EE90, 'lightgrey': 0xD3D3D3, 'lightpink': 0xFFB6C1, 'lightsalmon': 0xFFA07A, 'lightseagreen': 0x20B2AA, 'lightskyblue': 0x87CEFA,\n\t'lightslategray': 0x778899, 'lightslategrey': 0x778899, 'lightsteelblue': 0xB0C4DE, 'lightyellow': 0xFFFFE0, 'lime': 0x00FF00, 'limegreen': 0x32CD32,\n\t'linen': 0xFAF0E6, 'magenta': 0xFF00FF, 'maroon': 0x800000, 'mediumaquamarine': 0x66CDAA, 'mediumblue': 0x0000CD, 'mediumorchid': 0xBA55D3,\n\t'mediumpurple': 0x9370DB, 'mediumseagreen': 0x3CB371, 'mediumslateblue': 0x7B68EE, 'mediumspringgreen': 0x00FA9A, 'mediumturquoise': 0x48D1CC,\n\t'mediumvioletred': 0xC71585, 'midnightblue': 0x191970, 'mintcream': 0xF5FFFA, 'mistyrose': 0xFFE4E1, 'moccasin': 0xFFE4B5, 'navajowhite': 0xFFDEAD,\n\t'navy': 0x000080, 'oldlace': 0xFDF5E6, 'olive': 0x808000, 'olivedrab': 0x6B8E23, 'orange': 0xFFA500, 'orangered': 0xFF4500, 'orchid': 0xDA70D6,\n\t'palegoldenrod': 0xEEE8AA, 'palegreen': 0x98FB98, 'paleturquoise': 0xAFEEEE, 'palevioletred': 0xDB7093, 'papayawhip': 0xFFEFD5, 'peachpuff': 0xFFDAB9,\n\t'peru': 0xCD853F, 'pink': 0xFFC0CB, 'plum': 0xDDA0DD, 'powderblue': 0xB0E0E6, 'purple': 0x800080, 'rebeccapurple': 0x663399, 'red': 0xFF0000, 'rosybrown': 0xBC8F8F,\n\t'royalblue': 0x4169E1, 'saddlebrown': 0x8B4513, 'salmon': 0xFA8072, 'sandybrown': 0xF4A460, 'seagreen': 0x2E8B57, 'seashell': 0xFFF5EE,\n\t'sienna': 0xA0522D, 'silver': 0xC0C0C0, 'skyblue': 0x87CEEB, 'slateblue': 0x6A5ACD, 'slategray': 0x708090, 'slategrey': 0x708090, 'snow': 0xFFFAFA,\n\t'springgreen': 0x00FF7F, 'steelblue': 0x4682B4, 'tan': 0xD2B48C, 'teal': 0x008080, 'thistle': 0xD8BFD8, 'tomato': 0xFF6347, 'turquoise': 0x40E0D0,\n\t'violet': 0xEE82EE, 'wheat': 0xF5DEB3, 'white': 0xFFFFFF, 'whitesmoke': 0xF5F5F5, 'yellow': 0xFFFF00, 'yellowgreen': 0x9ACD32 };\n\nvar _hslA = { h: 0, s: 0, l: 0 };\nvar _hslB = { h: 0, s: 0, l: 0 };\n\nfunction Color( r, g, b ) {\n\n\tif ( g === undefined && b === undefined ) {\n\n\t\t// r is THREE.Color, hex or string\n\t\treturn this.set( r );\n\n\t}\n\n\treturn this.setRGB( r, g, b );\n\n}\n\nfunction hue2rgb( p, q, t ) {\n\n\tif ( t < 0 ) t += 1;\n\tif ( t > 1 ) t -= 1;\n\tif ( t < 1 / 6 ) return p + ( q - p ) * 6 * t;\n\tif ( t < 1 / 2 ) return q;\n\tif ( t < 2 / 3 ) return p + ( q - p ) * 6 * ( 2 / 3 - t );\n\treturn p;\n\n}\n\nfunction SRGBToLinear( c ) {\n\n\treturn ( c < 0.04045 ) ? c * 0.0773993808 : Math.pow( c * 0.9478672986 + 0.0521327014, 2.4 );\n\n}\n\nfunction LinearToSRGB( c ) {\n\n\treturn ( c < 0.0031308 ) ? c * 12.92 : 1.055 * ( Math.pow( c, 0.41666 ) ) - 0.055;\n\n}\n\nObject.assign( Color.prototype, {\n\n\tisColor: true,\n\n\tr: 1, g: 1, b: 1,\n\n\tset: function ( value ) {\n\n\t\tif ( value && value.isColor ) {\n\n\t\t\tthis.copy( value );\n\n\t\t} else if ( typeof value === 'number' ) {\n\n\t\t\tthis.setHex( value );\n\n\t\t} else if ( typeof value === 'string' ) {\n\n\t\t\tthis.setStyle( value );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetScalar: function ( scalar ) {\n\n\t\tthis.r = scalar;\n\t\tthis.g = scalar;\n\t\tthis.b = scalar;\n\n\t\treturn this;\n\n\t},\n\n\tsetHex: function ( hex ) {\n\n\t\thex = Math.floor( hex );\n\n\t\tthis.r = ( hex >> 16 & 255 ) / 255;\n\t\tthis.g = ( hex >> 8 & 255 ) / 255;\n\t\tthis.b = ( hex & 255 ) / 255;\n\n\t\treturn this;\n\n\t},\n\n\tsetRGB: function ( r, g, b ) {\n\n\t\tthis.r = r;\n\t\tthis.g = g;\n\t\tthis.b = b;\n\n\t\treturn this;\n\n\t},\n\n\tsetHSL: function ( h, s, l ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\t\th = MathUtils.euclideanModulo( h, 1 );\n\t\ts = MathUtils.clamp( s, 0, 1 );\n\t\tl = MathUtils.clamp( l, 0, 1 );\n\n\t\tif ( s === 0 ) {\n\n\t\t\tthis.r = this.g = this.b = l;\n\n\t\t} else {\n\n\t\t\tvar p = l <= 0.5 ? l * ( 1 + s ) : l + s - ( l * s );\n\t\t\tvar q = ( 2 * l ) - p;\n\n\t\t\tthis.r = hue2rgb( q, p, h + 1 / 3 );\n\t\t\tthis.g = hue2rgb( q, p, h );\n\t\t\tthis.b = hue2rgb( q, p, h - 1 / 3 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetStyle: function ( style ) {\n\n\t\tfunction handleAlpha( string ) {\n\n\t\t\tif ( string === undefined ) return;\n\n\t\t\tif ( parseFloat( string ) < 1 ) {\n\n\t\t\t\tconsole.warn( 'THREE.Color: Alpha component of ' + style + ' will be ignored.' );\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar m;\n\n\t\tif ( m = /^((?:rgb|hsl)a?)\\(\\s*([^\\)]*)\\)/.exec( style ) ) {\n\n\t\t\t// rgb / hsl\n\n\t\t\tvar color;\n\t\t\tvar name = m[ 1 ];\n\t\t\tvar components = m[ 2 ];\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'rgb':\n\t\t\t\tcase 'rgba':\n\n\t\t\t\t\tif ( color = /^(\\d+)\\s*,\\s*(\\d+)\\s*,\\s*(\\d+)\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(255,0,0) rgba(255,0,0,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 255, parseInt( color[ 1 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.g = Math.min( 255, parseInt( color[ 2 ], 10 ) ) / 255;\n\t\t\t\t\t\tthis.b = Math.min( 255, parseInt( color[ 3 ], 10 ) ) / 255;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( color = /^(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// rgb(100%,0%,0%) rgba(100%,0%,0%,0.5)\n\t\t\t\t\t\tthis.r = Math.min( 100, parseInt( color[ 1 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.g = Math.min( 100, parseInt( color[ 2 ], 10 ) ) / 100;\n\t\t\t\t\t\tthis.b = Math.min( 100, parseInt( color[ 3 ], 10 ) ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'hsl':\n\t\t\t\tcase 'hsla':\n\n\t\t\t\t\tif ( color = /^([0-9]*\\.?[0-9]+)\\s*,\\s*(\\d+)\\%\\s*,\\s*(\\d+)\\%\\s*(,\\s*([0-9]*\\.?[0-9]+)\\s*)?$/.exec( components ) ) {\n\n\t\t\t\t\t\t// hsl(120,50%,50%) hsla(120,50%,50%,0.5)\n\t\t\t\t\t\tvar h = parseFloat( color[ 1 ] ) / 360;\n\t\t\t\t\t\tvar s = parseInt( color[ 2 ], 10 ) / 100;\n\t\t\t\t\t\tvar l = parseInt( color[ 3 ], 10 ) / 100;\n\n\t\t\t\t\t\thandleAlpha( color[ 5 ] );\n\n\t\t\t\t\t\treturn this.setHSL( h, s, l );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t} else if ( m = /^\\#([A-Fa-f0-9]+)$/.exec( style ) ) {\n\n\t\t\t// hex color\n\n\t\t\tvar hex = m[ 1 ];\n\t\t\tvar size = hex.length;\n\n\t\t\tif ( size === 3 ) {\n\n\t\t\t\t// #ff0\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 0 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 1 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 2 ) + hex.charAt( 2 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t} else if ( size === 6 ) {\n\n\t\t\t\t// #ff0000\n\t\t\t\tthis.r = parseInt( hex.charAt( 0 ) + hex.charAt( 1 ), 16 ) / 255;\n\t\t\t\tthis.g = parseInt( hex.charAt( 2 ) + hex.charAt( 3 ), 16 ) / 255;\n\t\t\t\tthis.b = parseInt( hex.charAt( 4 ) + hex.charAt( 5 ), 16 ) / 255;\n\n\t\t\t\treturn this;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( style && style.length > 0 ) {\n\n\t\t\treturn this.setColorName( style );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetColorName: function ( style ) {\n\n\t\t// color keywords\n\t\tvar hex = _colorKeywords[ style ];\n\n\t\tif ( hex !== undefined ) {\n\n\t\t\t// red\n\t\t\tthis.setHex( hex );\n\n\t\t} else {\n\n\t\t\t// unknown color\n\t\t\tconsole.warn( 'THREE.Color: Unknown color ' + style );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.r, this.g, this.b );\n\n\t},\n\n\tcopy: function ( color ) {\n\n\t\tthis.r = color.r;\n\t\tthis.g = color.g;\n\t\tthis.b = color.b;\n\n\t\treturn this;\n\n\t},\n\n\tcopyGammaToLinear: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tthis.r = Math.pow( color.r, gammaFactor );\n\t\tthis.g = Math.pow( color.g, gammaFactor );\n\t\tthis.b = Math.pow( color.b, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToGamma: function ( color, gammaFactor ) {\n\n\t\tif ( gammaFactor === undefined ) gammaFactor = 2.0;\n\n\t\tvar safeInverse = ( gammaFactor > 0 ) ? ( 1.0 / gammaFactor ) : 1.0;\n\n\t\tthis.r = Math.pow( color.r, safeInverse );\n\t\tthis.g = Math.pow( color.g, safeInverse );\n\t\tthis.b = Math.pow( color.b, safeInverse );\n\n\t\treturn this;\n\n\t},\n\n\tconvertGammaToLinear: function ( gammaFactor ) {\n\n\t\tthis.copyGammaToLinear( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToGamma: function ( gammaFactor ) {\n\n\t\tthis.copyLinearToGamma( this, gammaFactor );\n\n\t\treturn this;\n\n\t},\n\n\tcopySRGBToLinear: function ( color ) {\n\n\t\tthis.r = SRGBToLinear( color.r );\n\t\tthis.g = SRGBToLinear( color.g );\n\t\tthis.b = SRGBToLinear( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tcopyLinearToSRGB: function ( color ) {\n\n\t\tthis.r = LinearToSRGB( color.r );\n\t\tthis.g = LinearToSRGB( color.g );\n\t\tthis.b = LinearToSRGB( color.b );\n\n\t\treturn this;\n\n\t},\n\n\tconvertSRGBToLinear: function () {\n\n\t\tthis.copySRGBToLinear( this );\n\n\t\treturn this;\n\n\t},\n\n\tconvertLinearToSRGB: function () {\n\n\t\tthis.copyLinearToSRGB( this );\n\n\t\treturn this;\n\n\t},\n\n\tgetHex: function () {\n\n\t\treturn ( this.r * 255 ) << 16 ^ ( this.g * 255 ) << 8 ^ ( this.b * 255 ) << 0;\n\n\t},\n\n\tgetHexString: function () {\n\n\t\treturn ( '000000' + this.getHex().toString( 16 ) ).slice( - 6 );\n\n\t},\n\n\tgetHSL: function ( target ) {\n\n\t\t// h,s,l ranges are in 0.0 - 1.0\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Color: .getHSL() target is now required' );\n\t\t\ttarget = { h: 0, s: 0, l: 0 };\n\n\t\t}\n\n\t\tvar r = this.r, g = this.g, b = this.b;\n\n\t\tvar max = Math.max( r, g, b );\n\t\tvar min = Math.min( r, g, b );\n\n\t\tvar hue, saturation;\n\t\tvar lightness = ( min + max ) / 2.0;\n\n\t\tif ( min === max ) {\n\n\t\t\thue = 0;\n\t\t\tsaturation = 0;\n\n\t\t} else {\n\n\t\t\tvar delta = max - min;\n\n\t\t\tsaturation = lightness <= 0.5 ? delta / ( max + min ) : delta / ( 2 - max - min );\n\n\t\t\tswitch ( max ) {\n\n\t\t\t\tcase r: hue = ( g - b ) / delta + ( g < b ? 6 : 0 ); break;\n\t\t\t\tcase g: hue = ( b - r ) / delta + 2; break;\n\t\t\t\tcase b: hue = ( r - g ) / delta + 4; break;\n\n\t\t\t}\n\n\t\t\thue /= 6;\n\n\t\t}\n\n\t\ttarget.h = hue;\n\t\ttarget.s = saturation;\n\t\ttarget.l = lightness;\n\n\t\treturn target;\n\n\t},\n\n\tgetStyle: function () {\n\n\t\treturn 'rgb(' + ( ( this.r * 255 ) | 0 ) + ',' + ( ( this.g * 255 ) | 0 ) + ',' + ( ( this.b * 255 ) | 0 ) + ')';\n\n\t},\n\n\toffsetHSL: function ( h, s, l ) {\n\n\t\tthis.getHSL( _hslA );\n\n\t\t_hslA.h += h; _hslA.s += s; _hslA.l += l;\n\n\t\tthis.setHSL( _hslA.h, _hslA.s, _hslA.l );\n\n\t\treturn this;\n\n\t},\n\n\tadd: function ( color ) {\n\n\t\tthis.r += color.r;\n\t\tthis.g += color.g;\n\t\tthis.b += color.b;\n\n\t\treturn this;\n\n\t},\n\n\taddColors: function ( color1, color2 ) {\n\n\t\tthis.r = color1.r + color2.r;\n\t\tthis.g = color1.g + color2.g;\n\t\tthis.b = color1.b + color2.b;\n\n\t\treturn this;\n\n\t},\n\n\taddScalar: function ( s ) {\n\n\t\tthis.r += s;\n\t\tthis.g += s;\n\t\tthis.b += s;\n\n\t\treturn this;\n\n\t},\n\n\tsub: function ( color ) {\n\n\t\tthis.r = Math.max( 0, this.r - color.r );\n\t\tthis.g = Math.max( 0, this.g - color.g );\n\t\tthis.b = Math.max( 0, this.b - color.b );\n\n\t\treturn this;\n\n\t},\n\n\tmultiply: function ( color ) {\n\n\t\tthis.r *= color.r;\n\t\tthis.g *= color.g;\n\t\tthis.b *= color.b;\n\n\t\treturn this;\n\n\t},\n\n\tmultiplyScalar: function ( s ) {\n\n\t\tthis.r *= s;\n\t\tthis.g *= s;\n\t\tthis.b *= s;\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( color, alpha ) {\n\n\t\tthis.r += ( color.r - this.r ) * alpha;\n\t\tthis.g += ( color.g - this.g ) * alpha;\n\t\tthis.b += ( color.b - this.b ) * alpha;\n\n\t\treturn this;\n\n\t},\n\n\tlerpHSL: function ( color, alpha ) {\n\n\t\tthis.getHSL( _hslA );\n\t\tcolor.getHSL( _hslB );\n\n\t\tvar h = MathUtils.lerp( _hslA.h, _hslB.h, alpha );\n\t\tvar s = MathUtils.lerp( _hslA.s, _hslB.s, alpha );\n\t\tvar l = MathUtils.lerp( _hslA.l, _hslB.l, alpha );\n\n\t\tthis.setHSL( h, s, l );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( c ) {\n\n\t\treturn ( c.r === this.r ) && ( c.g === this.g ) && ( c.b === this.b );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.r = array[ offset ];\n\t\tthis.g = array[ offset + 1 ];\n\t\tthis.b = array[ offset + 2 ];\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tarray[ offset ] = this.r;\n\t\tarray[ offset + 1 ] = this.g;\n\t\tarray[ offset + 2 ] = this.b;\n\n\t\treturn array;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn this.getHex();\n\n\t}\n\n} );\n\nColor.NAMES = _colorKeywords;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Face3( a, b, c, normal, color, materialIndex ) {\n\n\tthis.a = a;\n\tthis.b = b;\n\tthis.c = c;\n\n\tthis.normal = ( normal && normal.isVector3 ) ? normal : new Vector3();\n\tthis.vertexNormals = Array.isArray( normal ) ? normal : [];\n\n\tthis.color = ( color && color.isColor ) ? color : new Color();\n\tthis.vertexColors = Array.isArray( color ) ? color : [];\n\n\tthis.materialIndex = materialIndex !== undefined ? materialIndex : 0;\n\n}\n\nObject.assign( Face3.prototype, {\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.a = source.a;\n\t\tthis.b = source.b;\n\t\tthis.c = source.c;\n\n\t\tthis.normal.copy( source.normal );\n\t\tthis.color.copy( source.color );\n\n\t\tthis.materialIndex = source.materialIndex;\n\n\t\tfor ( var i = 0, il = source.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexNormals[ i ] = source.vertexNormals[ i ].clone();\n\n\t\t}\n\n\t\tfor ( var i = 0, il = source.vertexColors.length; i < il; i ++ ) {\n\n\t\t\tthis.vertexColors[ i ] = source.vertexColors[ i ].clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar materialId = 0;\n\nfunction Material() {\n\n\tObject.defineProperty( this, 'id', { value: materialId ++ } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Material';\n\n\tthis.fog = true;\n\n\tthis.blending = NormalBlending;\n\tthis.side = FrontSide;\n\tthis.flatShading = false;\n\tthis.vertexColors = false;\n\n\tthis.opacity = 1;\n\tthis.transparent = false;\n\n\tthis.blendSrc = SrcAlphaFactor;\n\tthis.blendDst = OneMinusSrcAlphaFactor;\n\tthis.blendEquation = AddEquation;\n\tthis.blendSrcAlpha = null;\n\tthis.blendDstAlpha = null;\n\tthis.blendEquationAlpha = null;\n\n\tthis.depthFunc = LessEqualDepth;\n\tthis.depthTest = true;\n\tthis.depthWrite = true;\n\n\tthis.stencilWriteMask = 0xff;\n\tthis.stencilFunc = AlwaysStencilFunc;\n\tthis.stencilRef = 0;\n\tthis.stencilFuncMask = 0xff;\n\tthis.stencilFail = KeepStencilOp;\n\tthis.stencilZFail = KeepStencilOp;\n\tthis.stencilZPass = KeepStencilOp;\n\tthis.stencilWrite = false;\n\n\tthis.clippingPlanes = null;\n\tthis.clipIntersection = false;\n\tthis.clipShadows = false;\n\n\tthis.shadowSide = null;\n\n\tthis.colorWrite = true;\n\n\tthis.precision = null; // override the renderer's default precision for this material\n\n\tthis.polygonOffset = false;\n\tthis.polygonOffsetFactor = 0;\n\tthis.polygonOffsetUnits = 0;\n\n\tthis.dithering = false;\n\n\tthis.alphaTest = 0;\n\tthis.premultipliedAlpha = false;\n\n\tthis.visible = true;\n\n\tthis.toneMapped = true;\n\n\tthis.userData = {};\n\n\tthis.version = 0;\n\n}\n\nMaterial.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Material,\n\n\tisMaterial: true,\n\n\tonBeforeCompile: function () {},\n\n\tsetValues: function ( values ) {\n\n\t\tif ( values === undefined ) return;\n\n\t\tfor ( var key in values ) {\n\n\t\t\tvar newValue = values[ key ];\n\n\t\t\tif ( newValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.Material: '\" + key + \"' parameter is undefined.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t// for backward compatability if shading is set in the constructor\n\t\t\tif ( key === 'shading' ) {\n\n\t\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\t\tthis.flatShading = ( newValue === FlatShading ) ? true : false;\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tvar currentValue = this[ key ];\n\n\t\t\tif ( currentValue === undefined ) {\n\n\t\t\t\tconsole.warn( \"THREE.\" + this.type + \": '\" + key + \"' is not a property of this material.\" );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\tif ( currentValue && currentValue.isColor ) {\n\n\t\t\t\tcurrentValue.set( newValue );\n\n\t\t\t} else if ( ( currentValue && currentValue.isVector3 ) && ( newValue && newValue.isVector3 ) ) {\n\n\t\t\t\tcurrentValue.copy( newValue );\n\n\t\t\t} else {\n\n\t\t\t\tthis[ key ] = newValue;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar isRoot = ( meta === undefined || typeof meta === 'string' );\n\n\t\tif ( isRoot ) {\n\n\t\t\tmeta = {\n\t\t\t\ttextures: {},\n\t\t\t\timages: {}\n\t\t\t};\n\n\t\t}\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Material',\n\t\t\t\tgenerator: 'Material.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Material serialization\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.color && this.color.isColor ) data.color = this.color.getHex();\n\n\t\tif ( this.roughness !== undefined ) data.roughness = this.roughness;\n\t\tif ( this.metalness !== undefined ) data.metalness = this.metalness;\n\n\t\tif ( this.sheen && this.sheen.isColor ) data.sheen = this.sheen.getHex();\n\t\tif ( this.emissive && this.emissive.isColor ) data.emissive = this.emissive.getHex();\n\t\tif ( this.emissiveIntensity && this.emissiveIntensity !== 1 ) data.emissiveIntensity = this.emissiveIntensity;\n\n\t\tif ( this.specular && this.specular.isColor ) data.specular = this.specular.getHex();\n\t\tif ( this.shininess !== undefined ) data.shininess = this.shininess;\n\t\tif ( this.clearcoat !== undefined ) data.clearcoat = this.clearcoat;\n\t\tif ( this.clearcoatRoughness !== undefined ) data.clearcoatRoughness = this.clearcoatRoughness;\n\n\t\tif ( this.clearcoatNormalMap && this.clearcoatNormalMap.isTexture ) {\n\n\t\t\tdata.clearcoatNormalMap = this.clearcoatNormalMap.toJSON( meta ).uuid;\n\t\t\tdata.clearcoatNormalScale = this.clearcoatNormalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.map && this.map.isTexture ) data.map = this.map.toJSON( meta ).uuid;\n\t\tif ( this.matcap && this.matcap.isTexture ) data.matcap = this.matcap.toJSON( meta ).uuid;\n\t\tif ( this.alphaMap && this.alphaMap.isTexture ) data.alphaMap = this.alphaMap.toJSON( meta ).uuid;\n\t\tif ( this.lightMap && this.lightMap.isTexture ) data.lightMap = this.lightMap.toJSON( meta ).uuid;\n\n\t\tif ( this.aoMap && this.aoMap.isTexture ) {\n\n\t\t\tdata.aoMap = this.aoMap.toJSON( meta ).uuid;\n\t\t\tdata.aoMapIntensity = this.aoMapIntensity;\n\n\t\t}\n\n\t\tif ( this.bumpMap && this.bumpMap.isTexture ) {\n\n\t\t\tdata.bumpMap = this.bumpMap.toJSON( meta ).uuid;\n\t\t\tdata.bumpScale = this.bumpScale;\n\n\t\t}\n\n\t\tif ( this.normalMap && this.normalMap.isTexture ) {\n\n\t\t\tdata.normalMap = this.normalMap.toJSON( meta ).uuid;\n\t\t\tdata.normalMapType = this.normalMapType;\n\t\t\tdata.normalScale = this.normalScale.toArray();\n\n\t\t}\n\n\t\tif ( this.displacementMap && this.displacementMap.isTexture ) {\n\n\t\t\tdata.displacementMap = this.displacementMap.toJSON( meta ).uuid;\n\t\t\tdata.displacementScale = this.displacementScale;\n\t\t\tdata.displacementBias = this.displacementBias;\n\n\t\t}\n\n\t\tif ( this.roughnessMap && this.roughnessMap.isTexture ) data.roughnessMap = this.roughnessMap.toJSON( meta ).uuid;\n\t\tif ( this.metalnessMap && this.metalnessMap.isTexture ) data.metalnessMap = this.metalnessMap.toJSON( meta ).uuid;\n\n\t\tif ( this.emissiveMap && this.emissiveMap.isTexture ) data.emissiveMap = this.emissiveMap.toJSON( meta ).uuid;\n\t\tif ( this.specularMap && this.specularMap.isTexture ) data.specularMap = this.specularMap.toJSON( meta ).uuid;\n\n\t\tif ( this.envMap && this.envMap.isTexture ) {\n\n\t\t\tdata.envMap = this.envMap.toJSON( meta ).uuid;\n\t\t\tdata.reflectivity = this.reflectivity; // Scale behind envMap\n\t\t\tdata.refractionRatio = this.refractionRatio;\n\n\t\t\tif ( this.combine !== undefined ) data.combine = this.combine;\n\t\t\tif ( this.envMapIntensity !== undefined ) data.envMapIntensity = this.envMapIntensity;\n\n\t\t}\n\n\t\tif ( this.gradientMap && this.gradientMap.isTexture ) {\n\n\t\t\tdata.gradientMap = this.gradientMap.toJSON( meta ).uuid;\n\n\t\t}\n\n\t\tif ( this.size !== undefined ) data.size = this.size;\n\t\tif ( this.sizeAttenuation !== undefined ) data.sizeAttenuation = this.sizeAttenuation;\n\n\t\tif ( this.blending !== NormalBlending ) data.blending = this.blending;\n\t\tif ( this.flatShading === true ) data.flatShading = this.flatShading;\n\t\tif ( this.side !== FrontSide ) data.side = this.side;\n\t\tif ( this.vertexColors ) data.vertexColors = true;\n\n\t\tif ( this.opacity < 1 ) data.opacity = this.opacity;\n\t\tif ( this.transparent === true ) data.transparent = this.transparent;\n\n\t\tdata.depthFunc = this.depthFunc;\n\t\tdata.depthTest = this.depthTest;\n\t\tdata.depthWrite = this.depthWrite;\n\n\t\tdata.stencilWrite = this.stencilWrite;\n\t\tdata.stencilWriteMask = this.stencilWriteMask;\n\t\tdata.stencilFunc = this.stencilFunc;\n\t\tdata.stencilRef = this.stencilRef;\n\t\tdata.stencilFuncMask = this.stencilFuncMask;\n\t\tdata.stencilFail = this.stencilFail;\n\t\tdata.stencilZFail = this.stencilZFail;\n\t\tdata.stencilZPass = this.stencilZPass;\n\n\t\t// rotation (SpriteMaterial)\n\t\tif ( this.rotation && this.rotation !== 0 ) data.rotation = this.rotation;\n\n\t\tif ( this.polygonOffset === true ) data.polygonOffset = true;\n\t\tif ( this.polygonOffsetFactor !== 0 ) data.polygonOffsetFactor = this.polygonOffsetFactor;\n\t\tif ( this.polygonOffsetUnits !== 0 ) data.polygonOffsetUnits = this.polygonOffsetUnits;\n\n\t\tif ( this.linewidth && this.linewidth !== 1 ) data.linewidth = this.linewidth;\n\t\tif ( this.dashSize !== undefined ) data.dashSize = this.dashSize;\n\t\tif ( this.gapSize !== undefined ) data.gapSize = this.gapSize;\n\t\tif ( this.scale !== undefined ) data.scale = this.scale;\n\n\t\tif ( this.dithering === true ) data.dithering = true;\n\n\t\tif ( this.alphaTest > 0 ) data.alphaTest = this.alphaTest;\n\t\tif ( this.premultipliedAlpha === true ) data.premultipliedAlpha = this.premultipliedAlpha;\n\n\t\tif ( this.wireframe === true ) data.wireframe = this.wireframe;\n\t\tif ( this.wireframeLinewidth > 1 ) data.wireframeLinewidth = this.wireframeLinewidth;\n\t\tif ( this.wireframeLinecap !== 'round' ) data.wireframeLinecap = this.wireframeLinecap;\n\t\tif ( this.wireframeLinejoin !== 'round' ) data.wireframeLinejoin = this.wireframeLinejoin;\n\n\t\tif ( this.morphTargets === true ) data.morphTargets = true;\n\t\tif ( this.morphNormals === true ) data.morphNormals = true;\n\t\tif ( this.skinning === true ) data.skinning = true;\n\n\t\tif ( this.visible === false ) data.visible = false;\n\n\t\tif ( this.toneMapped === false ) data.toneMapped = false;\n\n\t\tif ( JSON.stringify( this.userData ) !== '{}' ) data.userData = this.userData;\n\n\t\t// TODO: Copied from Object3D.toJSON\n\n\t\tfunction extractFromCache( cache ) {\n\n\t\t\tvar values = [];\n\n\t\t\tfor ( var key in cache ) {\n\n\t\t\t\tvar data = cache[ key ];\n\t\t\t\tdelete data.metadata;\n\t\t\t\tvalues.push( data );\n\n\t\t\t}\n\n\t\t\treturn values;\n\n\t\t}\n\n\t\tif ( isRoot ) {\n\n\t\t\tvar textures = extractFromCache( meta.textures );\n\t\t\tvar images = extractFromCache( meta.images );\n\n\t\t\tif ( textures.length > 0 ) data.textures = textures;\n\t\t\tif ( images.length > 0 ) data.images = images;\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\n\t\tthis.fog = source.fog;\n\n\t\tthis.blending = source.blending;\n\t\tthis.side = source.side;\n\t\tthis.flatShading = source.flatShading;\n\t\tthis.vertexColors = source.vertexColors;\n\n\t\tthis.opacity = source.opacity;\n\t\tthis.transparent = source.transparent;\n\n\t\tthis.blendSrc = source.blendSrc;\n\t\tthis.blendDst = source.blendDst;\n\t\tthis.blendEquation = source.blendEquation;\n\t\tthis.blendSrcAlpha = source.blendSrcAlpha;\n\t\tthis.blendDstAlpha = source.blendDstAlpha;\n\t\tthis.blendEquationAlpha = source.blendEquationAlpha;\n\n\t\tthis.depthFunc = source.depthFunc;\n\t\tthis.depthTest = source.depthTest;\n\t\tthis.depthWrite = source.depthWrite;\n\n\t\tthis.stencilWriteMask = source.stencilWriteMask;\n\t\tthis.stencilFunc = source.stencilFunc;\n\t\tthis.stencilRef = source.stencilRef;\n\t\tthis.stencilFuncMask = source.stencilFuncMask;\n\t\tthis.stencilFail = source.stencilFail;\n\t\tthis.stencilZFail = source.stencilZFail;\n\t\tthis.stencilZPass = source.stencilZPass;\n\t\tthis.stencilWrite = source.stencilWrite;\n\n\t\tvar srcPlanes = source.clippingPlanes,\n\t\t\tdstPlanes = null;\n\n\t\tif ( srcPlanes !== null ) {\n\n\t\t\tvar n = srcPlanes.length;\n\t\t\tdstPlanes = new Array( n );\n\n\t\t\tfor ( var i = 0; i !== n; ++ i )\n\t\t\t\tdstPlanes[ i ] = srcPlanes[ i ].clone();\n\n\t\t}\n\n\t\tthis.clippingPlanes = dstPlanes;\n\t\tthis.clipIntersection = source.clipIntersection;\n\t\tthis.clipShadows = source.clipShadows;\n\n\t\tthis.shadowSide = source.shadowSide;\n\n\t\tthis.colorWrite = source.colorWrite;\n\n\t\tthis.precision = source.precision;\n\n\t\tthis.polygonOffset = source.polygonOffset;\n\t\tthis.polygonOffsetFactor = source.polygonOffsetFactor;\n\t\tthis.polygonOffsetUnits = source.polygonOffsetUnits;\n\n\t\tthis.dithering = source.dithering;\n\n\t\tthis.alphaTest = source.alphaTest;\n\t\tthis.premultipliedAlpha = source.premultipliedAlpha;\n\n\t\tthis.visible = source.visible;\n\n\t\tthis.toneMapped = source.toneMapped;\n\n\t\tthis.userData = JSON.parse( JSON.stringify( source.userData ) );\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\nObject.defineProperty( Material.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  depthTest: <bool>,\n *  depthWrite: <bool>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>\n * }\n */\n\nfunction MeshBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshBasicMaterial';\n\n\tthis.color = new Color( 0xffffff ); // emissive\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshBasicMaterial.prototype = Object.create( Material.prototype );\nMeshBasicMaterial.prototype.constructor = MeshBasicMaterial;\n\nMeshBasicMaterial.prototype.isMeshBasicMaterial = true;\n\nMeshBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _vector$3 = new Vector3();\n\nfunction BufferAttribute( array, itemSize, normalized ) {\n\n\tif ( Array.isArray( array ) ) {\n\n\t\tthrow new TypeError( 'THREE.BufferAttribute: array should be a Typed Array.' );\n\n\t}\n\n\tthis.name = '';\n\n\tthis.array = array;\n\tthis.itemSize = itemSize;\n\tthis.count = array !== undefined ? array.length / itemSize : 0;\n\tthis.normalized = normalized === true;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( BufferAttribute.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\n\tisBufferAttribute: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.name = source.name;\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.itemSize = source.itemSize;\n\t\tthis.count = source.count;\n\t\tthis.normalized = source.normalized;\n\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.itemSize;\n\t\tindex2 *= attribute.itemSize;\n\n\t\tfor ( var i = 0, l = this.itemSize; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyArray: function ( array ) {\n\n\t\tthis.array.set( array );\n\n\t\treturn this;\n\n\t},\n\n\tcopyColorsArray: function ( colors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = colors.length; i < l; i ++ ) {\n\n\t\t\tvar color = colors[ i ];\n\n\t\t\tif ( color === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyColorsArray(): color is undefined', i );\n\t\t\t\tcolor = new Color();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = color.r;\n\t\t\tarray[ offset ++ ] = color.g;\n\t\t\tarray[ offset ++ ] = color.b;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector2sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector2sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector2();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector3sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector3sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector3();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcopyVector4sArray: function ( vectors ) {\n\n\t\tvar array = this.array, offset = 0;\n\n\t\tfor ( var i = 0, l = vectors.length; i < l; i ++ ) {\n\n\t\t\tvar vector = vectors[ i ];\n\n\t\t\tif ( vector === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.BufferAttribute.copyVector4sArray(): vector is undefined', i );\n\t\t\t\tvector = new Vector4();\n\n\t\t\t}\n\n\t\t\tarray[ offset ++ ] = vector.x;\n\t\t\tarray[ offset ++ ] = vector.y;\n\t\t\tarray[ offset ++ ] = vector.z;\n\t\t\tarray[ offset ++ ] = vector.w;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix3: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix3( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tapplyNormalMatrix: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.applyNormalMatrix( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttransformDirection: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.count; i < l; i ++ ) {\n\n\t\t\t_vector$3.x = this.getX( i );\n\t\t\t_vector$3.y = this.getY( i );\n\t\t\t_vector$3.z = this.getZ( i );\n\n\t\t\t_vector$3.transformDirection( m );\n\n\t\t\tthis.setXYZ( i, _vector$3.x, _vector$3.y, _vector$3.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize ];\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.array[ index * this.itemSize ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 1 ];\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.array[ index * this.itemSize + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 2 ];\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.array[ index * this.itemSize + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.array[ index * this.itemSize + 3 ];\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.array[ index * this.itemSize + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex *= this.itemSize;\n\n\t\tthis.array[ index + 0 ] = x;\n\t\tthis.array[ index + 1 ] = y;\n\t\tthis.array[ index + 2 ] = z;\n\t\tthis.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.array, this.itemSize ).copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\treturn {\n\t\t\titemSize: this.itemSize,\n\t\t\ttype: this.array.constructor.name,\n\t\t\tarray: Array.prototype.slice.call( this.array ),\n\t\t\tnormalized: this.normalized\n\t\t};\n\n\t}\n\n} );\n\n//\n\nfunction Int8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int8Array( array ), itemSize, normalized );\n\n}\n\nInt8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt8BufferAttribute.prototype.constructor = Int8BufferAttribute;\n\n\nfunction Uint8BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8Array( array ), itemSize, normalized );\n\n}\n\nUint8BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8BufferAttribute.prototype.constructor = Uint8BufferAttribute;\n\n\nfunction Uint8ClampedBufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint8ClampedArray( array ), itemSize, normalized );\n\n}\n\nUint8ClampedBufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint8ClampedBufferAttribute.prototype.constructor = Uint8ClampedBufferAttribute;\n\n\nfunction Int16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int16Array( array ), itemSize, normalized );\n\n}\n\nInt16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt16BufferAttribute.prototype.constructor = Int16BufferAttribute;\n\n\nfunction Uint16BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint16Array( array ), itemSize, normalized );\n\n}\n\nUint16BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint16BufferAttribute.prototype.constructor = Uint16BufferAttribute;\n\n\nfunction Int32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Int32Array( array ), itemSize, normalized );\n\n}\n\nInt32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nInt32BufferAttribute.prototype.constructor = Int32BufferAttribute;\n\n\nfunction Uint32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Uint32Array( array ), itemSize, normalized );\n\n}\n\nUint32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nUint32BufferAttribute.prototype.constructor = Uint32BufferAttribute;\n\n\nfunction Float32BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float32Array( array ), itemSize, normalized );\n\n}\n\nFloat32BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat32BufferAttribute.prototype.constructor = Float32BufferAttribute;\n\n\nfunction Float64BufferAttribute( array, itemSize, normalized ) {\n\n\tBufferAttribute.call( this, new Float64Array( array ), itemSize, normalized );\n\n}\n\nFloat64BufferAttribute.prototype = Object.create( BufferAttribute.prototype );\nFloat64BufferAttribute.prototype.constructor = Float64BufferAttribute;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectGeometry() {\n\n\tthis.vertices = [];\n\tthis.normals = [];\n\tthis.colors = [];\n\tthis.uvs = [];\n\tthis.uvs2 = [];\n\n\tthis.groups = [];\n\n\tthis.morphTargets = {};\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\t// this.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.verticesNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nObject.assign( DirectGeometry.prototype, {\n\n\tcomputeGroups: function ( geometry ) {\n\n\t\tvar group;\n\t\tvar groups = [];\n\t\tvar materialIndex = undefined;\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\t// materials\n\n\t\t\tif ( face.materialIndex !== materialIndex ) {\n\n\t\t\t\tmaterialIndex = face.materialIndex;\n\n\t\t\t\tif ( group !== undefined ) {\n\n\t\t\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\t\t\tgroups.push( group );\n\n\t\t\t\t}\n\n\t\t\t\tgroup = {\n\t\t\t\t\tstart: i * 3,\n\t\t\t\t\tmaterialIndex: materialIndex\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( group !== undefined ) {\n\n\t\t\tgroup.count = ( i * 3 ) - group.start;\n\t\t\tgroups.push( group );\n\n\t\t}\n\n\t\tthis.groups = groups;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tvar faces = geometry.faces;\n\t\tvar vertices = geometry.vertices;\n\t\tvar faceVertexUvs = geometry.faceVertexUvs;\n\n\t\tvar hasFaceVertexUv = faceVertexUvs[ 0 ] && faceVertexUvs[ 0 ].length > 0;\n\t\tvar hasFaceVertexUv2 = faceVertexUvs[ 1 ] && faceVertexUvs[ 1 ].length > 0;\n\n\t\t// morphs\n\n\t\tvar morphTargets = geometry.morphTargets;\n\t\tvar morphTargetsLength = morphTargets.length;\n\n\t\tvar morphTargetsPosition;\n\n\t\tif ( morphTargetsLength > 0 ) {\n\n\t\t\tmorphTargetsPosition = [];\n\n\t\t\tfor ( var i = 0; i < morphTargetsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsPosition[ i ] = {\n\t\t\t\t\tname: morphTargets[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.position = morphTargetsPosition;\n\n\t\t}\n\n\t\tvar morphNormals = geometry.morphNormals;\n\t\tvar morphNormalsLength = morphNormals.length;\n\n\t\tvar morphTargetsNormal;\n\n\t\tif ( morphNormalsLength > 0 ) {\n\n\t\t\tmorphTargetsNormal = [];\n\n\t\t\tfor ( var i = 0; i < morphNormalsLength; i ++ ) {\n\n\t\t\t\tmorphTargetsNormal[ i ] = {\n\t\t\t\t\tname: morphNormals[ i ].name,\n\t\t\t\t \tdata: []\n\t\t\t\t};\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.normal = morphTargetsNormal;\n\n\t\t}\n\n\t\t// skins\n\n\t\tvar skinIndices = geometry.skinIndices;\n\t\tvar skinWeights = geometry.skinWeights;\n\n\t\tvar hasSkinIndices = skinIndices.length === vertices.length;\n\t\tvar hasSkinWeights = skinWeights.length === vertices.length;\n\n\t\t//\n\n\t\tif ( vertices.length > 0 && faces.length === 0 ) {\n\n\t\t\tconsole.error( 'THREE.DirectGeometry: Faceless geometries are not supported.' );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < faces.length; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tthis.vertices.push( vertices[ face.a ], vertices[ face.b ], vertices[ face.c ] );\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tthis.normals.push( vertexNormals[ 0 ], vertexNormals[ 1 ], vertexNormals[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar normal = face.normal;\n\n\t\t\t\tthis.normals.push( normal, normal, normal );\n\n\t\t\t}\n\n\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\tif ( vertexColors.length === 3 ) {\n\n\t\t\t\tthis.colors.push( vertexColors[ 0 ], vertexColors[ 1 ], vertexColors[ 2 ] );\n\n\t\t\t} else {\n\n\t\t\t\tvar color = face.color;\n\n\t\t\t\tthis.colors.push( color, color, color );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv ', i );\n\n\t\t\t\t\tthis.uvs.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexUv2 === true ) {\n\n\t\t\t\tvar vertexUvs = faceVertexUvs[ 1 ][ i ];\n\n\t\t\t\tif ( vertexUvs !== undefined ) {\n\n\t\t\t\t\tthis.uvs2.push( vertexUvs[ 0 ], vertexUvs[ 1 ], vertexUvs[ 2 ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.DirectGeometry.fromGeometry(): Undefined vertexUv2 ', i );\n\n\t\t\t\t\tthis.uvs2.push( new Vector2(), new Vector2(), new Vector2() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// morphs\n\n\t\t\tfor ( var j = 0; j < morphTargetsLength; j ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ j ].vertices;\n\n\t\t\t\tmorphTargetsPosition[ j ].data.push( morphTarget[ face.a ], morphTarget[ face.b ], morphTarget[ face.c ] );\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0; j < morphNormalsLength; j ++ ) {\n\n\t\t\t\tvar morphNormal = morphNormals[ j ].vertexNormals[ i ];\n\n\t\t\t\tmorphTargetsNormal[ j ].data.push( morphNormal.a, morphNormal.b, morphNormal.c );\n\n\t\t\t}\n\n\t\t\t// skins\n\n\t\t\tif ( hasSkinIndices ) {\n\n\t\t\t\tthis.skinIndices.push( skinIndices[ face.a ], skinIndices[ face.b ], skinIndices[ face.c ] );\n\n\t\t\t}\n\n\t\t\tif ( hasSkinWeights ) {\n\n\t\t\t\tthis.skinWeights.push( skinWeights[ face.a ], skinWeights[ face.b ], skinWeights[ face.c ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeGroups( geometry );\n\n\t\tthis.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\tthis.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\tthis.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\tthis.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction arrayMax( array ) {\n\n\tif ( array.length === 0 ) return - Infinity;\n\n\tvar max = array[ 0 ];\n\n\tfor ( var i = 1, l = array.length; i < l; ++ i ) {\n\n\t\tif ( array[ i ] > max ) max = array[ i ];\n\n\t}\n\n\treturn max;\n\n}\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _bufferGeometryId = 1; // BufferGeometry uses odd numbers as Id\n\nvar _m1$2 = new Matrix4();\nvar _obj = new Object3D();\nvar _offset = new Vector3();\nvar _box$2 = new Box3();\nvar _boxMorphTargets = new Box3();\nvar _vector$4 = new Vector3();\n\nfunction BufferGeometry() {\n\n\tObject.defineProperty( this, 'id', { value: _bufferGeometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'BufferGeometry';\n\n\tthis.index = null;\n\tthis.attributes = {};\n\n\tthis.morphAttributes = {};\n\tthis.morphTargetsRelative = false;\n\n\tthis.groups = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\tthis.drawRange = { start: 0, count: Infinity };\n\n\tthis.userData = {};\n\n}\n\nBufferGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: BufferGeometry,\n\n\tisBufferGeometry: true,\n\n\tgetIndex: function () {\n\n\t\treturn this.index;\n\n\t},\n\n\tsetIndex: function ( index ) {\n\n\t\tif ( Array.isArray( index ) ) {\n\n\t\t\tthis.index = new ( arrayMax( index ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( index, 1 );\n\n\t\t} else {\n\n\t\t\tthis.index = index;\n\n\t\t}\n\n\t},\n\n\tgetAttribute: function ( name ) {\n\n\t\treturn this.attributes[ name ];\n\n\t},\n\n\tsetAttribute: function ( name, attribute ) {\n\n\t\tthis.attributes[ name ] = attribute;\n\n\t\treturn this;\n\n\t},\n\n\tdeleteAttribute: function ( name ) {\n\n\t\tdelete this.attributes[ name ];\n\n\t\treturn this;\n\n\t},\n\n\taddGroup: function ( start, count, materialIndex ) {\n\n\t\tthis.groups.push( {\n\n\t\t\tstart: start,\n\t\t\tcount: count,\n\t\t\tmaterialIndex: materialIndex !== undefined ? materialIndex : 0\n\n\t\t} );\n\n\t},\n\n\tclearGroups: function () {\n\n\t\tthis.groups = [];\n\n\t},\n\n\tsetDrawRange: function ( start, count ) {\n\n\t\tthis.drawRange.start = start;\n\t\tthis.drawRange.count = count;\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tvar position = this.attributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tposition.applyMatrix4( matrix );\n\n\t\t\tposition.needsUpdate = true;\n\n\t\t}\n\n\t\tvar normal = this.attributes.normal;\n\n\t\tif ( normal !== undefined ) {\n\n\t\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t\tnormal.applyNormalMatrix( normalMatrix );\n\n\t\t\tnormal.needsUpdate = true;\n\n\t\t}\n\n\t\tvar tangent = this.attributes.tangent;\n\n\t\tif ( tangent !== undefined ) {\n\n\t\t\ttangent.transformDirection( matrix );\n\n\t\t\ttangent.needsUpdate = true;\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$2.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$2.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$2.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$2.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$2.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$2 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj.lookAt( vector );\n\n\t\t_obj.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset ).negate();\n\n\t\tthis.translate( _offset.x, _offset.y, _offset.z );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromObject: function ( object ) {\n\n\t\t// console.log( 'THREE.BufferGeometry.setFromObject(). Converting', object, this );\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isPoints || object.isLine ) {\n\n\t\t\tvar positions = new Float32BufferAttribute( geometry.vertices.length * 3, 3 );\n\t\t\tvar colors = new Float32BufferAttribute( geometry.colors.length * 3, 3 );\n\n\t\t\tthis.setAttribute( 'position', positions.copyVector3sArray( geometry.vertices ) );\n\t\t\tthis.setAttribute( 'color', colors.copyColorsArray( geometry.colors ) );\n\n\t\t\tif ( geometry.lineDistances && geometry.lineDistances.length === geometry.vertices.length ) {\n\n\t\t\t\tvar lineDistances = new Float32BufferAttribute( geometry.lineDistances.length, 1 );\n\n\t\t\t\tthis.setAttribute( 'lineDistance', lineDistances.copyArray( geometry.lineDistances ) );\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t\t}\n\n\t\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t\t}\n\n\t\t} else if ( object.isMesh ) {\n\n\t\t\tif ( geometry && geometry.isGeometry ) {\n\n\t\t\t\tthis.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tvar position = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tposition.push( point.x, point.y, point.z || 0 );\n\n\t\t}\n\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( position, 3 ) );\n\n\t\treturn this;\n\n\t},\n\n\tupdateFromObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tvar direct = geometry.__directGeometry;\n\n\t\t\tif ( geometry.elementsNeedUpdate === true ) {\n\n\t\t\t\tdirect = undefined;\n\t\t\t\tgeometry.elementsNeedUpdate = false;\n\n\t\t\t}\n\n\t\t\tif ( direct === undefined ) {\n\n\t\t\t\treturn this.fromGeometry( geometry );\n\n\t\t\t}\n\n\t\t\tdirect.verticesNeedUpdate = geometry.verticesNeedUpdate;\n\t\t\tdirect.normalsNeedUpdate = geometry.normalsNeedUpdate;\n\t\t\tdirect.colorsNeedUpdate = geometry.colorsNeedUpdate;\n\t\t\tdirect.uvsNeedUpdate = geometry.uvsNeedUpdate;\n\t\t\tdirect.groupsNeedUpdate = geometry.groupsNeedUpdate;\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\t\t\tgeometry.normalsNeedUpdate = false;\n\t\t\tgeometry.colorsNeedUpdate = false;\n\t\t\tgeometry.uvsNeedUpdate = false;\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t\tgeometry = direct;\n\n\t\t}\n\n\t\tvar attribute;\n\n\t\tif ( geometry.verticesNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.position;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.vertices );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.verticesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.normalsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.normal;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector3sArray( geometry.normals );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.normalsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.colorsNeedUpdate === true ) {\n\n\t\t\tattribute = this.attributes.color;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyColorsArray( geometry.colors );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.colorsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.uvsNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.uv;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyVector2sArray( geometry.uvs );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.uvsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.lineDistancesNeedUpdate ) {\n\n\t\t\tattribute = this.attributes.lineDistance;\n\n\t\t\tif ( attribute !== undefined ) {\n\n\t\t\t\tattribute.copyArray( geometry.lineDistances );\n\t\t\t\tattribute.needsUpdate = true;\n\n\t\t\t}\n\n\t\t\tgeometry.lineDistancesNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( geometry.groupsNeedUpdate ) {\n\n\t\t\tgeometry.computeGroups( object.geometry );\n\t\t\tthis.groups = geometry.groups;\n\n\t\t\tgeometry.groupsNeedUpdate = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tfromGeometry: function ( geometry ) {\n\n\t\tgeometry.__directGeometry = new DirectGeometry().fromGeometry( geometry );\n\n\t\treturn this.fromDirectGeometry( geometry.__directGeometry );\n\n\t},\n\n\tfromDirectGeometry: function ( geometry ) {\n\n\t\tvar positions = new Float32Array( geometry.vertices.length * 3 );\n\t\tthis.setAttribute( 'position', new BufferAttribute( positions, 3 ).copyVector3sArray( geometry.vertices ) );\n\n\t\tif ( geometry.normals.length > 0 ) {\n\n\t\t\tvar normals = new Float32Array( geometry.normals.length * 3 );\n\t\t\tthis.setAttribute( 'normal', new BufferAttribute( normals, 3 ).copyVector3sArray( geometry.normals ) );\n\n\t\t}\n\n\t\tif ( geometry.colors.length > 0 ) {\n\n\t\t\tvar colors = new Float32Array( geometry.colors.length * 3 );\n\t\t\tthis.setAttribute( 'color', new BufferAttribute( colors, 3 ).copyColorsArray( geometry.colors ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs.length > 0 ) {\n\n\t\t\tvar uvs = new Float32Array( geometry.uvs.length * 2 );\n\t\t\tthis.setAttribute( 'uv', new BufferAttribute( uvs, 2 ).copyVector2sArray( geometry.uvs ) );\n\n\t\t}\n\n\t\tif ( geometry.uvs2.length > 0 ) {\n\n\t\t\tvar uvs2 = new Float32Array( geometry.uvs2.length * 2 );\n\t\t\tthis.setAttribute( 'uv2', new BufferAttribute( uvs2, 2 ).copyVector2sArray( geometry.uvs2 ) );\n\n\t\t}\n\n\t\t// groups\n\n\t\tthis.groups = geometry.groups;\n\n\t\t// morphs\n\n\t\tfor ( var name in geometry.morphTargets ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphTargets = geometry.morphTargets[ name ];\n\n\t\t\tfor ( var i = 0, l = morphTargets.length; i < l; i ++ ) {\n\n\t\t\t\tvar morphTarget = morphTargets[ i ];\n\n\t\t\t\tvar attribute = new Float32BufferAttribute( morphTarget.data.length * 3, 3 );\n\t\t\t\tattribute.name = morphTarget.name;\n\n\t\t\t\tarray.push( attribute.copyVector3sArray( morphTarget.data ) );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\t// skinning\n\n\t\tif ( geometry.skinIndices.length > 0 ) {\n\n\t\t\tvar skinIndices = new Float32BufferAttribute( geometry.skinIndices.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinIndex', skinIndices.copyVector4sArray( geometry.skinIndices ) );\n\n\t\t}\n\n\t\tif ( geometry.skinWeights.length > 0 ) {\n\n\t\t\tvar skinWeights = new Float32BufferAttribute( geometry.skinWeights.length * 4, 4 );\n\t\t\tthis.setAttribute( 'skinWeight', skinWeights.copyVector4sArray( geometry.skinWeights ) );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position !== undefined ) {\n\n\t\t\tthis.boundingBox.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_box$2.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.min, _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( this.boundingBox.max, _box$2.max );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.min );\n\t\t\t\t\t\tthis.boundingBox.expandByPoint( _box$2.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.boundingBox.makeEmpty();\n\n\t\t}\n\n\t\tif ( isNaN( this.boundingBox.min.x ) || isNaN( this.boundingBox.min.y ) || isNaN( this.boundingBox.min.z ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingBox: Computed min/max have NaN values. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tvar position = this.attributes.position;\n\t\tvar morphAttributesPosition = this.morphAttributes.position;\n\n\t\tif ( position ) {\n\n\t\t\t// first, find the center of the bounding sphere\n\n\t\t\tvar center = this.boundingSphere.center;\n\n\t\t\t_box$2.setFromBufferAttribute( position );\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\t_boxMorphTargets.setFromBufferAttribute( morphAttribute );\n\n\t\t\t\t\tif ( this.morphTargetsRelative ) {\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.min, _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t\t_vector$4.addVectors( _box$2.max, _boxMorphTargets.max );\n\t\t\t\t\t\t_box$2.expandByPoint( _vector$4 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.min );\n\t\t\t\t\t\t_box$2.expandByPoint( _boxMorphTargets.max );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t_box$2.getCenter( center );\n\n\t\t\t// second, try to find a boundingSphere with a radius smaller than the\n\t\t\t// boundingSphere of the boundingBox: sqrt(3) smaller in the best case\n\n\t\t\tvar maxRadiusSq = 0;\n\n\t\t\tfor ( var i = 0, il = position.count; i < il; i ++ ) {\n\n\t\t\t\t_vector$4.fromBufferAttribute( position, i );\n\n\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t}\n\n\t\t\t// process morph attributes if present\n\n\t\t\tif ( morphAttributesPosition ) {\n\n\t\t\t\tfor ( var i = 0, il = morphAttributesPosition.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar morphAttribute = morphAttributesPosition[ i ];\n\t\t\t\t\tvar morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t\t\t\tfor ( var j = 0, jl = morphAttribute.count; j < jl; j ++ ) {\n\n\t\t\t\t\t\t_vector$4.fromBufferAttribute( morphAttribute, j );\n\n\t\t\t\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t\t\t\t_offset.fromBufferAttribute( position, j );\n\t\t\t\t\t\t\t_vector$4.add( _offset );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tmaxRadiusSq = Math.max( maxRadiusSq, center.distanceToSquared( _vector$4 ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.boundingSphere.radius = Math.sqrt( maxRadiusSq );\n\n\t\t\tif ( isNaN( this.boundingSphere.radius ) ) {\n\n\t\t\t\tconsole.error( 'THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The \"position\" attribute is likely to have NaN values.', this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\t// backwards compatibility\n\n\t},\n\n\tcomputeVertexNormals: function () {\n\n\t\tvar index = this.index;\n\t\tvar attributes = this.attributes;\n\n\t\tif ( attributes.position ) {\n\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( attributes.normal === undefined ) {\n\n\t\t\t\tthis.setAttribute( 'normal', new BufferAttribute( new Float32Array( positions.length ), 3 ) );\n\n\t\t\t} else {\n\n\t\t\t\t// reset existing normals to zero\n\n\t\t\t\tvar array = attributes.normal.array;\n\n\t\t\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t\t\tarray[ i ] = 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar normals = attributes.normal.array;\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar pA = new Vector3(), pB = new Vector3(), pC = new Vector3();\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\t// indexed elements\n\n\t\t\tif ( index ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = index.count; i < il; i += 3 ) {\n\n\t\t\t\t\tvA = indices[ i + 0 ] * 3;\n\t\t\t\t\tvB = indices[ i + 1 ] * 3;\n\t\t\t\t\tvC = indices[ i + 2 ] * 3;\n\n\t\t\t\t\tpA.fromArray( positions, vA );\n\t\t\t\t\tpB.fromArray( positions, vB );\n\t\t\t\t\tpC.fromArray( positions, vC );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ vA ] += cb.x;\n\t\t\t\t\tnormals[ vA + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vA + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vB ] += cb.x;\n\t\t\t\t\tnormals[ vB + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vB + 2 ] += cb.z;\n\n\t\t\t\t\tnormals[ vC ] += cb.x;\n\t\t\t\t\tnormals[ vC + 1 ] += cb.y;\n\t\t\t\t\tnormals[ vC + 2 ] += cb.z;\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// non-indexed elements (unconnected triangle soup)\n\n\t\t\t\tfor ( var i = 0, il = positions.length; i < il; i += 9 ) {\n\n\t\t\t\t\tpA.fromArray( positions, i );\n\t\t\t\t\tpB.fromArray( positions, i + 3 );\n\t\t\t\t\tpC.fromArray( positions, i + 6 );\n\n\t\t\t\t\tcb.subVectors( pC, pB );\n\t\t\t\t\tab.subVectors( pA, pB );\n\t\t\t\t\tcb.cross( ab );\n\n\t\t\t\t\tnormals[ i ] = cb.x;\n\t\t\t\t\tnormals[ i + 1 ] = cb.y;\n\t\t\t\t\tnormals[ i + 2 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 3 ] = cb.x;\n\t\t\t\t\tnormals[ i + 4 ] = cb.y;\n\t\t\t\t\tnormals[ i + 5 ] = cb.z;\n\n\t\t\t\t\tnormals[ i + 6 ] = cb.x;\n\t\t\t\t\tnormals[ i + 7 ] = cb.y;\n\t\t\t\t\tnormals[ i + 8 ] = cb.z;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.normalizeNormals();\n\n\t\t\tattributes.normal.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tmerge: function ( geometry, offset ) {\n\n\t\tif ( ! ( geometry && geometry.isBufferGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry.merge(): geometry not an instance of THREE.BufferGeometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( offset === undefined ) {\n\n\t\t\toffset = 0;\n\n\t\t\tconsole.warn(\n\t\t\t\t'THREE.BufferGeometry.merge(): Overwriting original geometry, starting at offset=0. '\n\t\t\t\t+ 'Use BufferGeometryUtils.mergeBufferGeometries() for lossless merge.'\n\t\t\t);\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tif ( geometry.attributes[ key ] === undefined ) continue;\n\n\t\t\tvar attribute1 = attributes[ key ];\n\t\t\tvar attributeArray1 = attribute1.array;\n\n\t\t\tvar attribute2 = geometry.attributes[ key ];\n\t\t\tvar attributeArray2 = attribute2.array;\n\n\t\t\tvar attributeOffset = attribute2.itemSize * offset;\n\t\t\tvar length = Math.min( attributeArray2.length, attributeArray1.length - attributeOffset );\n\n\t\t\tfor ( var i = 0, j = attributeOffset; i < length; i ++, j ++ ) {\n\n\t\t\t\tattributeArray1[ j ] = attributeArray2[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tnormalizeNormals: function () {\n\n\t\tvar normals = this.attributes.normal;\n\n\t\tfor ( var i = 0, il = normals.count; i < il; i ++ ) {\n\n\t\t\t_vector$4.x = normals.getX( i );\n\t\t\t_vector$4.y = normals.getY( i );\n\t\t\t_vector$4.z = normals.getZ( i );\n\n\t\t\t_vector$4.normalize();\n\n\t\t\tnormals.setXYZ( i, _vector$4.x, _vector$4.y, _vector$4.z );\n\n\t\t}\n\n\t},\n\n\ttoNonIndexed: function () {\n\n\t\tfunction convertBufferAttribute( attribute, indices ) {\n\n\t\t\tvar array = attribute.array;\n\t\t\tvar itemSize = attribute.itemSize;\n\n\t\t\tvar array2 = new array.constructor( indices.length * itemSize );\n\n\t\t\tvar index = 0, index2 = 0;\n\n\t\t\tfor ( var i = 0, l = indices.length; i < l; i ++ ) {\n\n\t\t\t\tindex = indices[ i ] * itemSize;\n\n\t\t\t\tfor ( var j = 0; j < itemSize; j ++ ) {\n\n\t\t\t\t\tarray2[ index2 ++ ] = array[ index ++ ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new BufferAttribute( array2, itemSize );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( this.index === null ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.toNonIndexed(): Geometry is already non-indexed.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar geometry2 = new BufferGeometry();\n\n\t\tvar indices = this.index.array;\n\t\tvar attributes = this.attributes;\n\n\t\t// attributes\n\n\t\tfor ( var name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\n\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\tgeometry2.setAttribute( name, newAttribute );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = this.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar morphArray = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( var i = 0, il = morphAttribute.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = morphAttribute[ i ];\n\n\t\t\t\tvar newAttribute = convertBufferAttribute( attribute, indices );\n\n\t\t\t\tmorphArray.push( newAttribute );\n\n\t\t\t}\n\n\t\t\tgeometry2.morphAttributes[ name ] = morphArray;\n\n\t\t}\n\n\t\tgeometry2.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tvar groups = this.groups;\n\n\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tgeometry2.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\treturn geometry2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'BufferGeometry',\n\t\t\t\tgenerator: 'BufferGeometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard BufferGeometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\t\tif ( Object.keys( this.userData ).length > 0 ) data.userData = this.userData;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tdata.data = { attributes: {} };\n\n\t\tvar index = this.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tdata.data.index = {\n\t\t\t\ttype: index.array.constructor.name,\n\t\t\t\tarray: Array.prototype.slice.call( index.array )\n\t\t\t};\n\n\t\t}\n\n\t\tvar attributes = this.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\n\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\tdata.data.attributes[ key ] = attributeData;\n\n\t\t}\n\n\t\tvar morphAttributes = {};\n\t\tvar hasMorphAttributes = false;\n\n\t\tfor ( var key in this.morphAttributes ) {\n\n\t\t\tvar attributeArray = this.morphAttributes[ key ];\n\n\t\t\tvar array = [];\n\n\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\tvar attribute = attributeArray[ i ];\n\n\t\t\t\tvar attributeData = attribute.toJSON();\n\n\t\t\t\tif ( attribute.name !== '' ) attributeData.name = attribute.name;\n\n\t\t\t\tarray.push( attributeData );\n\n\t\t\t}\n\n\t\t\tif ( array.length > 0 ) {\n\n\t\t\t\tmorphAttributes[ key ] = array;\n\n\t\t\t\thasMorphAttributes = true;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( hasMorphAttributes ) {\n\n\t\t\tdata.data.morphAttributes = morphAttributes;\n\t\t\tdata.data.morphTargetsRelative = this.morphTargetsRelative;\n\n\t\t}\n\n\t\tvar groups = this.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tdata.data.groups = JSON.parse( JSON.stringify( groups ) );\n\n\t\t}\n\n\t\tvar boundingSphere = this.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tdata.data.boundingSphere = {\n\t\t\t\tcenter: boundingSphere.center.toArray(),\n\t\t\t\tradius: boundingSphere.radius\n\t\t\t};\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new BufferGeometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar name, i, l;\n\n\t\t// reset\n\n\t\tthis.index = null;\n\t\tthis.attributes = {};\n\t\tthis.morphAttributes = {};\n\t\tthis.groups = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// index\n\n\t\tvar index = source.index;\n\n\t\tif ( index !== null ) {\n\n\t\t\tthis.setIndex( index.clone() );\n\n\t\t}\n\n\t\t// attributes\n\n\t\tvar attributes = source.attributes;\n\n\t\tfor ( name in attributes ) {\n\n\t\t\tvar attribute = attributes[ name ];\n\t\t\tthis.setAttribute( name, attribute.clone() );\n\n\t\t}\n\n\t\t// morph attributes\n\n\t\tvar morphAttributes = source.morphAttributes;\n\n\t\tfor ( name in morphAttributes ) {\n\n\t\t\tvar array = [];\n\t\t\tvar morphAttribute = morphAttributes[ name ]; // morphAttribute: array of Float32BufferAttributes\n\n\t\t\tfor ( i = 0, l = morphAttribute.length; i < l; i ++ ) {\n\n\t\t\t\tarray.push( morphAttribute[ i ].clone() );\n\n\t\t\t}\n\n\t\t\tthis.morphAttributes[ name ] = array;\n\n\t\t}\n\n\t\tthis.morphTargetsRelative = source.morphTargetsRelative;\n\n\t\t// groups\n\n\t\tvar groups = source.groups;\n\n\t\tfor ( i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\tvar group = groups[ i ];\n\t\t\tthis.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// draw range\n\n\t\tthis.drawRange.start = source.drawRange.start;\n\t\tthis.drawRange.count = source.drawRange.count;\n\n\t\t// user data\n\n\t\tthis.userData = source.userData;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author jonobr1 / http://jonobr1.com/\n */\n\nvar _inverseMatrix = new Matrix4();\nvar _ray = new Ray();\nvar _sphere = new Sphere();\n\nvar _vA = new Vector3();\nvar _vB = new Vector3();\nvar _vC = new Vector3();\n\nvar _tempA = new Vector3();\nvar _tempB = new Vector3();\nvar _tempC = new Vector3();\n\nvar _morphA = new Vector3();\nvar _morphB = new Vector3();\nvar _morphC = new Vector3();\n\nvar _uvA = new Vector2();\nvar _uvB = new Vector2();\nvar _uvC = new Vector2();\n\nvar _intersectionPoint = new Vector3();\nvar _intersectionPointWorld = new Vector3();\n\nfunction Mesh( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Mesh';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new MeshBasicMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nMesh.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Mesh,\n\n\tisMesh: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.morphTargetInfluences !== undefined ) {\n\n\t\t\tthis.morphTargetInfluences = source.morphTargetInfluences.slice();\n\n\t\t}\n\n\t\tif ( source.morphTargetDictionary !== undefined ) {\n\n\t\t\tthis.morphTargetDictionary = Object.assign( {}, source.morphTargetDictionary );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Mesh.updateMorphTargets() no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar material = this.material;\n\t\tvar matrixWorld = this.matrixWorld;\n\n\t\tif ( material === undefined ) return;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere.copy( geometry.boundingSphere );\n\t\t_sphere.applyMatrix4( matrixWorld );\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix.getInverse( matrixWorld );\n\t\t_ray.copy( raycaster.ray ).applyMatrix4( _inverseMatrix );\n\n\t\t// Check boundingBox before continuing\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tif ( _ray.intersectsBox( geometry.boundingBox ) === false ) return;\n\n\t\t}\n\n\t\tvar intersection;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar a, b, c;\n\t\t\tvar index = geometry.index;\n\t\t\tvar position = geometry.attributes.position;\n\t\t\tvar morphPosition = geometry.morphAttributes.position;\n\t\t\tvar morphTargetsRelative = geometry.morphTargetsRelative;\n\t\t\tvar uv = geometry.attributes.uv;\n\t\t\tvar uv2 = geometry.attributes.uv2;\n\t\t\tvar groups = geometry.groups;\n\t\t\tvar drawRange = geometry.drawRange;\n\t\t\tvar i, j, il, jl;\n\t\t\tvar group, groupMaterial;\n\t\t\tvar start, end;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t// indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\ta = index.getX( j );\n\t\t\t\t\t\t\tb = index.getX( j + 1 );\n\t\t\t\t\t\t\tc = index.getX( j + 2 );\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\tend = Math.min( index.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\ta = index.getX( i );\n\t\t\t\t\t\tb = index.getX( i + 1 );\n\t\t\t\t\t\tc = index.getX( i + 2 );\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( position !== undefined ) {\n\n\t\t\t\t// non-indexed buffer geometry\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tfor ( i = 0, il = groups.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tgroup = groups[ i ];\n\t\t\t\t\t\tgroupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tstart = Math.max( group.start, drawRange.start );\n\t\t\t\t\t\tend = Math.min( ( group.start + group.count ), ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\t\tfor ( j = start, jl = end; j < jl; j += 3 ) {\n\n\t\t\t\t\t\t\ta = j;\n\t\t\t\t\t\t\tb = j + 1;\n\t\t\t\t\t\t\tc = j + 2;\n\n\t\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, groupMaterial, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( j / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\t\tintersection.face.materialIndex = group.materialIndex;\n\t\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstart = Math.max( 0, drawRange.start );\n\t\t\t\t\tend = Math.min( position.count, ( drawRange.start + drawRange.count ) );\n\n\t\t\t\t\tfor ( i = start, il = end; i < il; i += 3 ) {\n\n\t\t\t\t\t\ta = i;\n\t\t\t\t\t\tb = i + 1;\n\t\t\t\t\t\tc = i + 2;\n\n\t\t\t\t\t\tintersection = checkBufferGeometryIntersection( this, material, raycaster, _ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c );\n\n\t\t\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\t\t\tintersection.faceIndex = Math.floor( i / 3 ); // triangle number in non-indexed buffer semantics\n\t\t\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar fvA, fvB, fvC;\n\t\t\tvar isMultiMaterial = Array.isArray( material );\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar faces = geometry.faces;\n\t\t\tvar uvs;\n\n\t\t\tvar faceVertexUvs = geometry.faceVertexUvs[ 0 ];\n\t\t\tif ( faceVertexUvs.length > 0 ) uvs = faceVertexUvs;\n\n\t\t\tfor ( var f = 0, fl = faces.length; f < fl; f ++ ) {\n\n\t\t\t\tvar face = faces[ f ];\n\t\t\t\tvar faceMaterial = isMultiMaterial ? material[ face.materialIndex ] : material;\n\n\t\t\t\tif ( faceMaterial === undefined ) continue;\n\n\t\t\t\tfvA = vertices[ face.a ];\n\t\t\t\tfvB = vertices[ face.b ];\n\t\t\t\tfvC = vertices[ face.c ];\n\n\t\t\t\tintersection = checkIntersection( this, faceMaterial, raycaster, _ray, fvA, fvB, fvC, _intersectionPoint );\n\n\t\t\t\tif ( intersection ) {\n\n\t\t\t\t\tif ( uvs && uvs[ f ] ) {\n\n\t\t\t\t\t\tvar uvs_f = uvs[ f ];\n\t\t\t\t\t\t_uvA.copy( uvs_f[ 0 ] );\n\t\t\t\t\t\t_uvB.copy( uvs_f[ 1 ] );\n\t\t\t\t\t\t_uvC.copy( uvs_f[ 2 ] );\n\n\t\t\t\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, fvA, fvB, fvC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tintersection.face = face;\n\t\t\t\t\tintersection.faceIndex = f;\n\t\t\t\t\tintersects.push( intersection );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\nfunction checkIntersection( object, material, raycaster, ray, pA, pB, pC, point ) {\n\n\tvar intersect;\n\n\tif ( material.side === BackSide ) {\n\n\t\tintersect = ray.intersectTriangle( pC, pB, pA, true, point );\n\n\t} else {\n\n\t\tintersect = ray.intersectTriangle( pA, pB, pC, material.side !== DoubleSide, point );\n\n\t}\n\n\tif ( intersect === null ) return null;\n\n\t_intersectionPointWorld.copy( point );\n\t_intersectionPointWorld.applyMatrix4( object.matrixWorld );\n\n\tvar distance = raycaster.ray.origin.distanceTo( _intersectionPointWorld );\n\n\tif ( distance < raycaster.near || distance > raycaster.far ) return null;\n\n\treturn {\n\t\tdistance: distance,\n\t\tpoint: _intersectionPointWorld.clone(),\n\t\tobject: object\n\t};\n\n}\n\nfunction checkBufferGeometryIntersection( object, material, raycaster, ray, position, morphPosition, morphTargetsRelative, uv, uv2, a, b, c ) {\n\n\t_vA.fromBufferAttribute( position, a );\n\t_vB.fromBufferAttribute( position, b );\n\t_vC.fromBufferAttribute( position, c );\n\n\tvar morphInfluences = object.morphTargetInfluences;\n\n\tif ( material.morphTargets && morphPosition && morphInfluences ) {\n\n\t\t_morphA.set( 0, 0, 0 );\n\t\t_morphB.set( 0, 0, 0 );\n\t\t_morphC.set( 0, 0, 0 );\n\n\t\tfor ( var i = 0, il = morphPosition.length; i < il; i ++ ) {\n\n\t\t\tvar influence = morphInfluences[ i ];\n\t\t\tvar morphAttribute = morphPosition[ i ];\n\n\t\t\tif ( influence === 0 ) continue;\n\n\t\t\t_tempA.fromBufferAttribute( morphAttribute, a );\n\t\t\t_tempB.fromBufferAttribute( morphAttribute, b );\n\t\t\t_tempC.fromBufferAttribute( morphAttribute, c );\n\n\t\t\tif ( morphTargetsRelative ) {\n\n\t\t\t\t_morphA.addScaledVector( _tempA, influence );\n\t\t\t\t_morphB.addScaledVector( _tempB, influence );\n\t\t\t\t_morphC.addScaledVector( _tempC, influence );\n\n\t\t\t} else {\n\n\t\t\t\t_morphA.addScaledVector( _tempA.sub( _vA ), influence );\n\t\t\t\t_morphB.addScaledVector( _tempB.sub( _vB ), influence );\n\t\t\t\t_morphC.addScaledVector( _tempC.sub( _vC ), influence );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_vA.add( _morphA );\n\t\t_vB.add( _morphB );\n\t\t_vC.add( _morphC );\n\n\t}\n\n\tvar intersection = checkIntersection( object, material, raycaster, ray, _vA, _vB, _vC, _intersectionPoint );\n\n\tif ( intersection ) {\n\n\t\tif ( uv ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv, a );\n\t\t\t_uvB.fromBufferAttribute( uv, b );\n\t\t\t_uvC.fromBufferAttribute( uv, c );\n\n\t\t\tintersection.uv = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tif ( uv2 ) {\n\n\t\t\t_uvA.fromBufferAttribute( uv2, a );\n\t\t\t_uvB.fromBufferAttribute( uv2, b );\n\t\t\t_uvC.fromBufferAttribute( uv2, c );\n\n\t\t\tintersection.uv2 = Triangle.getUV( _intersectionPoint, _vA, _vB, _vC, _uvA, _uvB, _uvC, new Vector2() );\n\n\t\t}\n\n\t\tvar face = new Face3( a, b, c );\n\t\tTriangle.getNormal( _vA, _vB, _vC, face.normal );\n\n\t\tintersection.face = face;\n\n\t}\n\n\treturn intersection;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author kile / http://kile.stravaganza.org/\n * @author alteredq / http://alteredqualia.com/\n * @author mikael emtinger / http://gomo.se/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author bhouston / http://clara.io\n */\n\nvar _geometryId = 0; // Geometry uses even numbers as Id\nvar _m1$3 = new Matrix4();\nvar _obj$1 = new Object3D();\nvar _offset$1 = new Vector3();\n\nfunction Geometry() {\n\n\tObject.defineProperty( this, 'id', { value: _geometryId += 2 } );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.name = '';\n\tthis.type = 'Geometry';\n\n\tthis.vertices = [];\n\tthis.colors = [];\n\tthis.faces = [];\n\tthis.faceVertexUvs = [[]];\n\n\tthis.morphTargets = [];\n\tthis.morphNormals = [];\n\n\tthis.skinWeights = [];\n\tthis.skinIndices = [];\n\n\tthis.lineDistances = [];\n\n\tthis.boundingBox = null;\n\tthis.boundingSphere = null;\n\n\t// update flags\n\n\tthis.elementsNeedUpdate = false;\n\tthis.verticesNeedUpdate = false;\n\tthis.uvsNeedUpdate = false;\n\tthis.normalsNeedUpdate = false;\n\tthis.colorsNeedUpdate = false;\n\tthis.lineDistancesNeedUpdate = false;\n\tthis.groupsNeedUpdate = false;\n\n}\n\nGeometry.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: Geometry,\n\n\tisGeometry: true,\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tvar normalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\tfor ( var i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertex.applyMatrix4( matrix );\n\n\t\t}\n\n\t\tfor ( var i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\t\t\tface.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\tfor ( var j = 0, jl = face.vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tface.vertexNormals[ j ].applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.boundingBox !== null ) {\n\n\t\t\tthis.computeBoundingBox();\n\n\t\t}\n\n\t\tif ( this.boundingSphere !== null ) {\n\n\t\t\tthis.computeBoundingSphere();\n\n\t\t}\n\n\t\tthis.verticesNeedUpdate = true;\n\t\tthis.normalsNeedUpdate = true;\n\n\t\treturn this;\n\n\t},\n\n\trotateX: function ( angle ) {\n\n\t\t// rotate geometry around world x-axis\n\n\t\t_m1$3.makeRotationX( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateY: function ( angle ) {\n\n\t\t// rotate geometry around world y-axis\n\n\t\t_m1$3.makeRotationY( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\trotateZ: function ( angle ) {\n\n\t\t// rotate geometry around world z-axis\n\n\t\t_m1$3.makeRotationZ( angle );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( x, y, z ) {\n\n\t\t// translate geometry\n\n\t\t_m1$3.makeTranslation( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tscale: function ( x, y, z ) {\n\n\t\t// scale geometry\n\n\t\t_m1$3.makeScale( x, y, z );\n\n\t\tthis.applyMatrix4( _m1$3 );\n\n\t\treturn this;\n\n\t},\n\n\tlookAt: function ( vector ) {\n\n\t\t_obj$1.lookAt( vector );\n\n\t\t_obj$1.updateMatrix();\n\n\t\tthis.applyMatrix4( _obj$1.matrix );\n\n\t\treturn this;\n\n\t},\n\n\tfromBufferGeometry: function ( geometry ) {\n\n\t\tvar scope = this;\n\n\t\tvar indices = geometry.index !== null ? geometry.index.array : undefined;\n\t\tvar attributes = geometry.attributes;\n\n\t\tif ( attributes.position === undefined ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.fromBufferGeometry(): Position attribute required for conversion.' );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tvar positions = attributes.position.array;\n\t\tvar normals = attributes.normal !== undefined ? attributes.normal.array : undefined;\n\t\tvar colors = attributes.color !== undefined ? attributes.color.array : undefined;\n\t\tvar uvs = attributes.uv !== undefined ? attributes.uv.array : undefined;\n\t\tvar uvs2 = attributes.uv2 !== undefined ? attributes.uv2.array : undefined;\n\n\t\tif ( uvs2 !== undefined ) this.faceVertexUvs[ 1 ] = [];\n\n\t\tfor ( var i = 0; i < positions.length; i += 3 ) {\n\n\t\t\tscope.vertices.push( new Vector3().fromArray( positions, i ) );\n\n\t\t\tif ( colors !== undefined ) {\n\n\t\t\t\tscope.colors.push( new Color().fromArray( colors, i ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction addFace( a, b, c, materialIndex ) {\n\n\t\t\tvar vertexColors = ( colors === undefined ) ? [] : [\n\t\t\t\tscope.colors[ a ].clone(),\n\t\t\t\tscope.colors[ b ].clone(),\n\t\t\t\tscope.colors[ c ].clone() ];\n\n\t\t\tvar vertexNormals = ( normals === undefined ) ? [] : [\n\t\t\t\tnew Vector3().fromArray( normals, a * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, b * 3 ),\n\t\t\t\tnew Vector3().fromArray( normals, c * 3 )\n\t\t\t];\n\n\t\t\tvar face = new Face3( a, b, c, vertexNormals, vertexColors, materialIndex );\n\n\t\t\tscope.faces.push( face );\n\n\t\t\tif ( uvs !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 0 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t\tif ( uvs2 !== undefined ) {\n\n\t\t\t\tscope.faceVertexUvs[ 1 ].push( [\n\t\t\t\t\tnew Vector2().fromArray( uvs2, a * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, b * 2 ),\n\t\t\t\t\tnew Vector2().fromArray( uvs2, c * 2 )\n\t\t\t\t] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar groups = geometry.groups;\n\n\t\tif ( groups.length > 0 ) {\n\n\t\t\tfor ( var i = 0; i < groups.length; i ++ ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tvar start = group.start;\n\t\t\t\tvar count = group.count;\n\n\t\t\t\tfor ( var j = start, jl = start + count; j < jl; j += 3 ) {\n\n\t\t\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\t\t\taddFace( indices[ j ], indices[ j + 1 ], indices[ j + 2 ], group.materialIndex );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\taddFace( j, j + 1, j + 2, group.materialIndex );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tif ( indices !== undefined ) {\n\n\t\t\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t\t\taddFace( indices[ i ], indices[ i + 1 ], indices[ i + 2 ] );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0; i < positions.length / 3; i += 3 ) {\n\n\t\t\t\t\taddFace( i, i + 1, i + 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.computeFaceNormals();\n\n\t\tif ( geometry.boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = geometry.boundingBox.clone();\n\n\t\t}\n\n\t\tif ( geometry.boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = geometry.boundingSphere.clone();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcenter: function () {\n\n\t\tthis.computeBoundingBox();\n\n\t\tthis.boundingBox.getCenter( _offset$1 ).negate();\n\n\t\tthis.translate( _offset$1.x, _offset$1.y, _offset$1.z );\n\n\t\treturn this;\n\n\t},\n\n\tnormalize: function () {\n\n\t\tthis.computeBoundingSphere();\n\n\t\tvar center = this.boundingSphere.center;\n\t\tvar radius = this.boundingSphere.radius;\n\n\t\tvar s = radius === 0 ? 1 : 1.0 / radius;\n\n\t\tvar matrix = new Matrix4();\n\t\tmatrix.set(\n\t\t\ts, 0, 0, - s * center.x,\n\t\t\t0, s, 0, - s * center.y,\n\t\t\t0, 0, s, - s * center.z,\n\t\t\t0, 0, 0, 1\n\t\t);\n\n\t\tthis.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tcomputeFaceNormals: function () {\n\n\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\tfor ( var f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tvar face = this.faces[ f ];\n\n\t\t\tvar vA = this.vertices[ face.a ];\n\t\t\tvar vB = this.vertices[ face.b ];\n\t\t\tvar vC = this.vertices[ face.c ];\n\n\t\t\tcb.subVectors( vC, vB );\n\t\t\tab.subVectors( vA, vB );\n\t\t\tcb.cross( ab );\n\n\t\t\tcb.normalize();\n\n\t\t\tface.normal.copy( cb );\n\n\t\t}\n\n\t},\n\n\tcomputeVertexNormals: function ( areaWeighted ) {\n\n\t\tif ( areaWeighted === undefined ) areaWeighted = true;\n\n\t\tvar v, vl, f, fl, face, vertices;\n\n\t\tvertices = new Array( this.vertices.length );\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ] = new Vector3();\n\n\t\t}\n\n\t\tif ( areaWeighted ) {\n\n\t\t\t// vertex normals weighted by triangle areas\n\t\t\t// http://www.iquilezles.org/www/articles/normals/normals.htm\n\n\t\t\tvar vA, vB, vC;\n\t\t\tvar cb = new Vector3(), ab = new Vector3();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvA = this.vertices[ face.a ];\n\t\t\t\tvB = this.vertices[ face.b ];\n\t\t\t\tvC = this.vertices[ face.c ];\n\n\t\t\t\tcb.subVectors( vC, vB );\n\t\t\t\tab.subVectors( vA, vB );\n\t\t\t\tcb.cross( ab );\n\n\t\t\t\tvertices[ face.a ].add( cb );\n\t\t\t\tvertices[ face.b ].add( cb );\n\t\t\t\tvertices[ face.c ].add( cb );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tthis.computeFaceNormals();\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tvertices[ face.a ].add( face.normal );\n\t\t\t\tvertices[ face.b ].add( face.normal );\n\t\t\t\tvertices[ face.c ].add( face.normal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( v = 0, vl = this.vertices.length; v < vl; v ++ ) {\n\n\t\t\tvertices[ v ].normalize();\n\n\t\t}\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( vertices[ face.a ] );\n\t\t\t\tvertexNormals[ 1 ].copy( vertices[ face.b ] );\n\t\t\t\tvertexNormals[ 2 ].copy( vertices[ face.c ] );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = vertices[ face.a ].clone();\n\t\t\t\tvertexNormals[ 1 ] = vertices[ face.b ].clone();\n\t\t\t\tvertexNormals[ 2 ] = vertices[ face.c ].clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeFlatVertexNormals: function () {\n\n\t\tvar f, fl, face;\n\n\t\tthis.computeFaceNormals();\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\tif ( vertexNormals.length === 3 ) {\n\n\t\t\t\tvertexNormals[ 0 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 1 ].copy( face.normal );\n\t\t\t\tvertexNormals[ 2 ].copy( face.normal );\n\n\t\t\t} else {\n\n\t\t\t\tvertexNormals[ 0 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 1 ] = face.normal.clone();\n\t\t\t\tvertexNormals[ 2 ] = face.normal.clone();\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.faces.length > 0 ) {\n\n\t\t\tthis.normalsNeedUpdate = true;\n\n\t\t}\n\n\t},\n\n\tcomputeMorphNormals: function () {\n\n\t\tvar i, il, f, fl, face;\n\n\t\t// save original normals\n\t\t// - create temp variables on first access\n\t\t//   otherwise just copy (for faster repeated calls)\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tif ( ! face.__originalFaceNormal ) {\n\n\t\t\t\tface.__originalFaceNormal = face.normal.clone();\n\n\t\t\t} else {\n\n\t\t\t\tface.__originalFaceNormal.copy( face.normal );\n\n\t\t\t}\n\n\t\t\tif ( ! face.__originalVertexNormals ) face.__originalVertexNormals = [];\n\n\t\t\tfor ( i = 0, il = face.vertexNormals.length; i < il; i ++ ) {\n\n\t\t\t\tif ( ! face.__originalVertexNormals[ i ] ) {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ] = face.vertexNormals[ i ].clone();\n\n\t\t\t\t} else {\n\n\t\t\t\t\tface.__originalVertexNormals[ i ].copy( face.vertexNormals[ i ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// use temp geometry to compute face and vertex normals for each morph\n\n\t\tvar tmpGeo = new Geometry();\n\t\ttmpGeo.faces = this.faces;\n\n\t\tfor ( i = 0, il = this.morphTargets.length; i < il; i ++ ) {\n\n\t\t\t// create on first access\n\n\t\t\tif ( ! this.morphNormals[ i ] ) {\n\n\t\t\t\tthis.morphNormals[ i ] = {};\n\t\t\t\tthis.morphNormals[ i ].faceNormals = [];\n\t\t\t\tthis.morphNormals[ i ].vertexNormals = [];\n\n\t\t\t\tvar dstNormalsFace = this.morphNormals[ i ].faceNormals;\n\t\t\t\tvar dstNormalsVertex = this.morphNormals[ i ].vertexNormals;\n\n\t\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\t\tfaceNormal = new Vector3();\n\t\t\t\t\tvertexNormals = { a: new Vector3(), b: new Vector3(), c: new Vector3() };\n\n\t\t\t\t\tdstNormalsFace.push( faceNormal );\n\t\t\t\t\tdstNormalsVertex.push( vertexNormals );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar morphNormals = this.morphNormals[ i ];\n\n\t\t\t// set vertices to morph target\n\n\t\t\ttmpGeo.vertices = this.morphTargets[ i ].vertices;\n\n\t\t\t// compute morph normals\n\n\t\t\ttmpGeo.computeFaceNormals();\n\t\t\ttmpGeo.computeVertexNormals();\n\n\t\t\t// store morph normals\n\n\t\t\tvar faceNormal, vertexNormals;\n\n\t\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\t\tface = this.faces[ f ];\n\n\t\t\t\tfaceNormal = morphNormals.faceNormals[ f ];\n\t\t\t\tvertexNormals = morphNormals.vertexNormals[ f ];\n\n\t\t\t\tfaceNormal.copy( face.normal );\n\n\t\t\t\tvertexNormals.a.copy( face.vertexNormals[ 0 ] );\n\t\t\t\tvertexNormals.b.copy( face.vertexNormals[ 1 ] );\n\t\t\t\tvertexNormals.c.copy( face.vertexNormals[ 2 ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// restore original normals\n\n\t\tfor ( f = 0, fl = this.faces.length; f < fl; f ++ ) {\n\n\t\t\tface = this.faces[ f ];\n\n\t\t\tface.normal = face.__originalFaceNormal;\n\t\t\tface.vertexNormals = face.__originalVertexNormals;\n\n\t\t}\n\n\t},\n\n\tcomputeBoundingBox: function () {\n\n\t\tif ( this.boundingBox === null ) {\n\n\t\t\tthis.boundingBox = new Box3();\n\n\t\t}\n\n\t\tthis.boundingBox.setFromPoints( this.vertices );\n\n\t},\n\n\tcomputeBoundingSphere: function () {\n\n\t\tif ( this.boundingSphere === null ) {\n\n\t\t\tthis.boundingSphere = new Sphere();\n\n\t\t}\n\n\t\tthis.boundingSphere.setFromPoints( this.vertices );\n\n\t},\n\n\tmerge: function ( geometry, matrix, materialIndexOffset ) {\n\n\t\tif ( ! ( geometry && geometry.isGeometry ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.merge(): geometry not an instance of THREE.Geometry.', geometry );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar normalMatrix,\n\t\t\tvertexOffset = this.vertices.length,\n\t\t\tvertices1 = this.vertices,\n\t\t\tvertices2 = geometry.vertices,\n\t\t\tfaces1 = this.faces,\n\t\t\tfaces2 = geometry.faces,\n\t\t\tcolors1 = this.colors,\n\t\t\tcolors2 = geometry.colors;\n\n\t\tif ( materialIndexOffset === undefined ) materialIndexOffset = 0;\n\n\t\tif ( matrix !== undefined ) {\n\n\t\t\tnormalMatrix = new Matrix3().getNormalMatrix( matrix );\n\n\t\t}\n\n\t\t// vertices\n\n\t\tfor ( var i = 0, il = vertices2.length; i < il; i ++ ) {\n\n\t\t\tvar vertex = vertices2[ i ];\n\n\t\t\tvar vertexCopy = vertex.clone();\n\n\t\t\tif ( matrix !== undefined ) vertexCopy.applyMatrix4( matrix );\n\n\t\t\tvertices1.push( vertexCopy );\n\n\t\t}\n\n\t\t// colors\n\n\t\tfor ( var i = 0, il = colors2.length; i < il; i ++ ) {\n\n\t\t\tcolors1.push( colors2[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tfor ( i = 0, il = faces2.length; i < il; i ++ ) {\n\n\t\t\tvar face = faces2[ i ], faceCopy, normal, color,\n\t\t\t\tfaceVertexNormals = face.vertexNormals,\n\t\t\t\tfaceVertexColors = face.vertexColors;\n\n\t\t\tfaceCopy = new Face3( face.a + vertexOffset, face.b + vertexOffset, face.c + vertexOffset );\n\t\t\tfaceCopy.normal.copy( face.normal );\n\n\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\tfaceCopy.normal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t}\n\n\t\t\tfor ( var j = 0, jl = faceVertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\tnormal = faceVertexNormals[ j ].clone();\n\n\t\t\t\tif ( normalMatrix !== undefined ) {\n\n\t\t\t\t\tnormal.applyMatrix3( normalMatrix ).normalize();\n\n\t\t\t\t}\n\n\t\t\t\tfaceCopy.vertexNormals.push( normal );\n\n\t\t\t}\n\n\t\t\tfaceCopy.color.copy( face.color );\n\n\t\t\tfor ( var j = 0, jl = faceVertexColors.length; j < jl; j ++ ) {\n\n\t\t\t\tcolor = faceVertexColors[ j ];\n\t\t\t\tfaceCopy.vertexColors.push( color.clone() );\n\n\t\t\t}\n\n\t\t\tfaceCopy.materialIndex = face.materialIndex + materialIndexOffset;\n\n\t\t\tfaces1.push( faceCopy );\n\n\t\t}\n\n\t\t// uvs\n\n\t\tfor ( var i = 0, il = geometry.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs2 = geometry.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) this.faceVertexUvs[ i ] = [];\n\n\t\t\tfor ( var j = 0, jl = faceVertexUvs2.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs2 = faceVertexUvs2[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( var k = 0, kl = uvs2.length; k < kl; k ++ ) {\n\n\t\t\t\t\tuvsCopy.push( uvs2[ k ].clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tmergeMesh: function ( mesh ) {\n\n\t\tif ( ! ( mesh && mesh.isMesh ) ) {\n\n\t\t\tconsole.error( 'THREE.Geometry.mergeMesh(): mesh not an instance of THREE.Mesh.', mesh );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( mesh.matrixAutoUpdate ) mesh.updateMatrix();\n\n\t\tthis.merge( mesh.geometry, mesh.matrix );\n\n\t},\n\n\t/*\n\t * Checks for duplicate vertices with hashmap.\n\t * Duplicated vertices are removed\n\t * and faces' vertices are updated.\n\t */\n\n\tmergeVertices: function () {\n\n\t\tvar verticesMap = {}; // Hashmap for looking up vertices by position coordinates (and making sure they are unique)\n\t\tvar unique = [], changes = [];\n\n\t\tvar v, key;\n\t\tvar precisionPoints = 4; // number of decimal points, e.g. 4 for epsilon of 0.0001\n\t\tvar precision = Math.pow( 10, precisionPoints );\n\t\tvar i, il, face;\n\t\tvar indices, j, jl;\n\n\t\tfor ( i = 0, il = this.vertices.length; i < il; i ++ ) {\n\n\t\t\tv = this.vertices[ i ];\n\t\t\tkey = Math.round( v.x * precision ) + '_' + Math.round( v.y * precision ) + '_' + Math.round( v.z * precision );\n\n\t\t\tif ( verticesMap[ key ] === undefined ) {\n\n\t\t\t\tverticesMap[ key ] = i;\n\t\t\t\tunique.push( this.vertices[ i ] );\n\t\t\t\tchanges[ i ] = unique.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\t//console.log('Duplicate vertex found. ', i, ' could be using ', verticesMap[key]);\n\t\t\t\tchanges[ i ] = changes[ verticesMap[ key ] ];\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// if faces are completely degenerate after merging vertices, we\n\t\t// have to remove them from the geometry.\n\t\tvar faceIndicesToRemove = [];\n\n\t\tfor ( i = 0, il = this.faces.length; i < il; i ++ ) {\n\n\t\t\tface = this.faces[ i ];\n\n\t\t\tface.a = changes[ face.a ];\n\t\t\tface.b = changes[ face.b ];\n\t\t\tface.c = changes[ face.c ];\n\n\t\t\tindices = [ face.a, face.b, face.c ];\n\n\t\t\t// if any duplicate vertices are found in a Face3\n\t\t\t// we have to remove the face as nothing can be saved\n\t\t\tfor ( var n = 0; n < 3; n ++ ) {\n\n\t\t\t\tif ( indices[ n ] === indices[ ( n + 1 ) % 3 ] ) {\n\n\t\t\t\t\tfaceIndicesToRemove.push( i );\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfor ( i = faceIndicesToRemove.length - 1; i >= 0; i -- ) {\n\n\t\t\tvar idx = faceIndicesToRemove[ i ];\n\n\t\t\tthis.faces.splice( idx, 1 );\n\n\t\t\tfor ( j = 0, jl = this.faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tthis.faceVertexUvs[ j ].splice( idx, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Use unique set of vertices\n\n\t\tvar diff = this.vertices.length - unique.length;\n\t\tthis.vertices = unique;\n\t\treturn diff;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.vertices = [];\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tthis.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsortFacesByMaterialIndex: function () {\n\n\t\tvar faces = this.faces;\n\t\tvar length = faces.length;\n\n\t\t// tag faces\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tfaces[ i ]._id = i;\n\n\t\t}\n\n\t\t// sort faces\n\n\t\tfunction materialIndexSort( a, b ) {\n\n\t\t\treturn a.materialIndex - b.materialIndex;\n\n\t\t}\n\n\t\tfaces.sort( materialIndexSort );\n\n\t\t// sort uvs\n\n\t\tvar uvs1 = this.faceVertexUvs[ 0 ];\n\t\tvar uvs2 = this.faceVertexUvs[ 1 ];\n\n\t\tvar newUvs1, newUvs2;\n\n\t\tif ( uvs1 && uvs1.length === length ) newUvs1 = [];\n\t\tif ( uvs2 && uvs2.length === length ) newUvs2 = [];\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar id = faces[ i ]._id;\n\n\t\t\tif ( newUvs1 ) newUvs1.push( uvs1[ id ] );\n\t\t\tif ( newUvs2 ) newUvs2.push( uvs2[ id ] );\n\n\t\t}\n\n\t\tif ( newUvs1 ) this.faceVertexUvs[ 0 ] = newUvs1;\n\t\tif ( newUvs2 ) this.faceVertexUvs[ 1 ] = newUvs2;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Geometry',\n\t\t\t\tgenerator: 'Geometry.toJSON'\n\t\t\t}\n\t\t};\n\n\t\t// standard Geometry serialization\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.type = this.type;\n\t\tif ( this.name !== '' ) data.name = this.name;\n\n\t\tif ( this.parameters !== undefined ) {\n\n\t\t\tvar parameters = this.parameters;\n\n\t\t\tfor ( var key in parameters ) {\n\n\t\t\t\tif ( parameters[ key ] !== undefined ) data[ key ] = parameters[ key ];\n\n\t\t\t}\n\n\t\t\treturn data;\n\n\t\t}\n\n\t\tvar vertices = [];\n\n\t\tfor ( var i = 0; i < this.vertices.length; i ++ ) {\n\n\t\t\tvar vertex = this.vertices[ i ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t\tvar faces = [];\n\t\tvar normals = [];\n\t\tvar normalsHash = {};\n\t\tvar colors = [];\n\t\tvar colorsHash = {};\n\t\tvar uvs = [];\n\t\tvar uvsHash = {};\n\n\t\tfor ( var i = 0; i < this.faces.length; i ++ ) {\n\n\t\t\tvar face = this.faces[ i ];\n\n\t\t\tvar hasMaterial = true;\n\t\t\tvar hasFaceUv = false; // deprecated\n\t\t\tvar hasFaceVertexUv = this.faceVertexUvs[ 0 ][ i ] !== undefined;\n\t\t\tvar hasFaceNormal = face.normal.length() > 0;\n\t\t\tvar hasFaceVertexNormal = face.vertexNormals.length > 0;\n\t\t\tvar hasFaceColor = face.color.r !== 1 || face.color.g !== 1 || face.color.b !== 1;\n\t\t\tvar hasFaceVertexColor = face.vertexColors.length > 0;\n\n\t\t\tvar faceType = 0;\n\n\t\t\tfaceType = setBit( faceType, 0, 0 ); // isQuad\n\t\t\tfaceType = setBit( faceType, 1, hasMaterial );\n\t\t\tfaceType = setBit( faceType, 2, hasFaceUv );\n\t\t\tfaceType = setBit( faceType, 3, hasFaceVertexUv );\n\t\t\tfaceType = setBit( faceType, 4, hasFaceNormal );\n\t\t\tfaceType = setBit( faceType, 5, hasFaceVertexNormal );\n\t\t\tfaceType = setBit( faceType, 6, hasFaceColor );\n\t\t\tfaceType = setBit( faceType, 7, hasFaceVertexColor );\n\n\t\t\tfaces.push( faceType );\n\t\t\tfaces.push( face.a, face.b, face.c );\n\t\t\tfaces.push( face.materialIndex );\n\n\t\t\tif ( hasFaceVertexUv ) {\n\n\t\t\t\tvar faceVertexUvs = this.faceVertexUvs[ 0 ][ i ];\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 0 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 1 ] ),\n\t\t\t\t\tgetUvIndex( faceVertexUvs[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceNormal ) {\n\n\t\t\t\tfaces.push( getNormalIndex( face.normal ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexNormal ) {\n\n\t\t\t\tvar vertexNormals = face.vertexNormals;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 0 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 1 ] ),\n\t\t\t\t\tgetNormalIndex( vertexNormals[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t\tif ( hasFaceColor ) {\n\n\t\t\t\tfaces.push( getColorIndex( face.color ) );\n\n\t\t\t}\n\n\t\t\tif ( hasFaceVertexColor ) {\n\n\t\t\t\tvar vertexColors = face.vertexColors;\n\n\t\t\t\tfaces.push(\n\t\t\t\t\tgetColorIndex( vertexColors[ 0 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 1 ] ),\n\t\t\t\t\tgetColorIndex( vertexColors[ 2 ] )\n\t\t\t\t);\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction setBit( value, position, enabled ) {\n\n\t\t\treturn enabled ? value | ( 1 << position ) : value & ( ~ ( 1 << position ) );\n\n\t\t}\n\n\t\tfunction getNormalIndex( normal ) {\n\n\t\t\tvar hash = normal.x.toString() + normal.y.toString() + normal.z.toString();\n\n\t\t\tif ( normalsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn normalsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tnormalsHash[ hash ] = normals.length / 3;\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\treturn normalsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getColorIndex( color ) {\n\n\t\t\tvar hash = color.r.toString() + color.g.toString() + color.b.toString();\n\n\t\t\tif ( colorsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn colorsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tcolorsHash[ hash ] = colors.length;\n\t\t\tcolors.push( color.getHex() );\n\n\t\t\treturn colorsHash[ hash ];\n\n\t\t}\n\n\t\tfunction getUvIndex( uv ) {\n\n\t\t\tvar hash = uv.x.toString() + uv.y.toString();\n\n\t\t\tif ( uvsHash[ hash ] !== undefined ) {\n\n\t\t\t\treturn uvsHash[ hash ];\n\n\t\t\t}\n\n\t\t\tuvsHash[ hash ] = uvs.length / 2;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\treturn uvsHash[ hash ];\n\n\t\t}\n\n\t\tdata.data = {};\n\n\t\tdata.data.vertices = vertices;\n\t\tdata.data.normals = normals;\n\t\tif ( colors.length > 0 ) data.data.colors = colors;\n\t\tif ( uvs.length > 0 ) data.data.uvs = [ uvs ]; // temporal backward compatibility\n\t\tdata.data.faces = faces;\n\n\t\treturn data;\n\n\t},\n\n\tclone: function () {\n\n\t\t/*\n\t\t // Handle primitives\n\n\t\t var parameters = this.parameters;\n\n\t\t if ( parameters !== undefined ) {\n\n\t\t var values = [];\n\n\t\t for ( var key in parameters ) {\n\n\t\t values.push( parameters[ key ] );\n\n\t\t }\n\n\t\t var geometry = Object.create( this.constructor.prototype );\n\t\t this.constructor.apply( geometry, values );\n\t\t return geometry;\n\n\t\t }\n\n\t\t return new this.constructor().copy( this );\n\t\t */\n\n\t\treturn new Geometry().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tvar i, il, j, jl, k, kl;\n\n\t\t// reset\n\n\t\tthis.vertices = [];\n\t\tthis.colors = [];\n\t\tthis.faces = [];\n\t\tthis.faceVertexUvs = [[]];\n\t\tthis.morphTargets = [];\n\t\tthis.morphNormals = [];\n\t\tthis.skinWeights = [];\n\t\tthis.skinIndices = [];\n\t\tthis.lineDistances = [];\n\t\tthis.boundingBox = null;\n\t\tthis.boundingSphere = null;\n\n\t\t// name\n\n\t\tthis.name = source.name;\n\n\t\t// vertices\n\n\t\tvar vertices = source.vertices;\n\n\t\tfor ( i = 0, il = vertices.length; i < il; i ++ ) {\n\n\t\t\tthis.vertices.push( vertices[ i ].clone() );\n\n\t\t}\n\n\t\t// colors\n\n\t\tvar colors = source.colors;\n\n\t\tfor ( i = 0, il = colors.length; i < il; i ++ ) {\n\n\t\t\tthis.colors.push( colors[ i ].clone() );\n\n\t\t}\n\n\t\t// faces\n\n\t\tvar faces = source.faces;\n\n\t\tfor ( i = 0, il = faces.length; i < il; i ++ ) {\n\n\t\t\tthis.faces.push( faces[ i ].clone() );\n\n\t\t}\n\n\t\t// face vertex uvs\n\n\t\tfor ( i = 0, il = source.faceVertexUvs.length; i < il; i ++ ) {\n\n\t\t\tvar faceVertexUvs = source.faceVertexUvs[ i ];\n\n\t\t\tif ( this.faceVertexUvs[ i ] === undefined ) {\n\n\t\t\t\tthis.faceVertexUvs[ i ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( j = 0, jl = faceVertexUvs.length; j < jl; j ++ ) {\n\n\t\t\t\tvar uvs = faceVertexUvs[ j ], uvsCopy = [];\n\n\t\t\t\tfor ( k = 0, kl = uvs.length; k < kl; k ++ ) {\n\n\t\t\t\t\tvar uv = uvs[ k ];\n\n\t\t\t\t\tuvsCopy.push( uv.clone() );\n\n\t\t\t\t}\n\n\t\t\t\tthis.faceVertexUvs[ i ].push( uvsCopy );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphTargets = source.morphTargets;\n\n\t\tfor ( i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = {};\n\t\t\tmorphTarget.name = morphTargets[ i ].name;\n\n\t\t\t// vertices\n\n\t\t\tif ( morphTargets[ i ].vertices !== undefined ) {\n\n\t\t\t\tmorphTarget.vertices = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].vertices.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.vertices.push( morphTargets[ i ].vertices[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// normals\n\n\t\t\tif ( morphTargets[ i ].normals !== undefined ) {\n\n\t\t\t\tmorphTarget.normals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphTargets[ i ].normals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphTarget.normals.push( morphTargets[ i ].normals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphTargets.push( morphTarget );\n\n\t\t}\n\n\t\t// morph normals\n\n\t\tvar morphNormals = source.morphNormals;\n\n\t\tfor ( i = 0, il = morphNormals.length; i < il; i ++ ) {\n\n\t\t\tvar morphNormal = {};\n\n\t\t\t// vertex normals\n\n\t\t\tif ( morphNormals[ i ].vertexNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.vertexNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].vertexNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar srcVertexNormal = morphNormals[ i ].vertexNormals[ j ];\n\t\t\t\t\tvar destVertexNormal = {};\n\n\t\t\t\t\tdestVertexNormal.a = srcVertexNormal.a.clone();\n\t\t\t\t\tdestVertexNormal.b = srcVertexNormal.b.clone();\n\t\t\t\t\tdestVertexNormal.c = srcVertexNormal.c.clone();\n\n\t\t\t\t\tmorphNormal.vertexNormals.push( destVertexNormal );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// face normals\n\n\t\t\tif ( morphNormals[ i ].faceNormals !== undefined ) {\n\n\t\t\t\tmorphNormal.faceNormals = [];\n\n\t\t\t\tfor ( j = 0, jl = morphNormals[ i ].faceNormals.length; j < jl; j ++ ) {\n\n\t\t\t\t\tmorphNormal.faceNormals.push( morphNormals[ i ].faceNormals[ j ].clone() );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis.morphNormals.push( morphNormal );\n\n\t\t}\n\n\t\t// skin weights\n\n\t\tvar skinWeights = source.skinWeights;\n\n\t\tfor ( i = 0, il = skinWeights.length; i < il; i ++ ) {\n\n\t\t\tthis.skinWeights.push( skinWeights[ i ].clone() );\n\n\t\t}\n\n\t\t// skin indices\n\n\t\tvar skinIndices = source.skinIndices;\n\n\t\tfor ( i = 0, il = skinIndices.length; i < il; i ++ ) {\n\n\t\t\tthis.skinIndices.push( skinIndices[ i ].clone() );\n\n\t\t}\n\n\t\t// line distances\n\n\t\tvar lineDistances = source.lineDistances;\n\n\t\tfor ( i = 0, il = lineDistances.length; i < il; i ++ ) {\n\n\t\t\tthis.lineDistances.push( lineDistances[ i ] );\n\n\t\t}\n\n\t\t// bounding box\n\n\t\tvar boundingBox = source.boundingBox;\n\n\t\tif ( boundingBox !== null ) {\n\n\t\t\tthis.boundingBox = boundingBox.clone();\n\n\t\t}\n\n\t\t// bounding sphere\n\n\t\tvar boundingSphere = source.boundingSphere;\n\n\t\tif ( boundingSphere !== null ) {\n\n\t\t\tthis.boundingSphere = boundingSphere.clone();\n\n\t\t}\n\n\t\t// update flags\n\n\t\tthis.elementsNeedUpdate = source.elementsNeedUpdate;\n\t\tthis.verticesNeedUpdate = source.verticesNeedUpdate;\n\t\tthis.uvsNeedUpdate = source.uvsNeedUpdate;\n\t\tthis.normalsNeedUpdate = source.normalsNeedUpdate;\n\t\tthis.colorsNeedUpdate = source.colorsNeedUpdate;\n\t\tthis.lineDistancesNeedUpdate = source.lineDistancesNeedUpdate;\n\t\tthis.groupsNeedUpdate = source.groupsNeedUpdate;\n\n\t\treturn this;\n\n\t},\n\n\tdispose: function () {\n\n\t\tthis.dispatchEvent( { type: 'dispose' } );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// BoxGeometry\n\nclass BoxGeometry extends Geometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tthis.fromBufferGeometry( new BoxBufferGeometry( width, height, depth, widthSegments, heightSegments, depthSegments ) );\n\t\tthis.mergeVertices();\n\n\t}\n\n}\n\n// BoxBufferGeometry\n\nclass BoxBufferGeometry extends BufferGeometry {\n\n\tconstructor( width, height, depth, widthSegments, heightSegments, depthSegments ) {\n\n\t\tsuper();\n\n\t\tthis.type = 'BoxBufferGeometry';\n\n\t\tthis.parameters = {\n\t\t\twidth: width,\n\t\t\theight: height,\n\t\t\tdepth: depth,\n\t\t\twidthSegments: widthSegments,\n\t\t\theightSegments: heightSegments,\n\t\t\tdepthSegments: depthSegments\n\t\t};\n\n\t\tvar scope = this;\n\n\t\twidth = width || 1;\n\t\theight = height || 1;\n\t\tdepth = depth || 1;\n\n\t\t// segments\n\n\t\twidthSegments = Math.floor( widthSegments ) || 1;\n\t\theightSegments = Math.floor( heightSegments ) || 1;\n\t\tdepthSegments = Math.floor( depthSegments ) || 1;\n\n\t\t// buffers\n\n\t\tvar indices = [];\n\t\tvar vertices = [];\n\t\tvar normals = [];\n\t\tvar uvs = [];\n\n\t\t// helper variables\n\n\t\tvar numberOfVertices = 0;\n\t\tvar groupStart = 0;\n\n\t\t// build each side of the box geometry\n\n\t\tbuildPlane( 'z', 'y', 'x', - 1, - 1, depth, height, width, depthSegments, heightSegments, 0 ); // px\n\t\tbuildPlane( 'z', 'y', 'x', 1, - 1, depth, height, - width, depthSegments, heightSegments, 1 ); // nx\n\t\tbuildPlane( 'x', 'z', 'y', 1, 1, width, depth, height, widthSegments, depthSegments, 2 ); // py\n\t\tbuildPlane( 'x', 'z', 'y', 1, - 1, width, depth, - height, widthSegments, depthSegments, 3 ); // ny\n\t\tbuildPlane( 'x', 'y', 'z', 1, - 1, width, height, depth, widthSegments, heightSegments, 4 ); // pz\n\t\tbuildPlane( 'x', 'y', 'z', - 1, - 1, width, height, - depth, widthSegments, heightSegments, 5 ); // nz\n\n\t\t// build geometry\n\n\t\tthis.setIndex( indices );\n\t\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\t\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\t\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t\tfunction buildPlane( u, v, w, udir, vdir, width, height, depth, gridX, gridY, materialIndex ) {\n\n\t\t\tvar segmentWidth = width / gridX;\n\t\t\tvar segmentHeight = height / gridY;\n\n\t\t\tvar widthHalf = width / 2;\n\t\t\tvar heightHalf = height / 2;\n\t\t\tvar depthHalf = depth / 2;\n\n\t\t\tvar gridX1 = gridX + 1;\n\t\t\tvar gridY1 = gridY + 1;\n\n\t\t\tvar vertexCounter = 0;\n\t\t\tvar groupCount = 0;\n\n\t\t\tvar ix, iy;\n\n\t\t\tvar vector = new Vector3();\n\n\t\t\t// generate vertices, normals and uvs\n\n\t\t\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\t\t\tvar y = iy * segmentHeight - heightHalf;\n\n\t\t\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\t\t\tvar x = ix * segmentWidth - widthHalf;\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = x * udir;\n\t\t\t\t\tvector[ v ] = y * vdir;\n\t\t\t\t\tvector[ w ] = depthHalf;\n\n\t\t\t\t\t// now apply vector to vertex buffer\n\n\t\t\t\t\tvertices.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// set values to correct vector component\n\n\t\t\t\t\tvector[ u ] = 0;\n\t\t\t\t\tvector[ v ] = 0;\n\t\t\t\t\tvector[ w ] = depth > 0 ? 1 : - 1;\n\n\t\t\t\t\t// now apply vector to normal buffer\n\n\t\t\t\t\tnormals.push( vector.x, vector.y, vector.z );\n\n\t\t\t\t\t// uvs\n\n\t\t\t\t\tuvs.push( ix / gridX );\n\t\t\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t\t\t\t// counters\n\n\t\t\t\t\tvertexCounter += 1;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// indices\n\n\t\t\t// 1. you need three indices to draw a single face\n\t\t\t// 2. a single segment consists of two faces\n\t\t\t// 3. so we need to generate six (2*3) indices per segment\n\n\t\t\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\t\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\t\t\tvar a = numberOfVertices + ix + gridX1 * iy;\n\t\t\t\t\tvar b = numberOfVertices + ix + gridX1 * ( iy + 1 );\n\t\t\t\t\tvar c = numberOfVertices + ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\t\t\tvar d = numberOfVertices + ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t\t\t// faces\n\n\t\t\t\t\tindices.push( a, b, d );\n\t\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t\t// increase counter\n\n\t\t\t\t\tgroupCount += 6;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\t\tscope.addGroup( groupStart, groupCount, materialIndex );\n\n\t\t\t// calculate new start value for groups\n\n\t\t\tgroupStart += groupCount;\n\n\t\t\t// update total number of vertices\n\n\t\t\tnumberOfVertices += vertexCounter;\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * Uniform Utilities\n */\n\nfunction cloneUniforms( src ) {\n\n\tvar dst = {};\n\n\tfor ( var u in src ) {\n\n\t\tdst[ u ] = {};\n\n\t\tfor ( var p in src[ u ] ) {\n\n\t\t\tvar property = src[ u ][ p ];\n\n\t\t\tif ( property && ( property.isColor ||\n\t\t\t\tproperty.isMatrix3 || property.isMatrix4 ||\n\t\t\t\tproperty.isVector2 || property.isVector3 || property.isVector4 ||\n\t\t\t\tproperty.isTexture ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.clone();\n\n\t\t\t} else if ( Array.isArray( property ) ) {\n\n\t\t\t\tdst[ u ][ p ] = property.slice();\n\n\t\t\t} else {\n\n\t\t\t\tdst[ u ][ p ] = property;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn dst;\n\n}\n\nfunction mergeUniforms( uniforms ) {\n\n\tvar merged = {};\n\n\tfor ( var u = 0; u < uniforms.length; u ++ ) {\n\n\t\tvar tmp = cloneUniforms( uniforms[ u ] );\n\n\t\tfor ( var p in tmp ) {\n\n\t\t\tmerged[ p ] = tmp[ p ];\n\n\t\t}\n\n\t}\n\n\treturn merged;\n\n}\n\n// Legacy\n\nvar UniformsUtils = { clone: cloneUniforms, merge: mergeUniforms };\n\nvar default_vertex = \"void main() {\\n\\tgl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );\\n}\";\n\nvar default_fragment = \"void main() {\\n\\tgl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  defines: { \"label\" : \"value\" },\n *  uniforms: { \"parameter1\": { value: 1.0 }, \"parameter2\": { value2: 2 } },\n *\n *  fragmentShader: <string>,\n *  vertexShader: <string>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  lights: <bool>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction ShaderMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShaderMaterial';\n\n\tthis.defines = {};\n\tthis.uniforms = {};\n\n\tthis.vertexShader = default_vertex;\n\tthis.fragmentShader = default_fragment;\n\n\tthis.linewidth = 1;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false; // set to use scene fog\n\tthis.lights = false; // set to use scene lights\n\tthis.clipping = false; // set to use user-defined clipping planes\n\n\tthis.skinning = false; // set to use skinning attribute streams\n\tthis.morphTargets = false; // set to use morph targets\n\tthis.morphNormals = false; // set to use morph normals\n\n\tthis.extensions = {\n\t\tderivatives: false, // set to use derivatives\n\t\tfragDepth: false, // set to use fragment depth values\n\t\tdrawBuffers: false, // set to use draw buffers\n\t\tshaderTextureLOD: false // set to use shader texture LOD\n\t};\n\n\t// When rendered geometry doesn't include these attributes but the material does,\n\t// use these default values in WebGL. This avoids errors when buffer data is missing.\n\tthis.defaultAttributeValues = {\n\t\t'color': [ 1, 1, 1 ],\n\t\t'uv': [ 0, 0 ],\n\t\t'uv2': [ 0, 0 ]\n\t};\n\n\tthis.index0AttributeName = undefined;\n\tthis.uniformsNeedUpdate = false;\n\n\tif ( parameters !== undefined ) {\n\n\t\tif ( parameters.attributes !== undefined ) {\n\n\t\t\tconsole.error( 'THREE.ShaderMaterial: attributes should now be defined in THREE.BufferGeometry instead.' );\n\n\t\t}\n\n\t\tthis.setValues( parameters );\n\n\t}\n\n}\n\nShaderMaterial.prototype = Object.create( Material.prototype );\nShaderMaterial.prototype.constructor = ShaderMaterial;\n\nShaderMaterial.prototype.isShaderMaterial = true;\n\nShaderMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.fragmentShader = source.fragmentShader;\n\tthis.vertexShader = source.vertexShader;\n\n\tthis.uniforms = cloneUniforms( source.uniforms );\n\n\tthis.defines = Object.assign( {}, source.defines );\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.lights = source.lights;\n\tthis.clipping = source.clipping;\n\n\tthis.skinning = source.skinning;\n\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.extensions = source.extensions;\n\n\treturn this;\n\n};\n\nShaderMaterial.prototype.toJSON = function ( meta ) {\n\n\tvar data = Material.prototype.toJSON.call( this, meta );\n\n\tdata.uniforms = {};\n\n\tfor ( var name in this.uniforms ) {\n\n\t\tvar uniform = this.uniforms[ name ];\n\t\tvar value = uniform.value;\n\n\t\tif ( value && value.isTexture ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 't',\n\t\t\t\tvalue: value.toJSON( meta ).uuid\n\t\t\t};\n\n\t\t} else if ( value && value.isColor ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'c',\n\t\t\t\tvalue: value.getHex()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector2 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v2',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isVector4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'v4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix3 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm3',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else if ( value && value.isMatrix4 ) {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\ttype: 'm4',\n\t\t\t\tvalue: value.toArray()\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tdata.uniforms[ name ] = {\n\t\t\t\tvalue: value\n\t\t\t};\n\n\t\t\t// note: the array variants v2v, v3v, v4v, m4v and tv are not supported so far\n\n\t\t}\n\n\t}\n\n\tif ( Object.keys( this.defines ).length > 0 ) data.defines = this.defines;\n\n\tdata.vertexShader = this.vertexShader;\n\tdata.fragmentShader = this.fragmentShader;\n\n\tvar extensions = {};\n\n\tfor ( var key in this.extensions ) {\n\n\t\tif ( this.extensions[ key ] === true ) extensions[ key ] = true;\n\n\t}\n\n\tif ( Object.keys( extensions ).length > 0 ) data.extensions = extensions;\n\n\treturn data;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n * @author WestLangley / http://github.com/WestLangley\n*/\n\nfunction Camera() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Camera';\n\n\tthis.matrixWorldInverse = new Matrix4();\n\n\tthis.projectionMatrix = new Matrix4();\n\tthis.projectionMatrixInverse = new Matrix4();\n\n}\n\nCamera.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Camera,\n\n\tisCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tObject3D.prototype.copy.call( this, source, recursive );\n\n\t\tthis.matrixWorldInverse.copy( source.matrixWorldInverse );\n\n\t\tthis.projectionMatrix.copy( source.projectionMatrix );\n\t\tthis.projectionMatrixInverse.copy( source.projectionMatrixInverse );\n\n\t\treturn this;\n\n\t},\n\n\tgetWorldDirection: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Camera: .getWorldDirection() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\tthis.updateMatrixWorld( true );\n\n\t\tvar e = this.matrixWorld.elements;\n\n\t\treturn target.set( - e[ 8 ], - e[ 9 ], - e[ 10 ] ).normalize();\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tupdateWorldMatrix: function ( updateParents, updateChildren ) {\n\n\t\tObject3D.prototype.updateWorldMatrix.call( this, updateParents, updateChildren );\n\n\t\tthis.matrixWorldInverse.getInverse( this.matrixWorld );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author greggman / http://games.greggman.com/\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author tschw\n */\n\nfunction PerspectiveCamera( fov, aspect, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'PerspectiveCamera';\n\n\tthis.fov = fov !== undefined ? fov : 50;\n\tthis.zoom = 1;\n\n\tthis.near = near !== undefined ? near : 0.1;\n\tthis.far = far !== undefined ? far : 2000;\n\tthis.focus = 10;\n\n\tthis.aspect = aspect !== undefined ? aspect : 1;\n\tthis.view = null;\n\n\tthis.filmGauge = 35;\t// width of the film (default in millimeters)\n\tthis.filmOffset = 0;\t// horizontal film offset (same unit as gauge)\n\n\tthis.updateProjectionMatrix();\n\n}\n\nPerspectiveCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: PerspectiveCamera,\n\n\tisPerspectiveCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.fov = source.fov;\n\t\tthis.zoom = source.zoom;\n\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\t\tthis.focus = source.focus;\n\n\t\tthis.aspect = source.aspect;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\tthis.filmGauge = source.filmGauge;\n\t\tthis.filmOffset = source.filmOffset;\n\n\t\treturn this;\n\n\t},\n\n\t/**\n\t * Sets the FOV by focal length in respect to the current .filmGauge.\n\t *\n\t * The default film gauge is 35, so that the focal length can be specified for\n\t * a 35mm (full frame) camera.\n\t *\n\t * Values for focal length and film gauge must have the same unit.\n\t */\n\tsetFocalLength: function ( focalLength ) {\n\n\t\t// see http://www.bobatkins.com/photography/technical/field_of_view.html\n\t\tvar vExtentSlope = 0.5 * this.getFilmHeight() / focalLength;\n\n\t\tthis.fov = MathUtils.RAD2DEG * 2 * Math.atan( vExtentSlope );\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\t/**\n\t * Calculates the focal length from the current .fov and .filmGauge.\n\t */\n\tgetFocalLength: function () {\n\n\t\tvar vExtentSlope = Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov );\n\n\t\treturn 0.5 * this.getFilmHeight() / vExtentSlope;\n\n\t},\n\n\tgetEffectiveFOV: function () {\n\n\t\treturn MathUtils.RAD2DEG * 2 * Math.atan(\n\t\t\tMath.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom );\n\n\t},\n\n\tgetFilmWidth: function () {\n\n\t\t// film not completely covered in portrait format (aspect < 1)\n\t\treturn this.filmGauge * Math.min( this.aspect, 1 );\n\n\t},\n\n\tgetFilmHeight: function () {\n\n\t\t// film not completely covered in landscape format (aspect > 1)\n\t\treturn this.filmGauge / Math.max( this.aspect, 1 );\n\n\t},\n\n\t/**\n\t * Sets an offset in a larger frustum. This is useful for multi-window or\n\t * multi-monitor/multi-machine setups.\n\t *\n\t * For example, if you have 3x2 monitors and each monitor is 1920x1080 and\n\t * the monitors are in grid like this\n\t *\n\t *   +---+---+---+\n\t *   | A | B | C |\n\t *   +---+---+---+\n\t *   | D | E | F |\n\t *   +---+---+---+\n\t *\n\t * then for each monitor you would call it like this\n\t *\n\t *   var w = 1920;\n\t *   var h = 1080;\n\t *   var fullWidth = w * 3;\n\t *   var fullHeight = h * 2;\n\t *\n\t *   --A--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 0, w, h );\n\t *   --B--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 0, w, h );\n\t *   --C--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 0, w, h );\n\t *   --D--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 0, h * 1, w, h );\n\t *   --E--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 1, h * 1, w, h );\n\t *   --F--\n\t *   camera.setViewOffset( fullWidth, fullHeight, w * 2, h * 1, w, h );\n\t *\n\t *   Note there is no reason monitors have to be the same size or in a grid.\n\t */\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tthis.aspect = fullWidth / fullHeight;\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar near = this.near,\n\t\t\ttop = near * Math.tan( MathUtils.DEG2RAD * 0.5 * this.fov ) / this.zoom,\n\t\t\theight = 2 * top,\n\t\t\twidth = this.aspect * height,\n\t\t\tleft = - 0.5 * width,\n\t\t\tview = this.view;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar fullWidth = view.fullWidth,\n\t\t\t\tfullHeight = view.fullHeight;\n\n\t\t\tleft += view.offsetX * width / fullWidth;\n\t\t\ttop -= view.offsetY * height / fullHeight;\n\t\t\twidth *= view.width / fullWidth;\n\t\t\theight *= view.height / fullHeight;\n\n\t\t}\n\n\t\tvar skew = this.filmOffset;\n\t\tif ( skew !== 0 ) left += near * skew / this.getFilmWidth();\n\n\t\tthis.projectionMatrix.makePerspective( left, left + width, top, top - height, near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.fov = this.fov;\n\t\tdata.object.zoom = this.zoom;\n\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\t\tdata.object.focus = this.focus;\n\n\t\tdata.object.aspect = this.aspect;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\tdata.object.filmGauge = this.filmGauge;\n\t\tdata.object.filmOffset = this.filmOffset;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * Camera for rendering cube maps\n *\t- renders scene into axis-aligned cube\n *\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar fov = 90, aspect = 1;\n\nfunction CubeCamera( near, far, cubeResolution, options ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'CubeCamera';\n\n\tvar cameraPX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPX.up.set( 0, - 1, 0 );\n\tcameraPX.lookAt( new Vector3( 1, 0, 0 ) );\n\tthis.add( cameraPX );\n\n\tvar cameraNX = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNX.up.set( 0, - 1, 0 );\n\tcameraNX.lookAt( new Vector3( - 1, 0, 0 ) );\n\tthis.add( cameraNX );\n\n\tvar cameraPY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPY.up.set( 0, 0, 1 );\n\tcameraPY.lookAt( new Vector3( 0, 1, 0 ) );\n\tthis.add( cameraPY );\n\n\tvar cameraNY = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNY.up.set( 0, 0, - 1 );\n\tcameraNY.lookAt( new Vector3( 0, - 1, 0 ) );\n\tthis.add( cameraNY );\n\n\tvar cameraPZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraPZ.up.set( 0, - 1, 0 );\n\tcameraPZ.lookAt( new Vector3( 0, 0, 1 ) );\n\tthis.add( cameraPZ );\n\n\tvar cameraNZ = new PerspectiveCamera( fov, aspect, near, far );\n\tcameraNZ.up.set( 0, - 1, 0 );\n\tcameraNZ.lookAt( new Vector3( 0, 0, - 1 ) );\n\tthis.add( cameraNZ );\n\n\toptions = options || { format: RGBFormat, magFilter: LinearFilter, minFilter: LinearFilter };\n\n\tthis.renderTarget = new WebGLCubeRenderTarget( cubeResolution, options );\n\tthis.renderTarget.texture.name = \"CubeCamera\";\n\n\tthis.update = function ( renderer, scene ) {\n\n\t\tif ( this.parent === null ) this.updateMatrixWorld();\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\t\tvar generateMipmaps = renderTarget.texture.generateMipmaps;\n\n\t\trenderTarget.texture.generateMipmaps = false;\n\n\t\trenderer.setRenderTarget( renderTarget, 0 );\n\t\trenderer.render( scene, cameraPX );\n\n\t\trenderer.setRenderTarget( renderTarget, 1 );\n\t\trenderer.render( scene, cameraNX );\n\n\t\trenderer.setRenderTarget( renderTarget, 2 );\n\t\trenderer.render( scene, cameraPY );\n\n\t\trenderer.setRenderTarget( renderTarget, 3 );\n\t\trenderer.render( scene, cameraNY );\n\n\t\trenderer.setRenderTarget( renderTarget, 4 );\n\t\trenderer.render( scene, cameraPZ );\n\n\t\trenderTarget.texture.generateMipmaps = generateMipmaps;\n\n\t\trenderer.setRenderTarget( renderTarget, 5 );\n\t\trenderer.render( scene, cameraNZ );\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n\tthis.clear = function ( renderer, color, depth, stencil ) {\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar renderTarget = this.renderTarget;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\trenderer.setRenderTarget( renderTarget, i );\n\n\t\t\trenderer.clear( color, depth, stencil );\n\n\t\t}\n\n\t\trenderer.setRenderTarget( currentRenderTarget );\n\n\t};\n\n}\n\nCubeCamera.prototype = Object.create( Object3D.prototype );\nCubeCamera.prototype.constructor = CubeCamera;\n\n/**\n * @author alteredq / http://alteredqualia.com\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction WebGLCubeRenderTarget( size, options, dummy ) {\n\n\tif ( Number.isInteger( options ) ) {\n\n\t\tconsole.warn( 'THREE.WebGLCubeRenderTarget: constructor signature is now WebGLCubeRenderTarget( size, options )' );\n\n\t\toptions = dummy;\n\n\t}\n\n\tWebGLRenderTarget.call( this, size, size, options );\n\n}\n\nWebGLCubeRenderTarget.prototype = Object.create( WebGLRenderTarget.prototype );\nWebGLCubeRenderTarget.prototype.constructor = WebGLCubeRenderTarget;\n\nWebGLCubeRenderTarget.prototype.isWebGLCubeRenderTarget = true;\n\nWebGLCubeRenderTarget.prototype.fromEquirectangularTexture = function ( renderer, texture ) {\n\n\tthis.texture.type = texture.type;\n\tthis.texture.format = texture.format;\n\tthis.texture.encoding = texture.encoding;\n\n\tvar scene = new Scene();\n\n\tvar shader = {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: [\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"vec3 transformDirection( in vec3 dir, in mat4 matrix ) {\",\n\n\t\t\t\"\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\",\n\n\t\t\t\"}\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvWorldDirection = transformDirection( position, modelMatrix );\",\n\n\t\t\t\"\t#include <begin_vertex>\",\n\t\t\t\"\t#include <project_vertex>\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\n\t\tfragmentShader: [\n\n\t\t\t\"uniform sampler2D tEquirect;\",\n\n\t\t\t\"varying vec3 vWorldDirection;\",\n\n\t\t\t\"#define RECIPROCAL_PI 0.31830988618\",\n\t\t\t\"#define RECIPROCAL_PI2 0.15915494\",\n\n\t\t\t\"void main() {\",\n\n\t\t\t\"\tvec3 direction = normalize( vWorldDirection );\",\n\n\t\t\t\"\tvec2 sampleUV;\",\n\n\t\t\t\"\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\",\n\n\t\t\t\"\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\",\n\n\t\t\t\"\tgl_FragColor = texture2D( tEquirect, sampleUV );\",\n\n\t\t\t\"}\"\n\n\t\t].join( '\\n' ),\n\t};\n\n\tvar material = new ShaderMaterial( {\n\n\t\ttype: 'CubemapFromEquirect',\n\n\t\tuniforms: cloneUniforms( shader.uniforms ),\n\t\tvertexShader: shader.vertexShader,\n\t\tfragmentShader: shader.fragmentShader,\n\t\tside: BackSide,\n\t\tblending: NoBlending\n\n\t} );\n\n\tmaterial.uniforms.tEquirect.value = texture;\n\n\tvar mesh = new Mesh( new BoxBufferGeometry( 5, 5, 5 ), material );\n\n\tscene.add( mesh );\n\n\tvar camera = new CubeCamera( 1, 10, 1 );\n\n\tcamera.renderTarget = this;\n\tcamera.renderTarget.texture.name = 'CubeCameraTexture';\n\n\tcamera.update( renderer, scene );\n\n\tmesh.geometry.dispose();\n\tmesh.material.dispose();\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DataTexture( data, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1 };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\tthis.unpackAlignment = 1;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture.prototype = Object.create( Texture.prototype );\nDataTexture.prototype.constructor = DataTexture;\n\nDataTexture.prototype.isDataTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / http://clara.io\n */\n\nvar _sphere$1 = new Sphere();\nvar _vector$5 = new Vector3();\n\nfunction Frustum( p0, p1, p2, p3, p4, p5 ) {\n\n\tthis.planes = [\n\n\t\t( p0 !== undefined ) ? p0 : new Plane(),\n\t\t( p1 !== undefined ) ? p1 : new Plane(),\n\t\t( p2 !== undefined ) ? p2 : new Plane(),\n\t\t( p3 !== undefined ) ? p3 : new Plane(),\n\t\t( p4 !== undefined ) ? p4 : new Plane(),\n\t\t( p5 !== undefined ) ? p5 : new Plane()\n\n\t];\n\n}\n\nObject.assign( Frustum.prototype, {\n\n\tset: function ( p0, p1, p2, p3, p4, p5 ) {\n\n\t\tvar planes = this.planes;\n\n\t\tplanes[ 0 ].copy( p0 );\n\t\tplanes[ 1 ].copy( p1 );\n\t\tplanes[ 2 ].copy( p2 );\n\t\tplanes[ 3 ].copy( p3 );\n\t\tplanes[ 4 ].copy( p4 );\n\t\tplanes[ 5 ].copy( p5 );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( frustum ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tplanes[ i ].copy( frustum.planes[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromProjectionMatrix: function ( m ) {\n\n\t\tvar planes = this.planes;\n\t\tvar me = m.elements;\n\t\tvar me0 = me[ 0 ], me1 = me[ 1 ], me2 = me[ 2 ], me3 = me[ 3 ];\n\t\tvar me4 = me[ 4 ], me5 = me[ 5 ], me6 = me[ 6 ], me7 = me[ 7 ];\n\t\tvar me8 = me[ 8 ], me9 = me[ 9 ], me10 = me[ 10 ], me11 = me[ 11 ];\n\t\tvar me12 = me[ 12 ], me13 = me[ 13 ], me14 = me[ 14 ], me15 = me[ 15 ];\n\n\t\tplanes[ 0 ].setComponents( me3 - me0, me7 - me4, me11 - me8, me15 - me12 ).normalize();\n\t\tplanes[ 1 ].setComponents( me3 + me0, me7 + me4, me11 + me8, me15 + me12 ).normalize();\n\t\tplanes[ 2 ].setComponents( me3 + me1, me7 + me5, me11 + me9, me15 + me13 ).normalize();\n\t\tplanes[ 3 ].setComponents( me3 - me1, me7 - me5, me11 - me9, me15 - me13 ).normalize();\n\t\tplanes[ 4 ].setComponents( me3 - me2, me7 - me6, me11 - me10, me15 - me14 ).normalize();\n\t\tplanes[ 5 ].setComponents( me3 + me2, me7 + me6, me11 + me10, me15 + me14 ).normalize();\n\n\t\treturn this;\n\n\t},\n\n\tintersectsObject: function ( object ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$1.copy( geometry.boundingSphere ).applyMatrix4( object.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSprite: function ( sprite ) {\n\n\t\t_sphere$1.center.set( 0, 0, 0 );\n\t\t_sphere$1.radius = 0.7071067811865476;\n\t\t_sphere$1.applyMatrix4( sprite.matrixWorld );\n\n\t\treturn this.intersectsSphere( _sphere$1 );\n\n\t},\n\n\tintersectsSphere: function ( sphere ) {\n\n\t\tvar planes = this.planes;\n\t\tvar center = sphere.center;\n\t\tvar negRadius = - sphere.radius;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar distance = planes[ i ].distanceToPoint( center );\n\n\t\t\tif ( distance < negRadius ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tvar plane = planes[ i ];\n\n\t\t\t// corner at max distance\n\n\t\t\t_vector$5.x = plane.normal.x > 0 ? box.max.x : box.min.x;\n\t\t\t_vector$5.y = plane.normal.y > 0 ? box.max.y : box.min.y;\n\t\t\t_vector$5.z = plane.normal.z > 0 ? box.max.z : box.min.z;\n\n\t\t\tif ( plane.distanceToPoint( _vector$5 ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\tvar planes = this.planes;\n\n\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\tif ( planes[ i ].distanceToPoint( point ) < 0 ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t}\n\n} );\n\n/**\n * Uniforms library for shared webgl shaders\n */\n\nvar UniformsLib = {\n\n\tcommon: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\n\t\tmap: { value: null },\n\t\tuvTransform: { value: new Matrix3() },\n\t\tuv2Transform: { value: new Matrix3() },\n\n\t\talphaMap: { value: null },\n\n\t},\n\n\tspecularmap: {\n\n\t\tspecularMap: { value: null },\n\n\t},\n\n\tenvmap: {\n\n\t\tenvMap: { value: null },\n\t\tflipEnvMap: { value: - 1 },\n\t\treflectivity: { value: 1.0 },\n\t\trefractionRatio: { value: 0.98 },\n\t\tmaxMipLevel: { value: 0 }\n\n\t},\n\n\taomap: {\n\n\t\taoMap: { value: null },\n\t\taoMapIntensity: { value: 1 }\n\n\t},\n\n\tlightmap: {\n\n\t\tlightMap: { value: null },\n\t\tlightMapIntensity: { value: 1 }\n\n\t},\n\n\temissivemap: {\n\n\t\temissiveMap: { value: null }\n\n\t},\n\n\tbumpmap: {\n\n\t\tbumpMap: { value: null },\n\t\tbumpScale: { value: 1 }\n\n\t},\n\n\tnormalmap: {\n\n\t\tnormalMap: { value: null },\n\t\tnormalScale: { value: new Vector2( 1, 1 ) }\n\n\t},\n\n\tdisplacementmap: {\n\n\t\tdisplacementMap: { value: null },\n\t\tdisplacementScale: { value: 1 },\n\t\tdisplacementBias: { value: 0 }\n\n\t},\n\n\troughnessmap: {\n\n\t\troughnessMap: { value: null }\n\n\t},\n\n\tmetalnessmap: {\n\n\t\tmetalnessMap: { value: null }\n\n\t},\n\n\tgradientmap: {\n\n\t\tgradientMap: { value: null }\n\n\t},\n\n\tfog: {\n\n\t\tfogDensity: { value: 0.00025 },\n\t\tfogNear: { value: 1 },\n\t\tfogFar: { value: 2000 },\n\t\tfogColor: { value: new Color( 0xffffff ) }\n\n\t},\n\n\tlights: {\n\n\t\tambientLightColor: { value: [] },\n\n\t\tlightProbe: { value: [] },\n\n\t\tdirectionalLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tcolor: {}\n\t\t} },\n\n\t\tdirectionalLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tdirectionalShadowMap: { value: [] },\n\t\tdirectionalShadowMatrix: { value: [] },\n\n\t\tspotLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdirection: {},\n\t\t\tdistance: {},\n\t\t\tconeCos: {},\n\t\t\tpenumbraCos: {},\n\t\t\tdecay: {}\n\t\t} },\n\n\t\tspotLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {}\n\t\t} },\n\n\t\tspotShadowMap: { value: [] },\n\t\tspotShadowMatrix: { value: [] },\n\n\t\tpointLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\tdecay: {},\n\t\t\tdistance: {}\n\t\t} },\n\n\t\tpointLightShadows: { value: [], properties: {\n\t\t\tshadowBias: {},\n\t\t\tshadowRadius: {},\n\t\t\tshadowMapSize: {},\n\t\t\tshadowCameraNear: {},\n\t\t\tshadowCameraFar: {}\n\t\t} },\n\n\t\tpointShadowMap: { value: [] },\n\t\tpointShadowMatrix: { value: [] },\n\n\t\themisphereLights: { value: [], properties: {\n\t\t\tdirection: {},\n\t\t\tskyColor: {},\n\t\t\tgroundColor: {}\n\t\t} },\n\n\t\t// TODO (abelnation): RectAreaLight BRDF data needs to be moved from example to main src\n\t\trectAreaLights: { value: [], properties: {\n\t\t\tcolor: {},\n\t\t\tposition: {},\n\t\t\twidth: {},\n\t\t\theight: {}\n\t\t} }\n\n\t},\n\n\tpoints: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tsize: { value: 1.0 },\n\t\tscale: { value: 1.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t},\n\n\tsprite: {\n\n\t\tdiffuse: { value: new Color( 0xeeeeee ) },\n\t\topacity: { value: 1.0 },\n\t\tcenter: { value: new Vector2( 0.5, 0.5 ) },\n\t\trotation: { value: 0.0 },\n\t\tmap: { value: null },\n\t\talphaMap: { value: null },\n\t\tuvTransform: { value: new Matrix3() }\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAnimation() {\n\n\tvar context = null;\n\tvar isAnimating = false;\n\tvar animationLoop = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tif ( isAnimating === false ) return;\n\n\t\tanimationLoop( time, frame );\n\n\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t}\n\n\treturn {\n\n\t\tstart: function () {\n\n\t\t\tif ( isAnimating === true ) return;\n\t\t\tif ( animationLoop === null ) return;\n\n\t\t\tcontext.requestAnimationFrame( onAnimationFrame );\n\n\t\t\tisAnimating = true;\n\n\t\t},\n\n\t\tstop: function () {\n\n\t\t\tisAnimating = false;\n\n\t\t},\n\n\t\tsetAnimationLoop: function ( callback ) {\n\n\t\t\tanimationLoop = callback;\n\n\t\t},\n\n\t\tsetContext: function ( value ) {\n\n\t\t\tcontext = value;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLAttributes( gl, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar buffers = new WeakMap();\n\n\tfunction createBuffer( attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar usage = attribute.usage;\n\n\t\tvar buffer = gl.createBuffer();\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\t\tgl.bufferData( bufferType, array, usage );\n\n\t\tattribute.onUploadCallback();\n\n\t\tvar type = 5126;\n\n\t\tif ( array instanceof Float32Array ) {\n\n\t\t\ttype = 5126;\n\n\t\t} else if ( array instanceof Float64Array ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLAttributes: Unsupported data buffer format: Float64Array.' );\n\n\t\t} else if ( array instanceof Uint16Array ) {\n\n\t\t\ttype = 5123;\n\n\t\t} else if ( array instanceof Int16Array ) {\n\n\t\t\ttype = 5122;\n\n\t\t} else if ( array instanceof Uint32Array ) {\n\n\t\t\ttype = 5125;\n\n\t\t} else if ( array instanceof Int32Array ) {\n\n\t\t\ttype = 5124;\n\n\t\t} else if ( array instanceof Int8Array ) {\n\n\t\t\ttype = 5120;\n\n\t\t} else if ( array instanceof Uint8Array ) {\n\n\t\t\ttype = 5121;\n\n\t\t}\n\n\t\treturn {\n\t\t\tbuffer: buffer,\n\t\t\ttype: type,\n\t\t\tbytesPerElement: array.BYTES_PER_ELEMENT,\n\t\t\tversion: attribute.version\n\t\t};\n\n\t}\n\n\tfunction updateBuffer( buffer, attribute, bufferType ) {\n\n\t\tvar array = attribute.array;\n\t\tvar updateRange = attribute.updateRange;\n\n\t\tgl.bindBuffer( bufferType, buffer );\n\n\t\tif ( updateRange.count === - 1 ) {\n\n\t\t\t// Not using update ranges\n\n\t\t\tgl.bufferSubData( bufferType, 0, array );\n\n\t\t} else {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray, updateRange.offset, updateRange.count );\n\n\t\t\t} else {\n\n\t\t\t\tgl.bufferSubData( bufferType, updateRange.offset * array.BYTES_PER_ELEMENT,\n\t\t\t\t\tarray.subarray( updateRange.offset, updateRange.offset + updateRange.count ) );\n\n\t\t\t}\n\n\t\t\tupdateRange.count = - 1; // reset range\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction get( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\treturn buffers.get( attribute );\n\n\t}\n\n\tfunction remove( attribute ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data ) {\n\n\t\t\tgl.deleteBuffer( data.buffer );\n\n\t\t\tbuffers.delete( attribute );\n\n\t\t}\n\n\t}\n\n\tfunction update( attribute, bufferType ) {\n\n\t\tif ( attribute.isInterleavedBufferAttribute ) attribute = attribute.data;\n\n\t\tvar data = buffers.get( attribute );\n\n\t\tif ( data === undefined ) {\n\n\t\t\tbuffers.set( attribute, createBuffer( attribute, bufferType ) );\n\n\t\t} else if ( data.version < attribute.version ) {\n\n\t\t\tupdateBuffer( data.buffer, attribute, bufferType );\n\n\t\t\tdata.version = attribute.version;\n\n\t\t}\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PlaneGeometry\n\nfunction PlaneGeometry( width, height, widthSegments, heightSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PlaneGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\tthis.fromBufferGeometry( new PlaneBufferGeometry( width, height, widthSegments, heightSegments ) );\n\tthis.mergeVertices();\n\n}\n\nPlaneGeometry.prototype = Object.create( Geometry.prototype );\nPlaneGeometry.prototype.constructor = PlaneGeometry;\n\n// PlaneBufferGeometry\n\nfunction PlaneBufferGeometry( width, height, widthSegments, heightSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PlaneBufferGeometry';\n\n\tthis.parameters = {\n\t\twidth: width,\n\t\theight: height,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments\n\t};\n\n\twidth = width || 1;\n\theight = height || 1;\n\n\tvar width_half = width / 2;\n\tvar height_half = height / 2;\n\n\tvar gridX = Math.floor( widthSegments ) || 1;\n\tvar gridY = Math.floor( heightSegments ) || 1;\n\n\tvar gridX1 = gridX + 1;\n\tvar gridY1 = gridY + 1;\n\n\tvar segment_width = width / gridX;\n\tvar segment_height = height / gridY;\n\n\tvar ix, iy;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy < gridY1; iy ++ ) {\n\n\t\tvar y = iy * segment_height - height_half;\n\n\t\tfor ( ix = 0; ix < gridX1; ix ++ ) {\n\n\t\t\tvar x = ix * segment_width - width_half;\n\n\t\t\tvertices.push( x, - y, 0 );\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\tuvs.push( ix / gridX );\n\t\t\tuvs.push( 1 - ( iy / gridY ) );\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < gridY; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < gridX; ix ++ ) {\n\n\t\t\tvar a = ix + gridX1 * iy;\n\t\t\tvar b = ix + gridX1 * ( iy + 1 );\n\t\t\tvar c = ( ix + 1 ) + gridX1 * ( iy + 1 );\n\t\t\tvar d = ( ix + 1 ) + gridX1 * iy;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nPlaneBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPlaneBufferGeometry.prototype.constructor = PlaneBufferGeometry;\n\nvar alphamap_fragment = \"#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, vUv ).g;\\n#endif\";\n\nvar alphamap_pars_fragment = \"#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar alphatest_fragment = \"#ifdef ALPHATEST\\n\\tif ( diffuseColor.a < ALPHATEST ) discard;\\n#endif\";\n\nvar aomap_fragment = \"#ifdef USE_AOMAP\\n\\tfloat ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;\\n\\treflectedLight.indirectDiffuse *= ambientOcclusion;\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD )\\n\\t\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.specularRoughness );\\n\\t#endif\\n#endif\";\n\nvar aomap_pars_fragment = \"#ifdef USE_AOMAP\\n\\tuniform sampler2D aoMap;\\n\\tuniform float aoMapIntensity;\\n#endif\";\n\nvar begin_vertex = \"vec3 transformed = vec3( position );\";\n\nvar beginnormal_vertex = \"vec3 objectNormal = vec3( normal );\\n#ifdef USE_TANGENT\\n\\tvec3 objectTangent = vec3( tangent.xyz );\\n#endif\";\n\nvar bsdfs = \"vec2 integrateSpecularBRDF( const in float dotNV, const in float roughness ) {\\n\\tconst vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );\\n\\tconst vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );\\n\\tvec4 r = roughness * c0 + c1;\\n\\tfloat a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;\\n\\treturn vec2( -1.04, 1.04 ) * a004 + r.zw;\\n}\\nfloat punctualLightIntensityToIrradianceFactor( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {\\n#if defined ( PHYSICALLY_CORRECT_LIGHTS )\\n\\tfloat distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );\\n\\tif( cutoffDistance > 0.0 ) {\\n\\t\\tdistanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );\\n\\t}\\n\\treturn distanceFalloff;\\n#else\\n\\tif( cutoffDistance > 0.0 && decayExponent > 0.0 ) {\\n\\t\\treturn pow( saturate( -lightDistance / cutoffDistance + 1.0 ), decayExponent );\\n\\t}\\n\\treturn 1.0;\\n#endif\\n}\\nvec3 BRDF_Diffuse_Lambert( const in vec3 diffuseColor ) {\\n\\treturn RECIPROCAL_PI * diffuseColor;\\n}\\nvec3 F_Schlick( const in vec3 specularColor, const in float dotLH ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotLH - 6.98316 ) * dotLH );\\n\\treturn ( 1.0 - specularColor ) * fresnel + specularColor;\\n}\\nvec3 F_Schlick_RoughnessDependent( const in vec3 F0, const in float dotNV, const in float roughness ) {\\n\\tfloat fresnel = exp2( ( -5.55473 * dotNV - 6.98316 ) * dotNV );\\n\\tvec3 Fr = max( vec3( 1.0 - roughness ), F0 ) - F0;\\n\\treturn Fr * fresnel + F0;\\n}\\nfloat G_GGX_Smith( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gl = dotNL + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\tfloat gv = dotNV + sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\treturn 1.0 / ( gl * gv );\\n}\\nfloat G_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );\\n\\tfloat gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );\\n\\treturn 0.5 / max( gv + gl, EPSILON );\\n}\\nfloat D_GGX( const in float alpha, const in float dotNH ) {\\n\\tfloat a2 = pow2( alpha );\\n\\tfloat denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;\\n\\treturn RECIPROCAL_PI * a2 / pow2( denom );\\n}\\nvec3 BRDF_Specular_GGX( const in IncidentLight incidentLight, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat alpha = pow2( roughness );\\n\\tvec3 halfDir = normalize( incidentLight.direction + viewDir );\\n\\tfloat dotNL = saturate( dot( normal, incidentLight.direction ) );\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tfloat dotNH = saturate( dot( normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_GGX_SmithCorrelated( alpha, dotNL, dotNV );\\n\\tfloat D = D_GGX( alpha, dotNH );\\n\\treturn F * ( G * D );\\n}\\nvec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {\\n\\tconst float LUT_SIZE  = 64.0;\\n\\tconst float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;\\n\\tconst float LUT_BIAS  = 0.5 / LUT_SIZE;\\n\\tfloat dotNV = saturate( dot( N, V ) );\\n\\tvec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );\\n\\tuv = uv * LUT_SCALE + LUT_BIAS;\\n\\treturn uv;\\n}\\nfloat LTC_ClippedSphereFormFactor( const in vec3 f ) {\\n\\tfloat l = length( f );\\n\\treturn max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );\\n}\\nvec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {\\n\\tfloat x = dot( v1, v2 );\\n\\tfloat y = abs( x );\\n\\tfloat a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;\\n\\tfloat b = 3.4175940 + ( 4.1616724 + y ) * y;\\n\\tfloat v = a / b;\\n\\tfloat theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;\\n\\treturn cross( v1, v2 ) * theta_sintheta;\\n}\\nvec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {\\n\\tvec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];\\n\\tvec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];\\n\\tvec3 lightNormal = cross( v1, v2 );\\n\\tif( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );\\n\\tvec3 T1, T2;\\n\\tT1 = normalize( V - N * dot( V, N ) );\\n\\tT2 = - cross( N, T1 );\\n\\tmat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );\\n\\tvec3 coords[ 4 ];\\n\\tcoords[ 0 ] = mat * ( rectCoords[ 0 ] - P );\\n\\tcoords[ 1 ] = mat * ( rectCoords[ 1 ] - P );\\n\\tcoords[ 2 ] = mat * ( rectCoords[ 2 ] - P );\\n\\tcoords[ 3 ] = mat * ( rectCoords[ 3 ] - P );\\n\\tcoords[ 0 ] = normalize( coords[ 0 ] );\\n\\tcoords[ 1 ] = normalize( coords[ 1 ] );\\n\\tcoords[ 2 ] = normalize( coords[ 2 ] );\\n\\tcoords[ 3 ] = normalize( coords[ 3 ] );\\n\\tvec3 vectorFormFactor = vec3( 0.0 );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );\\n\\tvectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );\\n\\tfloat result = LTC_ClippedSphereFormFactor( vectorFormFactor );\\n\\treturn vec3( result );\\n}\\nvec3 BRDF_Specular_GGX_Environment( const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float roughness ) {\\n\\tfloat dotNV = saturate( dot( normal, viewDir ) );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\treturn specularColor * brdf.x + brdf.y;\\n}\\nvoid BRDF_Specular_Multiscattering_Environment( const in GeometricContext geometry, const in vec3 specularColor, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {\\n\\tfloat dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );\\n\\tvec3 F = F_Schlick_RoughnessDependent( specularColor, dotNV, roughness );\\n\\tvec2 brdf = integrateSpecularBRDF( dotNV, roughness );\\n\\tvec3 FssEss = F * brdf.x + brdf.y;\\n\\tfloat Ess = brdf.x + brdf.y;\\n\\tfloat Ems = 1.0 - Ess;\\n\\tvec3 Favg = specularColor + ( 1.0 - specularColor ) * 0.047619;\\tvec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );\\n\\tsingleScatter += FssEss;\\n\\tmultiScatter += Fms * Ems;\\n}\\nfloat G_BlinnPhong_Implicit( ) {\\n\\treturn 0.25;\\n}\\nfloat D_BlinnPhong( const in float shininess, const in float dotNH ) {\\n\\treturn RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );\\n}\\nvec3 BRDF_Specular_BlinnPhong( const in IncidentLight incidentLight, const in GeometricContext geometry, const in vec3 specularColor, const in float shininess ) {\\n\\tvec3 halfDir = normalize( incidentLight.direction + geometry.viewDir );\\n\\tfloat dotNH = saturate( dot( geometry.normal, halfDir ) );\\n\\tfloat dotLH = saturate( dot( incidentLight.direction, halfDir ) );\\n\\tvec3 F = F_Schlick( specularColor, dotLH );\\n\\tfloat G = G_BlinnPhong_Implicit( );\\n\\tfloat D = D_BlinnPhong( shininess, dotNH );\\n\\treturn F * ( G * D );\\n}\\nfloat GGXRoughnessToBlinnExponent( const in float ggxRoughness ) {\\n\\treturn ( 2.0 / pow2( ggxRoughness + 0.0001 ) - 2.0 );\\n}\\nfloat BlinnExponentToGGXRoughness( const in float blinnExponent ) {\\n\\treturn sqrt( 2.0 / ( blinnExponent + 2.0 ) );\\n}\\n#if defined( USE_SHEEN )\\nfloat D_Charlie(float roughness, float NoH) {\\n\\tfloat invAlpha  = 1.0 / roughness;\\n\\tfloat cos2h = NoH * NoH;\\n\\tfloat sin2h = max(1.0 - cos2h, 0.0078125);\\treturn (2.0 + invAlpha) * pow(sin2h, invAlpha * 0.5) / (2.0 * PI);\\n}\\nfloat V_Neubelt(float NoV, float NoL) {\\n\\treturn saturate(1.0 / (4.0 * (NoL + NoV - NoL * NoV)));\\n}\\nvec3 BRDF_Specular_Sheen( const in float roughness, const in vec3 L, const in GeometricContext geometry, vec3 specularColor ) {\\n\\tvec3 N = geometry.normal;\\n\\tvec3 V = geometry.viewDir;\\n\\tvec3 H = normalize( V + L );\\n\\tfloat dotNH = saturate( dot( N, H ) );\\n\\treturn specularColor * D_Charlie( roughness, dotNH ) * V_Neubelt( dot(N, V), dot(N, L) );\\n}\\n#endif\";\n\nvar bumpmap_pars_fragment = \"#ifdef USE_BUMPMAP\\n\\tuniform sampler2D bumpMap;\\n\\tuniform float bumpScale;\\n\\tvec2 dHdxy_fwd() {\\n\\t\\tvec2 dSTdx = dFdx( vUv );\\n\\t\\tvec2 dSTdy = dFdy( vUv );\\n\\t\\tfloat Hll = bumpScale * texture2D( bumpMap, vUv ).x;\\n\\t\\tfloat dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;\\n\\t\\tfloat dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;\\n\\t\\treturn vec2( dBx, dBy );\\n\\t}\\n\\tvec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy ) {\\n\\t\\tvec3 vSigmaX = vec3( dFdx( surf_pos.x ), dFdx( surf_pos.y ), dFdx( surf_pos.z ) );\\n\\t\\tvec3 vSigmaY = vec3( dFdy( surf_pos.x ), dFdy( surf_pos.y ), dFdy( surf_pos.z ) );\\n\\t\\tvec3 vN = surf_norm;\\n\\t\\tvec3 R1 = cross( vSigmaY, vN );\\n\\t\\tvec3 R2 = cross( vN, vSigmaX );\\n\\t\\tfloat fDet = dot( vSigmaX, R1 );\\n\\t\\tfDet *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\tvec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );\\n\\t\\treturn normalize( abs( fDet ) * surf_norm - vGrad );\\n\\t}\\n#endif\";\n\nvar clipping_planes_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\tvec4 plane;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {\\n\\t\\tplane = clippingPlanes[ i ];\\n\\t\\tif ( dot( vViewPosition, plane.xyz ) > plane.w ) discard;\\n\\t}\\n\\t#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES\\n\\t\\tbool clipped = true;\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {\\n\\t\\t\\tplane = clippingPlanes[ i ];\\n\\t\\t\\tclipped = ( dot( vViewPosition, plane.xyz ) > plane.w ) && clipped;\\n\\t\\t}\\n\\t\\tif ( clipped ) discard;\\n\\t#endif\\n#endif\";\n\nvar clipping_planes_pars_fragment = \"#if NUM_CLIPPING_PLANES > 0\\n\\t#if ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\t\\tvarying vec3 vViewPosition;\\n\\t#endif\\n\\tuniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];\\n#endif\";\n\nvar clipping_planes_pars_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\tvarying vec3 vViewPosition;\\n#endif\";\n\nvar clipping_planes_vertex = \"#if NUM_CLIPPING_PLANES > 0 && ! defined( STANDARD ) && ! defined( PHONG ) && ! defined( MATCAP ) && ! defined( TOON )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\";\n\nvar color_fragment = \"#ifdef USE_COLOR\\n\\tdiffuseColor.rgb *= vColor;\\n#endif\";\n\nvar color_pars_fragment = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_pars_vertex = \"#ifdef USE_COLOR\\n\\tvarying vec3 vColor;\\n#endif\";\n\nvar color_vertex = \"#ifdef USE_COLOR\\n\\tvColor.xyz = color.xyz;\\n#endif\";\n\nvar common = \"#define PI 3.14159265359\\n#define PI2 6.28318530718\\n#define PI_HALF 1.5707963267949\\n#define RECIPROCAL_PI 0.31830988618\\n#define RECIPROCAL_PI2 0.15915494\\n#define LOG2 1.442695\\n#define EPSILON 1e-6\\n#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\n#define whiteComplement(a) ( 1.0 - saturate( a ) )\\nfloat pow2( const in float x ) { return x*x; }\\nfloat pow3( const in float x ) { return x*x*x; }\\nfloat pow4( const in float x ) { float x2 = x*x; return x2*x2; }\\nfloat average( const in vec3 color ) { return dot( color, vec3( 0.3333 ) ); }\\nhighp float rand( const in vec2 uv ) {\\n\\tconst highp float a = 12.9898, b = 78.233, c = 43758.5453;\\n\\thighp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );\\n\\treturn fract(sin(sn) * c);\\n}\\n#ifdef HIGH_PRECISION\\n\\tfloat precisionSafeLength( vec3 v ) { return length( v ); }\\n#else\\n\\tfloat max3( vec3 v ) { return max( max( v.x, v.y ), v.z ); }\\n\\tfloat precisionSafeLength( vec3 v ) {\\n\\t\\tfloat maxComponent = max3( abs( v ) );\\n\\t\\treturn length( v / maxComponent ) * maxComponent;\\n\\t}\\n#endif\\nstruct IncidentLight {\\n\\tvec3 color;\\n\\tvec3 direction;\\n\\tbool visible;\\n};\\nstruct ReflectedLight {\\n\\tvec3 directDiffuse;\\n\\tvec3 directSpecular;\\n\\tvec3 indirectDiffuse;\\n\\tvec3 indirectSpecular;\\n};\\nstruct GeometricContext {\\n\\tvec3 position;\\n\\tvec3 normal;\\n\\tvec3 viewDir;\\n#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal;\\n#endif\\n};\\nvec3 transformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );\\n}\\nvec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {\\n\\treturn normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );\\n}\\nvec3 projectOnPlane(in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\tfloat distance = dot( planeNormal, point - pointOnPlane );\\n\\treturn - distance * planeNormal + point;\\n}\\nfloat sideOfPlane( in vec3 point, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn sign( dot( point - pointOnPlane, planeNormal ) );\\n}\\nvec3 linePlaneIntersect( in vec3 pointOnLine, in vec3 lineDirection, in vec3 pointOnPlane, in vec3 planeNormal ) {\\n\\treturn lineDirection * ( dot( planeNormal, pointOnPlane - pointOnLine ) / dot( planeNormal, lineDirection ) ) + pointOnLine;\\n}\\nmat3 transposeMat3( const in mat3 m ) {\\n\\tmat3 tmp;\\n\\ttmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );\\n\\ttmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );\\n\\ttmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );\\n\\treturn tmp;\\n}\\nfloat linearToRelativeLuminance( const in vec3 color ) {\\n\\tvec3 weights = vec3( 0.2126, 0.7152, 0.0722 );\\n\\treturn dot( weights, color.rgb );\\n}\\nbool isPerspectiveMatrix( mat4 m ) {\\n  return m[ 2 ][ 3 ] == - 1.0;\\n}\";\n\nvar cube_uv_reflection_fragment = \"#ifdef ENVMAP_TYPE_CUBE_UV\\n#define cubeUV_maxMipLevel 8.0\\n#define cubeUV_minMipLevel 4.0\\n#define cubeUV_maxTileSize 256.0\\n#define cubeUV_minTileSize 16.0\\nfloat getFace(vec3 direction) {\\n    vec3 absDirection = abs(direction);\\n    float face = -1.0;\\n    if (absDirection.x > absDirection.z) {\\n      if (absDirection.x > absDirection.y)\\n        face = direction.x > 0.0 ? 0.0 : 3.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    } else {\\n      if (absDirection.z > absDirection.y)\\n        face = direction.z > 0.0 ? 2.0 : 5.0;\\n      else\\n        face = direction.y > 0.0 ? 1.0 : 4.0;\\n    }\\n    return face;\\n}\\nvec2 getUV(vec3 direction, float face) {\\n    vec2 uv;\\n    if (face == 0.0) {\\n      uv = vec2(-direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 1.0) {\\n      uv = vec2(direction.x, -direction.z) / abs(direction.y);\\n    } else if (face == 2.0) {\\n      uv = direction.xy / abs(direction.z);\\n    } else if (face == 3.0) {\\n      uv = vec2(direction.z, direction.y) / abs(direction.x);\\n    } else if (face == 4.0) {\\n      uv = direction.xz / abs(direction.y);\\n    } else {\\n      uv = vec2(-direction.x, direction.y) / abs(direction.z);\\n    }\\n    return 0.5 * (uv + 1.0);\\n}\\nvec3 bilinearCubeUV(sampler2D envMap, vec3 direction, float mipInt) {\\n  float face = getFace(direction);\\n  float filterInt = max(cubeUV_minMipLevel - mipInt, 0.0);\\n  mipInt = max(mipInt, cubeUV_minMipLevel);\\n  float faceSize = exp2(mipInt);\\n  float texelSize = 1.0 / (3.0 * cubeUV_maxTileSize);\\n  vec2 uv = getUV(direction, face) * (faceSize - 1.0);\\n  vec2 f = fract(uv);\\n  uv += 0.5 - f;\\n  if (face > 2.0) {\\n    uv.y += faceSize;\\n    face -= 3.0;\\n  }\\n  uv.x += face * faceSize;\\n  if(mipInt < cubeUV_maxMipLevel){\\n    uv.y += 2.0 * cubeUV_maxTileSize;\\n  }\\n  uv.y += filterInt * 2.0 * cubeUV_minTileSize;\\n  uv.x += 3.0 * max(0.0, cubeUV_maxTileSize - 2.0 * faceSize);\\n  uv *= texelSize;\\n  vec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x += texelSize;\\n  vec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.y += texelSize;\\n  vec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  uv.x -= texelSize;\\n  vec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\\n  vec3 tm = mix(tl, tr, f.x);\\n  vec3 bm = mix(bl, br, f.x);\\n  return mix(tm, bm, f.y);\\n}\\n#define r0 1.0\\n#define v0 0.339\\n#define m0 -2.0\\n#define r1 0.8\\n#define v1 0.276\\n#define m1 -1.0\\n#define r4 0.4\\n#define v4 0.046\\n#define m4 2.0\\n#define r5 0.305\\n#define v5 0.016\\n#define m5 3.0\\n#define r6 0.21\\n#define v6 0.0038\\n#define m6 4.0\\nfloat roughnessToMip(float roughness) {\\n  float mip = 0.0;\\n  if (roughness >= r1) {\\n    mip = (r0 - roughness) * (m1 - m0) / (r0 - r1) + m0;\\n  } else if (roughness >= r4) {\\n    mip = (r1 - roughness) * (m4 - m1) / (r1 - r4) + m1;\\n  } else if (roughness >= r5) {\\n    mip = (r4 - roughness) * (m5 - m4) / (r4 - r5) + m4;\\n  } else if (roughness >= r6) {\\n    mip = (r5 - roughness) * (m6 - m5) / (r5 - r6) + m5;\\n  } else {\\n    mip = -2.0 * log2(1.16 * roughness);  }\\n  return mip;\\n}\\nvec4 textureCubeUV(sampler2D envMap, vec3 sampleDir, float roughness) {\\n  float mip = clamp(roughnessToMip(roughness), m0, cubeUV_maxMipLevel);\\n  float mipF = fract(mip);\\n  float mipInt = floor(mip);\\n  vec3 color0 = bilinearCubeUV(envMap, sampleDir, mipInt);\\n  if (mipF == 0.0) {\\n    return vec4(color0, 1.0);\\n  } else {\\n    vec3 color1 = bilinearCubeUV(envMap, sampleDir, mipInt + 1.0);\\n    return vec4(mix(color0, color1, mipF), 1.0);\\n  }\\n}\\n#endif\";\n\nvar defaultnormal_vertex = \"vec3 transformedNormal = objectNormal;\\n#ifdef USE_INSTANCING\\n\\tmat3 m = mat3( instanceMatrix );\\n\\ttransformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );\\n\\ttransformedNormal = m * transformedNormal;\\n#endif\\ntransformedNormal = normalMatrix * transformedNormal;\\n#ifdef FLIP_SIDED\\n\\ttransformedNormal = - transformedNormal;\\n#endif\\n#ifdef USE_TANGENT\\n\\tvec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#ifdef FLIP_SIDED\\n\\t\\ttransformedTangent = - transformedTangent;\\n\\t#endif\\n#endif\";\n\nvar displacementmap_pars_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\tuniform sampler2D displacementMap;\\n\\tuniform float displacementScale;\\n\\tuniform float displacementBias;\\n#endif\";\n\nvar displacementmap_vertex = \"#ifdef USE_DISPLACEMENTMAP\\n\\ttransformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );\\n#endif\";\n\nvar emissivemap_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tvec4 emissiveColor = texture2D( emissiveMap, vUv );\\n\\temissiveColor.rgb = emissiveMapTexelToLinear( emissiveColor ).rgb;\\n\\ttotalEmissiveRadiance *= emissiveColor.rgb;\\n#endif\";\n\nvar emissivemap_pars_fragment = \"#ifdef USE_EMISSIVEMAP\\n\\tuniform sampler2D emissiveMap;\\n#endif\";\n\nvar encodings_fragment = \"gl_FragColor = linearToOutputTexel( gl_FragColor );\";\n\nvar encodings_pars_fragment = \"\\nvec4 LinearToLinear( in vec4 value ) {\\n\\treturn value;\\n}\\nvec4 GammaToLinear( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( gammaFactor ) ), value.a );\\n}\\nvec4 LinearToGamma( in vec4 value, in float gammaFactor ) {\\n\\treturn vec4( pow( value.rgb, vec3( 1.0 / gammaFactor ) ), value.a );\\n}\\nvec4 sRGBToLinear( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), value.rgb * 0.0773993808, vec3( lessThanEqual( value.rgb, vec3( 0.04045 ) ) ) ), value.a );\\n}\\nvec4 LinearTosRGB( in vec4 value ) {\\n\\treturn vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );\\n}\\nvec4 RGBEToLinear( in vec4 value ) {\\n\\treturn vec4( value.rgb * exp2( value.a * 255.0 - 128.0 ), 1.0 );\\n}\\nvec4 LinearToRGBE( in vec4 value ) {\\n\\tfloat maxComponent = max( max( value.r, value.g ), value.b );\\n\\tfloat fExp = clamp( ceil( log2( maxComponent ) ), -128.0, 127.0 );\\n\\treturn vec4( value.rgb / exp2( fExp ), ( fExp + 128.0 ) / 255.0 );\\n}\\nvec4 RGBMToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * value.a * maxRange, 1.0 );\\n}\\nvec4 LinearToRGBM( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat M = clamp( maxRGB / maxRange, 0.0, 1.0 );\\n\\tM = ceil( M * 255.0 ) / 255.0;\\n\\treturn vec4( value.rgb / ( M * maxRange ), M );\\n}\\nvec4 RGBDToLinear( in vec4 value, in float maxRange ) {\\n\\treturn vec4( value.rgb * ( ( maxRange / 255.0 ) / value.a ), 1.0 );\\n}\\nvec4 LinearToRGBD( in vec4 value, in float maxRange ) {\\n\\tfloat maxRGB = max( value.r, max( value.g, value.b ) );\\n\\tfloat D = max( maxRange / maxRGB, 1.0 );\\n\\tD = clamp( floor( D ) / 255.0, 0.0, 1.0 );\\n\\treturn vec4( value.rgb * ( D * ( 255.0 / maxRange ) ), D );\\n}\\nconst mat3 cLogLuvM = mat3( 0.2209, 0.3390, 0.4184, 0.1138, 0.6780, 0.7319, 0.0102, 0.1130, 0.2969 );\\nvec4 LinearToLogLuv( in vec4 value )  {\\n\\tvec3 Xp_Y_XYZp = cLogLuvM * value.rgb;\\n\\tXp_Y_XYZp = max( Xp_Y_XYZp, vec3( 1e-6, 1e-6, 1e-6 ) );\\n\\tvec4 vResult;\\n\\tvResult.xy = Xp_Y_XYZp.xy / Xp_Y_XYZp.z;\\n\\tfloat Le = 2.0 * log2(Xp_Y_XYZp.y) + 127.0;\\n\\tvResult.w = fract( Le );\\n\\tvResult.z = ( Le - ( floor( vResult.w * 255.0 ) ) / 255.0 ) / 255.0;\\n\\treturn vResult;\\n}\\nconst mat3 cLogLuvInverseM = mat3( 6.0014, -2.7008, -1.7996, -1.3320, 3.1029, -5.7721, 0.3008, -1.0882, 5.6268 );\\nvec4 LogLuvToLinear( in vec4 value ) {\\n\\tfloat Le = value.z * 255.0 + value.w;\\n\\tvec3 Xp_Y_XYZp;\\n\\tXp_Y_XYZp.y = exp2( ( Le - 127.0 ) / 2.0 );\\n\\tXp_Y_XYZp.z = Xp_Y_XYZp.y / value.y;\\n\\tXp_Y_XYZp.x = value.x * Xp_Y_XYZp.z;\\n\\tvec3 vRGB = cLogLuvInverseM * Xp_Y_XYZp.rgb;\\n\\treturn vec4( max( vRGB, 0.0 ), 1.0 );\\n}\";\n\nvar envmap_fragment = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvec3 cameraToFrag;\\n\\t\\t\\n\\t\\tif ( isOrthographic ) {\\n\\t\\t\\tcameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t}  else {\\n\\t\\t\\tcameraToFrag = normalize( vWorldPosition - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvec3 reflectVec = reflect( cameraToFrag, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#else\\n\\t\\tvec3 reflectVec = vReflect;\\n\\t#endif\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tvec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );\\n\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tvec4 envColor = textureCubeUV( envMap, reflectVec, 0.0 );\\n\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\tvec2 sampleUV;\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\tvec4 envColor = texture2D( envMap, sampleUV );\\n\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\treflectVec = normalize( reflectVec );\\n\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0, 0.0, 1.0 ) );\\n\\t\\tvec4 envColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5 );\\n\\t#else\\n\\t\\tvec4 envColor = vec4( 0.0 );\\n\\t#endif\\n\\t#ifndef ENVMAP_TYPE_CUBE_UV\\n\\t\\tenvColor = envMapTexelToLinear( envColor );\\n\\t#endif\\n\\t#ifdef ENVMAP_BLENDING_MULTIPLY\\n\\t\\toutgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_MIX )\\n\\t\\toutgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );\\n\\t#elif defined( ENVMAP_BLENDING_ADD )\\n\\t\\toutgoingLight += envColor.xyz * specularStrength * reflectivity;\\n\\t#endif\\n#endif\";\n\nvar envmap_common_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float envMapIntensity;\\n\\tuniform float flipEnvMap;\\n\\tuniform int maxMipLevel;\\n\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\tuniform samplerCube envMap;\\n\\t#else\\n\\t\\tuniform sampler2D envMap;\\n\\t#endif\\n\\t\\n#endif\";\n\nvar envmap_pars_fragment = \"#ifdef USE_ENVMAP\\n\\tuniform float reflectivity;\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t\\tuniform float refractionRatio;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t#endif\\n#endif\";\n\nvar envmap_pars_vertex = \"#ifdef USE_ENVMAP\\n\\t#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) ||defined( PHONG )\\n\\t\\t#define ENV_WORLDPOS\\n\\t#endif\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\t\\n\\t\\tvarying vec3 vWorldPosition;\\n\\t#else\\n\\t\\tvarying vec3 vReflect;\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n#endif\";\n\nvar envmap_vertex = \"#ifdef USE_ENVMAP\\n\\t#ifdef ENV_WORLDPOS\\n\\t\\tvWorldPosition = worldPosition.xyz;\\n\\t#else\\n\\t\\tvec3 cameraToVertex;\\n\\t\\tif ( isOrthographic ) { \\n\\t\\t\\tcameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );\\n\\t\\t} else {\\n\\t\\t\\tcameraToVertex = normalize( worldPosition.xyz - cameraPosition );\\n\\t\\t}\\n\\t\\tvec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t\\tvReflect = reflect( cameraToVertex, worldNormal );\\n\\t\\t#else\\n\\t\\t\\tvReflect = refract( cameraToVertex, worldNormal, refractionRatio );\\n\\t\\t#endif\\n\\t#endif\\n#endif\";\n\nvar fog_vertex = \"#ifdef USE_FOG\\n\\tfogDepth = -mvPosition.z;\\n#endif\";\n\nvar fog_pars_vertex = \"#ifdef USE_FOG\\n\\tvarying float fogDepth;\\n#endif\";\n\nvar fog_fragment = \"#ifdef USE_FOG\\n\\t#ifdef FOG_EXP2\\n\\t\\tfloat fogFactor = 1.0 - exp( - fogDensity * fogDensity * fogDepth * fogDepth );\\n\\t#else\\n\\t\\tfloat fogFactor = smoothstep( fogNear, fogFar, fogDepth );\\n\\t#endif\\n\\tgl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );\\n#endif\";\n\nvar fog_pars_fragment = \"#ifdef USE_FOG\\n\\tuniform vec3 fogColor;\\n\\tvarying float fogDepth;\\n\\t#ifdef FOG_EXP2\\n\\t\\tuniform float fogDensity;\\n\\t#else\\n\\t\\tuniform float fogNear;\\n\\t\\tuniform float fogFar;\\n\\t#endif\\n#endif\";\n\nvar gradientmap_pars_fragment = \"#ifdef USE_GRADIENTMAP\\n\\tuniform sampler2D gradientMap;\\n#endif\\nvec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {\\n\\tfloat dotNL = dot( normal, lightDirection );\\n\\tvec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );\\n\\t#ifdef USE_GRADIENTMAP\\n\\t\\treturn texture2D( gradientMap, coord ).rgb;\\n\\t#else\\n\\t\\treturn ( coord.x < 0.7 ) ? vec3( 0.7 ) : vec3( 1.0 );\\n\\t#endif\\n}\";\n\nvar lightmap_fragment = \"#ifdef USE_LIGHTMAP\\n\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\treflectedLight.indirectDiffuse += PI * lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n#endif\";\n\nvar lightmap_pars_fragment = \"#ifdef USE_LIGHTMAP\\n\\tuniform sampler2D lightMap;\\n\\tuniform float lightMapIntensity;\\n#endif\";\n\nvar lights_lambert_vertex = \"vec3 diffuse = vec3( 1.0 );\\nGeometricContext geometry;\\ngeometry.position = mvPosition.xyz;\\ngeometry.normal = normalize( transformedNormal );\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( -mvPosition.xyz );\\nGeometricContext backGeometry;\\nbackGeometry.position = geometry.position;\\nbackGeometry.normal = -geometry.normal;\\nbackGeometry.viewDir = geometry.viewDir;\\nvLightFront = vec3( 0.0 );\\nvIndirectFront = vec3( 0.0 );\\n#ifdef DOUBLE_SIDED\\n\\tvLightBack = vec3( 0.0 );\\n\\tvIndirectBack = vec3( 0.0 );\\n#endif\\nIncidentLight directLight;\\nfloat dotNL;\\nvec3 directLightColor_Diffuse;\\n#if NUM_POINT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tgetPointDirectLightIrradiance( pointLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tgetSpotDirectLightIrradiance( spotLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_DIR_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLights[ i ], geometry, directLight );\\n\\t\\tdotNL = dot( geometry.normal, directLight.direction );\\n\\t\\tdirectLightColor_Diffuse = PI * directLight.color;\\n\\t\\tvLightFront += saturate( dotNL ) * directLightColor_Diffuse;\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvLightBack += saturate( -dotNL ) * directLightColor_Diffuse;\\n\\t\\t#endif\\n\\t}\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\tvIndirectFront += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\tvIndirectBack += getHemisphereLightIrradiance( hemisphereLights[ i ], backGeometry );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar lights_pars_begin = \"uniform bool receiveShadow;\\nuniform vec3 ambientLightColor;\\nuniform vec3 lightProbe[ 9 ];\\nvec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {\\n\\tfloat x = normal.x, y = normal.y, z = normal.z;\\n\\tvec3 result = shCoefficients[ 0 ] * 0.886227;\\n\\tresult += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;\\n\\tresult += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;\\n\\tresult += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;\\n\\tresult += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;\\n\\tresult += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;\\n\\tresult += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );\\n\\tresult += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;\\n\\tresult += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );\\n\\treturn result;\\n}\\nvec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in GeometricContext geometry ) {\\n\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\tvec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );\\n\\treturn irradiance;\\n}\\nvec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {\\n\\tvec3 irradiance = ambientLightColor;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treturn irradiance;\\n}\\n#if NUM_DIR_LIGHTS > 0\\n\\tstruct DirectionalLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t};\\n\\tuniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tstruct DirectionalLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getDirectionalDirectLightIrradiance( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tdirectLight.color = directionalLight.color;\\n\\t\\tdirectLight.direction = directionalLight.direction;\\n\\t\\tdirectLight.visible = true;\\n\\t}\\n#endif\\n#if NUM_POINT_LIGHTS > 0\\n\\tstruct PointLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t};\\n\\tuniform PointLight pointLights[ NUM_POINT_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tstruct PointLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t\\tfloat shadowCameraNear;\\n\\t\\t\\tfloat shadowCameraFar;\\n\\t\\t};\\n\\t\\tuniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getPointDirectLightIrradiance( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight directLight ) {\\n\\t\\tvec3 lVector = pointLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tdirectLight.color = pointLight.color;\\n\\t\\tdirectLight.color *= punctualLightIntensityToIrradianceFactor( lightDistance, pointLight.distance, pointLight.decay );\\n\\t\\tdirectLight.visible = ( directLight.color != vec3( 0.0 ) );\\n\\t}\\n#endif\\n#if NUM_SPOT_LIGHTS > 0\\n\\tstruct SpotLight {\\n\\t\\tvec3 position;\\n\\t\\tvec3 direction;\\n\\t\\tvec3 color;\\n\\t\\tfloat distance;\\n\\t\\tfloat decay;\\n\\t\\tfloat coneCos;\\n\\t\\tfloat penumbraCos;\\n\\t};\\n\\tuniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tstruct SpotLightShadow {\\n\\t\\t\\tfloat shadowBias;\\n\\t\\t\\tfloat shadowRadius;\\n\\t\\t\\tvec2 shadowMapSize;\\n\\t\\t};\\n\\t\\tuniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tvoid getSpotDirectLightIrradiance( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight directLight  ) {\\n\\t\\tvec3 lVector = spotLight.position - geometry.position;\\n\\t\\tdirectLight.direction = normalize( lVector );\\n\\t\\tfloat lightDistance = length( lVector );\\n\\t\\tfloat angleCos = dot( directLight.direction, spotLight.direction );\\n\\t\\tif ( angleCos > spotLight.coneCos ) {\\n\\t\\t\\tfloat spotEffect = smoothstep( spotLight.coneCos, spotLight.penumbraCos, angleCos );\\n\\t\\t\\tdirectLight.color = spotLight.color;\\n\\t\\t\\tdirectLight.color *= spotEffect * punctualLightIntensityToIrradianceFactor( lightDistance, spotLight.distance, spotLight.decay );\\n\\t\\t\\tdirectLight.visible = true;\\n\\t\\t} else {\\n\\t\\t\\tdirectLight.color = vec3( 0.0 );\\n\\t\\t\\tdirectLight.visible = false;\\n\\t\\t}\\n\\t}\\n#endif\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tstruct RectAreaLight {\\n\\t\\tvec3 color;\\n\\t\\tvec3 position;\\n\\t\\tvec3 halfWidth;\\n\\t\\tvec3 halfHeight;\\n\\t};\\n\\tuniform sampler2D ltc_1;\\tuniform sampler2D ltc_2;\\n\\tuniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];\\n#endif\\n#if NUM_HEMI_LIGHTS > 0\\n\\tstruct HemisphereLight {\\n\\t\\tvec3 direction;\\n\\t\\tvec3 skyColor;\\n\\t\\tvec3 groundColor;\\n\\t};\\n\\tuniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];\\n\\tvec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in GeometricContext geometry ) {\\n\\t\\tfloat dotNL = dot( geometry.normal, hemiLight.direction );\\n\\t\\tfloat hemiDiffuseWeight = 0.5 * dotNL + 0.5;\\n\\t\\tvec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tirradiance *= PI;\\n\\t\\t#endif\\n\\t\\treturn irradiance;\\n\\t}\\n#endif\";\n\nvar envmap_physical_pars_fragment = \"#if defined( USE_ENVMAP )\\n\\t#ifdef ENVMAP_MODE_REFRACTION\\n\\t\\tuniform float refractionRatio;\\n\\t#endif\\n\\tvec3 getLightProbeIndirectIrradiance( const in GeometricContext geometry, const in int maxMIPLevel ) {\\n\\t\\tvec3 worldNormal = inverseTransformDirection( geometry.normal, viewMatrix );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryVec = vec3( flipEnvMap * worldNormal.x, worldNormal.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryVec, float( maxMIPLevel ) );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );\\n\\t\\t#else\\n\\t\\t\\tvec4 envMapColor = vec4( 0.0 );\\n\\t\\t#endif\\n\\t\\treturn PI * envMapColor.rgb * envMapIntensity;\\n\\t}\\n\\tfloat getSpecularMIPLevel( const in float roughness, const in int maxMIPLevel ) {\\n\\t\\tfloat maxMIPLevelScalar = float( maxMIPLevel );\\n\\t\\tfloat sigma = PI * roughness * roughness / ( 1.0 + roughness );\\n\\t\\tfloat desiredMIPLevel = maxMIPLevelScalar + log2( sigma );\\n\\t\\treturn clamp( desiredMIPLevel, 0.0, maxMIPLevelScalar );\\n\\t}\\n\\tvec3 getLightProbeIndirectRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in int maxMIPLevel ) {\\n\\t\\t#ifdef ENVMAP_MODE_REFLECTION\\n\\t\\t  vec3 reflectVec = reflect( -viewDir, normal );\\n\\t\\t  reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );\\n\\t\\t#else\\n\\t\\t  vec3 reflectVec = refract( -viewDir, normal, refractionRatio );\\n\\t\\t#endif\\n\\t\\treflectVec = inverseTransformDirection( reflectVec, viewMatrix );\\n\\t\\tfloat specularMIPLevel = getSpecularMIPLevel( roughness, maxMIPLevel );\\n\\t\\t#ifdef ENVMAP_TYPE_CUBE\\n\\t\\t\\tvec3 queryReflectVec = vec3( flipEnvMap * reflectVec.x, reflectVec.yz );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = textureCubeLodEXT( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = textureCube( envMap, queryReflectVec, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\t\\tvec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );\\n\\t\\t#elif defined( ENVMAP_TYPE_EQUIREC )\\n\\t\\t\\tvec2 sampleUV;\\n\\t\\t\\tsampleUV.y = asin( clamp( reflectVec.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\t\\t\\tsampleUV.x = atan( reflectVec.z, reflectVec.x ) * RECIPROCAL_PI2 + 0.5;\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, sampleUV, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#elif defined( ENVMAP_TYPE_SPHERE )\\n\\t\\t\\tvec3 reflectView = normalize( ( viewMatrix * vec4( reflectVec, 0.0 ) ).xyz + vec3( 0.0,0.0,1.0 ) );\\n\\t\\t\\t#ifdef TEXTURE_LOD_EXT\\n\\t\\t\\t\\tvec4 envMapColor = texture2DLodEXT( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#else\\n\\t\\t\\t\\tvec4 envMapColor = texture2D( envMap, reflectView.xy * 0.5 + 0.5, specularMIPLevel );\\n\\t\\t\\t#endif\\n\\t\\t\\tenvMapColor.rgb = envMapTexelToLinear( envMapColor ).rgb;\\n\\t\\t#endif\\n\\t\\treturn envMapColor.rgb * envMapIntensity;\\n\\t}\\n#endif\";\n\nvar lights_toon_fragment = \"ToonMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_toon_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct ToonMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tvec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Toon\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Toon\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_phong_fragment = \"BlinnPhongMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb;\\nmaterial.specularColor = specular;\\nmaterial.specularShininess = shininess;\\nmaterial.specularStrength = specularStrength;\";\n\nvar lights_phong_pars_fragment = \"varying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\nstruct BlinnPhongMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tvec3\\tspecularColor;\\n\\tfloat\\tspecularShininess;\\n\\tfloat\\tspecularStrength;\\n};\\nvoid RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\treflectedLight.directDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n\\treflectedLight.directSpecular += irradiance * BRDF_Specular_BlinnPhong( directLight, geometry, material.specularColor, material.specularShininess ) * material.specularStrength;\\n}\\nvoid RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_BlinnPhong\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_BlinnPhong\\n#define Material_LightProbeLOD( material )\\t(0)\";\n\nvar lights_physical_fragment = \"PhysicalMaterial material;\\nmaterial.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );\\nvec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );\\nfloat geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );\\nmaterial.specularRoughness = max( roughnessFactor, 0.0525 );material.specularRoughness += geometryRoughness;\\nmaterial.specularRoughness = min( material.specularRoughness, 1.0 );\\n#ifdef REFLECTIVITY\\n\\tmaterial.specularColor = mix( vec3( MAXIMUM_SPECULAR_COEFFICIENT * pow2( reflectivity ) ), diffuseColor.rgb, metalnessFactor );\\n#else\\n\\tmaterial.specularColor = mix( vec3( DEFAULT_SPECULAR_COEFFICIENT ), diffuseColor.rgb, metalnessFactor );\\n#endif\\n#ifdef CLEARCOAT\\n\\tmaterial.clearcoat = saturate( clearcoat );\\tmaterial.clearcoatRoughness = max( clearcoatRoughness, 0.0525 );\\n\\tmaterial.clearcoatRoughness += geometryRoughness;\\n\\tmaterial.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );\\n#endif\\n#ifdef USE_SHEEN\\n\\tmaterial.sheenColor = sheen;\\n#endif\";\n\nvar lights_physical_pars_fragment = \"struct PhysicalMaterial {\\n\\tvec3\\tdiffuseColor;\\n\\tfloat\\tspecularRoughness;\\n\\tvec3\\tspecularColor;\\n#ifdef CLEARCOAT\\n\\tfloat clearcoat;\\n\\tfloat clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tvec3 sheenColor;\\n#endif\\n};\\n#define MAXIMUM_SPECULAR_COEFFICIENT 0.16\\n#define DEFAULT_SPECULAR_COEFFICIENT 0.04\\nfloat clearcoatDHRApprox( const in float roughness, const in float dotNL ) {\\n\\treturn DEFAULT_SPECULAR_COEFFICIENT + ( 1.0 - DEFAULT_SPECULAR_COEFFICIENT ) * ( pow( 1.0 - dotNL, 5.0 ) * pow( 1.0 - roughness, 2.0 ) );\\n}\\n#if NUM_RECT_AREA_LIGHTS > 0\\n\\tvoid RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\t\\tvec3 normal = geometry.normal;\\n\\t\\tvec3 viewDir = geometry.viewDir;\\n\\t\\tvec3 position = geometry.position;\\n\\t\\tvec3 lightPos = rectAreaLight.position;\\n\\t\\tvec3 halfWidth = rectAreaLight.halfWidth;\\n\\t\\tvec3 halfHeight = rectAreaLight.halfHeight;\\n\\t\\tvec3 lightColor = rectAreaLight.color;\\n\\t\\tfloat roughness = material.specularRoughness;\\n\\t\\tvec3 rectCoords[ 4 ];\\n\\t\\trectCoords[ 0 ] = lightPos + halfWidth - halfHeight;\\t\\trectCoords[ 1 ] = lightPos - halfWidth - halfHeight;\\n\\t\\trectCoords[ 2 ] = lightPos - halfWidth + halfHeight;\\n\\t\\trectCoords[ 3 ] = lightPos + halfWidth + halfHeight;\\n\\t\\tvec2 uv = LTC_Uv( normal, viewDir, roughness );\\n\\t\\tvec4 t1 = texture2D( ltc_1, uv );\\n\\t\\tvec4 t2 = texture2D( ltc_2, uv );\\n\\t\\tmat3 mInv = mat3(\\n\\t\\t\\tvec3( t1.x, 0, t1.y ),\\n\\t\\t\\tvec3(    0, 1,    0 ),\\n\\t\\t\\tvec3( t1.z, 0, t1.w )\\n\\t\\t);\\n\\t\\tvec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );\\n\\t\\treflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );\\n\\t\\treflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );\\n\\t}\\n#endif\\nvoid RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\tfloat dotNL = saturate( dot( geometry.normal, directLight.direction ) );\\n\\tvec3 irradiance = dotNL * directLight.color;\\n\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\tirradiance *= PI;\\n\\t#endif\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNL = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );\\n\\t\\tvec3 ccIrradiance = ccDotNL * directLight.color;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tccIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t\\treflectedLight.directSpecular += ccIrradiance * material.clearcoat * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\t#ifdef USE_SHEEN\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_Sheen(\\n\\t\\t\\tmaterial.specularRoughness,\\n\\t\\t\\tdirectLight.direction,\\n\\t\\t\\tgeometry,\\n\\t\\t\\tmaterial.sheenColor\\n\\t\\t);\\n\\t#else\\n\\t\\treflectedLight.directSpecular += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Specular_GGX( directLight, geometry.viewDir, geometry.normal, material.specularColor, material.specularRoughness);\\n\\t#endif\\n\\treflectedLight.directDiffuse += ( 1.0 - clearcoatDHR ) * irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {\\n\\treflectedLight.indirectDiffuse += irradiance * BRDF_Diffuse_Lambert( material.diffuseColor );\\n}\\nvoid RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {\\n\\t#ifdef CLEARCOAT\\n\\t\\tfloat ccDotNV = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );\\n\\t\\treflectedLight.indirectSpecular += clearcoatRadiance * material.clearcoat * BRDF_Specular_GGX_Environment( geometry.viewDir, geometry.clearcoatNormal, vec3( DEFAULT_SPECULAR_COEFFICIENT ), material.clearcoatRoughness );\\n\\t\\tfloat ccDotNL = ccDotNV;\\n\\t\\tfloat clearcoatDHR = material.clearcoat * clearcoatDHRApprox( material.clearcoatRoughness, ccDotNL );\\n\\t#else\\n\\t\\tfloat clearcoatDHR = 0.0;\\n\\t#endif\\n\\tfloat clearcoatInv = 1.0 - clearcoatDHR;\\n\\tvec3 singleScattering = vec3( 0.0 );\\n\\tvec3 multiScattering = vec3( 0.0 );\\n\\tvec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;\\n\\tBRDF_Specular_Multiscattering_Environment( geometry, material.specularColor, material.specularRoughness, singleScattering, multiScattering );\\n\\tvec3 diffuse = material.diffuseColor * ( 1.0 - ( singleScattering + multiScattering ) );\\n\\treflectedLight.indirectSpecular += clearcoatInv * radiance * singleScattering;\\n\\treflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;\\n\\treflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;\\n}\\n#define RE_Direct\\t\\t\\t\\tRE_Direct_Physical\\n#define RE_Direct_RectArea\\t\\tRE_Direct_RectArea_Physical\\n#define RE_IndirectDiffuse\\t\\tRE_IndirectDiffuse_Physical\\n#define RE_IndirectSpecular\\t\\tRE_IndirectSpecular_Physical\\nfloat computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {\\n\\treturn saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );\\n}\";\n\nvar lights_fragment_begin = \"\\nGeometricContext geometry;\\ngeometry.position = - vViewPosition;\\ngeometry.normal = normal;\\ngeometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );\\n#ifdef CLEARCOAT\\n\\tgeometry.clearcoatNormal = clearcoatNormal;\\n#endif\\nIncidentLight directLight;\\n#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tPointLight pointLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {\\n\\t\\tpointLight = pointLights[ i ];\\n\\t\\tgetPointDirectLightIrradiance( pointLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )\\n\\t\\tpointLightShadow = pointLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tSpotLight spotLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {\\n\\t\\tspotLight = spotLights[ i ];\\n\\t\\tgetSpotDirectLightIrradiance( spotLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )\\n\\t\\tspotLightShadow = spotLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )\\n\\tDirectionalLight directionalLight;\\n\\t#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLightShadow;\\n\\t#endif\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLights[ i ];\\n\\t\\tgetDirectionalDirectLightIrradiance( directionalLight, geometry, directLight );\\n\\t\\t#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )\\n\\t\\tdirectionalLightShadow = directionalLightShadows[ i ];\\n\\t\\tdirectLight.color *= all( bvec2( directLight.visible, receiveShadow ) ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t\\t#endif\\n\\t\\tRE_Direct( directLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )\\n\\tRectAreaLight rectAreaLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {\\n\\t\\trectAreaLight = rectAreaLights[ i ];\\n\\t\\tRE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );\\n\\t}\\n#endif\\n#if defined( RE_IndirectDiffuse )\\n\\tvec3 iblIrradiance = vec3( 0.0 );\\n\\tvec3 irradiance = getAmbientLightIrradiance( ambientLightColor );\\n\\tirradiance += getLightProbeIrradiance( lightProbe, geometry );\\n\\t#if ( NUM_HEMI_LIGHTS > 0 )\\n\\t\\t#pragma unroll_loop\\n\\t\\tfor ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {\\n\\t\\t\\tirradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry );\\n\\t\\t}\\n\\t#endif\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tvec3 radiance = vec3( 0.0 );\\n\\tvec3 clearcoatRadiance = vec3( 0.0 );\\n#endif\";\n\nvar lights_fragment_maps = \"#if defined( RE_IndirectDiffuse )\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\tvec3 lightMapIrradiance = lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t\\t#ifndef PHYSICALLY_CORRECT_LIGHTS\\n\\t\\t\\tlightMapIrradiance *= PI;\\n\\t\\t#endif\\n\\t\\tirradiance += lightMapIrradiance;\\n\\t#endif\\n\\t#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )\\n\\t\\tiblIrradiance += getLightProbeIndirectIrradiance( geometry, maxMipLevel );\\n\\t#endif\\n#endif\\n#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )\\n\\tradiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.normal, material.specularRoughness, maxMipLevel );\\n\\t#ifdef CLEARCOAT\\n\\t\\tclearcoatRadiance += getLightProbeIndirectRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness, maxMipLevel );\\n\\t#endif\\n#endif\";\n\nvar lights_fragment_end = \"#if defined( RE_IndirectDiffuse )\\n\\tRE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );\\n#endif\\n#if defined( RE_IndirectSpecular )\\n\\tRE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );\\n#endif\";\n\nvar logdepthbuf_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tgl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;\\n#endif\";\n\nvar logdepthbuf_pars_fragment = \"#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )\\n\\tuniform float logDepthBufFC;\\n\\tvarying float vFragDepth;\\n\\tvarying float vIsPerspective;\\n#endif\";\n\nvar logdepthbuf_pars_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvarying float vFragDepth;\\n\\t\\tvarying float vIsPerspective;\\n\\t#else\\n\\t\\tuniform float logDepthBufFC;\\n\\t#endif\\n#endif\";\n\nvar logdepthbuf_vertex = \"#ifdef USE_LOGDEPTHBUF\\n\\t#ifdef USE_LOGDEPTHBUF_EXT\\n\\t\\tvFragDepth = 1.0 + gl_Position.w;\\n\\t\\tvIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );\\n\\t#else\\n\\t\\tif ( isPerspectiveMatrix( projectionMatrix ) ) {\\n\\t\\t\\tgl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;\\n\\t\\t\\tgl_Position.z *= gl_Position.w;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar map_fragment = \"#ifdef USE_MAP\\n\\tvec4 texelColor = texture2D( map, vUv );\\n\\ttexelColor = mapTexelToLinear( texelColor );\\n\\tdiffuseColor *= texelColor;\\n#endif\";\n\nvar map_pars_fragment = \"#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\";\n\nvar map_particle_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tvec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;\\n#endif\\n#ifdef USE_MAP\\n\\tvec4 mapTexel = texture2D( map, uv );\\n\\tdiffuseColor *= mapTexelToLinear( mapTexel );\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tdiffuseColor.a *= texture2D( alphaMap, uv ).g;\\n#endif\";\n\nvar map_particle_pars_fragment = \"#if defined( USE_MAP ) || defined( USE_ALPHAMAP )\\n\\tuniform mat3 uvTransform;\\n#endif\\n#ifdef USE_MAP\\n\\tuniform sampler2D map;\\n#endif\\n#ifdef USE_ALPHAMAP\\n\\tuniform sampler2D alphaMap;\\n#endif\";\n\nvar metalnessmap_fragment = \"float metalnessFactor = metalness;\\n#ifdef USE_METALNESSMAP\\n\\tvec4 texelMetalness = texture2D( metalnessMap, vUv );\\n\\tmetalnessFactor *= texelMetalness.b;\\n#endif\";\n\nvar metalnessmap_pars_fragment = \"#ifdef USE_METALNESSMAP\\n\\tuniform sampler2D metalnessMap;\\n#endif\";\n\nvar morphnormal_vertex = \"#ifdef USE_MORPHNORMALS\\n\\tobjectNormal *= morphTargetBaseInfluence;\\n\\tobjectNormal += morphNormal0 * morphTargetInfluences[ 0 ];\\n\\tobjectNormal += morphNormal1 * morphTargetInfluences[ 1 ];\\n\\tobjectNormal += morphNormal2 * morphTargetInfluences[ 2 ];\\n\\tobjectNormal += morphNormal3 * morphTargetInfluences[ 3 ];\\n#endif\";\n\nvar morphtarget_pars_vertex = \"#ifdef USE_MORPHTARGETS\\n\\tuniform float morphTargetBaseInfluence;\\n\\t#ifndef USE_MORPHNORMALS\\n\\tuniform float morphTargetInfluences[ 8 ];\\n\\t#else\\n\\tuniform float morphTargetInfluences[ 4 ];\\n\\t#endif\\n#endif\";\n\nvar morphtarget_vertex = \"#ifdef USE_MORPHTARGETS\\n\\ttransformed *= morphTargetBaseInfluence;\\n\\ttransformed += morphTarget0 * morphTargetInfluences[ 0 ];\\n\\ttransformed += morphTarget1 * morphTargetInfluences[ 1 ];\\n\\ttransformed += morphTarget2 * morphTargetInfluences[ 2 ];\\n\\ttransformed += morphTarget3 * morphTargetInfluences[ 3 ];\\n\\t#ifndef USE_MORPHNORMALS\\n\\ttransformed += morphTarget4 * morphTargetInfluences[ 4 ];\\n\\ttransformed += morphTarget5 * morphTargetInfluences[ 5 ];\\n\\ttransformed += morphTarget6 * morphTargetInfluences[ 6 ];\\n\\ttransformed += morphTarget7 * morphTargetInfluences[ 7 ];\\n\\t#endif\\n#endif\";\n\nvar normal_fragment_begin = \"#ifdef FLAT_SHADED\\n\\tvec3 fdx = vec3( dFdx( vViewPosition.x ), dFdx( vViewPosition.y ), dFdx( vViewPosition.z ) );\\n\\tvec3 fdy = vec3( dFdy( vViewPosition.x ), dFdy( vViewPosition.y ), dFdy( vViewPosition.z ) );\\n\\tvec3 normal = normalize( cross( fdx, fdy ) );\\n#else\\n\\tvec3 normal = normalize( vNormal );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\t#ifdef USE_TANGENT\\n\\t\\tvec3 tangent = normalize( vTangent );\\n\\t\\tvec3 bitangent = normalize( vBitangent );\\n\\t\\t#ifdef DOUBLE_SIDED\\n\\t\\t\\ttangent = tangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t\\tbitangent = bitangent * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\t#endif\\n\\t\\t#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )\\n\\t\\t\\tmat3 vTBN = mat3( tangent, bitangent, normal );\\n\\t\\t#endif\\n\\t#endif\\n#endif\\nvec3 geometryNormal = normal;\";\n\nvar normal_fragment_maps = \"#ifdef OBJECTSPACE_NORMALMAP\\n\\tnormal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\t#ifdef FLIP_SIDED\\n\\t\\tnormal = - normal;\\n\\t#endif\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\tnormal = normal * ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t#endif\\n\\tnormal = normalize( normalMatrix * normal );\\n#elif defined( TANGENTSPACE_NORMALMAP )\\n\\tvec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tmapN.xy *= normalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tnormal = normalize( vTBN * mapN );\\n\\t#else\\n\\t\\tnormal = perturbNormal2Arb( -vViewPosition, normal, mapN );\\n\\t#endif\\n#elif defined( USE_BUMPMAP )\\n\\tnormal = perturbNormalArb( -vViewPosition, normal, dHdxy_fwd() );\\n#endif\";\n\nvar normalmap_pars_fragment = \"#ifdef USE_NORMALMAP\\n\\tuniform sampler2D normalMap;\\n\\tuniform vec2 normalScale;\\n#endif\\n#ifdef OBJECTSPACE_NORMALMAP\\n\\tuniform mat3 normalMatrix;\\n#endif\\n#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )\\n\\tvec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN ) {\\n\\t\\tvec3 q0 = vec3( dFdx( eye_pos.x ), dFdx( eye_pos.y ), dFdx( eye_pos.z ) );\\n\\t\\tvec3 q1 = vec3( dFdy( eye_pos.x ), dFdy( eye_pos.y ), dFdy( eye_pos.z ) );\\n\\t\\tvec2 st0 = dFdx( vUv.st );\\n\\t\\tvec2 st1 = dFdy( vUv.st );\\n\\t\\tfloat scale = sign( st1.t * st0.s - st0.t * st1.s );\\n\\t\\tvec3 S = normalize( ( q0 * st1.t - q1 * st0.t ) * scale );\\n\\t\\tvec3 T = normalize( ( - q0 * st1.s + q1 * st0.s ) * scale );\\n\\t\\tvec3 N = normalize( surf_norm );\\n\\t\\tmat3 tsn = mat3( S, T, N );\\n\\t\\tmapN.xy *= ( float( gl_FrontFacing ) * 2.0 - 1.0 );\\n\\t\\treturn normalize( tsn * mapN );\\n\\t}\\n#endif\";\n\nvar clearcoat_normal_fragment_begin = \"#ifdef CLEARCOAT\\n\\tvec3 clearcoatNormal = geometryNormal;\\n#endif\";\n\nvar clearcoat_normal_fragment_maps = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tvec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;\\n\\tclearcoatMapN.xy *= clearcoatNormalScale;\\n\\t#ifdef USE_TANGENT\\n\\t\\tclearcoatNormal = normalize( vTBN * clearcoatMapN );\\n\\t#else\\n\\t\\tclearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN );\\n\\t#endif\\n#endif\";\n\nvar clearcoat_normalmap_pars_fragment = \"#ifdef USE_CLEARCOAT_NORMALMAP\\n\\tuniform sampler2D clearcoatNormalMap;\\n\\tuniform vec2 clearcoatNormalScale;\\n#endif\";\n\nvar packing = \"vec3 packNormalToRGB( const in vec3 normal ) {\\n\\treturn normalize( normal ) * 0.5 + 0.5;\\n}\\nvec3 unpackRGBToNormal( const in vec3 rgb ) {\\n\\treturn 2.0 * rgb.xyz - 1.0;\\n}\\nconst float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;\\nconst vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256.,  256. );\\nconst vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );\\nconst float ShiftRight8 = 1. / 256.;\\nvec4 packDepthToRGBA( const in float v ) {\\n\\tvec4 r = vec4( fract( v * PackFactors ), v );\\n\\tr.yzw -= r.xyz * ShiftRight8;\\treturn r * PackUpscale;\\n}\\nfloat unpackRGBAToDepth( const in vec4 v ) {\\n\\treturn dot( v, UnpackFactors );\\n}\\nvec4 pack2HalfToRGBA( vec2 v ) {\\n\\tvec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ));\\n\\treturn vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w);\\n}\\nvec2 unpackRGBATo2Half( vec4 v ) {\\n\\treturn vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );\\n}\\nfloat viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn ( viewZ + near ) / ( near - far );\\n}\\nfloat orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {\\n\\treturn linearClipZ * ( near - far ) - near;\\n}\\nfloat viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {\\n\\treturn (( near + viewZ ) * far ) / (( far - near ) * viewZ );\\n}\\nfloat perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {\\n\\treturn ( near * far ) / ( ( far - near ) * invClipZ - far );\\n}\";\n\nvar premultiplied_alpha_fragment = \"#ifdef PREMULTIPLIED_ALPHA\\n\\tgl_FragColor.rgb *= gl_FragColor.a;\\n#endif\";\n\nvar project_vertex = \"vec4 mvPosition = vec4( transformed, 1.0 );\\n#ifdef USE_INSTANCING\\n\\tmvPosition = instanceMatrix * mvPosition;\\n#endif\\nmvPosition = modelViewMatrix * mvPosition;\\ngl_Position = projectionMatrix * mvPosition;\";\n\nvar dithering_fragment = \"#ifdef DITHERING\\n\\tgl_FragColor.rgb = dithering( gl_FragColor.rgb );\\n#endif\";\n\nvar dithering_pars_fragment = \"#ifdef DITHERING\\n\\tvec3 dithering( vec3 color ) {\\n\\t\\tfloat grid_position = rand( gl_FragCoord.xy );\\n\\t\\tvec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );\\n\\t\\tdither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );\\n\\t\\treturn color + dither_shift_RGB;\\n\\t}\\n#endif\";\n\nvar roughnessmap_fragment = \"float roughnessFactor = roughness;\\n#ifdef USE_ROUGHNESSMAP\\n\\tvec4 texelRoughness = texture2D( roughnessMap, vUv );\\n\\troughnessFactor *= texelRoughness.g;\\n#endif\";\n\nvar roughnessmap_pars_fragment = \"#ifdef USE_ROUGHNESSMAP\\n\\tuniform sampler2D roughnessMap;\\n#endif\";\n\nvar shadowmap_pars_fragment = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\tfloat texture2DCompare( sampler2D depths, vec2 uv, float compare ) {\\n\\t\\treturn step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );\\n\\t}\\n\\tvec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {\\n\\t\\treturn unpackRGBATo2Half( texture2D( shadow, uv ) );\\n\\t}\\n\\tfloat VSMShadow (sampler2D shadow, vec2 uv, float compare ){\\n\\t\\tfloat occlusion = 1.0;\\n\\t\\tvec2 distribution = texture2DDistribution( shadow, uv );\\n\\t\\tfloat hard_shadow = step( compare , distribution.x );\\n\\t\\tif (hard_shadow != 1.0 ) {\\n\\t\\t\\tfloat distance = compare - distribution.x ;\\n\\t\\t\\tfloat variance = max( 0.00000, distribution.y * distribution.y );\\n\\t\\t\\tfloat softness_probability = variance / (variance + distance * distance );\\t\\t\\tsoftness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );\\t\\t\\tocclusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );\\n\\t\\t}\\n\\t\\treturn occlusion;\\n\\t}\\n\\tfloat getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {\\n\\t\\tfloat shadow = 1.0;\\n\\t\\tshadowCoord.xyz /= shadowCoord.w;\\n\\t\\tshadowCoord.z += shadowBias;\\n\\t\\tbvec4 inFrustumVec = bvec4 ( shadowCoord.x >= 0.0, shadowCoord.x <= 1.0, shadowCoord.y >= 0.0, shadowCoord.y <= 1.0 );\\n\\t\\tbool inFrustum = all( inFrustumVec );\\n\\t\\tbvec2 frustumTestVec = bvec2( inFrustum, shadowCoord.z <= 1.0 );\\n\\t\\tbool frustumTest = all( frustumTestVec );\\n\\t\\tif ( frustumTest ) {\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx0 = - texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy0 = - texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx1 = + texelSize.x * shadowRadius;\\n\\t\\t\\tfloat dy1 = + texelSize.y * shadowRadius;\\n\\t\\t\\tfloat dx2 = dx0 / 2.0;\\n\\t\\t\\tfloat dy2 = dy0 / 2.0;\\n\\t\\t\\tfloat dx3 = dx1 / 2.0;\\n\\t\\t\\tfloat dy3 = dy1 / 2.0;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )\\n\\t\\t\\t) * ( 1.0 / 17.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_PCF_SOFT )\\n\\t\\t\\tvec2 texelSize = vec2( 1.0 ) / shadowMapSize;\\n\\t\\t\\tfloat dx = texelSize.x;\\n\\t\\t\\tfloat dy = texelSize.y;\\n\\t\\t\\tvec2 uv = shadowCoord.xy;\\n\\t\\t\\tvec2 f = fract( uv * shadowMapSize + 0.5 );\\n\\t\\t\\tuv -= f * texelSize;\\n\\t\\t\\tshadow = (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv, shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.x ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t f.y ) +\\n\\t\\t\\t\\tmix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ), \\n\\t\\t\\t\\t\\t\\t  texture2DCompare( shadowMap, uv + + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),\\n\\t\\t\\t\\t\\t\\t  f.x ),\\n\\t\\t\\t\\t\\t f.y )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#elif defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tshadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#else\\n\\t\\t\\tshadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );\\n\\t\\t#endif\\n\\t\\t}\\n\\t\\treturn shadow;\\n\\t}\\n\\tvec2 cubeToUV( vec3 v, float texelSizeY ) {\\n\\t\\tvec3 absV = abs( v );\\n\\t\\tfloat scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );\\n\\t\\tabsV *= scaleToCube;\\n\\t\\tv *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );\\n\\t\\tvec2 planar = v.xy;\\n\\t\\tfloat almostATexel = 1.5 * texelSizeY;\\n\\t\\tfloat almostOne = 1.0 - almostATexel;\\n\\t\\tif ( absV.z >= almostOne ) {\\n\\t\\t\\tif ( v.z > 0.0 )\\n\\t\\t\\t\\tplanar.x = 4.0 - v.x;\\n\\t\\t} else if ( absV.x >= almostOne ) {\\n\\t\\t\\tfloat signX = sign( v.x );\\n\\t\\t\\tplanar.x = v.z * signX + 2.0 * signX;\\n\\t\\t} else if ( absV.y >= almostOne ) {\\n\\t\\t\\tfloat signY = sign( v.y );\\n\\t\\t\\tplanar.x = v.x + 2.0 * signY + 2.0;\\n\\t\\t\\tplanar.y = v.z * signY - 2.0;\\n\\t\\t}\\n\\t\\treturn vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );\\n\\t}\\n\\tfloat getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {\\n\\t\\tvec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );\\n\\t\\tvec3 lightToPosition = shadowCoord.xyz;\\n\\t\\tfloat dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );\\t\\tdp += shadowBias;\\n\\t\\tvec3 bd3D = normalize( lightToPosition );\\n\\t\\t#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )\\n\\t\\t\\tvec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;\\n\\t\\t\\treturn (\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +\\n\\t\\t\\t\\ttexture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )\\n\\t\\t\\t) * ( 1.0 / 9.0 );\\n\\t\\t#else\\n\\t\\t\\treturn texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );\\n\\t\\t#endif\\n\\t}\\n#endif\";\n\nvar shadowmap_pars_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 spotShadowMatrix[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vSpotShadowCoord[ NUM_SPOT_LIGHT_SHADOWS ];\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t\\tuniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t\\tvarying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];\\n\\t#endif\\n#endif\";\n\nvar shadowmap_vertex = \"#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvSpotShadowCoord[ i ] = spotShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tvPointShadowCoord[ i ] = pointShadowMatrix[ i ] * worldPosition;\\n\\t}\\n\\t#endif\\n#endif\";\n\nvar shadowmask_pars_fragment = \"float getShadowMask() {\\n\\tfloat shadow = 1.0;\\n\\t#ifdef USE_SHADOWMAP\\n\\t#if NUM_DIR_LIGHT_SHADOWS > 0\\n\\tDirectionalLightShadow directionalLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tdirectionalLight = directionalLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_SPOT_LIGHT_SHADOWS > 0\\n\\tSpotLightShadow spotLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tspotLight = spotLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotShadowCoord[ i ] ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#if NUM_POINT_LIGHT_SHADOWS > 0\\n\\tPointLightShadow pointLight;\\n\\t#pragma unroll_loop\\n\\tfor ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {\\n\\t\\tpointLight = pointLightShadows[ i ];\\n\\t\\tshadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;\\n\\t}\\n\\t#endif\\n\\t#endif\\n\\treturn shadow;\\n}\";\n\nvar skinbase_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 boneMatX = getBoneMatrix( skinIndex.x );\\n\\tmat4 boneMatY = getBoneMatrix( skinIndex.y );\\n\\tmat4 boneMatZ = getBoneMatrix( skinIndex.z );\\n\\tmat4 boneMatW = getBoneMatrix( skinIndex.w );\\n#endif\";\n\nvar skinning_pars_vertex = \"#ifdef USE_SKINNING\\n\\tuniform mat4 bindMatrix;\\n\\tuniform mat4 bindMatrixInverse;\\n\\t#ifdef BONE_TEXTURE\\n\\t\\tuniform highp sampler2D boneTexture;\\n\\t\\tuniform int boneTextureSize;\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tfloat j = i * 4.0;\\n\\t\\t\\tfloat x = mod( j, float( boneTextureSize ) );\\n\\t\\t\\tfloat y = floor( j / float( boneTextureSize ) );\\n\\t\\t\\tfloat dx = 1.0 / float( boneTextureSize );\\n\\t\\t\\tfloat dy = 1.0 / float( boneTextureSize );\\n\\t\\t\\ty = dy * ( y + 0.5 );\\n\\t\\t\\tvec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );\\n\\t\\t\\tvec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );\\n\\t\\t\\tvec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );\\n\\t\\t\\tvec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );\\n\\t\\t\\tmat4 bone = mat4( v1, v2, v3, v4 );\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#else\\n\\t\\tuniform mat4 boneMatrices[ MAX_BONES ];\\n\\t\\tmat4 getBoneMatrix( const in float i ) {\\n\\t\\t\\tmat4 bone = boneMatrices[ int(i) ];\\n\\t\\t\\treturn bone;\\n\\t\\t}\\n\\t#endif\\n#endif\";\n\nvar skinning_vertex = \"#ifdef USE_SKINNING\\n\\tvec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );\\n\\tvec4 skinned = vec4( 0.0 );\\n\\tskinned += boneMatX * skinVertex * skinWeight.x;\\n\\tskinned += boneMatY * skinVertex * skinWeight.y;\\n\\tskinned += boneMatZ * skinVertex * skinWeight.z;\\n\\tskinned += boneMatW * skinVertex * skinWeight.w;\\n\\ttransformed = ( bindMatrixInverse * skinned ).xyz;\\n#endif\";\n\nvar skinnormal_vertex = \"#ifdef USE_SKINNING\\n\\tmat4 skinMatrix = mat4( 0.0 );\\n\\tskinMatrix += skinWeight.x * boneMatX;\\n\\tskinMatrix += skinWeight.y * boneMatY;\\n\\tskinMatrix += skinWeight.z * boneMatZ;\\n\\tskinMatrix += skinWeight.w * boneMatW;\\n\\tskinMatrix  = bindMatrixInverse * skinMatrix * bindMatrix;\\n\\tobjectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;\\n\\t#ifdef USE_TANGENT\\n\\t\\tobjectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;\\n\\t#endif\\n#endif\";\n\nvar specularmap_fragment = \"float specularStrength;\\n#ifdef USE_SPECULARMAP\\n\\tvec4 texelSpecular = texture2D( specularMap, vUv );\\n\\tspecularStrength = texelSpecular.r;\\n#else\\n\\tspecularStrength = 1.0;\\n#endif\";\n\nvar specularmap_pars_fragment = \"#ifdef USE_SPECULARMAP\\n\\tuniform sampler2D specularMap;\\n#endif\";\n\nvar tonemapping_fragment = \"#if defined( TONE_MAPPING )\\n\\tgl_FragColor.rgb = toneMapping( gl_FragColor.rgb );\\n#endif\";\n\nvar tonemapping_pars_fragment = \"#ifndef saturate\\n#define saturate(a) clamp( a, 0.0, 1.0 )\\n#endif\\nuniform float toneMappingExposure;\\nuniform float toneMappingWhitePoint;\\nvec3 LinearToneMapping( vec3 color ) {\\n\\treturn toneMappingExposure * color;\\n}\\nvec3 ReinhardToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( color / ( vec3( 1.0 ) + color ) );\\n}\\n#define Uncharted2Helper( x ) max( ( ( x * ( 0.15 * x + 0.10 * 0.50 ) + 0.20 * 0.02 ) / ( x * ( 0.15 * x + 0.50 ) + 0.20 * 0.30 ) ) - 0.02 / 0.30, vec3( 0.0 ) )\\nvec3 Uncharted2ToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( Uncharted2Helper( color ) / Uncharted2Helper( vec3( toneMappingWhitePoint ) ) );\\n}\\nvec3 OptimizedCineonToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\tcolor = max( vec3( 0.0 ), color - 0.004 );\\n\\treturn pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );\\n}\\nvec3 ACESFilmicToneMapping( vec3 color ) {\\n\\tcolor *= toneMappingExposure;\\n\\treturn saturate( ( color * ( 2.51 * color + 0.03 ) ) / ( color * ( 2.43 * color + 0.59 ) + 0.14 ) );\\n}\";\n\nvar uv_pars_fragment = \"#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )\\n\\tvarying vec2 vUv;\\n#endif\";\n\nvar uv_pars_vertex = \"#ifdef USE_UV\\n\\t#ifdef UVS_VERTEX_ONLY\\n\\t\\tvec2 vUv;\\n\\t#else\\n\\t\\tvarying vec2 vUv;\\n\\t#endif\\n\\tuniform mat3 uvTransform;\\n#endif\";\n\nvar uv_vertex = \"#ifdef USE_UV\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n#endif\";\n\nvar uv2_pars_fragment = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvarying vec2 vUv2;\\n#endif\";\n\nvar uv2_pars_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tattribute vec2 uv2;\\n\\tvarying vec2 vUv2;\\n\\tuniform mat3 uv2Transform;\\n#endif\";\n\nvar uv2_vertex = \"#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )\\n\\tvUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;\\n#endif\";\n\nvar worldpos_vertex = \"#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP )\\n\\tvec4 worldPosition = vec4( transformed, 1.0 );\\n\\t#ifdef USE_INSTANCING\\n\\t\\tworldPosition = instanceMatrix * worldPosition;\\n\\t#endif\\n\\tworldPosition = modelMatrix * worldPosition;\\n#endif\";\n\nvar background_frag = \"uniform sampler2D t2D;\\nvarying vec2 vUv;\\nvoid main() {\\n\\tvec4 texColor = texture2D( t2D, vUv );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar background_vert = \"varying vec2 vUv;\\nuniform mat3 uvTransform;\\nvoid main() {\\n\\tvUv = ( uvTransform * vec3( uv, 1 ) ).xy;\\n\\tgl_Position = vec4( position.xy, 1.0, 1.0 );\\n}\";\n\nvar cube_frag = \"#include <envmap_common_pars_fragment>\\nuniform float opacity;\\nvarying vec3 vWorldDirection;\\n#include <cube_uv_reflection_fragment>\\nvoid main() {\\n\\tvec3 vReflect = vWorldDirection;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = envColor;\\n\\tgl_FragColor.a *= opacity;\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar cube_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\tgl_Position.z = gl_Position.w;\\n}\";\n\nvar depth_frag = \"#if DEPTH_PACKING == 3200\\n\\tuniform float opacity;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tdiffuseColor.a = opacity;\\n\\t#endif\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\tfloat fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;\\n\\t#if DEPTH_PACKING == 3200\\n\\t\\tgl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );\\n\\t#elif DEPTH_PACKING == 3201\\n\\t\\tgl_FragColor = packDepthToRGBA( fragCoordZ );\\n\\t#endif\\n}\";\n\nvar depth_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvarying vec2 vHighPrecisionZW;\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvHighPrecisionZW = gl_Position.zw;\\n}\";\n\nvar distanceRGBA_frag = \"#define DISTANCE\\nuniform vec3 referencePosition;\\nuniform float nearDistance;\\nuniform float farDistance;\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main () {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( 1.0 );\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\tfloat dist = length( vWorldPosition - referencePosition );\\n\\tdist = ( dist - nearDistance ) / ( farDistance - nearDistance );\\n\\tdist = saturate( dist );\\n\\tgl_FragColor = packDepthToRGBA( dist );\\n}\";\n\nvar distanceRGBA_vert = \"#define DISTANCE\\nvarying vec3 vWorldPosition;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_DISPLACEMENTMAP\\n\\t\\t#include <beginnormal_vertex>\\n\\t\\t#include <morphnormal_vertex>\\n\\t\\t#include <skinnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvWorldPosition = worldPosition.xyz;\\n}\";\n\nvar equirect_frag = \"uniform sampler2D tEquirect;\\nvarying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvec3 direction = normalize( vWorldDirection );\\n\\tvec2 sampleUV;\\n\\tsampleUV.y = asin( clamp( direction.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;\\n\\tsampleUV.x = atan( direction.z, direction.x ) * RECIPROCAL_PI2 + 0.5;\\n\\tvec4 texColor = texture2D( tEquirect, sampleUV );\\n\\tgl_FragColor = mapTexelToLinear( texColor );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n}\";\n\nvar equirect_vert = \"varying vec3 vWorldDirection;\\n#include <common>\\nvoid main() {\\n\\tvWorldDirection = transformDirection( position, modelMatrix );\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n}\";\n\nvar linedashed_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\nuniform float dashSize;\\nuniform float totalSize;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tif ( mod( vLineDistance, totalSize ) > dashSize ) {\\n\\t\\tdiscard;\\n\\t}\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <color_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar linedashed_vert = \"uniform float scale;\\nattribute float lineDistance;\\nvarying float vLineDistance;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\tvLineDistance = scale * lineDistance;\\n\\tvec4 mvPosition = modelViewMatrix * vec4( position, 1.0 );\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshbasic_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\t#ifdef USE_LIGHTMAP\\n\\t\\n\\t\\tvec4 lightMapTexel= texture2D( lightMap, vUv2 );\\n\\t\\treflectedLight.indirectDiffuse += lightMapTexelToLinear( lightMapTexel ).rgb * lightMapIntensity;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vec3( 1.0 );\\n\\t#endif\\n\\t#include <aomap_fragment>\\n\\treflectedLight.indirectDiffuse *= diffuseColor.rgb;\\n\\tvec3 outgoingLight = reflectedLight.indirectDiffuse;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar meshbasic_vert = \"#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#ifdef USE_ENVMAP\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshlambert_frag = \"uniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float opacity;\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <fog_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <emissivemap_fragment>\\n\\treflectedLight.indirectDiffuse = getAmbientLightIrradiance( ambientLightColor );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.indirectDiffuse += ( gl_FrontFacing ) ? vIndirectFront : vIndirectBack;\\n\\t#else\\n\\t\\treflectedLight.indirectDiffuse += vIndirectFront;\\n\\t#endif\\n\\t#include <lightmap_fragment>\\n\\treflectedLight.indirectDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb );\\n\\t#ifdef DOUBLE_SIDED\\n\\t\\treflectedLight.directDiffuse = ( gl_FrontFacing ) ? vLightFront : vLightBack;\\n\\t#else\\n\\t\\treflectedLight.directDiffuse = vLightFront;\\n\\t#endif\\n\\treflectedLight.directDiffuse *= BRDF_Diffuse_Lambert( diffuseColor.rgb ) * getShadowMask();\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshlambert_vert = \"#define LAMBERT\\nvarying vec3 vLightFront;\\nvarying vec3 vIndirectFront;\\n#ifdef DOUBLE_SIDED\\n\\tvarying vec3 vLightBack;\\n\\tvarying vec3 vIndirectBack;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <lights_lambert_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshmatcap_frag = \"#define MATCAP\\nuniform vec3 diffuse;\\nuniform float opacity;\\nuniform sampler2D matcap;\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tvec3 viewDir = normalize( vViewPosition );\\n\\tvec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );\\n\\tvec3 y = cross( viewDir, x );\\n\\tvec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;\\n\\t#ifdef USE_MATCAP\\n\\t\\tvec4 matcapColor = texture2D( matcap, uv );\\n\\t\\tmatcapColor = matcapTexelToLinear( matcapColor );\\n\\t#else\\n\\t\\tvec4 matcapColor = vec4( 1.0 );\\n\\t#endif\\n\\tvec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar meshmatcap_vert = \"#define MATCAP\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n\\t#ifndef FLAT_SHADED\\n\\t\\tvNormal = normalize( transformedNormal );\\n\\t#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n}\";\n\nvar meshtoon_frag = \"#define TOON\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <gradientmap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_toon_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_toon_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshtoon_vert = \"#define TOON\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphong_frag = \"#define PHONG\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform vec3 specular;\\nuniform float shininess;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_pars_fragment>\\n#include <cube_uv_reflection_fragment>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <lights_phong_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <specularmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <specularmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_phong_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#include <envmap_fragment>\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphong_vert = \"#define PHONG\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <envmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <envmap_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar meshphysical_frag = \"#define STANDARD\\n#ifdef PHYSICAL\\n\\t#define REFLECTIVITY\\n\\t#define CLEARCOAT\\n\\t#define TRANSPARENCY\\n#endif\\nuniform vec3 diffuse;\\nuniform vec3 emissive;\\nuniform float roughness;\\nuniform float metalness;\\nuniform float opacity;\\n#ifdef TRANSPARENCY\\n\\tuniform float transparency;\\n#endif\\n#ifdef REFLECTIVITY\\n\\tuniform float reflectivity;\\n#endif\\n#ifdef CLEARCOAT\\n\\tuniform float clearcoat;\\n\\tuniform float clearcoatRoughness;\\n#endif\\n#ifdef USE_SHEEN\\n\\tuniform vec3 sheen;\\n#endif\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <packing>\\n#include <dithering_pars_fragment>\\n#include <color_pars_fragment>\\n#include <uv_pars_fragment>\\n#include <uv2_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <aomap_pars_fragment>\\n#include <lightmap_pars_fragment>\\n#include <emissivemap_pars_fragment>\\n#include <bsdfs>\\n#include <cube_uv_reflection_fragment>\\n#include <envmap_common_pars_fragment>\\n#include <envmap_physical_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <lights_pars_begin>\\n#include <lights_physical_pars_fragment>\\n#include <shadowmap_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <clearcoat_normalmap_pars_fragment>\\n#include <roughnessmap_pars_fragment>\\n#include <metalnessmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\tReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );\\n\\tvec3 totalEmissiveRadiance = emissive;\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\t#include <roughnessmap_fragment>\\n\\t#include <metalnessmap_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\t#include <clearcoat_normal_fragment_begin>\\n\\t#include <clearcoat_normal_fragment_maps>\\n\\t#include <emissivemap_fragment>\\n\\t#include <lights_physical_fragment>\\n\\t#include <lights_fragment_begin>\\n\\t#include <lights_fragment_maps>\\n\\t#include <lights_fragment_end>\\n\\t#include <aomap_fragment>\\n\\tvec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;\\n\\t#ifdef TRANSPARENCY\\n\\t\\tdiffuseColor.a *= saturate( 1. - transparency + linearToRelativeLuminance( reflectedLight.directSpecular + reflectedLight.indirectSpecular ) );\\n\\t#endif\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n\\t#include <dithering_fragment>\\n}\";\n\nvar meshphysical_vert = \"#define STANDARD\\nvarying vec3 vViewPosition;\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <uv2_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <shadowmap_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <uv2_vertex>\\n\\t#include <color_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\tvViewPosition = - mvPosition.xyz;\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar normal_frag = \"#define NORMAL\\nuniform float opacity;\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <packing>\\n#include <uv_pars_fragment>\\n#include <bumpmap_pars_fragment>\\n#include <normalmap_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <normal_fragment_begin>\\n\\t#include <normal_fragment_maps>\\n\\tgl_FragColor = vec4( packNormalToRGB( normal ), opacity );\\n}\";\n\nvar normal_vert = \"#define NORMAL\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvarying vec3 vViewPosition;\\n#endif\\n#ifndef FLAT_SHADED\\n\\tvarying vec3 vNormal;\\n\\t#ifdef USE_TANGENT\\n\\t\\tvarying vec3 vTangent;\\n\\t\\tvarying vec3 vBitangent;\\n\\t#endif\\n#endif\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <displacementmap_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <skinning_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\t#include <beginnormal_vertex>\\n\\t#include <morphnormal_vertex>\\n\\t#include <skinbase_vertex>\\n\\t#include <skinnormal_vertex>\\n\\t#include <defaultnormal_vertex>\\n#ifndef FLAT_SHADED\\n\\tvNormal = normalize( transformedNormal );\\n\\t#ifdef USE_TANGENT\\n\\t\\tvTangent = normalize( transformedTangent );\\n\\t\\tvBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );\\n\\t#endif\\n#endif\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <skinning_vertex>\\n\\t#include <displacementmap_vertex>\\n\\t#include <project_vertex>\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )\\n\\tvViewPosition = - mvPosition.xyz;\\n#endif\\n}\";\n\nvar points_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <color_pars_fragment>\\n#include <map_particle_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_particle_fragment>\\n\\t#include <color_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n\\t#include <premultiplied_alpha_fragment>\\n}\";\n\nvar points_vert = \"uniform float size;\\nuniform float scale;\\n#include <common>\\n#include <color_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <morphtarget_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <color_vertex>\\n\\t#include <begin_vertex>\\n\\t#include <morphtarget_vertex>\\n\\t#include <project_vertex>\\n\\tgl_PointSize = size;\\n\\t#ifdef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );\\n\\t#endif\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar shadow_frag = \"uniform vec3 color;\\nuniform float opacity;\\n#include <common>\\n#include <packing>\\n#include <fog_pars_fragment>\\n#include <bsdfs>\\n#include <lights_pars_begin>\\n#include <shadowmap_pars_fragment>\\n#include <shadowmask_pars_fragment>\\nvoid main() {\\n\\tgl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar shadow_vert = \"#include <fog_pars_vertex>\\n#include <shadowmap_pars_vertex>\\nvoid main() {\\n\\t#include <begin_vertex>\\n\\t#include <project_vertex>\\n\\t#include <worldpos_vertex>\\n\\t#include <shadowmap_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar sprite_frag = \"uniform vec3 diffuse;\\nuniform float opacity;\\n#include <common>\\n#include <uv_pars_fragment>\\n#include <map_pars_fragment>\\n#include <alphamap_pars_fragment>\\n#include <fog_pars_fragment>\\n#include <logdepthbuf_pars_fragment>\\n#include <clipping_planes_pars_fragment>\\nvoid main() {\\n\\t#include <clipping_planes_fragment>\\n\\tvec3 outgoingLight = vec3( 0.0 );\\n\\tvec4 diffuseColor = vec4( diffuse, opacity );\\n\\t#include <logdepthbuf_fragment>\\n\\t#include <map_fragment>\\n\\t#include <alphamap_fragment>\\n\\t#include <alphatest_fragment>\\n\\toutgoingLight = diffuseColor.rgb;\\n\\tgl_FragColor = vec4( outgoingLight, diffuseColor.a );\\n\\t#include <tonemapping_fragment>\\n\\t#include <encodings_fragment>\\n\\t#include <fog_fragment>\\n}\";\n\nvar sprite_vert = \"uniform float rotation;\\nuniform vec2 center;\\n#include <common>\\n#include <uv_pars_vertex>\\n#include <fog_pars_vertex>\\n#include <logdepthbuf_pars_vertex>\\n#include <clipping_planes_pars_vertex>\\nvoid main() {\\n\\t#include <uv_vertex>\\n\\tvec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );\\n\\tvec2 scale;\\n\\tscale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );\\n\\tscale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );\\n\\t#ifndef USE_SIZEATTENUATION\\n\\t\\tbool isPerspective = isPerspectiveMatrix( projectionMatrix );\\n\\t\\tif ( isPerspective ) scale *= - mvPosition.z;\\n\\t#endif\\n\\tvec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;\\n\\tvec2 rotatedPosition;\\n\\trotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;\\n\\trotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;\\n\\tmvPosition.xy += rotatedPosition;\\n\\tgl_Position = projectionMatrix * mvPosition;\\n\\t#include <logdepthbuf_vertex>\\n\\t#include <clipping_planes_vertex>\\n\\t#include <fog_vertex>\\n}\";\n\nvar ShaderChunk = {\n\talphamap_fragment: alphamap_fragment,\n\talphamap_pars_fragment: alphamap_pars_fragment,\n\talphatest_fragment: alphatest_fragment,\n\taomap_fragment: aomap_fragment,\n\taomap_pars_fragment: aomap_pars_fragment,\n\tbegin_vertex: begin_vertex,\n\tbeginnormal_vertex: beginnormal_vertex,\n\tbsdfs: bsdfs,\n\tbumpmap_pars_fragment: bumpmap_pars_fragment,\n\tclipping_planes_fragment: clipping_planes_fragment,\n\tclipping_planes_pars_fragment: clipping_planes_pars_fragment,\n\tclipping_planes_pars_vertex: clipping_planes_pars_vertex,\n\tclipping_planes_vertex: clipping_planes_vertex,\n\tcolor_fragment: color_fragment,\n\tcolor_pars_fragment: color_pars_fragment,\n\tcolor_pars_vertex: color_pars_vertex,\n\tcolor_vertex: color_vertex,\n\tcommon: common,\n\tcube_uv_reflection_fragment: cube_uv_reflection_fragment,\n\tdefaultnormal_vertex: defaultnormal_vertex,\n\tdisplacementmap_pars_vertex: displacementmap_pars_vertex,\n\tdisplacementmap_vertex: displacementmap_vertex,\n\temissivemap_fragment: emissivemap_fragment,\n\temissivemap_pars_fragment: emissivemap_pars_fragment,\n\tencodings_fragment: encodings_fragment,\n\tencodings_pars_fragment: encodings_pars_fragment,\n\tenvmap_fragment: envmap_fragment,\n\tenvmap_common_pars_fragment: envmap_common_pars_fragment,\n\tenvmap_pars_fragment: envmap_pars_fragment,\n\tenvmap_pars_vertex: envmap_pars_vertex,\n\tenvmap_physical_pars_fragment: envmap_physical_pars_fragment,\n\tenvmap_vertex: envmap_vertex,\n\tfog_vertex: fog_vertex,\n\tfog_pars_vertex: fog_pars_vertex,\n\tfog_fragment: fog_fragment,\n\tfog_pars_fragment: fog_pars_fragment,\n\tgradientmap_pars_fragment: gradientmap_pars_fragment,\n\tlightmap_fragment: lightmap_fragment,\n\tlightmap_pars_fragment: lightmap_pars_fragment,\n\tlights_lambert_vertex: lights_lambert_vertex,\n\tlights_pars_begin: lights_pars_begin,\n\tlights_toon_fragment: lights_toon_fragment,\n\tlights_toon_pars_fragment: lights_toon_pars_fragment,\n\tlights_phong_fragment: lights_phong_fragment,\n\tlights_phong_pars_fragment: lights_phong_pars_fragment,\n\tlights_physical_fragment: lights_physical_fragment,\n\tlights_physical_pars_fragment: lights_physical_pars_fragment,\n\tlights_fragment_begin: lights_fragment_begin,\n\tlights_fragment_maps: lights_fragment_maps,\n\tlights_fragment_end: lights_fragment_end,\n\tlogdepthbuf_fragment: logdepthbuf_fragment,\n\tlogdepthbuf_pars_fragment: logdepthbuf_pars_fragment,\n\tlogdepthbuf_pars_vertex: logdepthbuf_pars_vertex,\n\tlogdepthbuf_vertex: logdepthbuf_vertex,\n\tmap_fragment: map_fragment,\n\tmap_pars_fragment: map_pars_fragment,\n\tmap_particle_fragment: map_particle_fragment,\n\tmap_particle_pars_fragment: map_particle_pars_fragment,\n\tmetalnessmap_fragment: metalnessmap_fragment,\n\tmetalnessmap_pars_fragment: metalnessmap_pars_fragment,\n\tmorphnormal_vertex: morphnormal_vertex,\n\tmorphtarget_pars_vertex: morphtarget_pars_vertex,\n\tmorphtarget_vertex: morphtarget_vertex,\n\tnormal_fragment_begin: normal_fragment_begin,\n\tnormal_fragment_maps: normal_fragment_maps,\n\tnormalmap_pars_fragment: normalmap_pars_fragment,\n\tclearcoat_normal_fragment_begin: clearcoat_normal_fragment_begin,\n\tclearcoat_normal_fragment_maps: clearcoat_normal_fragment_maps,\n\tclearcoat_normalmap_pars_fragment: clearcoat_normalmap_pars_fragment,\n\tpacking: packing,\n\tpremultiplied_alpha_fragment: premultiplied_alpha_fragment,\n\tproject_vertex: project_vertex,\n\tdithering_fragment: dithering_fragment,\n\tdithering_pars_fragment: dithering_pars_fragment,\n\troughnessmap_fragment: roughnessmap_fragment,\n\troughnessmap_pars_fragment: roughnessmap_pars_fragment,\n\tshadowmap_pars_fragment: shadowmap_pars_fragment,\n\tshadowmap_pars_vertex: shadowmap_pars_vertex,\n\tshadowmap_vertex: shadowmap_vertex,\n\tshadowmask_pars_fragment: shadowmask_pars_fragment,\n\tskinbase_vertex: skinbase_vertex,\n\tskinning_pars_vertex: skinning_pars_vertex,\n\tskinning_vertex: skinning_vertex,\n\tskinnormal_vertex: skinnormal_vertex,\n\tspecularmap_fragment: specularmap_fragment,\n\tspecularmap_pars_fragment: specularmap_pars_fragment,\n\ttonemapping_fragment: tonemapping_fragment,\n\ttonemapping_pars_fragment: tonemapping_pars_fragment,\n\tuv_pars_fragment: uv_pars_fragment,\n\tuv_pars_vertex: uv_pars_vertex,\n\tuv_vertex: uv_vertex,\n\tuv2_pars_fragment: uv2_pars_fragment,\n\tuv2_pars_vertex: uv2_pars_vertex,\n\tuv2_vertex: uv2_vertex,\n\tworldpos_vertex: worldpos_vertex,\n\n\tbackground_frag: background_frag,\n\tbackground_vert: background_vert,\n\tcube_frag: cube_frag,\n\tcube_vert: cube_vert,\n\tdepth_frag: depth_frag,\n\tdepth_vert: depth_vert,\n\tdistanceRGBA_frag: distanceRGBA_frag,\n\tdistanceRGBA_vert: distanceRGBA_vert,\n\tequirect_frag: equirect_frag,\n\tequirect_vert: equirect_vert,\n\tlinedashed_frag: linedashed_frag,\n\tlinedashed_vert: linedashed_vert,\n\tmeshbasic_frag: meshbasic_frag,\n\tmeshbasic_vert: meshbasic_vert,\n\tmeshlambert_frag: meshlambert_frag,\n\tmeshlambert_vert: meshlambert_vert,\n\tmeshmatcap_frag: meshmatcap_frag,\n\tmeshmatcap_vert: meshmatcap_vert,\n\tmeshtoon_frag: meshtoon_frag,\n\tmeshtoon_vert: meshtoon_vert,\n\tmeshphong_frag: meshphong_frag,\n\tmeshphong_vert: meshphong_vert,\n\tmeshphysical_frag: meshphysical_frag,\n\tmeshphysical_vert: meshphysical_vert,\n\tnormal_frag: normal_frag,\n\tnormal_vert: normal_vert,\n\tpoints_frag: points_frag,\n\tpoints_vert: points_vert,\n\tshadow_frag: shadow_frag,\n\tshadow_vert: shadow_vert,\n\tsprite_frag: sprite_frag,\n\tsprite_vert: sprite_vert\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author mikael emtinger / http://gomo.se/\n */\n\nvar ShaderLib = {\n\n\tbasic: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshbasic_vert,\n\t\tfragmentShader: ShaderChunk.meshbasic_frag\n\n\t},\n\n\tlambert: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshlambert_vert,\n\t\tfragmentShader: ShaderChunk.meshlambert_frag\n\n\t},\n\n\tphong: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphong_vert,\n\t\tfragmentShader: ShaderChunk.meshphong_frag\n\n\t},\n\n\tstandard: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.envmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.roughnessmap,\n\t\t\tUniformsLib.metalnessmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\troughness: { value: 0.5 },\n\t\t\t\tmetalness: { value: 0.5 },\n\t\t\t\tenvMapIntensity: { value: 1 } // temporary\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshphysical_vert,\n\t\tfragmentShader: ShaderChunk.meshphysical_frag\n\n\t},\n\n\ttoon: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.specularmap,\n\t\t\tUniformsLib.aomap,\n\t\t\tUniformsLib.lightmap,\n\t\t\tUniformsLib.emissivemap,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.gradientmap,\n\t\t\tUniformsLib.fog,\n\t\t\tUniformsLib.lights,\n\t\t\t{\n\t\t\t\temissive: { value: new Color( 0x000000 ) },\n\t\t\t\tspecular: { value: new Color( 0x111111 ) },\n\t\t\t\tshininess: { value: 30 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshtoon_vert,\n\t\tfragmentShader: ShaderChunk.meshtoon_frag\n\n\t},\n\n\tmatcap: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tmatcap: { value: null }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.meshmatcap_vert,\n\t\tfragmentShader: ShaderChunk.meshmatcap_frag\n\n\t},\n\n\tpoints: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.points,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.points_vert,\n\t\tfragmentShader: ShaderChunk.points_frag\n\n\t},\n\n\tdashed: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tscale: { value: 1 },\n\t\t\t\tdashSize: { value: 1 },\n\t\t\t\ttotalSize: { value: 2 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.linedashed_vert,\n\t\tfragmentShader: ShaderChunk.linedashed_frag\n\n\t},\n\n\tdepth: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.depth_vert,\n\t\tfragmentShader: ShaderChunk.depth_frag\n\n\t},\n\n\tnormal: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.bumpmap,\n\t\t\tUniformsLib.normalmap,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.normal_vert,\n\t\tfragmentShader: ShaderChunk.normal_frag\n\n\t},\n\n\tsprite: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.sprite,\n\t\t\tUniformsLib.fog\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.sprite_vert,\n\t\tfragmentShader: ShaderChunk.sprite_frag\n\n\t},\n\n\tbackground: {\n\n\t\tuniforms: {\n\t\t\tuvTransform: { value: new Matrix3() },\n\t\t\tt2D: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.background_vert,\n\t\tfragmentShader: ShaderChunk.background_frag\n\n\t},\n\t/* -------------------------------------------------------------------------\n\t//\tCube map shader\n\t ------------------------------------------------------------------------- */\n\n\tcube: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.envmap,\n\t\t\t{\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.cube_vert,\n\t\tfragmentShader: ShaderChunk.cube_frag\n\n\t},\n\n\tequirect: {\n\n\t\tuniforms: {\n\t\t\ttEquirect: { value: null },\n\t\t},\n\n\t\tvertexShader: ShaderChunk.equirect_vert,\n\t\tfragmentShader: ShaderChunk.equirect_frag\n\n\t},\n\n\tdistanceRGBA: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.common,\n\t\t\tUniformsLib.displacementmap,\n\t\t\t{\n\t\t\t\treferencePosition: { value: new Vector3() },\n\t\t\t\tnearDistance: { value: 1 },\n\t\t\t\tfarDistance: { value: 1000 }\n\t\t\t}\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.distanceRGBA_vert,\n\t\tfragmentShader: ShaderChunk.distanceRGBA_frag\n\n\t},\n\n\tshadow: {\n\n\t\tuniforms: mergeUniforms( [\n\t\t\tUniformsLib.lights,\n\t\t\tUniformsLib.fog,\n\t\t\t{\n\t\t\t\tcolor: { value: new Color( 0x00000 ) },\n\t\t\t\topacity: { value: 1.0 }\n\t\t\t},\n\t\t] ),\n\n\t\tvertexShader: ShaderChunk.shadow_vert,\n\t\tfragmentShader: ShaderChunk.shadow_frag\n\n\t}\n\n};\n\nShaderLib.physical = {\n\n\tuniforms: mergeUniforms( [\n\t\tShaderLib.standard.uniforms,\n\t\t{\n\t\t\ttransparency: { value: 0 },\n\t\t\tclearcoat: { value: 0 },\n\t\t\tclearcoatRoughness: { value: 0 },\n\t\t\tsheen: { value: new Color( 0x000000 ) },\n\t\t\tclearcoatNormalScale: { value: new Vector2( 1, 1 ) },\n\t\t\tclearcoatNormalMap: { value: null },\n\t\t}\n\t] ),\n\n\tvertexShader: ShaderChunk.meshphysical_vert,\n\tfragmentShader: ShaderChunk.meshphysical_frag\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBackground( renderer, state, objects, premultipliedAlpha ) {\n\n\tvar clearColor = new Color( 0x000000 );\n\tvar clearAlpha = 0;\n\n\tvar planeMesh;\n\tvar boxMesh;\n\n\tvar currentBackground = null;\n\tvar currentBackgroundVersion = 0;\n\tvar currentTonemapping = null;\n\n\tfunction render( renderList, scene, camera, forceClear ) {\n\n\t\tvar background = scene.background;\n\n\t\t// Ignore background in AR\n\t\t// TODO: Reconsider this.\n\n\t\tvar xr = renderer.xr;\n\t\tvar session = xr.getSession && xr.getSession();\n\n\t\tif ( session && session.environmentBlendMode === 'additive' ) {\n\n\t\t\tbackground = null;\n\n\t\t}\n\n\t\tif ( background === null ) {\n\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t} else if ( background && background.isColor ) {\n\n\t\t\tsetClear( background, 1 );\n\t\t\tforceClear = true;\n\n\t\t}\n\n\t\tif ( renderer.autoClear || forceClear ) {\n\n\t\t\trenderer.clear( renderer.autoClearColor, renderer.autoClearDepth, renderer.autoClearStencil );\n\n\t\t}\n\n\t\tif ( background && ( background.isCubeTexture || background.isWebGLCubeRenderTarget || background.mapping === CubeUVReflectionMapping ) ) {\n\n\t\t\tif ( boxMesh === undefined ) {\n\n\t\t\t\tboxMesh = new Mesh(\n\t\t\t\t\tnew BoxBufferGeometry( 1, 1, 1 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundCubeMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.cube.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.cube.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.cube.fragmentShader,\n\t\t\t\t\t\tside: BackSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'normal' );\n\t\t\t\tboxMesh.geometry.deleteAttribute( 'uv' );\n\n\t\t\t\tboxMesh.onBeforeRender = function ( renderer, scene, camera ) {\n\n\t\t\t\t\tthis.matrixWorld.copyPosition( camera.matrixWorld );\n\n\t\t\t\t};\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( boxMesh.material, 'envMap', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.envMap.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( boxMesh );\n\n\t\t\t}\n\n\t\t\tvar texture = background.isWebGLCubeRenderTarget ? background.texture : background;\n\n\t\t\tboxMesh.material.uniforms.envMap.value = texture;\n\t\t\tboxMesh.material.uniforms.flipEnvMap.value = texture.isCubeTexture ? - 1 : 1;\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== texture.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tboxMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = texture.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( boxMesh, boxMesh.geometry, boxMesh.material, 0, 0, null );\n\n\t\t} else if ( background && background.isTexture ) {\n\n\t\t\tif ( planeMesh === undefined ) {\n\n\t\t\t\tplaneMesh = new Mesh(\n\t\t\t\t\tnew PlaneBufferGeometry( 2, 2 ),\n\t\t\t\t\tnew ShaderMaterial( {\n\t\t\t\t\t\ttype: 'BackgroundMaterial',\n\t\t\t\t\t\tuniforms: cloneUniforms( ShaderLib.background.uniforms ),\n\t\t\t\t\t\tvertexShader: ShaderLib.background.vertexShader,\n\t\t\t\t\t\tfragmentShader: ShaderLib.background.fragmentShader,\n\t\t\t\t\t\tside: FrontSide,\n\t\t\t\t\t\tdepthTest: false,\n\t\t\t\t\t\tdepthWrite: false,\n\t\t\t\t\t\tfog: false\n\t\t\t\t\t} )\n\t\t\t\t);\n\n\t\t\t\tplaneMesh.geometry.deleteAttribute( 'normal' );\n\n\t\t\t\t// enable code injection for non-built-in material\n\t\t\t\tObject.defineProperty( planeMesh.material, 'map', {\n\n\t\t\t\t\tget: function () {\n\n\t\t\t\t\t\treturn this.uniforms.t2D.value;\n\n\t\t\t\t\t}\n\n\t\t\t\t} );\n\n\t\t\t\tobjects.update( planeMesh );\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.t2D.value = background;\n\n\t\t\tif ( background.matrixAutoUpdate === true ) {\n\n\t\t\t\tbackground.updateMatrix();\n\n\t\t\t}\n\n\t\t\tplaneMesh.material.uniforms.uvTransform.value.copy( background.matrix );\n\n\t\t\tif ( currentBackground !== background ||\n\t\t\t\tcurrentBackgroundVersion !== background.version ||\n\t\t\t\tcurrentTonemapping !== renderer.toneMapping ) {\n\n\t\t\t\tplaneMesh.material.needsUpdate = true;\n\n\t\t\t\tcurrentBackground = background;\n\t\t\t\tcurrentBackgroundVersion = background.version;\n\t\t\t\tcurrentTonemapping = renderer.toneMapping;\n\n\t\t\t}\n\n\n\t\t\t// push to the pre-sorted opaque render list\n\t\t\trenderList.unshift( planeMesh, planeMesh.geometry, planeMesh.material, 0, 0, null );\n\n\t\t}\n\n\t}\n\n\tfunction setClear( color, alpha ) {\n\n\t\tstate.buffers.color.setClear( color.r, color.g, color.b, alpha, premultipliedAlpha );\n\n\t}\n\n\treturn {\n\n\t\tgetClearColor: function () {\n\n\t\t\treturn clearColor;\n\n\t\t},\n\t\tsetClearColor: function ( color, alpha ) {\n\n\t\t\tclearColor.set( color );\n\t\t\tclearAlpha = alpha !== undefined ? alpha : 1;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\tgetClearAlpha: function () {\n\n\t\t\treturn clearAlpha;\n\n\t\t},\n\t\tsetClearAlpha: function ( alpha ) {\n\n\t\t\tclearAlpha = alpha;\n\t\t\tsetClear( clearColor, clearAlpha );\n\n\t\t},\n\t\trender: render\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawArrays( mode, start, count );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tvar extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawArraysInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawArraysInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, start, count, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLCapabilities( gl, extensions, parameters ) {\n\n\tvar maxAnisotropy;\n\n\tfunction getMaxAnisotropy() {\n\n\t\tif ( maxAnisotropy !== undefined ) return maxAnisotropy;\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tmaxAnisotropy = gl.getParameter( extension.MAX_TEXTURE_MAX_ANISOTROPY_EXT );\n\n\t\t} else {\n\n\t\t\tmaxAnisotropy = 0;\n\n\t\t}\n\n\t\treturn maxAnisotropy;\n\n\t}\n\n\tfunction getMaxPrecision( precision ) {\n\n\t\tif ( precision === 'highp' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36338 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36338 ).precision > 0 ) {\n\n\t\t\t\treturn 'highp';\n\n\t\t\t}\n\n\t\t\tprecision = 'mediump';\n\n\t\t}\n\n\t\tif ( precision === 'mediump' ) {\n\n\t\t\tif ( gl.getShaderPrecisionFormat( 35633, 36337 ).precision > 0 &&\n\t\t\t\tgl.getShaderPrecisionFormat( 35632, 36337 ).precision > 0 ) {\n\n\t\t\t\treturn 'mediump';\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn 'lowp';\n\n\t}\n\n\t/* eslint-disable no-undef */\n\tvar isWebGL2 = ( typeof WebGL2RenderingContext !== 'undefined' && gl instanceof WebGL2RenderingContext ) ||\n\t\t( typeof WebGL2ComputeRenderingContext !== 'undefined' && gl instanceof WebGL2ComputeRenderingContext );\n\t/* eslint-enable no-undef */\n\n\tvar precision = parameters.precision !== undefined ? parameters.precision : 'highp';\n\tvar maxPrecision = getMaxPrecision( precision );\n\n\tif ( maxPrecision !== precision ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer:', precision, 'not supported, using', maxPrecision, 'instead.' );\n\t\tprecision = maxPrecision;\n\n\t}\n\n\tvar logarithmicDepthBuffer = parameters.logarithmicDepthBuffer === true;\n\n\tvar maxTextures = gl.getParameter( 34930 );\n\tvar maxVertexTextures = gl.getParameter( 35660 );\n\tvar maxTextureSize = gl.getParameter( 3379 );\n\tvar maxCubemapSize = gl.getParameter( 34076 );\n\n\tvar maxAttributes = gl.getParameter( 34921 );\n\tvar maxVertexUniforms = gl.getParameter( 36347 );\n\tvar maxVaryings = gl.getParameter( 36348 );\n\tvar maxFragmentUniforms = gl.getParameter( 36349 );\n\n\tvar vertexTextures = maxVertexTextures > 0;\n\tvar floatFragmentTextures = isWebGL2 || !! extensions.get( 'OES_texture_float' );\n\tvar floatVertexTextures = vertexTextures && floatFragmentTextures;\n\n\tvar maxSamples = isWebGL2 ? gl.getParameter( 36183 ) : 0;\n\n\treturn {\n\n\t\tisWebGL2: isWebGL2,\n\n\t\tgetMaxAnisotropy: getMaxAnisotropy,\n\t\tgetMaxPrecision: getMaxPrecision,\n\n\t\tprecision: precision,\n\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\tmaxTextures: maxTextures,\n\t\tmaxVertexTextures: maxVertexTextures,\n\t\tmaxTextureSize: maxTextureSize,\n\t\tmaxCubemapSize: maxCubemapSize,\n\n\t\tmaxAttributes: maxAttributes,\n\t\tmaxVertexUniforms: maxVertexUniforms,\n\t\tmaxVaryings: maxVaryings,\n\t\tmaxFragmentUniforms: maxFragmentUniforms,\n\n\t\tvertexTextures: vertexTextures,\n\t\tfloatFragmentTextures: floatFragmentTextures,\n\t\tfloatVertexTextures: floatVertexTextures,\n\n\t\tmaxSamples: maxSamples\n\n\t};\n\n}\n\n/**\n * @author tschw\n */\n\nfunction WebGLClipping() {\n\n\tvar scope = this,\n\n\t\tglobalState = null,\n\t\tnumGlobalPlanes = 0,\n\t\tlocalClippingEnabled = false,\n\t\trenderingShadows = false,\n\n\t\tplane = new Plane(),\n\t\tviewNormalMatrix = new Matrix3(),\n\n\t\tuniform = { value: null, needsUpdate: false };\n\n\tthis.uniform = uniform;\n\tthis.numPlanes = 0;\n\tthis.numIntersection = 0;\n\n\tthis.init = function ( planes, enableLocalClipping, camera ) {\n\n\t\tvar enabled =\n\t\t\tplanes.length !== 0 ||\n\t\t\tenableLocalClipping ||\n\t\t\t// enable state of previous frame - the clipping code has to\n\t\t\t// run another frame in order to reset the state:\n\t\t\tnumGlobalPlanes !== 0 ||\n\t\t\tlocalClippingEnabled;\n\n\t\tlocalClippingEnabled = enableLocalClipping;\n\n\t\tglobalState = projectPlanes( planes, camera, 0 );\n\t\tnumGlobalPlanes = planes.length;\n\n\t\treturn enabled;\n\n\t};\n\n\tthis.beginShadows = function () {\n\n\t\trenderingShadows = true;\n\t\tprojectPlanes( null );\n\n\t};\n\n\tthis.endShadows = function () {\n\n\t\trenderingShadows = false;\n\t\tresetGlobalState();\n\n\t};\n\n\tthis.setState = function ( planes, clipIntersection, clipShadows, camera, cache, fromCache ) {\n\n\t\tif ( ! localClippingEnabled || planes === null || planes.length === 0 || renderingShadows && ! clipShadows ) {\n\n\t\t\t// there's no local clipping\n\n\t\t\tif ( renderingShadows ) {\n\n\t\t\t\t// there's no global clipping\n\n\t\t\t\tprojectPlanes( null );\n\n\t\t\t} else {\n\n\t\t\t\tresetGlobalState();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar nGlobal = renderingShadows ? 0 : numGlobalPlanes,\n\t\t\t\tlGlobal = nGlobal * 4,\n\n\t\t\t\tdstArray = cache.clippingState || null;\n\n\t\t\tuniform.value = dstArray; // ensure unique state\n\n\t\t\tdstArray = projectPlanes( planes, camera, lGlobal, fromCache );\n\n\t\t\tfor ( var i = 0; i !== lGlobal; ++ i ) {\n\n\t\t\t\tdstArray[ i ] = globalState[ i ];\n\n\t\t\t}\n\n\t\t\tcache.clippingState = dstArray;\n\t\t\tthis.numIntersection = clipIntersection ? this.numPlanes : 0;\n\t\t\tthis.numPlanes += nGlobal;\n\n\t\t}\n\n\n\t};\n\n\tfunction resetGlobalState() {\n\n\t\tif ( uniform.value !== globalState ) {\n\n\t\t\tuniform.value = globalState;\n\t\t\tuniform.needsUpdate = numGlobalPlanes > 0;\n\n\t\t}\n\n\t\tscope.numPlanes = numGlobalPlanes;\n\t\tscope.numIntersection = 0;\n\n\t}\n\n\tfunction projectPlanes( planes, camera, dstOffset, skipTransform ) {\n\n\t\tvar nPlanes = planes !== null ? planes.length : 0,\n\t\t\tdstArray = null;\n\n\t\tif ( nPlanes !== 0 ) {\n\n\t\t\tdstArray = uniform.value;\n\n\t\t\tif ( skipTransform !== true || dstArray === null ) {\n\n\t\t\t\tvar flatSize = dstOffset + nPlanes * 4,\n\t\t\t\t\tviewMatrix = camera.matrixWorldInverse;\n\n\t\t\t\tviewNormalMatrix.getNormalMatrix( viewMatrix );\n\n\t\t\t\tif ( dstArray === null || dstArray.length < flatSize ) {\n\n\t\t\t\t\tdstArray = new Float32Array( flatSize );\n\n\t\t\t\t}\n\n\t\t\t\tfor ( var i = 0, i4 = dstOffset; i !== nPlanes; ++ i, i4 += 4 ) {\n\n\t\t\t\t\tplane.copy( planes[ i ] ).applyMatrix4( viewMatrix, viewNormalMatrix );\n\n\t\t\t\t\tplane.normal.toArray( dstArray, i4 );\n\t\t\t\t\tdstArray[ i4 + 3 ] = plane.constant;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tuniform.value = dstArray;\n\t\t\tuniform.needsUpdate = true;\n\n\t\t}\n\n\t\tscope.numPlanes = nPlanes;\n\t\tscope.numIntersection = 0;\n\n\t\treturn dstArray;\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLExtensions( gl ) {\n\n\tvar extensions = {};\n\n\treturn {\n\n\t\tget: function ( name ) {\n\n\t\t\tif ( extensions[ name ] !== undefined ) {\n\n\t\t\t\treturn extensions[ name ];\n\n\t\t\t}\n\n\t\t\tvar extension;\n\n\t\t\tswitch ( name ) {\n\n\t\t\t\tcase 'WEBGL_depth_texture':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_depth_texture' ) || gl.getExtension( 'MOZ_WEBGL_depth_texture' ) || gl.getExtension( 'WEBKIT_WEBGL_depth_texture' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'EXT_texture_filter_anisotropic':\n\t\t\t\t\textension = gl.getExtension( 'EXT_texture_filter_anisotropic' ) || gl.getExtension( 'MOZ_EXT_texture_filter_anisotropic' ) || gl.getExtension( 'WEBKIT_EXT_texture_filter_anisotropic' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_s3tc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'MOZ_WEBGL_compressed_texture_s3tc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_s3tc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'WEBGL_compressed_texture_pvrtc':\n\t\t\t\t\textension = gl.getExtension( 'WEBGL_compressed_texture_pvrtc' ) || gl.getExtension( 'WEBKIT_WEBGL_compressed_texture_pvrtc' );\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\t\t\t\t\textension = gl.getExtension( name );\n\n\t\t\t}\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: ' + name + ' extension not supported.' );\n\n\t\t\t}\n\n\t\t\textensions[ name ] = extension;\n\n\t\t\treturn extension;\n\n\t\t}\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLGeometries( gl, attributes, info ) {\n\n\tvar geometries = new WeakMap();\n\tvar wireframeAttributes = new WeakMap();\n\n\tfunction onGeometryDispose( event ) {\n\n\t\tvar geometry = event.target;\n\t\tvar buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry.index !== null ) {\n\n\t\t\tattributes.remove( buffergeometry.index );\n\n\t\t}\n\n\t\tfor ( var name in buffergeometry.attributes ) {\n\n\t\t\tattributes.remove( buffergeometry.attributes[ name ] );\n\n\t\t}\n\n\t\tgeometry.removeEventListener( 'dispose', onGeometryDispose );\n\n\t\tgeometries.delete( geometry );\n\n\t\tvar attribute = wireframeAttributes.get( buffergeometry );\n\n\t\tif ( attribute ) {\n\n\t\t\tattributes.remove( attribute );\n\t\t\twireframeAttributes.delete( buffergeometry );\n\n\t\t}\n\n\t\t//\n\n\t\tinfo.memory.geometries --;\n\n\t}\n\n\tfunction get( object, geometry ) {\n\n\t\tvar buffergeometry = geometries.get( geometry );\n\n\t\tif ( buffergeometry ) return buffergeometry;\n\n\t\tgeometry.addEventListener( 'dispose', onGeometryDispose );\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tbuffergeometry = geometry;\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tif ( geometry._bufferGeometry === undefined ) {\n\n\t\t\t\tgeometry._bufferGeometry = new BufferGeometry().setFromObject( object );\n\n\t\t\t}\n\n\t\t\tbuffergeometry = geometry._bufferGeometry;\n\n\t\t}\n\n\t\tgeometries.set( geometry, buffergeometry );\n\n\t\tinfo.memory.geometries ++;\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction update( geometry ) {\n\n\t\tvar index = geometry.index;\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattributes.update( index, 34963 );\n\n\t\t}\n\n\t\tfor ( var name in geometryAttributes ) {\n\n\t\t\tattributes.update( geometryAttributes[ name ], 34962 );\n\n\t\t}\n\n\t\t// morph targets\n\n\t\tvar morphAttributes = geometry.morphAttributes;\n\n\t\tfor ( var name in morphAttributes ) {\n\n\t\t\tvar array = morphAttributes[ name ];\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tattributes.update( array[ i ], 34962 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction updateWireframeAttribute( geometry ) {\n\n\t\tvar indices = [];\n\n\t\tvar geometryIndex = geometry.index;\n\t\tvar geometryPosition = geometry.attributes.position;\n\t\tvar version = 0;\n\n\t\tif ( geometryIndex !== null ) {\n\n\t\t\tvar array = geometryIndex.array;\n\t\t\tversion = geometryIndex.version;\n\n\t\t\tfor ( var i = 0, l = array.length; i < l; i += 3 ) {\n\n\t\t\t\tvar a = array[ i + 0 ];\n\t\t\t\tvar b = array[ i + 1 ];\n\t\t\t\tvar c = array[ i + 2 ];\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar array = geometryPosition.array;\n\t\t\tversion = geometryPosition.version;\n\n\t\t\tfor ( var i = 0, l = ( array.length / 3 ) - 1; i < l; i += 3 ) {\n\n\t\t\t\tvar a = i + 0;\n\t\t\t\tvar b = i + 1;\n\t\t\t\tvar c = i + 2;\n\n\t\t\t\tindices.push( a, b, b, c, c, a );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar attribute = new ( arrayMax( indices ) > 65535 ? Uint32BufferAttribute : Uint16BufferAttribute )( indices, 1 );\n\t\tattribute.version = version;\n\n\t\tattributes.update( attribute, 34963 );\n\n\t\t//\n\n\t\tvar previousAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( previousAttribute ) attributes.remove( previousAttribute );\n\n\t\t//\n\n\t\twireframeAttributes.set( geometry, attribute );\n\n\t}\n\n\tfunction getWireframeAttribute( geometry ) {\n\n\t\tvar currentAttribute = wireframeAttributes.get( geometry );\n\n\t\tif ( currentAttribute ) {\n\n\t\t\tvar geometryIndex = geometry.index;\n\n\t\t\tif ( geometryIndex !== null ) {\n\n\t\t\t\t// if the attribute is obsolete, create a new one\n\n\t\t\t\tif ( currentAttribute.version < geometryIndex.version ) {\n\n\t\t\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tupdateWireframeAttribute( geometry );\n\n\t\t}\n\n\t\treturn wireframeAttributes.get( geometry );\n\n\t}\n\n\treturn {\n\n\t\tget: get,\n\t\tupdate: update,\n\n\t\tgetWireframeAttribute: getWireframeAttribute\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLIndexedBufferRenderer( gl, extensions, info, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tvar mode;\n\n\tfunction setMode( value ) {\n\n\t\tmode = value;\n\n\t}\n\n\tvar type, bytesPerElement;\n\n\tfunction setIndex( value ) {\n\n\t\ttype = value.type;\n\t\tbytesPerElement = value.bytesPerElement;\n\n\t}\n\n\tfunction render( start, count ) {\n\n\t\tgl.drawElements( mode, count, type, start * bytesPerElement );\n\n\t\tinfo.update( count, mode );\n\n\t}\n\n\tfunction renderInstances( geometry, start, count, primcount ) {\n\n\t\tif ( primcount === 0 ) return;\n\n\t\tvar extension, methodName;\n\n\t\tif ( isWebGL2 ) {\n\n\t\t\textension = gl;\n\t\t\tmethodName = 'drawElementsInstanced';\n\n\t\t} else {\n\n\t\t\textension = extensions.get( 'ANGLE_instanced_arrays' );\n\t\t\tmethodName = 'drawElementsInstancedANGLE';\n\n\t\t\tif ( extension === null ) {\n\n\t\t\t\tconsole.error( 'THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.' );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\textension[ methodName ]( mode, count, type, start * bytesPerElement, primcount );\n\n\t\tinfo.update( count, mode, primcount );\n\n\t}\n\n\t//\n\n\tthis.setMode = setMode;\n\tthis.setIndex = setIndex;\n\tthis.render = render;\n\tthis.renderInstances = renderInstances;\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLInfo( gl ) {\n\n\tvar memory = {\n\t\tgeometries: 0,\n\t\ttextures: 0\n\t};\n\n\tvar render = {\n\t\tframe: 0,\n\t\tcalls: 0,\n\t\ttriangles: 0,\n\t\tpoints: 0,\n\t\tlines: 0\n\t};\n\n\tfunction update( count, mode, instanceCount ) {\n\n\t\tinstanceCount = instanceCount || 1;\n\n\t\trender.calls ++;\n\n\t\tswitch ( mode ) {\n\n\t\t\tcase 4:\n\t\t\t\trender.triangles += instanceCount * ( count / 3 );\n\t\t\t\tbreak;\n\n\t\t\tcase 1:\n\t\t\t\trender.lines += instanceCount * ( count / 2 );\n\t\t\t\tbreak;\n\n\t\t\tcase 3:\n\t\t\t\trender.lines += instanceCount * ( count - 1 );\n\t\t\t\tbreak;\n\n\t\t\tcase 2:\n\t\t\t\trender.lines += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tcase 0:\n\t\t\t\trender.points += instanceCount * count;\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\t\t\t\tconsole.error( 'THREE.WebGLInfo: Unknown draw mode:', mode );\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\tfunction reset() {\n\n\t\trender.frame ++;\n\t\trender.calls = 0;\n\t\trender.triangles = 0;\n\t\trender.points = 0;\n\t\trender.lines = 0;\n\n\t}\n\n\treturn {\n\t\tmemory: memory,\n\t\trender: render,\n\t\tprograms: null,\n\t\tautoReset: true,\n\t\treset: reset,\n\t\tupdate: update\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction absNumericalSort( a, b ) {\n\n\treturn Math.abs( b[ 1 ] ) - Math.abs( a[ 1 ] );\n\n}\n\nfunction WebGLMorphtargets( gl ) {\n\n\tvar influencesList = {};\n\tvar morphInfluences = new Float32Array( 8 );\n\n\tfunction update( object, geometry, material, program ) {\n\n\t\tvar objectInfluences = object.morphTargetInfluences;\n\n\t\t// When object doesn't have morph target influences defined, we treat it as a 0-length array\n\t\t// This is important to make sure we set up morphTargetBaseInfluence / morphTargetInfluences\n\n\t\tvar length = objectInfluences === undefined ? 0 : objectInfluences.length;\n\n\t\tvar influences = influencesList[ geometry.id ];\n\n\t\tif ( influences === undefined ) {\n\n\t\t\t// initialise list\n\n\t\t\tinfluences = [];\n\n\t\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\t\tinfluences[ i ] = [ i, 0 ];\n\n\t\t\t}\n\n\t\t\tinfluencesList[ geometry.id ] = influences;\n\n\t\t}\n\n\t\tvar morphTargets = material.morphTargets && geometry.morphAttributes.position;\n\t\tvar morphNormals = material.morphNormals && geometry.morphAttributes.normal;\n\n\t\t// Remove current morphAttributes\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence[ 1 ] !== 0 ) {\n\n\t\t\t\tif ( morphTargets ) geometry.deleteAttribute( 'morphTarget' + i );\n\t\t\t\tif ( morphNormals ) geometry.deleteAttribute( 'morphNormal' + i );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Collect influences\n\n\t\tfor ( var i = 0; i < length; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tinfluence[ 0 ] = i;\n\t\t\tinfluence[ 1 ] = objectInfluences[ i ];\n\n\t\t}\n\n\t\tinfluences.sort( absNumericalSort );\n\n\t\t// Add morphAttributes\n\n\t\tvar morphInfluencesSum = 0;\n\n\t\tfor ( var i = 0; i < 8; i ++ ) {\n\n\t\t\tvar influence = influences[ i ];\n\n\t\t\tif ( influence ) {\n\n\t\t\t\tvar index = influence[ 0 ];\n\t\t\t\tvar value = influence[ 1 ];\n\n\t\t\t\tif ( value ) {\n\n\t\t\t\t\tif ( morphTargets ) geometry.setAttribute( 'morphTarget' + i, morphTargets[ index ] );\n\t\t\t\t\tif ( morphNormals ) geometry.setAttribute( 'morphNormal' + i, morphNormals[ index ] );\n\n\t\t\t\t\tmorphInfluences[ i ] = value;\n\t\t\t\t\tmorphInfluencesSum += value;\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tmorphInfluences[ i ] = 0;\n\n\t\t}\n\n\t\t// GLSL shader uses formula baseinfluence * base + sum(target * influence)\n\t\t// This allows us to switch between absolute morphs and relative morphs without changing shader code\n\t\t// When baseinfluence = 1 - sum(influence), the above is equivalent to sum((target - base) * influence)\n\t\tvar morphBaseInfluence = geometry.morphTargetsRelative ? 1 : 1 - morphInfluencesSum;\n\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetBaseInfluence', morphBaseInfluence );\n\t\tprogram.getUniforms().setValue( gl, 'morphTargetInfluences', morphInfluences );\n\n\t}\n\n\treturn {\n\n\t\tupdate: update\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLObjects( gl, geometries, attributes, info ) {\n\n\tvar updateMap = new WeakMap();\n\n\tfunction update( object ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\tvar geometry = object.geometry;\n\t\tvar buffergeometry = geometries.get( object, geometry );\n\n\t\t// Update once per frame\n\n\t\tif ( updateMap.get( buffergeometry ) !== frame ) {\n\n\t\t\tif ( geometry.isGeometry ) {\n\n\t\t\t\tbuffergeometry.updateFromObject( object );\n\n\t\t\t}\n\n\t\t\tgeometries.update( buffergeometry );\n\n\t\t\tupdateMap.set( buffergeometry, frame );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\tattributes.update( object.instanceMatrix, 34962 );\n\n\t\t}\n\n\t\treturn buffergeometry;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tupdateMap = new WeakMap();\n\n\t}\n\n\treturn {\n\n\t\tupdate: update,\n\t\tdispose: dispose\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CubeTexture( images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding ) {\n\n\timages = images !== undefined ? images : [];\n\tmapping = mapping !== undefined ? mapping : CubeReflectionMapping;\n\tformat = format !== undefined ? format : RGBFormat;\n\n\tTexture.call( this, images, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.flipY = false;\n\n}\n\nCubeTexture.prototype = Object.create( Texture.prototype );\nCubeTexture.prototype.constructor = CubeTexture;\n\nCubeTexture.prototype.isCubeTexture = true;\n\nObject.defineProperty( CubeTexture.prototype, 'images', {\n\n\tget: function () {\n\n\t\treturn this.image;\n\n\t},\n\n\tset: function ( value ) {\n\n\t\tthis.image = value;\n\n\t}\n\n} );\n\n/**\n * @author Takahiro https://github.com/takahirox\n */\n\nfunction DataTexture2DArray( data, width, height, depth ) {\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n}\n\nDataTexture2DArray.prototype = Object.create( Texture.prototype );\nDataTexture2DArray.prototype.constructor = DataTexture2DArray;\nDataTexture2DArray.prototype.isDataTexture2DArray = true;\n\n/**\n * @author Artur Trzesiok\n */\n\nfunction DataTexture3D( data, width, height, depth ) {\n\n\t// We're going to add .setXXX() methods for setting properties later.\n\t// Users can still set in DataTexture3D directly.\n\t//\n\t//\tvar texture = new THREE.DataTexture3D( data, width, height, depth );\n\t// \ttexture.anisotropy = 16;\n\t//\n\t// See #14839\n\n\tTexture.call( this, null );\n\n\tthis.image = { data: data || null, width: width || 1, height: height || 1, depth: depth || 1 };\n\n\tthis.magFilter = NearestFilter;\n\tthis.minFilter = NearestFilter;\n\n\tthis.wrapR = ClampToEdgeWrapping;\n\n\tthis.generateMipmaps = false;\n\tthis.flipY = false;\n\n\tthis.needsUpdate = true;\n\n\n}\n\nDataTexture3D.prototype = Object.create( Texture.prototype );\nDataTexture3D.prototype.constructor = DataTexture3D;\nDataTexture3D.prototype.isDataTexture3D = true;\n\n/**\n * @author tschw\n * @author Mugen87 / https://github.com/Mugen87\n * @author mrdoob / http://mrdoob.com/\n *\n * Uniforms of a program.\n * Those form a tree structure with a special top-level container for the root,\n * which you get by calling 'new WebGLUniforms( gl, program )'.\n *\n *\n * Properties of inner nodes including the top-level container:\n *\n * .seq - array of nested uniforms\n * .map - nested uniforms by name\n *\n *\n * Methods of all nodes except the top-level container:\n *\n * .setValue( gl, value, [textures] )\n *\n * \t\tuploads a uniform value(s)\n *  \tthe 'textures' parameter is needed for sampler uniforms\n *\n *\n * Static methods of the top-level container (textures factorizations):\n *\n * .upload( gl, seq, values, textures )\n *\n * \t\tsets uniforms in 'seq' to 'values[id].value'\n *\n * .seqWithValue( seq, values ) : filteredSeq\n *\n * \t\tfilters 'seq' entries with corresponding entry in values\n *\n *\n * Methods of the top-level container (textures factorizations):\n *\n * .setValue( gl, name, value, textures )\n *\n * \t\tsets uniform with  name 'name' to 'value'\n *\n * .setOptional( gl, obj, prop )\n *\n * \t\tlike .set for an optional property of the object\n *\n */\n\nvar emptyTexture = new Texture();\nvar emptyTexture2dArray = new DataTexture2DArray();\nvar emptyTexture3d = new DataTexture3D();\nvar emptyCubeTexture = new CubeTexture();\n\n// --- Utilities ---\n\n// Array Caches (provide typed arrays for temporary by size)\n\nvar arrayCacheF32 = [];\nvar arrayCacheI32 = [];\n\n// Float32Array caches used for uploading Matrix uniforms\n\nvar mat4array = new Float32Array( 16 );\nvar mat3array = new Float32Array( 9 );\nvar mat2array = new Float32Array( 4 );\n\n// Flattening for arrays of vectors and matrices\n\nfunction flatten( array, nBlocks, blockSize ) {\n\n\tvar firstElem = array[ 0 ];\n\n\tif ( firstElem <= 0 || firstElem > 0 ) return array;\n\t// unoptimized: ! isNaN( firstElem )\n\t// see http://jacksondunstan.com/articles/983\n\n\tvar n = nBlocks * blockSize,\n\t\tr = arrayCacheF32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Float32Array( n );\n\t\tarrayCacheF32[ n ] = r;\n\n\t}\n\n\tif ( nBlocks !== 0 ) {\n\n\t\tfirstElem.toArray( r, 0 );\n\n\t\tfor ( var i = 1, offset = 0; i !== nBlocks; ++ i ) {\n\n\t\t\toffset += blockSize;\n\t\t\tarray[ i ].toArray( r, offset );\n\n\t\t}\n\n\t}\n\n\treturn r;\n\n}\n\nfunction arraysEqual( a, b ) {\n\n\tif ( a.length !== b.length ) return false;\n\n\tfor ( var i = 0, l = a.length; i < l; i ++ ) {\n\n\t\tif ( a[ i ] !== b[ i ] ) return false;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction copyArray( a, b ) {\n\n\tfor ( var i = 0, l = b.length; i < l; i ++ ) {\n\n\t\ta[ i ] = b[ i ];\n\n\t}\n\n}\n\n// Texture unit allocation\n\nfunction allocTexUnits( textures, n ) {\n\n\tvar r = arrayCacheI32[ n ];\n\n\tif ( r === undefined ) {\n\n\t\tr = new Int32Array( n );\n\t\tarrayCacheI32[ n ] = r;\n\n\t}\n\n\tfor ( var i = 0; i !== n; ++ i )\n\t\tr[ i ] = textures.allocateTextureUnit();\n\n\treturn r;\n\n}\n\n// --- Setters ---\n\n// Note: Defining these methods externally, because they come in a bunch\n// and this way their names minify.\n\n// Single scalar\n\nfunction setValueV1f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1f( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Single float vector (from flat array or THREE.VectorN)\n\nfunction setValueV2f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y ) {\n\n\t\t\tgl.uniform2f( this.addr, v.x, v.y );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform2fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV3f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z ) {\n\n\t\t\tgl.uniform3f( this.addr, v.x, v.y, v.z );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\n\t\t}\n\n\t} else if ( v.r !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.r || cache[ 1 ] !== v.g || cache[ 2 ] !== v.b ) {\n\n\t\t\tgl.uniform3f( this.addr, v.r, v.g, v.b );\n\n\t\t\tcache[ 0 ] = v.r;\n\t\t\tcache[ 1 ] = v.g;\n\t\t\tcache[ 2 ] = v.b;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform3fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\nfunction setValueV4f( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( v.x !== undefined ) {\n\n\t\tif ( cache[ 0 ] !== v.x || cache[ 1 ] !== v.y || cache[ 2 ] !== v.z || cache[ 3 ] !== v.w ) {\n\n\t\t\tgl.uniform4f( this.addr, v.x, v.y, v.z, v.w );\n\n\t\t\tcache[ 0 ] = v.x;\n\t\t\tcache[ 1 ] = v.y;\n\t\t\tcache[ 2 ] = v.z;\n\t\t\tcache[ 3 ] = v.w;\n\n\t\t}\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniform4fv( this.addr, v );\n\n\t\tcopyArray( cache, v );\n\n\t}\n\n}\n\n// Single matrix (from flat array or MatrixN)\n\nfunction setValueM2( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix2fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat2array.set( elements );\n\n\t\tgl.uniformMatrix2fv( this.addr, false, mat2array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM3( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix3fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat3array.set( elements );\n\n\t\tgl.uniformMatrix3fv( this.addr, false, mat3array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\nfunction setValueM4( gl, v ) {\n\n\tvar cache = this.cache;\n\tvar elements = v.elements;\n\n\tif ( elements === undefined ) {\n\n\t\tif ( arraysEqual( cache, v ) ) return;\n\n\t\tgl.uniformMatrix4fv( this.addr, false, v );\n\n\t\tcopyArray( cache, v );\n\n\t} else {\n\n\t\tif ( arraysEqual( cache, elements ) ) return;\n\n\t\tmat4array.set( elements );\n\n\t\tgl.uniformMatrix4fv( this.addr, false, mat4array );\n\n\t\tcopyArray( cache, elements );\n\n\t}\n\n}\n\n// Single texture (2D / Cube)\n\nfunction setValueT1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTexture2D( v || emptyTexture, unit );\n\n}\n\nfunction setValueT2DArray1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture2DArray( v || emptyTexture2dArray, unit );\n\n}\n\nfunction setValueT3D1( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.setTexture3D( v || emptyTexture3d, unit );\n\n}\n\nfunction setValueT6( gl, v, textures ) {\n\n\tvar cache = this.cache;\n\tvar unit = textures.allocateTextureUnit();\n\n\tif ( cache[ 0 ] !== unit ) {\n\n\t\tgl.uniform1i( this.addr, unit );\n\t\tcache[ 0 ] = unit;\n\n\t}\n\n\ttextures.safeSetTextureCube( v || emptyCubeTexture, unit );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\n\nfunction setValueV1i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1i( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\nfunction setValueV2i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform2iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV3i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform3iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\nfunction setValueV4i( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( arraysEqual( cache, v ) ) return;\n\n\tgl.uniform4iv( this.addr, v );\n\n\tcopyArray( cache, v );\n\n}\n\n// uint\n\nfunction setValueV1ui( gl, v ) {\n\n\tvar cache = this.cache;\n\n\tif ( cache[ 0 ] === v ) return;\n\n\tgl.uniform1ui( this.addr, v );\n\n\tcache[ 0 ] = v;\n\n}\n\n// Helper to pick the right setter for the singular case\n\nfunction getSingularSetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1f; // FLOAT\n\t\tcase 0x8b50: return setValueV2f; // _VEC2\n\t\tcase 0x8b51: return setValueV3f; // _VEC3\n\t\tcase 0x8b52: return setValueV4f; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2; // _MAT2\n\t\tcase 0x8b5b: return setValueM3; // _MAT3\n\t\tcase 0x8b5c: return setValueM4; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1i; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2i; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3i; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4i; // _VEC4\n\n\t\tcase 0x1405: return setValueV1ui; // UINT\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1;\n\n\t\tcase 0x8b5f: // SAMPLER_3D\n\t\tcase 0x8dcb: // INT_SAMPLER_3D\n\t\tcase 0x8dd3: // UNSIGNED_INT_SAMPLER_3D\n\t\t\treturn setValueT3D1;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6;\n\n\t\tcase 0x8dc1: // SAMPLER_2D_ARRAY\n\t\tcase 0x8dcf: // INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dd7: // UNSIGNED_INT_SAMPLER_2D_ARRAY\n\t\tcase 0x8dc4: // SAMPLER_2D_ARRAY_SHADOW\n\t\t\treturn setValueT2DArray1;\n\n\t}\n\n}\n\n// Array of scalars\nfunction setValueV1fArray( gl, v ) {\n\n\tgl.uniform1fv( this.addr, v );\n\n}\n\n// Integer / Boolean vectors or arrays thereof (always flat arrays)\nfunction setValueV1iArray( gl, v ) {\n\n\tgl.uniform1iv( this.addr, v );\n\n}\n\nfunction setValueV2iArray( gl, v ) {\n\n\tgl.uniform2iv( this.addr, v );\n\n}\n\nfunction setValueV3iArray( gl, v ) {\n\n\tgl.uniform3iv( this.addr, v );\n\n}\n\nfunction setValueV4iArray( gl, v ) {\n\n\tgl.uniform4iv( this.addr, v );\n\n}\n\n\n// Array of vectors (flat or from THREE classes)\n\nfunction setValueV2fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 2 );\n\n\tgl.uniform2fv( this.addr, data );\n\n}\n\nfunction setValueV3fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 3 );\n\n\tgl.uniform3fv( this.addr, data );\n\n}\n\nfunction setValueV4fArray( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniform4fv( this.addr, data );\n\n}\n\n// Array of matrices (flat or from THREE clases)\n\nfunction setValueM2Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 4 );\n\n\tgl.uniformMatrix2fv( this.addr, false, data );\n\n}\n\nfunction setValueM3Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 9 );\n\n\tgl.uniformMatrix3fv( this.addr, false, data );\n\n}\n\nfunction setValueM4Array( gl, v ) {\n\n\tvar data = flatten( v, this.size, 16 );\n\n\tgl.uniformMatrix4fv( this.addr, false, data );\n\n}\n\n// Array of textures (2D / Cube)\n\nfunction setValueT1Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTexture2D( v[ i ] || emptyTexture, units[ i ] );\n\n\t}\n\n}\n\nfunction setValueT6Array( gl, v, textures ) {\n\n\tvar n = v.length;\n\n\tvar units = allocTexUnits( textures, n );\n\n\tgl.uniform1iv( this.addr, units );\n\n\tfor ( var i = 0; i !== n; ++ i ) {\n\n\t\ttextures.safeSetTextureCube( v[ i ] || emptyCubeTexture, units[ i ] );\n\n\t}\n\n}\n\n// Helper to pick the right setter for a pure (bottom-level) array\n\nfunction getPureArraySetter( type ) {\n\n\tswitch ( type ) {\n\n\t\tcase 0x1406: return setValueV1fArray; // FLOAT\n\t\tcase 0x8b50: return setValueV2fArray; // _VEC2\n\t\tcase 0x8b51: return setValueV3fArray; // _VEC3\n\t\tcase 0x8b52: return setValueV4fArray; // _VEC4\n\n\t\tcase 0x8b5a: return setValueM2Array; // _MAT2\n\t\tcase 0x8b5b: return setValueM3Array; // _MAT3\n\t\tcase 0x8b5c: return setValueM4Array; // _MAT4\n\n\t\tcase 0x1404: case 0x8b56: return setValueV1iArray; // INT, BOOL\n\t\tcase 0x8b53: case 0x8b57: return setValueV2iArray; // _VEC2\n\t\tcase 0x8b54: case 0x8b58: return setValueV3iArray; // _VEC3\n\t\tcase 0x8b55: case 0x8b59: return setValueV4iArray; // _VEC4\n\n\t\tcase 0x8b5e: // SAMPLER_2D\n\t\tcase 0x8d66: // SAMPLER_EXTERNAL_OES\n\t\tcase 0x8dca: // INT_SAMPLER_2D\n\t\tcase 0x8dd2: // UNSIGNED_INT_SAMPLER_2D\n\t\tcase 0x8b62: // SAMPLER_2D_SHADOW\n\t\t\treturn setValueT1Array;\n\n\t\tcase 0x8b60: // SAMPLER_CUBE\n\t\tcase 0x8dcc: // INT_SAMPLER_CUBE\n\t\tcase 0x8dd4: // UNSIGNED_INT_SAMPLER_CUBE\n\t\tcase 0x8dc5: // SAMPLER_CUBE_SHADOW\n\t\t\treturn setValueT6Array;\n\n\t}\n\n}\n\n// --- Uniform Classes ---\n\nfunction SingleUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.setValue = getSingularSetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nfunction PureArrayUniform( id, activeInfo, addr ) {\n\n\tthis.id = id;\n\tthis.addr = addr;\n\tthis.cache = [];\n\tthis.size = activeInfo.size;\n\tthis.setValue = getPureArraySetter( activeInfo.type );\n\n\t// this.path = activeInfo.name; // DEBUG\n\n}\n\nPureArrayUniform.prototype.updateCache = function ( data ) {\n\n\tvar cache = this.cache;\n\n\tif ( data instanceof Float32Array && cache.length !== data.length ) {\n\n\t\tthis.cache = new Float32Array( data.length );\n\n\t}\n\n\tcopyArray( cache, data );\n\n};\n\nfunction StructuredUniform( id ) {\n\n\tthis.id = id;\n\n\tthis.seq = [];\n\tthis.map = {};\n\n}\n\nStructuredUniform.prototype.setValue = function ( gl, value, textures ) {\n\n\tvar seq = this.seq;\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tu.setValue( gl, value[ u.id ], textures );\n\n\t}\n\n};\n\n// --- Top-level ---\n\n// Parser - builds up the property tree from the path strings\n\nvar RePathPart = /([\\w\\d_]+)(\\])?(\\[|\\.)?/g;\n\n// extracts\n// \t- the identifier (member name or array index)\n//  - followed by an optional right bracket (found when array index)\n//  - followed by an optional left bracket or dot (type of subscript)\n//\n// Note: These portions can be read in a non-overlapping fashion and\n// allow straightforward parsing of the hierarchy that WebGL encodes\n// in the uniform names.\n\nfunction addUniform( container, uniformObject ) {\n\n\tcontainer.seq.push( uniformObject );\n\tcontainer.map[ uniformObject.id ] = uniformObject;\n\n}\n\nfunction parseUniform( activeInfo, addr, container ) {\n\n\tvar path = activeInfo.name,\n\t\tpathLength = path.length;\n\n\t// reset RegExp object, because of the early exit of a previous run\n\tRePathPart.lastIndex = 0;\n\n\twhile ( true ) {\n\n\t\tvar match = RePathPart.exec( path ),\n\t\t\tmatchEnd = RePathPart.lastIndex,\n\n\t\t\tid = match[ 1 ],\n\t\t\tidIsIndex = match[ 2 ] === ']',\n\t\t\tsubscript = match[ 3 ];\n\n\t\tif ( idIsIndex ) id = id | 0; // convert to integer\n\n\t\tif ( subscript === undefined || subscript === '[' && matchEnd + 2 === pathLength ) {\n\n\t\t\t// bare name or \"pure\" bottom-level array \"[0]\" suffix\n\n\t\t\taddUniform( container, subscript === undefined ?\n\t\t\t\tnew SingleUniform( id, activeInfo, addr ) :\n\t\t\t\tnew PureArrayUniform( id, activeInfo, addr ) );\n\n\t\t\tbreak;\n\n\t\t} else {\n\n\t\t\t// step into inner node / create it in case it doesn't exist\n\n\t\t\tvar map = container.map, next = map[ id ];\n\n\t\t\tif ( next === undefined ) {\n\n\t\t\t\tnext = new StructuredUniform( id );\n\t\t\t\taddUniform( container, next );\n\n\t\t\t}\n\n\t\t\tcontainer = next;\n\n\t\t}\n\n\t}\n\n}\n\n// Root Container\n\nfunction WebGLUniforms( gl, program ) {\n\n\tthis.seq = [];\n\tthis.map = {};\n\n\tvar n = gl.getProgramParameter( program, 35718 );\n\n\tfor ( var i = 0; i < n; ++ i ) {\n\n\t\tvar info = gl.getActiveUniform( program, i ),\n\t\t\taddr = gl.getUniformLocation( program, info.name );\n\n\t\tparseUniform( info, addr, this );\n\n\t}\n\n}\n\nWebGLUniforms.prototype.setValue = function ( gl, name, value, textures ) {\n\n\tvar u = this.map[ name ];\n\n\tif ( u !== undefined ) u.setValue( gl, value, textures );\n\n};\n\nWebGLUniforms.prototype.setOptional = function ( gl, object, name ) {\n\n\tvar v = object[ name ];\n\n\tif ( v !== undefined ) this.setValue( gl, name, v );\n\n};\n\n\n// Static interface\n\nWebGLUniforms.upload = function ( gl, seq, values, textures ) {\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ],\n\t\t\tv = values[ u.id ];\n\n\t\tif ( v.needsUpdate !== false ) {\n\n\t\t\t// note: always updating when .needsUpdate is undefined\n\t\t\tu.setValue( gl, v.value, textures );\n\n\t\t}\n\n\t}\n\n};\n\nWebGLUniforms.seqWithValue = function ( seq, values ) {\n\n\tvar r = [];\n\n\tfor ( var i = 0, n = seq.length; i !== n; ++ i ) {\n\n\t\tvar u = seq[ i ];\n\t\tif ( u.id in values ) r.push( u );\n\n\t}\n\n\treturn r;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShader( gl, type, string ) {\n\n\tvar shader = gl.createShader( type );\n\n\tgl.shaderSource( shader, string );\n\tgl.compileShader( shader );\n\n\treturn shader;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar programIdCount = 0;\n\nfunction addLineNumbers( string ) {\n\n\tvar lines = string.split( '\\n' );\n\n\tfor ( var i = 0; i < lines.length; i ++ ) {\n\n\t\tlines[ i ] = ( i + 1 ) + ': ' + lines[ i ];\n\n\t}\n\n\treturn lines.join( '\\n' );\n\n}\n\nfunction getEncodingComponents( encoding ) {\n\n\tswitch ( encoding ) {\n\n\t\tcase LinearEncoding:\n\t\t\treturn [ 'Linear', '( value )' ];\n\t\tcase sRGBEncoding:\n\t\t\treturn [ 'sRGB', '( value )' ];\n\t\tcase RGBEEncoding:\n\t\t\treturn [ 'RGBE', '( value )' ];\n\t\tcase RGBM7Encoding:\n\t\t\treturn [ 'RGBM', '( value, 7.0 )' ];\n\t\tcase RGBM16Encoding:\n\t\t\treturn [ 'RGBM', '( value, 16.0 )' ];\n\t\tcase RGBDEncoding:\n\t\t\treturn [ 'RGBD', '( value, 256.0 )' ];\n\t\tcase GammaEncoding:\n\t\t\treturn [ 'Gamma', '( value, float( GAMMA_FACTOR ) )' ];\n\t\tcase LogLuvEncoding:\n\t\t\treturn [ 'LogLuv', '( value )' ];\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported encoding: ' + encoding );\n\n\t}\n\n}\n\nfunction getShaderErrors( gl, shader, type ) {\n\n\tvar status = gl.getShaderParameter( shader, 35713 );\n\tvar log = gl.getShaderInfoLog( shader ).trim();\n\n\tif ( status && log === '' ) return '';\n\n\t// --enable-privileged-webgl-extension\n\t// console.log( '**' + type + '**', gl.getExtension( 'WEBGL_debug_shaders' ).getTranslatedShaderSource( shader ) );\n\n\tvar source = gl.getShaderSource( shader );\n\n\treturn 'THREE.WebGLShader: gl.getShaderInfoLog() ' + type + '\\n' + log + addLineNumbers( source );\n\n}\n\nfunction getTexelDecodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return ' + components[ 0 ] + 'ToLinear' + components[ 1 ] + '; }';\n\n}\n\nfunction getTexelEncodingFunction( functionName, encoding ) {\n\n\tvar components = getEncodingComponents( encoding );\n\treturn 'vec4 ' + functionName + '( vec4 value ) { return LinearTo' + components[ 0 ] + components[ 1 ] + '; }';\n\n}\n\nfunction getToneMappingFunction( functionName, toneMapping ) {\n\n\tvar toneMappingName;\n\n\tswitch ( toneMapping ) {\n\n\t\tcase LinearToneMapping:\n\t\t\ttoneMappingName = 'Linear';\n\t\t\tbreak;\n\n\t\tcase ReinhardToneMapping:\n\t\t\ttoneMappingName = 'Reinhard';\n\t\t\tbreak;\n\n\t\tcase Uncharted2ToneMapping:\n\t\t\ttoneMappingName = 'Uncharted2';\n\t\t\tbreak;\n\n\t\tcase CineonToneMapping:\n\t\t\ttoneMappingName = 'OptimizedCineon';\n\t\t\tbreak;\n\n\t\tcase ACESFilmicToneMapping:\n\t\t\ttoneMappingName = 'ACESFilmic';\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tthrow new Error( 'unsupported toneMapping: ' + toneMapping );\n\n\t}\n\n\treturn 'vec3 ' + functionName + '( vec3 color ) { return ' + toneMappingName + 'ToneMapping( color ); }';\n\n}\n\nfunction generateExtensions( parameters ) {\n\n\tvar chunks = [\n\t\t( parameters.extensionDerivatives || parameters.envMapCubeUV || parameters.bumpMap || parameters.tangentSpaceNormalMap || parameters.clearcoatNormalMap || parameters.flatShading || parameters.shaderID === 'physical' ) ? '#extension GL_OES_standard_derivatives : enable' : '',\n\t\t( parameters.extensionFragDepth || parameters.logarithmicDepthBuffer ) && parameters.rendererExtensionFragDepth ? '#extension GL_EXT_frag_depth : enable' : '',\n\t\t( parameters.extensionDrawBuffers && parameters.rendererExtensionDrawBuffers ) ? '#extension GL_EXT_draw_buffers : require' : '',\n\t\t( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ? '#extension GL_EXT_shader_texture_lod : enable' : ''\n\t];\n\n\treturn chunks.filter( filterEmptyLine ).join( '\\n' );\n\n}\n\nfunction generateDefines( defines ) {\n\n\tvar chunks = [];\n\n\tfor ( var name in defines ) {\n\n\t\tvar value = defines[ name ];\n\n\t\tif ( value === false ) continue;\n\n\t\tchunks.push( '#define ' + name + ' ' + value );\n\n\t}\n\n\treturn chunks.join( '\\n' );\n\n}\n\nfunction fetchAttributeLocations( gl, program ) {\n\n\tvar attributes = {};\n\n\tvar n = gl.getProgramParameter( program, 35721 );\n\n\tfor ( var i = 0; i < n; i ++ ) {\n\n\t\tvar info = gl.getActiveAttrib( program, i );\n\t\tvar name = info.name;\n\n\t\t// console.log( 'THREE.WebGLProgram: ACTIVE VERTEX ATTRIBUTE:', name, i );\n\n\t\tattributes[ name ] = gl.getAttribLocation( program, name );\n\n\t}\n\n\treturn attributes;\n\n}\n\nfunction filterEmptyLine( string ) {\n\n\treturn string !== '';\n\n}\n\nfunction replaceLightNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_DIR_LIGHTS/g, parameters.numDirLights )\n\t\t.replace( /NUM_SPOT_LIGHTS/g, parameters.numSpotLights )\n\t\t.replace( /NUM_RECT_AREA_LIGHTS/g, parameters.numRectAreaLights )\n\t\t.replace( /NUM_POINT_LIGHTS/g, parameters.numPointLights )\n\t\t.replace( /NUM_HEMI_LIGHTS/g, parameters.numHemiLights )\n\t\t.replace( /NUM_DIR_LIGHT_SHADOWS/g, parameters.numDirLightShadows )\n\t\t.replace( /NUM_SPOT_LIGHT_SHADOWS/g, parameters.numSpotLightShadows )\n\t\t.replace( /NUM_POINT_LIGHT_SHADOWS/g, parameters.numPointLightShadows );\n\n}\n\nfunction replaceClippingPlaneNums( string, parameters ) {\n\n\treturn string\n\t\t.replace( /NUM_CLIPPING_PLANES/g, parameters.numClippingPlanes )\n\t\t.replace( /UNION_CLIPPING_PLANES/g, ( parameters.numClippingPlanes - parameters.numClipIntersection ) );\n\n}\n\n// Resolve Includes\n\nvar includePattern = /^[ \\t]*#include +<([\\w\\d./]+)>/gm;\n\nfunction resolveIncludes( string ) {\n\n\treturn string.replace( includePattern, includeReplacer );\n\n}\n\nfunction includeReplacer( match, include ) {\n\n\tvar string = ShaderChunk[ include ];\n\n\tif ( string === undefined ) {\n\n\t\tthrow new Error( 'Can not resolve #include <' + include + '>' );\n\n\t}\n\n\treturn resolveIncludes( string );\n\n}\n\n// Unroll Loops\n\nvar loopPattern = /#pragma unroll_loop[\\s]+?for \\( int i \\= (\\d+)\\; i < (\\d+)\\; i \\+\\+ \\) \\{([\\s\\S]+?)(?=\\})\\}/g;\n\nfunction unrollLoops( string ) {\n\n\treturn string.replace( loopPattern, loopReplacer );\n\n}\n\nfunction loopReplacer( match, start, end, snippet ) {\n\n\tvar string = '';\n\n\tfor ( var i = parseInt( start ); i < parseInt( end ); i ++ ) {\n\n\t\tstring += snippet\n\t\t\t.replace( /\\[ i \\]/g, '[ ' + i + ' ]' )\n\t\t\t.replace( /UNROLLED_LOOP_INDEX/g, i );\n\n\t}\n\n\treturn string;\n\n}\n\n//\n\nfunction generatePrecision( parameters ) {\n\n\tvar precisionstring = \"precision \" + parameters.precision + \" float;\\nprecision \" + parameters.precision + \" int;\";\n\n\tif ( parameters.precision === \"highp\" ) {\n\n\t\tprecisionstring += \"\\n#define HIGH_PRECISION\";\n\n\t} else if ( parameters.precision === \"mediump\" ) {\n\n\t\tprecisionstring += \"\\n#define MEDIUM_PRECISION\";\n\n\t} else if ( parameters.precision === \"lowp\" ) {\n\n\t\tprecisionstring += \"\\n#define LOW_PRECISION\";\n\n\t}\n\n\treturn precisionstring;\n\n}\n\nfunction generateShadowMapTypeDefine( parameters ) {\n\n\tvar shadowMapTypeDefine = 'SHADOWMAP_TYPE_BASIC';\n\n\tif ( parameters.shadowMapType === PCFShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF';\n\n\t} else if ( parameters.shadowMapType === PCFSoftShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_PCF_SOFT';\n\n\t} else if ( parameters.shadowMapType === VSMShadowMap ) {\n\n\t\tshadowMapTypeDefine = 'SHADOWMAP_TYPE_VSM';\n\n\t}\n\n\treturn shadowMapTypeDefine;\n\n}\n\nfunction generateEnvMapTypeDefine( parameters ) {\n\n\tvar envMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeReflectionMapping:\n\t\t\tcase CubeRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE';\n\t\t\t\tbreak;\n\n\t\t\tcase CubeUVReflectionMapping:\n\t\t\tcase CubeUVRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_CUBE_UV';\n\t\t\t\tbreak;\n\n\t\t\tcase EquirectangularReflectionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_EQUIREC';\n\t\t\t\tbreak;\n\n\t\t\tcase SphericalReflectionMapping:\n\t\t\t\tenvMapTypeDefine = 'ENVMAP_TYPE_SPHERE';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapTypeDefine;\n\n}\n\nfunction generateEnvMapModeDefine( parameters ) {\n\n\tvar envMapModeDefine = 'ENVMAP_MODE_REFLECTION';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.envMapMode ) {\n\n\t\t\tcase CubeRefractionMapping:\n\t\t\tcase EquirectangularRefractionMapping:\n\t\t\t\tenvMapModeDefine = 'ENVMAP_MODE_REFRACTION';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapModeDefine;\n\n}\n\nfunction generateEnvMapBlendingDefine( parameters ) {\n\n\tvar envMapBlendingDefine = 'ENVMAP_BLENDING_NONE';\n\n\tif ( parameters.envMap ) {\n\n\t\tswitch ( parameters.combine ) {\n\n\t\t\tcase MultiplyOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MULTIPLY';\n\t\t\t\tbreak;\n\n\t\t\tcase MixOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_MIX';\n\t\t\t\tbreak;\n\n\t\t\tcase AddOperation:\n\t\t\t\tenvMapBlendingDefine = 'ENVMAP_BLENDING_ADD';\n\t\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n\treturn envMapBlendingDefine;\n\n}\n\nfunction WebGLProgram( renderer, cacheKey, parameters ) {\n\n\tvar gl = renderer.getContext();\n\n\tvar defines = parameters.defines;\n\n\tvar vertexShader = parameters.vertexShader;\n\tvar fragmentShader = parameters.fragmentShader;\n\tvar shadowMapTypeDefine = generateShadowMapTypeDefine( parameters );\n\tvar envMapTypeDefine = generateEnvMapTypeDefine( parameters );\n\tvar envMapModeDefine = generateEnvMapModeDefine( parameters );\n\tvar envMapBlendingDefine = generateEnvMapBlendingDefine( parameters );\n\n\n\tvar gammaFactorDefine = ( renderer.gammaFactor > 0 ) ? renderer.gammaFactor : 1.0;\n\n\tvar customExtensions = parameters.isWebGL2 ? '' : generateExtensions( parameters );\n\n\tvar customDefines = generateDefines( defines );\n\n\tvar program = gl.createProgram();\n\n\tvar prefixVertex, prefixFragment;\n\n\tif ( parameters.isRawShaderMaterial ) {\n\n\t\tprefixVertex = [\n\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixVertex.length > 0 ) {\n\n\t\t\tprefixVertex += '\\n';\n\n\t\t}\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\t\t\tcustomDefines\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tif ( prefixFragment.length > 0 ) {\n\n\t\t\tprefixFragment += '\\n';\n\n\t\t}\n\n\t} else {\n\n\t\tprefixVertex = [\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.instancing ? '#define USE_INSTANCING' : '',\n\t\t\tparameters.supportsVertexTextures ? '#define VERTEX_TEXTURES' : '',\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t'#define MAX_BONES ' + parameters.maxBones,\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.displacementMap && parameters.supportsVertexTextures ? '#define USE_DISPLACEMENTMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.skinning ? '#define USE_SKINNING' : '',\n\t\t\tparameters.useVertexTexture ? '#define BONE_TEXTURE' : '',\n\n\t\t\tparameters.morphTargets ? '#define USE_MORPHTARGETS' : '',\n\t\t\tparameters.morphNormals && parameters.flatShading === false ? '#define USE_MORPHNORMALS' : '',\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.sizeAttenuation ? '#define USE_SIZEATTENUATION' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t'uniform mat4 modelMatrix;',\n\t\t\t'uniform mat4 modelViewMatrix;',\n\t\t\t'uniform mat4 projectionMatrix;',\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform mat3 normalMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t'#ifdef USE_INSTANCING',\n\n\t\t\t' attribute mat4 instanceMatrix;',\n\n\t\t\t'#endif',\n\n\t\t\t'attribute vec3 position;',\n\t\t\t'attribute vec3 normal;',\n\t\t\t'attribute vec2 uv;',\n\n\t\t\t'#ifdef USE_TANGENT',\n\n\t\t\t'\tattribute vec4 tangent;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_COLOR',\n\n\t\t\t'\tattribute vec3 color;',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_MORPHTARGETS',\n\n\t\t\t'\tattribute vec3 morphTarget0;',\n\t\t\t'\tattribute vec3 morphTarget1;',\n\t\t\t'\tattribute vec3 morphTarget2;',\n\t\t\t'\tattribute vec3 morphTarget3;',\n\n\t\t\t'\t#ifdef USE_MORPHNORMALS',\n\n\t\t\t'\t\tattribute vec3 morphNormal0;',\n\t\t\t'\t\tattribute vec3 morphNormal1;',\n\t\t\t'\t\tattribute vec3 morphNormal2;',\n\t\t\t'\t\tattribute vec3 morphNormal3;',\n\n\t\t\t'\t#else',\n\n\t\t\t'\t\tattribute vec3 morphTarget4;',\n\t\t\t'\t\tattribute vec3 morphTarget5;',\n\t\t\t'\t\tattribute vec3 morphTarget6;',\n\t\t\t'\t\tattribute vec3 morphTarget7;',\n\n\t\t\t'\t#endif',\n\n\t\t\t'#endif',\n\n\t\t\t'#ifdef USE_SKINNING',\n\n\t\t\t'\tattribute vec4 skinIndex;',\n\t\t\t'\tattribute vec4 skinWeight;',\n\n\t\t\t'#endif',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t\tprefixFragment = [\n\n\t\t\tcustomExtensions,\n\n\t\t\tgeneratePrecision( parameters ),\n\n\t\t\t'#define SHADER_NAME ' + parameters.shaderName,\n\n\t\t\tcustomDefines,\n\n\t\t\tparameters.alphaTest ? '#define ALPHATEST ' + parameters.alphaTest + ( parameters.alphaTest % 1 ? '' : '.0' ) : '', // add '.0' if integer\n\n\t\t\t'#define GAMMA_FACTOR ' + gammaFactorDefine,\n\n\t\t\t( parameters.useFog && parameters.fog ) ? '#define USE_FOG' : '',\n\t\t\t( parameters.useFog && parameters.fogExp2 ) ? '#define FOG_EXP2' : '',\n\n\t\t\tparameters.map ? '#define USE_MAP' : '',\n\t\t\tparameters.matcap ? '#define USE_MATCAP' : '',\n\t\t\tparameters.envMap ? '#define USE_ENVMAP' : '',\n\t\t\tparameters.envMap ? '#define ' + envMapTypeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapModeDefine : '',\n\t\t\tparameters.envMap ? '#define ' + envMapBlendingDefine : '',\n\t\t\tparameters.lightMap ? '#define USE_LIGHTMAP' : '',\n\t\t\tparameters.aoMap ? '#define USE_AOMAP' : '',\n\t\t\tparameters.emissiveMap ? '#define USE_EMISSIVEMAP' : '',\n\t\t\tparameters.bumpMap ? '#define USE_BUMPMAP' : '',\n\t\t\tparameters.normalMap ? '#define USE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.objectSpaceNormalMap ) ? '#define OBJECTSPACE_NORMALMAP' : '',\n\t\t\t( parameters.normalMap && parameters.tangentSpaceNormalMap ) ? '#define TANGENTSPACE_NORMALMAP' : '',\n\t\t\tparameters.clearcoatNormalMap ? '#define USE_CLEARCOAT_NORMALMAP' : '',\n\t\t\tparameters.specularMap ? '#define USE_SPECULARMAP' : '',\n\t\t\tparameters.roughnessMap ? '#define USE_ROUGHNESSMAP' : '',\n\t\t\tparameters.metalnessMap ? '#define USE_METALNESSMAP' : '',\n\t\t\tparameters.alphaMap ? '#define USE_ALPHAMAP' : '',\n\n\t\t\tparameters.sheen ? '#define USE_SHEEN' : '',\n\n\t\t\tparameters.vertexTangents ? '#define USE_TANGENT' : '',\n\t\t\tparameters.vertexColors ? '#define USE_COLOR' : '',\n\t\t\tparameters.vertexUvs ? '#define USE_UV' : '',\n\t\t\tparameters.uvsVertexOnly ? '#define UVS_VERTEX_ONLY' : '',\n\n\t\t\tparameters.gradientMap ? '#define USE_GRADIENTMAP' : '',\n\n\t\t\tparameters.flatShading ? '#define FLAT_SHADED' : '',\n\n\t\t\tparameters.doubleSided ? '#define DOUBLE_SIDED' : '',\n\t\t\tparameters.flipSided ? '#define FLIP_SIDED' : '',\n\n\t\t\tparameters.shadowMapEnabled ? '#define USE_SHADOWMAP' : '',\n\t\t\tparameters.shadowMapEnabled ? '#define ' + shadowMapTypeDefine : '',\n\n\t\t\tparameters.premultipliedAlpha ? '#define PREMULTIPLIED_ALPHA' : '',\n\n\t\t\tparameters.physicallyCorrectLights ? '#define PHYSICALLY_CORRECT_LIGHTS' : '',\n\n\t\t\tparameters.logarithmicDepthBuffer ? '#define USE_LOGDEPTHBUF' : '',\n\t\t\t( parameters.logarithmicDepthBuffer && parameters.rendererExtensionFragDepth ) ? '#define USE_LOGDEPTHBUF_EXT' : '',\n\n\t\t\t( ( parameters.extensionShaderTextureLOD || parameters.envMap ) && parameters.rendererExtensionShaderTextureLod ) ? '#define TEXTURE_LOD_EXT' : '',\n\n\t\t\t'uniform mat4 viewMatrix;',\n\t\t\t'uniform vec3 cameraPosition;',\n\t\t\t'uniform bool isOrthographic;',\n\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? '#define TONE_MAPPING' : '',\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? ShaderChunk[ 'tonemapping_pars_fragment' ] : '', // this code is required here because it is used by the toneMapping() function defined below\n\t\t\t( parameters.toneMapping !== NoToneMapping ) ? getToneMappingFunction( 'toneMapping', parameters.toneMapping ) : '',\n\n\t\t\tparameters.dithering ? '#define DITHERING' : '',\n\n\t\t\t( parameters.outputEncoding || parameters.mapEncoding || parameters.matcapEncoding || parameters.envMapEncoding || parameters.emissiveMapEncoding || parameters.lightMapEncoding ) ?\n\t\t\t\tShaderChunk[ 'encodings_pars_fragment' ] : '', // this code is required here because it is used by the various encoding/decoding function defined below\n\t\t\tparameters.mapEncoding ? getTexelDecodingFunction( 'mapTexelToLinear', parameters.mapEncoding ) : '',\n\t\t\tparameters.matcapEncoding ? getTexelDecodingFunction( 'matcapTexelToLinear', parameters.matcapEncoding ) : '',\n\t\t\tparameters.envMapEncoding ? getTexelDecodingFunction( 'envMapTexelToLinear', parameters.envMapEncoding ) : '',\n\t\t\tparameters.emissiveMapEncoding ? getTexelDecodingFunction( 'emissiveMapTexelToLinear', parameters.emissiveMapEncoding ) : '',\n\t\t\tparameters.lightMapEncoding ? getTexelDecodingFunction( 'lightMapTexelToLinear', parameters.lightMapEncoding ) : '',\n\t\t\tparameters.outputEncoding ? getTexelEncodingFunction( 'linearToOutputTexel', parameters.outputEncoding ) : '',\n\n\t\t\tparameters.depthPacking ? '#define DEPTH_PACKING ' + parameters.depthPacking : '',\n\n\t\t\t'\\n'\n\n\t\t].filter( filterEmptyLine ).join( '\\n' );\n\n\t}\n\n\tvertexShader = resolveIncludes( vertexShader );\n\tvertexShader = replaceLightNums( vertexShader, parameters );\n\tvertexShader = replaceClippingPlaneNums( vertexShader, parameters );\n\n\tfragmentShader = resolveIncludes( fragmentShader );\n\tfragmentShader = replaceLightNums( fragmentShader, parameters );\n\tfragmentShader = replaceClippingPlaneNums( fragmentShader, parameters );\n\n\tvertexShader = unrollLoops( vertexShader );\n\tfragmentShader = unrollLoops( fragmentShader );\n\n\tif ( parameters.isWebGL2 && ! parameters.isRawShaderMaterial ) {\n\n\t\tvar isGLSL3ShaderMaterial = false;\n\n\t\tvar versionRegex = /^\\s*#version\\s+300\\s+es\\s*\\n/;\n\n\t\tif ( parameters.isShaderMaterial &&\n\t\t\tvertexShader.match( versionRegex ) !== null &&\n\t\t\tfragmentShader.match( versionRegex ) !== null ) {\n\n\t\t\tisGLSL3ShaderMaterial = true;\n\n\t\t\tvertexShader = vertexShader.replace( versionRegex, '' );\n\t\t\tfragmentShader = fragmentShader.replace( versionRegex, '' );\n\n\t\t}\n\n\t\t// GLSL 3.0 conversion\n\n\t\tprefixVertex = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define attribute in',\n\t\t\t'#define varying out',\n\t\t\t'#define texture2D texture'\n\t\t].join( '\\n' ) + '\\n' + prefixVertex;\n\n\t\tprefixFragment = [\n\t\t\t'#version 300 es\\n',\n\t\t\t'#define varying in',\n\t\t\tisGLSL3ShaderMaterial ? '' : 'out highp vec4 pc_fragColor;',\n\t\t\tisGLSL3ShaderMaterial ? '' : '#define gl_FragColor pc_fragColor',\n\t\t\t'#define gl_FragDepthEXT gl_FragDepth',\n\t\t\t'#define texture2D texture',\n\t\t\t'#define textureCube texture',\n\t\t\t'#define texture2DProj textureProj',\n\t\t\t'#define texture2DLodEXT textureLod',\n\t\t\t'#define texture2DProjLodEXT textureProjLod',\n\t\t\t'#define textureCubeLodEXT textureLod',\n\t\t\t'#define texture2DGradEXT textureGrad',\n\t\t\t'#define texture2DProjGradEXT textureProjGrad',\n\t\t\t'#define textureCubeGradEXT textureGrad'\n\t\t].join( '\\n' ) + '\\n' + prefixFragment;\n\n\t}\n\n\tvar vertexGlsl = prefixVertex + vertexShader;\n\tvar fragmentGlsl = prefixFragment + fragmentShader;\n\n\t// console.log( '*VERTEX*', vertexGlsl );\n\t// console.log( '*FRAGMENT*', fragmentGlsl );\n\n\tvar glVertexShader = WebGLShader( gl, 35633, vertexGlsl );\n\tvar glFragmentShader = WebGLShader( gl, 35632, fragmentGlsl );\n\n\tgl.attachShader( program, glVertexShader );\n\tgl.attachShader( program, glFragmentShader );\n\n\t// Force a particular attribute to index 0.\n\n\tif ( parameters.index0AttributeName !== undefined ) {\n\n\t\tgl.bindAttribLocation( program, 0, parameters.index0AttributeName );\n\n\t} else if ( parameters.morphTargets === true ) {\n\n\t\t// programs with morphTargets displace position out of attribute 0\n\t\tgl.bindAttribLocation( program, 0, 'position' );\n\n\t}\n\n\tgl.linkProgram( program );\n\n\t// check for link errors\n\tif ( renderer.debug.checkShaderErrors ) {\n\n\t\tvar programLog = gl.getProgramInfoLog( program ).trim();\n\t\tvar vertexLog = gl.getShaderInfoLog( glVertexShader ).trim();\n\t\tvar fragmentLog = gl.getShaderInfoLog( glFragmentShader ).trim();\n\n\t\tvar runnable = true;\n\t\tvar haveDiagnostics = true;\n\n\t\tif ( gl.getProgramParameter( program, 35714 ) === false ) {\n\n\t\t\trunnable = false;\n\n\t\t\tvar vertexErrors = getShaderErrors( gl, glVertexShader, 'vertex' );\n\t\t\tvar fragmentErrors = getShaderErrors( gl, glFragmentShader, 'fragment' );\n\n\t\t\tconsole.error( 'THREE.WebGLProgram: shader error: ', gl.getError(), '35715', gl.getProgramParameter( program, 35715 ), 'gl.getProgramInfoLog', programLog, vertexErrors, fragmentErrors );\n\n\t\t} else if ( programLog !== '' ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLProgram: gl.getProgramInfoLog()', programLog );\n\n\t\t} else if ( vertexLog === '' || fragmentLog === '' ) {\n\n\t\t\thaveDiagnostics = false;\n\n\t\t}\n\n\t\tif ( haveDiagnostics ) {\n\n\t\t\tthis.diagnostics = {\n\n\t\t\t\trunnable: runnable,\n\n\t\t\t\tprogramLog: programLog,\n\n\t\t\t\tvertexShader: {\n\n\t\t\t\t\tlog: vertexLog,\n\t\t\t\t\tprefix: prefixVertex\n\n\t\t\t\t},\n\n\t\t\t\tfragmentShader: {\n\n\t\t\t\t\tlog: fragmentLog,\n\t\t\t\t\tprefix: prefixFragment\n\n\t\t\t\t}\n\n\t\t\t};\n\n\t\t}\n\n\t}\n\n\t// clean up\n\n\tgl.detachShader( program, glVertexShader );\n\tgl.detachShader( program, glFragmentShader );\n\n\tgl.deleteShader( glVertexShader );\n\tgl.deleteShader( glFragmentShader );\n\n\t// set up caching for uniform locations\n\n\tvar cachedUniforms;\n\n\tthis.getUniforms = function () {\n\n\t\tif ( cachedUniforms === undefined ) {\n\n\t\t\tcachedUniforms = new WebGLUniforms( gl, program );\n\n\t\t}\n\n\t\treturn cachedUniforms;\n\n\t};\n\n\t// set up caching for attribute locations\n\n\tvar cachedAttributes;\n\n\tthis.getAttributes = function () {\n\n\t\tif ( cachedAttributes === undefined ) {\n\n\t\t\tcachedAttributes = fetchAttributeLocations( gl, program );\n\n\t\t}\n\n\t\treturn cachedAttributes;\n\n\t};\n\n\t// free resource\n\n\tthis.destroy = function () {\n\n\t\tgl.deleteProgram( program );\n\t\tthis.program = undefined;\n\n\t};\n\n\t//\n\n\tthis.name = parameters.shaderName;\n\tthis.id = programIdCount ++;\n\tthis.cacheKey = cacheKey;\n\tthis.usedTimes = 1;\n\tthis.program = program;\n\tthis.vertexShader = glVertexShader;\n\tthis.fragmentShader = glFragmentShader;\n\n\treturn this;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLPrograms( renderer, extensions, capabilities ) {\n\n\tvar programs = [];\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\tvar logarithmicDepthBuffer = capabilities.logarithmicDepthBuffer;\n\tvar floatVertexTextures = capabilities.floatVertexTextures;\n\tvar precision = capabilities.precision;\n\tvar maxVertexUniforms = capabilities.maxVertexUniforms;\n\tvar vertexTextures = capabilities.vertexTextures;\n\n\tvar shaderIDs = {\n\t\tMeshDepthMaterial: 'depth',\n\t\tMeshDistanceMaterial: 'distanceRGBA',\n\t\tMeshNormalMaterial: 'normal',\n\t\tMeshBasicMaterial: 'basic',\n\t\tMeshLambertMaterial: 'lambert',\n\t\tMeshPhongMaterial: 'phong',\n\t\tMeshToonMaterial: 'toon',\n\t\tMeshStandardMaterial: 'physical',\n\t\tMeshPhysicalMaterial: 'physical',\n\t\tMeshMatcapMaterial: 'matcap',\n\t\tLineBasicMaterial: 'basic',\n\t\tLineDashedMaterial: 'dashed',\n\t\tPointsMaterial: 'points',\n\t\tShadowMaterial: 'shadow',\n\t\tSpriteMaterial: 'sprite'\n\t};\n\n\tvar parameterNames = [\n\t\t\"precision\", \"isWebGL2\", \"supportsVertexTextures\", \"outputEncoding\", \"instancing\",\n\t\t\"map\", \"mapEncoding\", \"matcap\", \"matcapEncoding\", \"envMap\", \"envMapMode\", \"envMapEncoding\", \"envMapCubeUV\",\n\t\t\"lightMap\", \"lightMapEncoding\", \"aoMap\", \"emissiveMap\", \"emissiveMapEncoding\", \"bumpMap\", \"normalMap\", \"objectSpaceNormalMap\", \"tangentSpaceNormalMap\", \"clearcoatNormalMap\", \"displacementMap\", \"specularMap\",\n\t\t\"roughnessMap\", \"metalnessMap\", \"gradientMap\",\n\t\t\"alphaMap\", \"combine\", \"vertexColors\", \"vertexTangents\", \"vertexUvs\", \"uvsVertexOnly\", \"fog\", \"useFog\", \"fogExp2\",\n\t\t\"flatShading\", \"sizeAttenuation\", \"logarithmicDepthBuffer\", \"skinning\",\n\t\t\"maxBones\", \"useVertexTexture\", \"morphTargets\", \"morphNormals\",\n\t\t\"maxMorphTargets\", \"maxMorphNormals\", \"premultipliedAlpha\",\n\t\t\"numDirLights\", \"numPointLights\", \"numSpotLights\", \"numHemiLights\", \"numRectAreaLights\",\n\t\t\"numDirLightShadows\", \"numPointLightShadows\", \"numSpotLightShadows\",\n\t\t\"shadowMapEnabled\", \"shadowMapType\", \"toneMapping\", 'physicallyCorrectLights',\n\t\t\"alphaTest\", \"doubleSided\", \"flipSided\", \"numClippingPlanes\", \"numClipIntersection\", \"depthPacking\", \"dithering\",\n\t\t\"sheen\"\n\t];\n\n\tfunction getShaderObject( material, shaderID ) {\n\n\t\tvar shaderobject;\n\n\t\tif ( shaderID ) {\n\n\t\t\tvar shader = ShaderLib[ shaderID ];\n\n\t\t\tshaderobject = {\n\t\t\t\tname: material.type,\n\t\t\t\tuniforms: UniformsUtils.clone( shader.uniforms ),\n\t\t\t\tvertexShader: shader.vertexShader,\n\t\t\t\tfragmentShader: shader.fragmentShader\n\t\t\t};\n\n\t\t} else {\n\n\t\t\tshaderobject = {\n\t\t\t\tname: material.type,\n\t\t\t\tuniforms: material.uniforms,\n\t\t\t\tvertexShader: material.vertexShader,\n\t\t\t\tfragmentShader: material.fragmentShader\n\t\t\t};\n\n\t\t}\n\n\t\treturn shaderobject;\n\n\t}\n\n\tfunction allocateBones( object ) {\n\n\t\tvar skeleton = object.skeleton;\n\t\tvar bones = skeleton.bones;\n\n\t\tif ( floatVertexTextures ) {\n\n\t\t\treturn 1024;\n\n\t\t} else {\n\n\t\t\t// default for when object is not specified\n\t\t\t// ( for example when prebuilding shader to be used with multiple objects )\n\t\t\t//\n\t\t\t//  - leave some extra space for other uniforms\n\t\t\t//  - limit here is ANGLE's 254 max uniform vectors\n\t\t\t//    (up to 54 should be safe)\n\n\t\t\tvar nVertexUniforms = maxVertexUniforms;\n\t\t\tvar nVertexMatrices = Math.floor( ( nVertexUniforms - 20 ) / 4 );\n\n\t\t\tvar maxBones = Math.min( nVertexMatrices, bones.length );\n\n\t\t\tif ( maxBones < bones.length ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Skeleton has ' + bones.length + ' bones. This GPU supports ' + maxBones + '.' );\n\t\t\t\treturn 0;\n\n\t\t\t}\n\n\t\t\treturn maxBones;\n\n\t\t}\n\n\t}\n\n\tfunction getTextureEncodingFromMap( map ) {\n\n\t\tvar encoding;\n\n\t\tif ( ! map ) {\n\n\t\t\tencoding = LinearEncoding;\n\n\t\t} else if ( map.isTexture ) {\n\n\t\t\tencoding = map.encoding;\n\n\t\t} else if ( map.isWebGLRenderTarget ) {\n\n\t\t\tconsole.warn( \"THREE.WebGLPrograms.getTextureEncodingFromMap: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\tencoding = map.texture.encoding;\n\n\t\t}\n\n\t\treturn encoding;\n\n\t}\n\n\tthis.getParameters = function ( material, lights, shadows, scene, nClipPlanes, nClipIntersection, object ) {\n\n\t\tvar fog = scene.fog;\n\t\tvar environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tvar envMap = material.envMap || environment;\n\n\t\tvar shaderID = shaderIDs[ material.type ];\n\n\t\t// heuristics to create shader parameters according to lights in the scene\n\t\t// (not to blow over maxLights budget)\n\n\t\tvar maxBones = object.isSkinnedMesh ? allocateBones( object ) : 0;\n\n\t\tif ( material.precision !== null ) {\n\n\t\t\tprecision = capabilities.getMaxPrecision( material.precision );\n\n\t\t\tif ( precision !== material.precision ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLProgram.getParameters:', material.precision, 'not supported, using', precision, 'instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar shaderobject = getShaderObject( material, shaderID );\n\t\tmaterial.onBeforeCompile( shaderobject, renderer );\n\n\t\tvar currentRenderTarget = renderer.getRenderTarget();\n\n\t\tvar parameters = {\n\n\t\t\tisWebGL2: isWebGL2,\n\n\t\t\tshaderID: shaderID,\n\t\t\tshaderName: shaderobject.name,\n\n\t\t\tuniforms: shaderobject.uniforms,\n\t\t\tvertexShader: shaderobject.vertexShader,\n\t\t\tfragmentShader: shaderobject.fragmentShader,\n\t\t\tdefines: material.defines,\n\n\t\t\tisRawShaderMaterial: material.isRawShaderMaterial,\n\t\t\tisShaderMaterial: material.isShaderMaterial,\n\n\t\t\tprecision: precision,\n\n\t\t\tinstancing: object.isInstancedMesh === true,\n\n\t\t\tsupportsVertexTextures: vertexTextures,\n\t\t\toutputEncoding: ( currentRenderTarget !== null ) ? getTextureEncodingFromMap( currentRenderTarget.texture ) : renderer.outputEncoding,\n\t\t\tmap: !! material.map,\n\t\t\tmapEncoding: getTextureEncodingFromMap( material.map ),\n\t\t\tmatcap: !! material.matcap,\n\t\t\tmatcapEncoding: getTextureEncodingFromMap( material.matcap ),\n\t\t\tenvMap: !! envMap,\n\t\t\tenvMapMode: envMap && envMap.mapping,\n\t\t\tenvMapEncoding: getTextureEncodingFromMap( envMap ),\n\t\t\tenvMapCubeUV: ( !! envMap ) && ( ( envMap.mapping === CubeUVReflectionMapping ) || ( envMap.mapping === CubeUVRefractionMapping ) ),\n\t\t\tlightMap: !! material.lightMap,\n\t\t\tlightMapEncoding: getTextureEncodingFromMap( material.lightMap ),\n\t\t\taoMap: !! material.aoMap,\n\t\t\temissiveMap: !! material.emissiveMap,\n\t\t\temissiveMapEncoding: getTextureEncodingFromMap( material.emissiveMap ),\n\t\t\tbumpMap: !! material.bumpMap,\n\t\t\tnormalMap: !! material.normalMap,\n\t\t\tobjectSpaceNormalMap: material.normalMapType === ObjectSpaceNormalMap,\n\t\t\ttangentSpaceNormalMap: material.normalMapType === TangentSpaceNormalMap,\n\t\t\tclearcoatNormalMap: !! material.clearcoatNormalMap,\n\t\t\tdisplacementMap: !! material.displacementMap,\n\t\t\troughnessMap: !! material.roughnessMap,\n\t\t\tmetalnessMap: !! material.metalnessMap,\n\t\t\tspecularMap: !! material.specularMap,\n\t\t\talphaMap: !! material.alphaMap,\n\n\t\t\tgradientMap: !! material.gradientMap,\n\n\t\t\tsheen: !! material.sheen,\n\n\t\t\tcombine: material.combine,\n\n\t\t\tvertexTangents: ( material.normalMap && material.vertexTangents ),\n\t\t\tvertexColors: material.vertexColors,\n\t\t\tvertexUvs: !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap || !! material.displacementMap,\n\t\t\tuvsVertexOnly: ! ( !! material.map || !! material.bumpMap || !! material.normalMap || !! material.specularMap || !! material.alphaMap || !! material.emissiveMap || !! material.roughnessMap || !! material.metalnessMap || !! material.clearcoatNormalMap ) && !! material.displacementMap,\n\n\t\t\tfog: !! fog,\n\t\t\tuseFog: material.fog,\n\t\t\tfogExp2: ( fog && fog.isFogExp2 ),\n\n\t\t\tflatShading: material.flatShading,\n\n\t\t\tsizeAttenuation: material.sizeAttenuation,\n\t\t\tlogarithmicDepthBuffer: logarithmicDepthBuffer,\n\n\t\t\tskinning: material.skinning && maxBones > 0,\n\t\t\tmaxBones: maxBones,\n\t\t\tuseVertexTexture: floatVertexTextures,\n\n\t\t\tmorphTargets: material.morphTargets,\n\t\t\tmorphNormals: material.morphNormals,\n\t\t\tmaxMorphTargets: renderer.maxMorphTargets,\n\t\t\tmaxMorphNormals: renderer.maxMorphNormals,\n\n\t\t\tnumDirLights: lights.directional.length,\n\t\t\tnumPointLights: lights.point.length,\n\t\t\tnumSpotLights: lights.spot.length,\n\t\t\tnumRectAreaLights: lights.rectArea.length,\n\t\t\tnumHemiLights: lights.hemi.length,\n\n\t\t\tnumDirLightShadows: lights.directionalShadowMap.length,\n\t\t\tnumPointLightShadows: lights.pointShadowMap.length,\n\t\t\tnumSpotLightShadows: lights.spotShadowMap.length,\n\n\t\t\tnumClippingPlanes: nClipPlanes,\n\t\t\tnumClipIntersection: nClipIntersection,\n\n\t\t\tdithering: material.dithering,\n\n\t\t\tshadowMapEnabled: renderer.shadowMap.enabled && shadows.length > 0,\n\t\t\tshadowMapType: renderer.shadowMap.type,\n\n\t\t\ttoneMapping: material.toneMapped ? renderer.toneMapping : NoToneMapping,\n\t\t\tphysicallyCorrectLights: renderer.physicallyCorrectLights,\n\n\t\t\tpremultipliedAlpha: material.premultipliedAlpha,\n\n\t\t\talphaTest: material.alphaTest,\n\t\t\tdoubleSided: material.side === DoubleSide,\n\t\t\tflipSided: material.side === BackSide,\n\n\t\t\tdepthPacking: ( material.depthPacking !== undefined ) ? material.depthPacking : false,\n\n\t\t\tindex0AttributeName: material.index0AttributeName,\n\n\t\t\textensionDerivatives: material.extensions && material.extensions.derivatives,\n\t\t\textensionFragDepth: material.extensions && material.extensions.fragDepth,\n\t\t\textensionDrawbuffers: material.extensions && material.extensions.drawBuffers,\n\t\t\textensionShaderTextureLOD: material.extensions && material.extensions.shaderTextureLOD,\n\n\t\t\trendererExtensionFragDepth: isWebGL2 || extensions.get( 'EXT_frag_depth' ) !== null,\n\t\t\trendererExtensionDrawBuffers: isWebGL2 || extensions.get( 'WEBGL_draw_buffers' ) !== null,\n\t\t\trendererExtensionShaderTextureLod: isWebGL2 || extensions.get( 'EXT_shader_texture_lod' ) !== null,\n\n\t\t\tonBeforeCompile: material.onBeforeCompile\n\n\t\t};\n\n\t\treturn parameters;\n\n\t};\n\n\tthis.getProgramCacheKey = function ( parameters ) {\n\n\t\tvar array = [];\n\n\t\tif ( parameters.shaderID ) {\n\n\t\t\tarray.push( parameters.shaderID );\n\n\t\t} else {\n\n\t\t\tarray.push( parameters.fragmentShader );\n\t\t\tarray.push( parameters.vertexShader );\n\n\t\t}\n\n\t\tif ( parameters.defines !== undefined ) {\n\n\t\t\tfor ( var name in parameters.defines ) {\n\n\t\t\t\tarray.push( name );\n\t\t\t\tarray.push( parameters.defines[ name ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( parameters.isRawShaderMaterial === undefined ) {\n\n\t\t\tfor ( var i = 0; i < parameterNames.length; i ++ ) {\n\n\t\t\t\tarray.push( parameters[ parameterNames[ i ] ] );\n\n\t\t\t}\n\n\t\t\tarray.push( renderer.outputEncoding );\n\t\t\tarray.push( renderer.gammaFactor );\n\n\t\t}\n\n\t\tarray.push( parameters.onBeforeCompile.toString() );\n\n\t\treturn array.join();\n\n\t};\n\n\tthis.acquireProgram = function ( parameters, cacheKey ) {\n\n\t\tvar program;\n\n\t\t// Check if code has been already compiled\n\t\tfor ( var p = 0, pl = programs.length; p < pl; p ++ ) {\n\n\t\t\tvar preexistingProgram = programs[ p ];\n\n\t\t\tif ( preexistingProgram.cacheKey === cacheKey ) {\n\n\t\t\t\tprogram = preexistingProgram;\n\t\t\t\t++ program.usedTimes;\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( program === undefined ) {\n\n\t\t\tprogram = new WebGLProgram( renderer, cacheKey, parameters );\n\t\t\tprograms.push( program );\n\n\t\t}\n\n\t\treturn program;\n\n\t};\n\n\tthis.releaseProgram = function ( program ) {\n\n\t\tif ( -- program.usedTimes === 0 ) {\n\n\t\t\t// Remove from unordered set\n\t\t\tvar i = programs.indexOf( program );\n\t\t\tprograms[ i ] = programs[ programs.length - 1 ];\n\t\t\tprograms.pop();\n\n\t\t\t// Free WebGL resources\n\t\t\tprogram.destroy();\n\n\t\t}\n\n\t};\n\n\t// Exposed for resource monitoring & error feedback via renderer.info:\n\tthis.programs = programs;\n\n}\n\n/**\n * @author fordacious / fordacious.github.io\n */\n\nfunction WebGLProperties() {\n\n\tvar properties = new WeakMap();\n\n\tfunction get( object ) {\n\n\t\tvar map = properties.get( object );\n\n\t\tif ( map === undefined ) {\n\n\t\t\tmap = {};\n\t\t\tproperties.set( object, map );\n\n\t\t}\n\n\t\treturn map;\n\n\t}\n\n\tfunction remove( object ) {\n\n\t\tproperties.delete( object );\n\n\t}\n\n\tfunction update( object, key, value ) {\n\n\t\tproperties.get( object )[ key ] = value;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tproperties = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tremove: remove,\n\t\tupdate: update,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction painterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.program !== b.program ) {\n\n\t\treturn a.program.id - b.program.id;\n\n\t} else if ( a.material.id !== b.material.id ) {\n\n\t\treturn a.material.id - b.material.id;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn a.z - b.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\nfunction reversePainterSortStable( a, b ) {\n\n\tif ( a.groupOrder !== b.groupOrder ) {\n\n\t\treturn a.groupOrder - b.groupOrder;\n\n\t} else if ( a.renderOrder !== b.renderOrder ) {\n\n\t\treturn a.renderOrder - b.renderOrder;\n\n\t} else if ( a.z !== b.z ) {\n\n\t\treturn b.z - a.z;\n\n\t} else {\n\n\t\treturn a.id - b.id;\n\n\t}\n\n}\n\n\nfunction WebGLRenderList() {\n\n\tvar renderItems = [];\n\tvar renderItemsIndex = 0;\n\n\tvar opaque = [];\n\tvar transparent = [];\n\n\tvar defaultProgram = { id: - 1 };\n\n\tfunction init() {\n\n\t\trenderItemsIndex = 0;\n\n\t\topaque.length = 0;\n\t\ttransparent.length = 0;\n\n\t}\n\n\tfunction getNextRenderItem( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = renderItems[ renderItemsIndex ];\n\n\t\tif ( renderItem === undefined ) {\n\n\t\t\trenderItem = {\n\t\t\t\tid: object.id,\n\t\t\t\tobject: object,\n\t\t\t\tgeometry: geometry,\n\t\t\t\tmaterial: material,\n\t\t\t\tprogram: material.program || defaultProgram,\n\t\t\t\tgroupOrder: groupOrder,\n\t\t\t\trenderOrder: object.renderOrder,\n\t\t\t\tz: z,\n\t\t\t\tgroup: group\n\t\t\t};\n\n\t\t\trenderItems[ renderItemsIndex ] = renderItem;\n\n\t\t} else {\n\n\t\t\trenderItem.id = object.id;\n\t\t\trenderItem.object = object;\n\t\t\trenderItem.geometry = geometry;\n\t\t\trenderItem.material = material;\n\t\t\trenderItem.program = material.program || defaultProgram;\n\t\t\trenderItem.groupOrder = groupOrder;\n\t\t\trenderItem.renderOrder = object.renderOrder;\n\t\t\trenderItem.z = z;\n\t\t\trenderItem.group = group;\n\n\t\t}\n\n\t\trenderItemsIndex ++;\n\n\t\treturn renderItem;\n\n\t}\n\n\tfunction push( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).push( renderItem );\n\n\t}\n\n\tfunction unshift( object, geometry, material, groupOrder, z, group ) {\n\n\t\tvar renderItem = getNextRenderItem( object, geometry, material, groupOrder, z, group );\n\n\t\t( material.transparent === true ? transparent : opaque ).unshift( renderItem );\n\n\t}\n\n\tfunction sort( customOpaqueSort, customTransparentSort ) {\n\n\t\tif ( opaque.length > 1 ) opaque.sort( customOpaqueSort || painterSortStable );\n\t\tif ( transparent.length > 1 ) transparent.sort( customTransparentSort || reversePainterSortStable );\n\n\t}\n\n\tfunction finish() {\n\n\t\t// Clear references from inactive renderItems in the list\n\n\t\tfor ( var i = renderItemsIndex, il = renderItems.length; i < il; i ++ ) {\n\n\t\t\tvar renderItem = renderItems[ i ];\n\n\t\t\tif ( renderItem.id === null ) break;\n\n\t\t\trenderItem.id = null;\n\t\t\trenderItem.object = null;\n\t\t\trenderItem.geometry = null;\n\t\t\trenderItem.material = null;\n\t\t\trenderItem.program = null;\n\t\t\trenderItem.group = null;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\topaque: opaque,\n\t\ttransparent: transparent,\n\n\t\tinit: init,\n\t\tpush: push,\n\t\tunshift: unshift,\n\t\tfinish: finish,\n\n\t\tsort: sort\n\t};\n\n}\n\nfunction WebGLRenderLists() {\n\n\tvar lists = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\tlists.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar cameras = lists.get( scene );\n\t\tvar list;\n\t\tif ( cameras === undefined ) {\n\n\t\t\tlist = new WebGLRenderList();\n\t\t\tlists.set( scene, new WeakMap() );\n\t\t\tlists.get( scene ).set( camera, list );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tlist = cameras.get( camera );\n\t\t\tif ( list === undefined ) {\n\n\t\t\t\tlist = new WebGLRenderList();\n\t\t\t\tcameras.set( camera, list );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn list;\n\n\t}\n\n\tfunction dispose() {\n\n\t\tlists = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction UniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tconeCos: 0,\n\t\t\t\t\t\tpenumbraCos: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tdistance: 0,\n\t\t\t\t\t\tdecay: 0\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'HemisphereLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tdirection: new Vector3(),\n\t\t\t\t\t\tskyColor: new Color(),\n\t\t\t\t\t\tgroundColor: new Color()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'RectAreaLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tcolor: new Color(),\n\t\t\t\t\t\tposition: new Vector3(),\n\t\t\t\t\t\thalfWidth: new Vector3(),\n\t\t\t\t\t\thalfHeight: new Vector3()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\nfunction ShadowUniformsCache() {\n\n\tvar lights = {};\n\n\treturn {\n\n\t\tget: function ( light ) {\n\n\t\t\tif ( lights[ light.id ] !== undefined ) {\n\n\t\t\t\treturn lights[ light.id ];\n\n\t\t\t}\n\n\t\t\tvar uniforms;\n\n\t\t\tswitch ( light.type ) {\n\n\t\t\t\tcase 'DirectionalLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'SpotLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2()\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'PointLight':\n\t\t\t\t\tuniforms = {\n\t\t\t\t\t\tshadowBias: 0,\n\t\t\t\t\t\tshadowRadius: 1,\n\t\t\t\t\t\tshadowMapSize: new Vector2(),\n\t\t\t\t\t\tshadowCameraNear: 1,\n\t\t\t\t\t\tshadowCameraFar: 1000\n\t\t\t\t\t};\n\t\t\t\t\tbreak;\n\n\t\t\t\t// TODO (abelnation): set RectAreaLight shadow uniforms\n\n\t\t\t}\n\n\t\t\tlights[ light.id ] = uniforms;\n\n\t\t\treturn uniforms;\n\n\t\t}\n\n\t};\n\n}\n\n\n\nvar nextVersion = 0;\n\nfunction shadowCastingLightsFirst( lightA, lightB ) {\n\n\treturn ( lightB.castShadow ? 1 : 0 ) - ( lightA.castShadow ? 1 : 0 );\n\n}\n\nfunction WebGLLights() {\n\n\tvar cache = new UniformsCache();\n\n\tvar shadowCache = ShadowUniformsCache();\n\n\tvar state = {\n\n\t\tversion: 0,\n\n\t\thash: {\n\t\t\tdirectionalLength: - 1,\n\t\t\tpointLength: - 1,\n\t\t\tspotLength: - 1,\n\t\t\trectAreaLength: - 1,\n\t\t\themiLength: - 1,\n\n\t\t\tnumDirectionalShadows: - 1,\n\t\t\tnumPointShadows: - 1,\n\t\t\tnumSpotShadows: - 1\n\t\t},\n\n\t\tambient: [ 0, 0, 0 ],\n\t\tprobe: [],\n\t\tdirectional: [],\n\t\tdirectionalShadow: [],\n\t\tdirectionalShadowMap: [],\n\t\tdirectionalShadowMatrix: [],\n\t\tspot: [],\n\t\tspotShadow: [],\n\t\tspotShadowMap: [],\n\t\tspotShadowMatrix: [],\n\t\trectArea: [],\n\t\tpoint: [],\n\t\tpointShadow: [],\n\t\tpointShadowMap: [],\n\t\tpointShadowMatrix: [],\n\t\themi: []\n\n\t};\n\n\tfor ( var i = 0; i < 9; i ++ ) state.probe.push( new Vector3() );\n\n\tvar vector3 = new Vector3();\n\tvar matrix4 = new Matrix4();\n\tvar matrix42 = new Matrix4();\n\n\tfunction setup( lights, shadows, camera ) {\n\n\t\tvar r = 0, g = 0, b = 0;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) state.probe[ i ].set( 0, 0, 0 );\n\n\t\tvar directionalLength = 0;\n\t\tvar pointLength = 0;\n\t\tvar spotLength = 0;\n\t\tvar rectAreaLength = 0;\n\t\tvar hemiLength = 0;\n\n\t\tvar numDirectionalShadows = 0;\n\t\tvar numPointShadows = 0;\n\t\tvar numSpotShadows = 0;\n\n\t\tvar viewMatrix = camera.matrixWorldInverse;\n\n\t\tlights.sort( shadowCastingLightsFirst );\n\n\t\tfor ( var i = 0, l = lights.length; i < l; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\n\t\t\tvar color = light.color;\n\t\t\tvar intensity = light.intensity;\n\t\t\tvar distance = light.distance;\n\n\t\t\tvar shadowMap = ( light.shadow && light.shadow.map ) ? light.shadow.map.texture : null;\n\n\t\t\tif ( light.isAmbientLight ) {\n\n\t\t\t\tr += color.r * intensity;\n\t\t\t\tg += color.g * intensity;\n\t\t\t\tb += color.b * intensity;\n\n\t\t\t} else if ( light.isLightProbe ) {\n\n\t\t\t\tfor ( var j = 0; j < 9; j ++ ) {\n\n\t\t\t\t\tstate.probe[ j ].addScaledVector( light.sh.coefficients[ j ], intensity );\n\n\t\t\t\t}\n\n\t\t\t} else if ( light.isDirectionalLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.directionalShadow[ directionalLength ] = shadowUniforms;\n\t\t\t\t\tstate.directionalShadowMap[ directionalLength ] = shadowMap;\n\t\t\t\t\tstate.directionalShadowMatrix[ directionalLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumDirectionalShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.directional[ directionalLength ] = uniforms;\n\n\t\t\t\tdirectionalLength ++;\n\n\t\t\t} else if ( light.isSpotLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.distance = distance;\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tvector3.setFromMatrixPosition( light.target.matrixWorld );\n\t\t\t\tuniforms.direction.sub( vector3 );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\n\t\t\t\tuniforms.coneCos = Math.cos( light.angle );\n\t\t\t\tuniforms.penumbraCos = Math.cos( light.angle * ( 1 - light.penumbra ) );\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\n\t\t\t\t\tstate.spotShadow[ spotLength ] = shadowUniforms;\n\t\t\t\t\tstate.spotShadowMap[ spotLength ] = shadowMap;\n\t\t\t\t\tstate.spotShadowMatrix[ spotLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumSpotShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.spot[ spotLength ] = uniforms;\n\n\t\t\t\tspotLength ++;\n\n\t\t\t} else if ( light.isRectAreaLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\t// (a) intensity is the total visible light emitted\n\t\t\t\t//uniforms.color.copy( color ).multiplyScalar( intensity / ( light.width * light.height * Math.PI ) );\n\n\t\t\t\t// (b) intensity is the brightness of the light\n\t\t\t\tuniforms.color.copy( color ).multiplyScalar( intensity );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\t// extract local rotation of light to derive width/height half vectors\n\t\t\t\tmatrix42.identity();\n\t\t\t\tmatrix4.copy( light.matrixWorld );\n\t\t\t\tmatrix4.premultiply( viewMatrix );\n\t\t\t\tmatrix42.extractRotation( matrix4 );\n\n\t\t\t\tuniforms.halfWidth.set( light.width * 0.5, 0.0, 0.0 );\n\t\t\t\tuniforms.halfHeight.set( 0.0, light.height * 0.5, 0.0 );\n\n\t\t\t\tuniforms.halfWidth.applyMatrix4( matrix42 );\n\t\t\t\tuniforms.halfHeight.applyMatrix4( matrix42 );\n\n\t\t\t\t// TODO (abelnation): RectAreaLight distance?\n\t\t\t\t// uniforms.distance = distance;\n\n\t\t\t\tstate.rectArea[ rectAreaLength ] = uniforms;\n\n\t\t\t\trectAreaLength ++;\n\n\t\t\t} else if ( light.isPointLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.position.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.position.applyMatrix4( viewMatrix );\n\n\t\t\t\tuniforms.color.copy( light.color ).multiplyScalar( light.intensity );\n\t\t\t\tuniforms.distance = light.distance;\n\t\t\t\tuniforms.decay = light.decay;\n\n\t\t\t\tif ( light.castShadow ) {\n\n\t\t\t\t\tvar shadow = light.shadow;\n\n\t\t\t\t\tvar shadowUniforms = shadowCache.get( light );\n\n\t\t\t\t\tshadowUniforms.shadowBias = shadow.bias;\n\t\t\t\t\tshadowUniforms.shadowRadius = shadow.radius;\n\t\t\t\t\tshadowUniforms.shadowMapSize = shadow.mapSize;\n\t\t\t\t\tshadowUniforms.shadowCameraNear = shadow.camera.near;\n\t\t\t\t\tshadowUniforms.shadowCameraFar = shadow.camera.far;\n\n\t\t\t\t\tstate.pointShadow[ pointLength ] = shadowUniforms;\n\t\t\t\t\tstate.pointShadowMap[ pointLength ] = shadowMap;\n\t\t\t\t\tstate.pointShadowMatrix[ pointLength ] = light.shadow.matrix;\n\n\t\t\t\t\tnumPointShadows ++;\n\n\t\t\t\t}\n\n\t\t\t\tstate.point[ pointLength ] = uniforms;\n\n\t\t\t\tpointLength ++;\n\n\t\t\t} else if ( light.isHemisphereLight ) {\n\n\t\t\t\tvar uniforms = cache.get( light );\n\n\t\t\t\tuniforms.direction.setFromMatrixPosition( light.matrixWorld );\n\t\t\t\tuniforms.direction.transformDirection( viewMatrix );\n\t\t\t\tuniforms.direction.normalize();\n\n\t\t\t\tuniforms.skyColor.copy( light.color ).multiplyScalar( intensity );\n\t\t\t\tuniforms.groundColor.copy( light.groundColor ).multiplyScalar( intensity );\n\n\t\t\t\tstate.hemi[ hemiLength ] = uniforms;\n\n\t\t\t\themiLength ++;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.ambient[ 0 ] = r;\n\t\tstate.ambient[ 1 ] = g;\n\t\tstate.ambient[ 2 ] = b;\n\n\t\tvar hash = state.hash;\n\n\t\tif ( hash.directionalLength !== directionalLength ||\n\t\t\thash.pointLength !== pointLength ||\n\t\t\thash.spotLength !== spotLength ||\n\t\t\thash.rectAreaLength !== rectAreaLength ||\n\t\t\thash.hemiLength !== hemiLength ||\n\t\t\thash.numDirectionalShadows !== numDirectionalShadows ||\n\t\t\thash.numPointShadows !== numPointShadows ||\n\t\t\thash.numSpotShadows !== numSpotShadows ) {\n\n\t\t\tstate.directional.length = directionalLength;\n\t\t\tstate.spot.length = spotLength;\n\t\t\tstate.rectArea.length = rectAreaLength;\n\t\t\tstate.point.length = pointLength;\n\t\t\tstate.hemi.length = hemiLength;\n\n\t\t\tstate.directionalShadow.length = numDirectionalShadows;\n\t\t\tstate.directionalShadowMap.length = numDirectionalShadows;\n\t\t\tstate.pointShadow.length = numPointShadows;\n\t\t\tstate.pointShadowMap.length = numPointShadows;\n\t\t\tstate.spotShadow.length = numSpotShadows;\n\t\t\tstate.spotShadowMap.length = numSpotShadows;\n\t\t\tstate.directionalShadowMatrix.length = numDirectionalShadows;\n\t\t\tstate.pointShadowMatrix.length = numPointShadows;\n\t\t\tstate.spotShadowMatrix.length = numSpotShadows;\n\n\t\t\thash.directionalLength = directionalLength;\n\t\t\thash.pointLength = pointLength;\n\t\t\thash.spotLength = spotLength;\n\t\t\thash.rectAreaLength = rectAreaLength;\n\t\t\thash.hemiLength = hemiLength;\n\n\t\t\thash.numDirectionalShadows = numDirectionalShadows;\n\t\t\thash.numPointShadows = numPointShadows;\n\t\t\thash.numSpotShadows = numSpotShadows;\n\n\t\t\tstate.version = nextVersion ++;\n\n\t\t}\n\n\t}\n\n\treturn {\n\t\tsetup: setup,\n\t\tstate: state\n\t};\n\n}\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WebGLRenderState() {\n\n\tvar lights = new WebGLLights();\n\n\tvar lightsArray = [];\n\tvar shadowsArray = [];\n\n\tfunction init() {\n\n\t\tlightsArray.length = 0;\n\t\tshadowsArray.length = 0;\n\n\t}\n\n\tfunction pushLight( light ) {\n\n\t\tlightsArray.push( light );\n\n\t}\n\n\tfunction pushShadow( shadowLight ) {\n\n\t\tshadowsArray.push( shadowLight );\n\n\t}\n\n\tfunction setupLights( camera ) {\n\n\t\tlights.setup( lightsArray, shadowsArray, camera );\n\n\t}\n\n\tvar state = {\n\t\tlightsArray: lightsArray,\n\t\tshadowsArray: shadowsArray,\n\n\t\tlights: lights\n\t};\n\n\treturn {\n\t\tinit: init,\n\t\tstate: state,\n\t\tsetupLights: setupLights,\n\n\t\tpushLight: pushLight,\n\t\tpushShadow: pushShadow\n\t};\n\n}\n\nfunction WebGLRenderStates() {\n\n\tvar renderStates = new WeakMap();\n\n\tfunction onSceneDispose( event ) {\n\n\t\tvar scene = event.target;\n\n\t\tscene.removeEventListener( 'dispose', onSceneDispose );\n\n\t\trenderStates.delete( scene );\n\n\t}\n\n\tfunction get( scene, camera ) {\n\n\t\tvar renderState;\n\n\t\tif ( renderStates.has( scene ) === false ) {\n\n\t\t\trenderState = new WebGLRenderState();\n\t\t\trenderStates.set( scene, new WeakMap() );\n\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\tscene.addEventListener( 'dispose', onSceneDispose );\n\n\t\t} else {\n\n\t\t\tif ( renderStates.get( scene ).has( camera ) === false ) {\n\n\t\t\t\trenderState = new WebGLRenderState();\n\t\t\t\trenderStates.get( scene ).set( camera, renderState );\n\n\t\t\t} else {\n\n\t\t\t\trenderState = renderStates.get( scene ).get( camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn renderState;\n\n\t}\n\n\tfunction dispose() {\n\n\t\trenderStates = new WeakMap();\n\n\t}\n\n\treturn {\n\t\tget: get,\n\t\tdispose: dispose\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author bhouston / https://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n * }\n */\n\nfunction MeshDepthMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDepthMaterial';\n\n\tthis.depthPacking = BasicDepthPacking;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDepthMaterial.prototype = Object.create( Material.prototype );\nMeshDepthMaterial.prototype.constructor = MeshDepthMaterial;\n\nMeshDepthMaterial.prototype.isMeshDepthMaterial = true;\n\nMeshDepthMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.depthPacking = source.depthPacking;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *\n *  referencePosition: <float>,\n *  nearDistance: <float>,\n *  farDistance: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>\n *\n * }\n */\n\nfunction MeshDistanceMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshDistanceMaterial';\n\n\tthis.referencePosition = new Vector3();\n\tthis.nearDistance = 1;\n\tthis.farDistance = 1000;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.fog = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshDistanceMaterial.prototype = Object.create( Material.prototype );\nMeshDistanceMaterial.prototype.constructor = MeshDistanceMaterial;\n\nMeshDistanceMaterial.prototype.isMeshDistanceMaterial = true;\n\nMeshDistanceMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.referencePosition.copy( source.referencePosition );\n\tthis.nearDistance = source.nearDistance;\n\tthis.farDistance = source.farDistance;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\treturn this;\n\n};\n\nvar vsm_frag = \"uniform sampler2D shadow_pass;\\nuniform vec2 resolution;\\nuniform float radius;\\n#include <packing>\\nvoid main() {\\n  float mean = 0.0;\\n  float squared_mean = 0.0;\\n\\tfloat depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy  ) / resolution ) );\\n  for ( float i = -1.0; i < 1.0 ; i += SAMPLE_RATE) {\\n    #ifdef HORIZONAL_PASS\\n      vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( i, 0.0 ) * radius ) / resolution ) );\\n      mean += distribution.x;\\n      squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;\\n    #else\\n      float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0,  i )  * radius ) / resolution ) );\\n      mean += depth;\\n      squared_mean += depth * depth;\\n    #endif\\n  }\\n  mean = mean * HALF_SAMPLE_RATE;\\n  squared_mean = squared_mean * HALF_SAMPLE_RATE;\\n  float std_dev = sqrt( squared_mean - mean * mean );\\n  gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );\\n}\";\n\nvar vsm_vert = \"void main() {\\n\\tgl_Position = vec4( position, 1.0 );\\n}\";\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLShadowMap( _renderer, _objects, maxTextureSize ) {\n\n\tvar _frustum = new Frustum(),\n\n\t\t_shadowMapSize = new Vector2(),\n\t\t_viewportSize = new Vector2(),\n\n\t\t_viewport = new Vector4(),\n\n\t\t_depthMaterials = [],\n\t\t_distanceMaterials = [],\n\n\t\t_materialCache = {};\n\n\tvar shadowSide = { 0: BackSide, 1: FrontSide, 2: DoubleSide };\n\n\tvar shadowMaterialVertical = new ShaderMaterial( {\n\n\t\tdefines: {\n\t\t\tSAMPLE_RATE: 2.0 / 8.0,\n\t\t\tHALF_SAMPLE_RATE: 1.0 / 8.0\n\t\t},\n\n\t\tuniforms: {\n\t\t\tshadow_pass: { value: null },\n\t\t\tresolution: { value: new Vector2() },\n\t\t\tradius: { value: 4.0 }\n\t\t},\n\n\t\tvertexShader: vsm_vert,\n\n\t\tfragmentShader: vsm_frag\n\n\t} );\n\n\tvar shadowMaterialHorizonal = shadowMaterialVertical.clone();\n\tshadowMaterialHorizonal.defines.HORIZONAL_PASS = 1;\n\n\tvar fullScreenTri = new BufferGeometry();\n\tfullScreenTri.setAttribute(\n\t\t\"position\",\n\t\tnew BufferAttribute(\n\t\t\tnew Float32Array( [ - 1, - 1, 0.5, 3, - 1, 0.5, - 1, 3, 0.5 ] ),\n\t\t\t3\n\t\t)\n\t);\n\n\tvar fullScreenMesh = new Mesh( fullScreenTri, shadowMaterialVertical );\n\n\tvar scope = this;\n\n\tthis.enabled = false;\n\n\tthis.autoUpdate = true;\n\tthis.needsUpdate = false;\n\n\tthis.type = PCFShadowMap;\n\n\tthis.render = function ( lights, scene, camera ) {\n\n\t\tif ( scope.enabled === false ) return;\n\t\tif ( scope.autoUpdate === false && scope.needsUpdate === false ) return;\n\n\t\tif ( lights.length === 0 ) return;\n\n\t\tvar currentRenderTarget = _renderer.getRenderTarget();\n\t\tvar activeCubeFace = _renderer.getActiveCubeFace();\n\t\tvar activeMipmapLevel = _renderer.getActiveMipmapLevel();\n\n\t\tvar _state = _renderer.state;\n\n\t\t// Set GL state for depth map.\n\t\t_state.setBlending( NoBlending );\n\t\t_state.buffers.color.setClear( 1, 1, 1, 1 );\n\t\t_state.buffers.depth.setTest( true );\n\t\t_state.setScissorTest( false );\n\n\t\t// render depth map\n\n\t\tfor ( var i = 0, il = lights.length; i < il; i ++ ) {\n\n\t\t\tvar light = lights[ i ];\n\t\t\tvar shadow = light.shadow;\n\n\t\t\tif ( shadow === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has no shadow.' );\n\t\t\t\tcontinue;\n\n\t\t\t}\n\n\t\t\t_shadowMapSize.copy( shadow.mapSize );\n\n\t\t\tvar shadowFrameExtents = shadow.getFrameExtents();\n\n\t\t\t_shadowMapSize.multiply( shadowFrameExtents );\n\n\t\t\t_viewportSize.copy( shadow.mapSize );\n\n\t\t\tif ( _shadowMapSize.x > maxTextureSize || _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap:', light, 'has shadow exceeding max texture size, reducing' );\n\n\t\t\t\tif ( _shadowMapSize.x > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.x = Math.floor( maxTextureSize / shadowFrameExtents.x );\n\t\t\t\t\t_shadowMapSize.x = _viewportSize.x * shadowFrameExtents.x;\n\t\t\t\t\tshadow.mapSize.x = _viewportSize.x;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _shadowMapSize.y > maxTextureSize ) {\n\n\t\t\t\t\t_viewportSize.y = Math.floor( maxTextureSize / shadowFrameExtents.y );\n\t\t\t\t\t_shadowMapSize.y = _viewportSize.y * shadowFrameExtents.y;\n\t\t\t\t\tshadow.mapSize.y = _viewportSize.y;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null && ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tvar pars = { minFilter: LinearFilter, magFilter: LinearFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.mapPass = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\tif ( shadow.map === null ) {\n\n\t\t\t\tvar pars = { minFilter: NearestFilter, magFilter: NearestFilter, format: RGBAFormat };\n\n\t\t\t\tshadow.map = new WebGLRenderTarget( _shadowMapSize.x, _shadowMapSize.y, pars );\n\t\t\t\tshadow.map.texture.name = light.name + \".shadowMap\";\n\n\t\t\t\tshadow.camera.updateProjectionMatrix();\n\n\t\t\t}\n\n\t\t\t_renderer.setRenderTarget( shadow.map );\n\t\t\t_renderer.clear();\n\n\t\t\tvar viewportCount = shadow.getViewportCount();\n\n\t\t\tfor ( var vp = 0; vp < viewportCount; vp ++ ) {\n\n\t\t\t\tvar viewport = shadow.getViewport( vp );\n\n\t\t\t\t_viewport.set(\n\t\t\t\t\t_viewportSize.x * viewport.x,\n\t\t\t\t\t_viewportSize.y * viewport.y,\n\t\t\t\t\t_viewportSize.x * viewport.z,\n\t\t\t\t\t_viewportSize.y * viewport.w\n\t\t\t\t);\n\n\t\t\t\t_state.viewport( _viewport );\n\n\t\t\t\tshadow.updateMatrices( light, vp );\n\n\t\t\t\t_frustum = shadow.getFrustum();\n\n\t\t\t\trenderObject( scene, camera, shadow.camera, light, this.type );\n\n\t\t\t}\n\n\t\t\t// do blur pass for VSM\n\n\t\t\tif ( ! shadow.isPointLightShadow && this.type === VSMShadowMap ) {\n\n\t\t\t\tVSMPass( shadow, camera );\n\n\t\t\t}\n\n\t\t}\n\n\t\tscope.needsUpdate = false;\n\n\t\t_renderer.setRenderTarget( currentRenderTarget, activeCubeFace, activeMipmapLevel );\n\n\t};\n\n\tfunction VSMPass( shadow, camera ) {\n\n\t\tvar geometry = _objects.update( fullScreenMesh );\n\n\t\t// vertical pass\n\n\t\tshadowMaterialVertical.uniforms.shadow_pass.value = shadow.map.texture;\n\t\tshadowMaterialVertical.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialVertical.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.mapPass );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialVertical, fullScreenMesh, null );\n\n\t\t// horizonal pass\n\n\t\tshadowMaterialHorizonal.uniforms.shadow_pass.value = shadow.mapPass.texture;\n\t\tshadowMaterialHorizonal.uniforms.resolution.value = shadow.mapSize;\n\t\tshadowMaterialHorizonal.uniforms.radius.value = shadow.radius;\n\t\t_renderer.setRenderTarget( shadow.map );\n\t\t_renderer.clear();\n\t\t_renderer.renderBufferDirect( camera, null, geometry, shadowMaterialHorizonal, fullScreenMesh, null );\n\n\t}\n\n\tfunction getDepthMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tvar index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tvar material = _depthMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDepthMaterial( {\n\n\t\t\t\tdepthPacking: RGBADepthPacking,\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_depthMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDistanceMaterialVariant( useMorphing, useSkinning, useInstancing ) {\n\n\t\tvar index = useMorphing << 0 | useSkinning << 1 | useInstancing << 2;\n\n\t\tvar material = _distanceMaterials[ index ];\n\n\t\tif ( material === undefined ) {\n\n\t\t\tmaterial = new MeshDistanceMaterial( {\n\n\t\t\t\tmorphTargets: useMorphing,\n\t\t\t\tskinning: useSkinning\n\n\t\t\t} );\n\n\t\t\t_distanceMaterials[ index ] = material;\n\n\t\t}\n\n\t\treturn material;\n\n\t}\n\n\tfunction getDepthMaterial( object, material, light, shadowCameraNear, shadowCameraFar, type ) {\n\n\t\tvar geometry = object.geometry;\n\n\t\tvar result = null;\n\n\t\tvar getMaterialVariant = getDepthMaterialVariant;\n\t\tvar customMaterial = object.customDepthMaterial;\n\n\t\tif ( light.isPointLight === true ) {\n\n\t\t\tgetMaterialVariant = getDistanceMaterialVariant;\n\t\t\tcustomMaterial = object.customDistanceMaterial;\n\n\t\t}\n\n\t\tif ( customMaterial === undefined ) {\n\n\t\t\tvar useMorphing = false;\n\n\t\t\tif ( material.morphTargets === true ) {\n\n\t\t\t\tif ( geometry.isBufferGeometry === true ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphAttributes && geometry.morphAttributes.position && geometry.morphAttributes.position.length > 0;\n\n\t\t\t\t} else if ( geometry.isGeometry === true ) {\n\n\t\t\t\t\tuseMorphing = geometry.morphTargets && geometry.morphTargets.length > 0;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar useSkinning = false;\n\n\t\t\tif ( object.isSkinnedMesh === true ) {\n\n\t\t\t\tif ( material.skinning === true ) {\n\n\t\t\t\t\tuseSkinning = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLShadowMap: THREE.SkinnedMesh with material.skinning set to false:', object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar useInstancing = object.isInstancedMesh === true;\n\n\t\t\tresult = getMaterialVariant( useMorphing, useSkinning, useInstancing );\n\n\t\t} else {\n\n\t\t\tresult = customMaterial;\n\n\t\t}\n\n\t\tif ( _renderer.localClippingEnabled &&\n\t\t\t\tmaterial.clipShadows === true &&\n\t\t\t\tmaterial.clippingPlanes.length !== 0 ) {\n\n\t\t\t// in this case we need a unique material instance reflecting the\n\t\t\t// appropriate state\n\n\t\t\tvar keyA = result.uuid, keyB = material.uuid;\n\n\t\t\tvar materialsForVariant = _materialCache[ keyA ];\n\n\t\t\tif ( materialsForVariant === undefined ) {\n\n\t\t\t\tmaterialsForVariant = {};\n\t\t\t\t_materialCache[ keyA ] = materialsForVariant;\n\n\t\t\t}\n\n\t\t\tvar cachedMaterial = materialsForVariant[ keyB ];\n\n\t\t\tif ( cachedMaterial === undefined ) {\n\n\t\t\t\tcachedMaterial = result.clone();\n\t\t\t\tmaterialsForVariant[ keyB ] = cachedMaterial;\n\n\t\t\t}\n\n\t\t\tresult = cachedMaterial;\n\n\t\t}\n\n\t\tresult.visible = material.visible;\n\t\tresult.wireframe = material.wireframe;\n\n\t\tif ( type === VSMShadowMap ) {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : material.side;\n\n\t\t} else {\n\n\t\t\tresult.side = ( material.shadowSide !== null ) ? material.shadowSide : shadowSide[ material.side ];\n\n\t\t}\n\n\t\tresult.clipShadows = material.clipShadows;\n\t\tresult.clippingPlanes = material.clippingPlanes;\n\t\tresult.clipIntersection = material.clipIntersection;\n\n\t\tresult.wireframeLinewidth = material.wireframeLinewidth;\n\t\tresult.linewidth = material.linewidth;\n\n\t\tif ( light.isPointLight === true && result.isMeshDistanceMaterial === true ) {\n\n\t\t\tresult.referencePosition.setFromMatrixPosition( light.matrixWorld );\n\t\t\tresult.nearDistance = shadowCameraNear;\n\t\t\tresult.farDistance = shadowCameraFar;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n\tfunction renderObject( object, camera, shadowCamera, light, type ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible && ( object.isMesh || object.isLine || object.isPoints ) ) {\n\n\t\t\tif ( ( object.castShadow || ( object.receiveShadow && type === VSMShadowMap ) ) && ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) ) {\n\n\t\t\t\tobject.modelViewMatrix.multiplyMatrices( shadowCamera.matrixWorldInverse, object.matrixWorld );\n\n\t\t\t\tvar geometry = _objects.update( object );\n\t\t\t\tvar material = object.material;\n\n\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\tfor ( var k = 0, kl = groups.length; k < kl; k ++ ) {\n\n\t\t\t\t\t\tvar group = groups[ k ];\n\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, groupMaterial, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, group );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\tvar depthMaterial = getDepthMaterial( object, material, light, shadowCamera.near, shadowCamera.far, type );\n\n\t\t\t\t\t_renderer.renderBufferDirect( shadowCamera, null, geometry, depthMaterial, object, null );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\trenderObject( children[ i ], camera, shadowCamera, light, type );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLState( gl, extensions, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tfunction ColorBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar color = new Vector4();\n\t\tvar currentColorMask = null;\n\t\tvar currentColorClear = new Vector4( 0, 0, 0, 0 );\n\n\t\treturn {\n\n\t\t\tsetMask: function ( colorMask ) {\n\n\t\t\t\tif ( currentColorMask !== colorMask && ! locked ) {\n\n\t\t\t\t\tgl.colorMask( colorMask, colorMask, colorMask, colorMask );\n\t\t\t\t\tcurrentColorMask = colorMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( r, g, b, a, premultipliedAlpha ) {\n\n\t\t\t\tif ( premultipliedAlpha === true ) {\n\n\t\t\t\t\tr *= a; g *= a; b *= a;\n\n\t\t\t\t}\n\n\t\t\t\tcolor.set( r, g, b, a );\n\n\t\t\t\tif ( currentColorClear.equals( color ) === false ) {\n\n\t\t\t\t\tgl.clearColor( r, g, b, a );\n\t\t\t\t\tcurrentColorClear.copy( color );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentColorMask = null;\n\t\t\t\tcurrentColorClear.set( - 1, 0, 0, 0 ); // set to invalid state\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction DepthBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentDepthMask = null;\n\t\tvar currentDepthFunc = null;\n\t\tvar currentDepthClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( depthTest ) {\n\n\t\t\t\tif ( depthTest ) {\n\n\t\t\t\t\tenable( 2929 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tdisable( 2929 );\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( depthMask ) {\n\n\t\t\t\tif ( currentDepthMask !== depthMask && ! locked ) {\n\n\t\t\t\t\tgl.depthMask( depthMask );\n\t\t\t\t\tcurrentDepthMask = depthMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( depthFunc ) {\n\n\t\t\t\tif ( currentDepthFunc !== depthFunc ) {\n\n\t\t\t\t\tif ( depthFunc ) {\n\n\t\t\t\t\t\tswitch ( depthFunc ) {\n\n\t\t\t\t\t\t\tcase NeverDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 512 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase AlwaysDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 519 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 513 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase LessEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase EqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 514 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 518 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase GreaterDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 516 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase NotEqualDepth:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 517 );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\n\t\t\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tgl.depthFunc( 515 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcurrentDepthFunc = depthFunc;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( depth ) {\n\n\t\t\t\tif ( currentDepthClear !== depth ) {\n\n\t\t\t\t\tgl.clearDepth( depth );\n\t\t\t\t\tcurrentDepthClear = depth;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentDepthMask = null;\n\t\t\t\tcurrentDepthFunc = null;\n\t\t\t\tcurrentDepthClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\tfunction StencilBuffer() {\n\n\t\tvar locked = false;\n\n\t\tvar currentStencilMask = null;\n\t\tvar currentStencilFunc = null;\n\t\tvar currentStencilRef = null;\n\t\tvar currentStencilFuncMask = null;\n\t\tvar currentStencilFail = null;\n\t\tvar currentStencilZFail = null;\n\t\tvar currentStencilZPass = null;\n\t\tvar currentStencilClear = null;\n\n\t\treturn {\n\n\t\t\tsetTest: function ( stencilTest ) {\n\n\t\t\t\tif ( ! locked ) {\n\n\t\t\t\t\tif ( stencilTest ) {\n\n\t\t\t\t\t\tenable( 2960 );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tdisable( 2960 );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetMask: function ( stencilMask ) {\n\n\t\t\t\tif ( currentStencilMask !== stencilMask && ! locked ) {\n\n\t\t\t\t\tgl.stencilMask( stencilMask );\n\t\t\t\t\tcurrentStencilMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetFunc: function ( stencilFunc, stencilRef, stencilMask ) {\n\n\t\t\t\tif ( currentStencilFunc !== stencilFunc ||\n\t\t\t\t     currentStencilRef \t!== stencilRef \t||\n\t\t\t\t     currentStencilFuncMask !== stencilMask ) {\n\n\t\t\t\t\tgl.stencilFunc( stencilFunc, stencilRef, stencilMask );\n\n\t\t\t\t\tcurrentStencilFunc = stencilFunc;\n\t\t\t\t\tcurrentStencilRef = stencilRef;\n\t\t\t\t\tcurrentStencilFuncMask = stencilMask;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetOp: function ( stencilFail, stencilZFail, stencilZPass ) {\n\n\t\t\t\tif ( currentStencilFail\t !== stencilFail \t||\n\t\t\t\t     currentStencilZFail !== stencilZFail ||\n\t\t\t\t     currentStencilZPass !== stencilZPass ) {\n\n\t\t\t\t\tgl.stencilOp( stencilFail, stencilZFail, stencilZPass );\n\n\t\t\t\t\tcurrentStencilFail = stencilFail;\n\t\t\t\t\tcurrentStencilZFail = stencilZFail;\n\t\t\t\t\tcurrentStencilZPass = stencilZPass;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tsetLocked: function ( lock ) {\n\n\t\t\t\tlocked = lock;\n\n\t\t\t},\n\n\t\t\tsetClear: function ( stencil ) {\n\n\t\t\t\tif ( currentStencilClear !== stencil ) {\n\n\t\t\t\t\tgl.clearStencil( stencil );\n\t\t\t\t\tcurrentStencilClear = stencil;\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\treset: function () {\n\n\t\t\t\tlocked = false;\n\n\t\t\t\tcurrentStencilMask = null;\n\t\t\t\tcurrentStencilFunc = null;\n\t\t\t\tcurrentStencilRef = null;\n\t\t\t\tcurrentStencilFuncMask = null;\n\t\t\t\tcurrentStencilFail = null;\n\t\t\t\tcurrentStencilZFail = null;\n\t\t\t\tcurrentStencilZPass = null;\n\t\t\t\tcurrentStencilClear = null;\n\n\t\t\t}\n\n\t\t};\n\n\t}\n\n\t//\n\n\tvar colorBuffer = new ColorBuffer();\n\tvar depthBuffer = new DepthBuffer();\n\tvar stencilBuffer = new StencilBuffer();\n\n\tvar maxVertexAttributes = gl.getParameter( 34921 );\n\tvar newAttributes = new Uint8Array( maxVertexAttributes );\n\tvar enabledAttributes = new Uint8Array( maxVertexAttributes );\n\tvar attributeDivisors = new Uint8Array( maxVertexAttributes );\n\n\tvar enabledCapabilities = {};\n\n\tvar currentProgram = null;\n\n\tvar currentBlendingEnabled = null;\n\tvar currentBlending = null;\n\tvar currentBlendEquation = null;\n\tvar currentBlendSrc = null;\n\tvar currentBlendDst = null;\n\tvar currentBlendEquationAlpha = null;\n\tvar currentBlendSrcAlpha = null;\n\tvar currentBlendDstAlpha = null;\n\tvar currentPremultipledAlpha = false;\n\n\tvar currentFlipSided = null;\n\tvar currentCullFace = null;\n\n\tvar currentLineWidth = null;\n\n\tvar currentPolygonOffsetFactor = null;\n\tvar currentPolygonOffsetUnits = null;\n\n\tvar maxTextures = gl.getParameter( 35661 );\n\n\tvar lineWidthAvailable = false;\n\tvar version = 0;\n\tvar glVersion = gl.getParameter( 7938 );\n\n\tif ( glVersion.indexOf( 'WebGL' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^WebGL\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 1.0 );\n\n\t} else if ( glVersion.indexOf( 'OpenGL ES' ) !== - 1 ) {\n\n\t\tversion = parseFloat( /^OpenGL\\ ES\\ ([0-9])/.exec( glVersion )[ 1 ] );\n\t\tlineWidthAvailable = ( version >= 2.0 );\n\n\t}\n\n\tvar currentTextureSlot = null;\n\tvar currentBoundTextures = {};\n\n\tvar currentScissor = new Vector4();\n\tvar currentViewport = new Vector4();\n\n\tfunction createTexture( type, target, count ) {\n\n\t\tvar data = new Uint8Array( 4 ); // 4 is required to match default unpack alignment of 4.\n\t\tvar texture = gl.createTexture();\n\n\t\tgl.bindTexture( type, texture );\n\t\tgl.texParameteri( type, 10241, 9728 );\n\t\tgl.texParameteri( type, 10240, 9728 );\n\n\t\tfor ( var i = 0; i < count; i ++ ) {\n\n\t\t\tgl.texImage2D( target + i, 0, 6408, 1, 1, 0, 6408, 5121, data );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n\tvar emptyTextures = {};\n\temptyTextures[ 3553 ] = createTexture( 3553, 3553, 1 );\n\temptyTextures[ 34067 ] = createTexture( 34067, 34069, 6 );\n\n\t// init\n\n\tcolorBuffer.setClear( 0, 0, 0, 1 );\n\tdepthBuffer.setClear( 1 );\n\tstencilBuffer.setClear( 0 );\n\n\tenable( 2929 );\n\tdepthBuffer.setFunc( LessEqualDepth );\n\n\tsetFlipSided( false );\n\tsetCullFace( CullFaceBack );\n\tenable( 2884 );\n\n\tsetBlending( NoBlending );\n\n\t//\n\n\tfunction initAttributes() {\n\n\t\tfor ( var i = 0, l = newAttributes.length; i < l; i ++ ) {\n\n\t\t\tnewAttributes[ i ] = 0;\n\n\t\t}\n\n\t}\n\n\tfunction enableAttribute( attribute ) {\n\n\t\tenableAttributeAndDivisor( attribute, 0 );\n\n\t}\n\n\tfunction enableAttributeAndDivisor( attribute, meshPerAttribute ) {\n\n\t\tnewAttributes[ attribute ] = 1;\n\n\t\tif ( enabledAttributes[ attribute ] === 0 ) {\n\n\t\t\tgl.enableVertexAttribArray( attribute );\n\t\t\tenabledAttributes[ attribute ] = 1;\n\n\t\t}\n\n\t\tif ( attributeDivisors[ attribute ] !== meshPerAttribute ) {\n\n\t\t\tvar extension = isWebGL2 ? gl : extensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t\textension[ isWebGL2 ? 'vertexAttribDivisor' : 'vertexAttribDivisorANGLE' ]( attribute, meshPerAttribute );\n\t\t\tattributeDivisors[ attribute ] = meshPerAttribute;\n\n\t\t}\n\n\t}\n\n\tfunction disableUnusedAttributes() {\n\n\t\tfor ( var i = 0, l = enabledAttributes.length; i !== l; ++ i ) {\n\n\t\t\tif ( enabledAttributes[ i ] !== newAttributes[ i ] ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction enable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== true ) {\n\n\t\t\tgl.enable( id );\n\t\t\tenabledCapabilities[ id ] = true;\n\n\t\t}\n\n\t}\n\n\tfunction disable( id ) {\n\n\t\tif ( enabledCapabilities[ id ] !== false ) {\n\n\t\t\tgl.disable( id );\n\t\t\tenabledCapabilities[ id ] = false;\n\n\t\t}\n\n\t}\n\n\tfunction useProgram( program ) {\n\n\t\tif ( currentProgram !== program ) {\n\n\t\t\tgl.useProgram( program );\n\n\t\t\tcurrentProgram = program;\n\n\t\t\treturn true;\n\n\t\t}\n\n\t\treturn false;\n\n\t}\n\n\tvar equationToGL = {\n\t\t[ AddEquation ]: 32774,\n\t\t[ SubtractEquation ]: 32778,\n\t\t[ ReverseSubtractEquation ]: 32779\n\t};\n\n\tif ( isWebGL2 ) {\n\n\t\tequationToGL[ MinEquation ] = 32775;\n\t\tequationToGL[ MaxEquation ] = 32776;\n\n\t} else {\n\n\t\tvar extension = extensions.get( 'EXT_blend_minmax' );\n\n\t\tif ( extension !== null ) {\n\n\t\t\tequationToGL[ MinEquation ] = extension.MIN_EXT;\n\t\t\tequationToGL[ MaxEquation ] = extension.MAX_EXT;\n\n\t\t}\n\n\t}\n\n\tvar factorToGL = {\n\t\t[ ZeroFactor ]: 0,\n\t\t[ OneFactor ]: 1,\n\t\t[ SrcColorFactor ]: 768,\n\t\t[ SrcAlphaFactor ]: 770,\n\t\t[ SrcAlphaSaturateFactor ]: 776,\n\t\t[ DstColorFactor ]: 774,\n\t\t[ DstAlphaFactor ]: 772,\n\t\t[ OneMinusSrcColorFactor ]: 769,\n\t\t[ OneMinusSrcAlphaFactor ]: 771,\n\t\t[ OneMinusDstColorFactor ]: 775,\n\t\t[ OneMinusDstAlphaFactor ]: 773\n\t};\n\n\tfunction setBlending( blending, blendEquation, blendSrc, blendDst, blendEquationAlpha, blendSrcAlpha, blendDstAlpha, premultipliedAlpha ) {\n\n\t\tif ( blending === NoBlending ) {\n\n\t\t\tif ( currentBlendingEnabled ) {\n\n\t\t\t\tdisable( 3042 );\n\t\t\t\tcurrentBlendingEnabled = false;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( ! currentBlendingEnabled ) {\n\n\t\t\tenable( 3042 );\n\t\t\tcurrentBlendingEnabled = true;\n\n\t\t}\n\n\t\tif ( blending !== CustomBlending ) {\n\n\t\t\tif ( blending !== currentBlending || premultipliedAlpha !== currentPremultipledAlpha ) {\n\n\t\t\t\tif ( currentBlendEquation !== AddEquation || currentBlendEquationAlpha !== AddEquation ) {\n\n\t\t\t\t\tgl.blendEquation( 32774 );\n\n\t\t\t\t\tcurrentBlendEquation = AddEquation;\n\t\t\t\t\tcurrentBlendEquationAlpha = AddEquation;\n\n\t\t\t\t}\n\n\t\t\t\tif ( premultipliedAlpha ) {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 1, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 1, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 0, 769, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 0, 768, 0, 770 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tswitch ( blending ) {\n\n\t\t\t\t\t\tcase NormalBlending:\n\t\t\t\t\t\t\tgl.blendFuncSeparate( 770, 771, 1, 771 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase AdditiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 770, 1 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase SubtractiveBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 769 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tcase MultiplyBlending:\n\t\t\t\t\t\t\tgl.blendFunc( 0, 768 );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tconsole.error( 'THREE.WebGLState: Invalid blending: ', blending );\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tcurrentBlendSrc = null;\n\t\t\t\tcurrentBlendDst = null;\n\t\t\t\tcurrentBlendSrcAlpha = null;\n\t\t\t\tcurrentBlendDstAlpha = null;\n\n\t\t\t\tcurrentBlending = blending;\n\t\t\t\tcurrentPremultipledAlpha = premultipliedAlpha;\n\n\t\t\t}\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// custom blending\n\n\t\tblendEquationAlpha = blendEquationAlpha || blendEquation;\n\t\tblendSrcAlpha = blendSrcAlpha || blendSrc;\n\t\tblendDstAlpha = blendDstAlpha || blendDst;\n\n\t\tif ( blendEquation !== currentBlendEquation || blendEquationAlpha !== currentBlendEquationAlpha ) {\n\n\t\t\tgl.blendEquationSeparate( equationToGL[ blendEquation ], equationToGL[ blendEquationAlpha ] );\n\n\t\t\tcurrentBlendEquation = blendEquation;\n\t\t\tcurrentBlendEquationAlpha = blendEquationAlpha;\n\n\t\t}\n\n\t\tif ( blendSrc !== currentBlendSrc || blendDst !== currentBlendDst || blendSrcAlpha !== currentBlendSrcAlpha || blendDstAlpha !== currentBlendDstAlpha ) {\n\n\t\t\tgl.blendFuncSeparate( factorToGL[ blendSrc ], factorToGL[ blendDst ], factorToGL[ blendSrcAlpha ], factorToGL[ blendDstAlpha ] );\n\n\t\t\tcurrentBlendSrc = blendSrc;\n\t\t\tcurrentBlendDst = blendDst;\n\t\t\tcurrentBlendSrcAlpha = blendSrcAlpha;\n\t\t\tcurrentBlendDstAlpha = blendDstAlpha;\n\n\t\t}\n\n\t\tcurrentBlending = blending;\n\t\tcurrentPremultipledAlpha = null;\n\n\t}\n\n\tfunction setMaterial( material, frontFaceCW ) {\n\n\t\tmaterial.side === DoubleSide\n\t\t\t? disable( 2884 )\n\t\t\t: enable( 2884 );\n\n\t\tvar flipSided = ( material.side === BackSide );\n\t\tif ( frontFaceCW ) flipSided = ! flipSided;\n\n\t\tsetFlipSided( flipSided );\n\n\t\t( material.blending === NormalBlending && material.transparent === false )\n\t\t\t? setBlending( NoBlending )\n\t\t\t: setBlending( material.blending, material.blendEquation, material.blendSrc, material.blendDst, material.blendEquationAlpha, material.blendSrcAlpha, material.blendDstAlpha, material.premultipliedAlpha );\n\n\t\tdepthBuffer.setFunc( material.depthFunc );\n\t\tdepthBuffer.setTest( material.depthTest );\n\t\tdepthBuffer.setMask( material.depthWrite );\n\t\tcolorBuffer.setMask( material.colorWrite );\n\n\t\tvar stencilWrite = material.stencilWrite;\n\t\tstencilBuffer.setTest( stencilWrite );\n\t\tif ( stencilWrite ) {\n\n\t\t\tstencilBuffer.setMask( material.stencilWriteMask );\n\t\t\tstencilBuffer.setFunc( material.stencilFunc, material.stencilRef, material.stencilFuncMask );\n\t\t\tstencilBuffer.setOp( material.stencilFail, material.stencilZFail, material.stencilZPass );\n\n\t\t}\n\n\t\tsetPolygonOffset( material.polygonOffset, material.polygonOffsetFactor, material.polygonOffsetUnits );\n\n\t}\n\n\t//\n\n\tfunction setFlipSided( flipSided ) {\n\n\t\tif ( currentFlipSided !== flipSided ) {\n\n\t\t\tif ( flipSided ) {\n\n\t\t\t\tgl.frontFace( 2304 );\n\n\t\t\t} else {\n\n\t\t\t\tgl.frontFace( 2305 );\n\n\t\t\t}\n\n\t\t\tcurrentFlipSided = flipSided;\n\n\t\t}\n\n\t}\n\n\tfunction setCullFace( cullFace ) {\n\n\t\tif ( cullFace !== CullFaceNone ) {\n\n\t\t\tenable( 2884 );\n\n\t\t\tif ( cullFace !== currentCullFace ) {\n\n\t\t\t\tif ( cullFace === CullFaceBack ) {\n\n\t\t\t\t\tgl.cullFace( 1029 );\n\n\t\t\t\t} else if ( cullFace === CullFaceFront ) {\n\n\t\t\t\t\tgl.cullFace( 1028 );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tgl.cullFace( 1032 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 2884 );\n\n\t\t}\n\n\t\tcurrentCullFace = cullFace;\n\n\t}\n\n\tfunction setLineWidth( width ) {\n\n\t\tif ( width !== currentLineWidth ) {\n\n\t\t\tif ( lineWidthAvailable ) gl.lineWidth( width );\n\n\t\t\tcurrentLineWidth = width;\n\n\t\t}\n\n\t}\n\n\tfunction setPolygonOffset( polygonOffset, factor, units ) {\n\n\t\tif ( polygonOffset ) {\n\n\t\t\tenable( 32823 );\n\n\t\t\tif ( currentPolygonOffsetFactor !== factor || currentPolygonOffsetUnits !== units ) {\n\n\t\t\t\tgl.polygonOffset( factor, units );\n\n\t\t\t\tcurrentPolygonOffsetFactor = factor;\n\t\t\t\tcurrentPolygonOffsetUnits = units;\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tdisable( 32823 );\n\n\t\t}\n\n\t}\n\n\tfunction setScissorTest( scissorTest ) {\n\n\t\tif ( scissorTest ) {\n\n\t\t\tenable( 3089 );\n\n\t\t} else {\n\n\t\t\tdisable( 3089 );\n\n\t\t}\n\n\t}\n\n\t// texture\n\n\tfunction activeTexture( webglSlot ) {\n\n\t\tif ( webglSlot === undefined ) webglSlot = 33984 + maxTextures - 1;\n\n\t\tif ( currentTextureSlot !== webglSlot ) {\n\n\t\t\tgl.activeTexture( webglSlot );\n\t\t\tcurrentTextureSlot = webglSlot;\n\n\t\t}\n\n\t}\n\n\tfunction bindTexture( webglType, webglTexture ) {\n\n\t\tif ( currentTextureSlot === null ) {\n\n\t\t\tactiveTexture();\n\n\t\t}\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture === undefined ) {\n\n\t\t\tboundTexture = { type: undefined, texture: undefined };\n\t\t\tcurrentBoundTextures[ currentTextureSlot ] = boundTexture;\n\n\t\t}\n\n\t\tif ( boundTexture.type !== webglType || boundTexture.texture !== webglTexture ) {\n\n\t\t\tgl.bindTexture( webglType, webglTexture || emptyTextures[ webglType ] );\n\n\t\t\tboundTexture.type = webglType;\n\t\t\tboundTexture.texture = webglTexture;\n\n\t\t}\n\n\t}\n\n\tfunction unbindTexture() {\n\n\t\tvar boundTexture = currentBoundTextures[ currentTextureSlot ];\n\n\t\tif ( boundTexture !== undefined && boundTexture.type !== undefined ) {\n\n\t\t\tgl.bindTexture( boundTexture.type, null );\n\n\t\t\tboundTexture.type = undefined;\n\t\t\tboundTexture.texture = undefined;\n\n\t\t}\n\n\t}\n\n\tfunction compressedTexImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.compressedTexImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage2D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage2D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\tfunction texImage3D() {\n\n\t\ttry {\n\n\t\t\tgl.texImage3D.apply( gl, arguments );\n\n\t\t} catch ( error ) {\n\n\t\t\tconsole.error( 'THREE.WebGLState:', error );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction scissor( scissor ) {\n\n\t\tif ( currentScissor.equals( scissor ) === false ) {\n\n\t\t\tgl.scissor( scissor.x, scissor.y, scissor.z, scissor.w );\n\t\t\tcurrentScissor.copy( scissor );\n\n\t\t}\n\n\t}\n\n\tfunction viewport( viewport ) {\n\n\t\tif ( currentViewport.equals( viewport ) === false ) {\n\n\t\t\tgl.viewport( viewport.x, viewport.y, viewport.z, viewport.w );\n\t\t\tcurrentViewport.copy( viewport );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tfunction reset() {\n\n\t\tfor ( var i = 0; i < enabledAttributes.length; i ++ ) {\n\n\t\t\tif ( enabledAttributes[ i ] === 1 ) {\n\n\t\t\t\tgl.disableVertexAttribArray( i );\n\t\t\t\tenabledAttributes[ i ] = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tenabledCapabilities = {};\n\n\t\tcurrentTextureSlot = null;\n\t\tcurrentBoundTextures = {};\n\n\t\tcurrentProgram = null;\n\n\t\tcurrentBlending = null;\n\n\t\tcurrentFlipSided = null;\n\t\tcurrentCullFace = null;\n\n\t\tcolorBuffer.reset();\n\t\tdepthBuffer.reset();\n\t\tstencilBuffer.reset();\n\n\t}\n\n\treturn {\n\n\t\tbuffers: {\n\t\t\tcolor: colorBuffer,\n\t\t\tdepth: depthBuffer,\n\t\t\tstencil: stencilBuffer\n\t\t},\n\n\t\tinitAttributes: initAttributes,\n\t\tenableAttribute: enableAttribute,\n\t\tenableAttributeAndDivisor: enableAttributeAndDivisor,\n\t\tdisableUnusedAttributes: disableUnusedAttributes,\n\t\tenable: enable,\n\t\tdisable: disable,\n\n\t\tuseProgram: useProgram,\n\n\t\tsetBlending: setBlending,\n\t\tsetMaterial: setMaterial,\n\n\t\tsetFlipSided: setFlipSided,\n\t\tsetCullFace: setCullFace,\n\n\t\tsetLineWidth: setLineWidth,\n\t\tsetPolygonOffset: setPolygonOffset,\n\n\t\tsetScissorTest: setScissorTest,\n\n\t\tactiveTexture: activeTexture,\n\t\tbindTexture: bindTexture,\n\t\tunbindTexture: unbindTexture,\n\t\tcompressedTexImage2D: compressedTexImage2D,\n\t\ttexImage2D: texImage2D,\n\t\ttexImage3D: texImage3D,\n\n\t\tscissor: scissor,\n\t\tviewport: viewport,\n\n\t\treset: reset\n\n\t};\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\tvar maxTextures = capabilities.maxTextures;\n\tvar maxCubemapSize = capabilities.maxCubemapSize;\n\tvar maxTextureSize = capabilities.maxTextureSize;\n\tvar maxSamples = capabilities.maxSamples;\n\n\tvar _videoTextures = new WeakMap();\n\tvar _canvas;\n\n\t// cordova iOS (as of 5.0) still uses UIWebView, which provides OffscreenCanvas,\n\t// also OffscreenCanvas.getContext(\"webgl\"), but not OffscreenCanvas.getContext(\"2d\")!\n\t// Some implementations may only implement OffscreenCanvas partially (e.g. lacking 2d).\n\n\tvar useOffscreenCanvas = false;\n\n\ttry {\n\n\t\tuseOffscreenCanvas = typeof OffscreenCanvas !== 'undefined'\n\t\t\t&& ( new OffscreenCanvas( 1, 1 ).getContext( \"2d\" ) ) !== null;\n\n\t} catch ( err ) {\n\n\t\t// Ignore any errors\n\n\t}\n\n\tfunction createCanvas( width, height ) {\n\n\t\t// Use OffscreenCanvas when available. Specially needed in web workers\n\n\t\treturn useOffscreenCanvas ?\n\t\t\tnew OffscreenCanvas( width, height ) :\n\t\t\tdocument.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' );\n\n\t}\n\n\tfunction resizeImage( image, needsPowerOfTwo, needsNewCanvas, maxSize ) {\n\n\t\tvar scale = 1;\n\n\t\t// handle case if texture exceeds max size\n\n\t\tif ( image.width > maxSize || image.height > maxSize ) {\n\n\t\t\tscale = maxSize / Math.max( image.width, image.height );\n\n\t\t}\n\n\t\t// only perform resize if necessary\n\n\t\tif ( scale < 1 || needsPowerOfTwo === true ) {\n\n\t\t\t// only perform resize for certain image types\n\n\t\t\tif ( ( typeof HTMLImageElement !== 'undefined' && image instanceof HTMLImageElement ) ||\n\t\t\t\t( typeof HTMLCanvasElement !== 'undefined' && image instanceof HTMLCanvasElement ) ||\n\t\t\t\t( typeof ImageBitmap !== 'undefined' && image instanceof ImageBitmap ) ) {\n\n\t\t\t\tvar floor = needsPowerOfTwo ? MathUtils.floorPowerOfTwo : Math.floor;\n\n\t\t\t\tvar width = floor( scale * image.width );\n\t\t\t\tvar height = floor( scale * image.height );\n\n\t\t\t\tif ( _canvas === undefined ) _canvas = createCanvas( width, height );\n\n\t\t\t\t// cube textures can't reuse the same canvas\n\n\t\t\t\tvar canvas = needsNewCanvas ? createCanvas( width, height ) : _canvas;\n\n\t\t\t\tcanvas.width = width;\n\t\t\t\tcanvas.height = height;\n\n\t\t\t\tvar context = canvas.getContext( '2d' );\n\t\t\t\tcontext.drawImage( image, 0, 0, width, height );\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture has been resized from (' + image.width + 'x' + image.height + ') to (' + width + 'x' + height + ').' );\n\n\t\t\t\treturn canvas;\n\n\t\t\t} else {\n\n\t\t\t\tif ( 'data' in image ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Image in DataTexture is too big (' + image.width + 'x' + image.height + ').' );\n\n\t\t\t\t}\n\n\t\t\t\treturn image;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn image;\n\n\t}\n\n\tfunction isPowerOfTwo( image ) {\n\n\t\treturn MathUtils.isPowerOfTwo( image.width ) && MathUtils.isPowerOfTwo( image.height );\n\n\t}\n\n\tfunction textureNeedsPowerOfTwo( texture ) {\n\n\t\tif ( isWebGL2 ) return false;\n\n\t\treturn ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) ||\n\t\t\t( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter );\n\n\t}\n\n\tfunction textureNeedsGenerateMipmaps( texture, supportsMips ) {\n\n\t\treturn texture.generateMipmaps && supportsMips &&\n\t\t\ttexture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter;\n\n\t}\n\n\tfunction generateMipmap( target, texture, width, height ) {\n\n\t\t_gl.generateMipmap( target );\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\t// Note: Math.log( x ) * Math.LOG2E used instead of Math.log2( x ) which is not supported by IE11\n\t\ttextureProperties.__maxMipLevel = Math.log( Math.max( width, height ) ) * Math.LOG2E;\n\n\t}\n\n\tfunction getInternalFormat( internalFormatName, glFormat, glType ) {\n\n\t\tif ( isWebGL2 === false ) return glFormat;\n\n\t\tif ( internalFormatName !== null ) {\n\n\t\t\tif ( _gl[ internalFormatName ] !== undefined ) return _gl[ internalFormatName ];\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format \\'' + internalFormatName + '\\'' );\n\n\t\t}\n\n\t\tvar internalFormat = glFormat;\n\n\t\tif ( glFormat === 6403 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 33326;\n\t\t\tif ( glType === 5131 ) internalFormat = 33325;\n\t\t\tif ( glType === 5121 ) internalFormat = 33321;\n\n\t\t}\n\n\t\tif ( glFormat === 6407 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34837;\n\t\t\tif ( glType === 5131 ) internalFormat = 34843;\n\t\t\tif ( glType === 5121 ) internalFormat = 32849;\n\n\t\t}\n\n\t\tif ( glFormat === 6408 ) {\n\n\t\t\tif ( glType === 5126 ) internalFormat = 34836;\n\t\t\tif ( glType === 5131 ) internalFormat = 34842;\n\t\t\tif ( glType === 5121 ) internalFormat = 32856;\n\n\t\t}\n\n\t\tif ( internalFormat === 33325 || internalFormat === 33326 ||\n\t\t\tinternalFormat === 34842 || internalFormat === 34836 ) {\n\n\t\t\textensions.get( 'EXT_color_buffer_float' );\n\n\t\t} else if ( internalFormat === 34843 || internalFormat === 34837 ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Floating point textures with RGB format not supported. Please use RGBA instead.' );\n\n\t\t}\n\n\t\treturn internalFormat;\n\n\t}\n\n\t// Fallback filters for non-power-of-2 textures\n\n\tfunction filterFallback( f ) {\n\n\t\tif ( f === NearestFilter || f === NearestMipmapNearestFilter || f === NearestMipmapLinearFilter ) {\n\n\t\t\treturn 9728;\n\n\t\t}\n\n\t\treturn 9729;\n\n\t}\n\n\t//\n\n\tfunction onTextureDispose( event ) {\n\n\t\tvar texture = event.target;\n\n\t\ttexture.removeEventListener( 'dispose', onTextureDispose );\n\n\t\tdeallocateTexture( texture );\n\n\t\tif ( texture.isVideoTexture ) {\n\n\t\t\t_videoTextures.delete( texture );\n\n\t\t}\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\tfunction onRenderTargetDispose( event ) {\n\n\t\tvar renderTarget = event.target;\n\n\t\trenderTarget.removeEventListener( 'dispose', onRenderTargetDispose );\n\n\t\tdeallocateRenderTarget( renderTarget );\n\n\t\tinfo.memory.textures --;\n\n\t}\n\n\t//\n\n\tfunction deallocateTexture( texture ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( textureProperties.__webglInit === undefined ) return;\n\n\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\tproperties.remove( texture );\n\n\t}\n\n\tfunction deallocateRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\tif ( ! renderTarget ) return;\n\n\t\tif ( textureProperties.__webglTexture !== undefined ) {\n\n\t\t\t_gl.deleteTexture( textureProperties.__webglTexture );\n\n\t\t}\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\trenderTarget.depthTexture.dispose();\n\n\t\t}\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer[ i ] );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t_gl.deleteFramebuffer( renderTargetProperties.__webglFramebuffer );\n\t\t\tif ( renderTargetProperties.__webglDepthbuffer ) _gl.deleteRenderbuffer( renderTargetProperties.__webglDepthbuffer );\n\n\t\t}\n\n\t\tproperties.remove( renderTarget.texture );\n\t\tproperties.remove( renderTarget );\n\n\t}\n\n\t//\n\n\tvar textureUnits = 0;\n\n\tfunction resetTextureUnits() {\n\n\t\ttextureUnits = 0;\n\n\t}\n\n\tfunction allocateTextureUnit() {\n\n\t\tvar textureUnit = textureUnits;\n\n\t\tif ( textureUnit >= maxTextures ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLTextures: Trying to use ' + textureUnit + ' texture units while this GPU supports only ' + maxTextures );\n\n\t\t}\n\n\t\ttextureUnits += 1;\n\n\t\treturn textureUnit;\n\n\t}\n\n\t//\n\n\tfunction setTexture2D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.isVideoTexture ) updateVideoTexture( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tvar image = texture.image;\n\n\t\t\tif ( image === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is undefined' );\n\n\t\t\t} else if ( image.complete === false ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture marked for update but image is incomplete' );\n\n\t\t\t} else {\n\n\t\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture2DArray( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 35866, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTexture3D( texture, slot ) {\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tuploadTexture( textureProperties, texture, slot );\n\t\t\treturn;\n\n\t\t}\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 32879, textureProperties.__webglTexture );\n\n\t}\n\n\tfunction setTextureCube( texture, slot ) {\n\n\t\tif ( texture.image.length !== 6 ) return;\n\n\t\tvar textureProperties = properties.get( texture );\n\n\t\tif ( texture.version > 0 && textureProperties.__version !== texture.version ) {\n\n\t\t\tinitTexture( textureProperties, texture );\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t\t_gl.pixelStorei( 37440, texture.flipY );\n\n\t\t\tvar isCompressed = ( texture && ( texture.isCompressedTexture || texture.image[ 0 ].isCompressedTexture ) );\n\t\t\tvar isDataTexture = ( texture.image[ 0 ] && texture.image[ 0 ].isDataTexture );\n\n\t\t\tvar cubeImage = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tif ( ! isCompressed && ! isDataTexture ) {\n\n\t\t\t\t\tcubeImage[ i ] = resizeImage( texture.image[ i ], false, true, maxCubemapSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tcubeImage[ i ] = isDataTexture ? texture.image[ i ].image : texture.image[ i ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tvar image = cubeImage[ 0 ],\n\t\t\t\tsupportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\t\tglType = utils.convert( texture.type ),\n\t\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\t\tsetTextureParameters( 34067, texture, supportsMips );\n\n\t\t\tvar mipmaps;\n\n\t\t\tif ( isCompressed ) {\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tmipmaps = cubeImage[ i ].mipmaps;\n\n\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\t\t\tstate.compressedTexImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()' );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tmipmaps = texture.mipmaps;\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\tif ( isDataTexture ) {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, cubeImage[ i ].width, cubeImage[ i ].height, 0, glFormat, glType, cubeImage[ i ].data );\n\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\t\t\t\t\t\t\tvar mipmapImage = mipmap.image[ i ].image;\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, mipmapImage.width, mipmapImage.height, 0, glFormat, glType, mipmapImage.data );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tstate.texImage2D( 34069 + i, 0, glInternalFormat, glFormat, glType, cubeImage[ i ] );\n\n\t\t\t\t\t\tfor ( var j = 0; j < mipmaps.length; j ++ ) {\n\n\t\t\t\t\t\t\tvar mipmap = mipmaps[ j ];\n\n\t\t\t\t\t\t\tstate.texImage2D( 34069 + i, j + 1, glInternalFormat, glFormat, glType, mipmap.image[ i ] );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length;\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\t\t// We assume images for cube map have the same size.\n\t\t\t\tgenerateMipmap( 34067, texture, image.width, image.height );\n\n\t\t\t}\n\n\t\t\ttextureProperties.__version = texture.version;\n\n\t\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t\t} else {\n\n\t\t\tstate.activeTexture( 33984 + slot );\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\n\t\t}\n\n\t}\n\n\tfunction setTextureCubeDynamic( texture, slot ) {\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( 34067, properties.get( texture ).__webglTexture );\n\n\t}\n\n\tvar wrappingToGL = {\n\t\t[ RepeatWrapping ]: 10497,\n\t\t[ ClampToEdgeWrapping ]: 33071,\n\t\t[ MirroredRepeatWrapping ]: 33648\n\t};\n\n\tvar filterToGL = {\n\t\t[ NearestFilter ]: 9728,\n\t\t[ NearestMipmapNearestFilter ]: 9984,\n\t\t[ NearestMipmapLinearFilter ]: 9986,\n\n\t\t[ LinearFilter ]: 9729,\n\t\t[ LinearMipmapNearestFilter ]: 9985,\n\t\t[ LinearMipmapLinearFilter ]: 9987\n\t};\n\n\tfunction setTextureParameters( textureType, texture, supportsMips ) {\n\n\t\tif ( supportsMips ) {\n\n\t\t\t_gl.texParameteri( textureType, 10242, wrappingToGL[ texture.wrapS ] );\n\t\t\t_gl.texParameteri( textureType, 10243, wrappingToGL[ texture.wrapT ] );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, wrappingToGL[ texture.wrapR ] );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterToGL[ texture.magFilter ] );\n\t\t\t_gl.texParameteri( textureType, 10241, filterToGL[ texture.minFilter ] );\n\n\t\t} else {\n\n\t\t\t_gl.texParameteri( textureType, 10242, 33071 );\n\t\t\t_gl.texParameteri( textureType, 10243, 33071 );\n\n\t\t\tif ( textureType === 32879 || textureType === 35866 ) {\n\n\t\t\t\t_gl.texParameteri( textureType, 32882, 33071 );\n\n\t\t\t}\n\n\t\t\tif ( texture.wrapS !== ClampToEdgeWrapping || texture.wrapT !== ClampToEdgeWrapping ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping.' );\n\n\t\t\t}\n\n\t\t\t_gl.texParameteri( textureType, 10240, filterFallback( texture.magFilter ) );\n\t\t\t_gl.texParameteri( textureType, 10241, filterFallback( texture.minFilter ) );\n\n\t\t\tif ( texture.minFilter !== NearestFilter && texture.minFilter !== LinearFilter ) {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar extension = extensions.get( 'EXT_texture_filter_anisotropic' );\n\n\t\tif ( extension ) {\n\n\t\t\tif ( texture.type === FloatType && extensions.get( 'OES_texture_float_linear' ) === null ) return;\n\t\t\tif ( texture.type === HalfFloatType && ( isWebGL2 || extensions.get( 'OES_texture_half_float_linear' ) ) === null ) return;\n\n\t\t\tif ( texture.anisotropy > 1 || properties.get( texture ).__currentAnisotropy ) {\n\n\t\t\t\t_gl.texParameterf( textureType, extension.TEXTURE_MAX_ANISOTROPY_EXT, Math.min( texture.anisotropy, capabilities.getMaxAnisotropy() ) );\n\t\t\t\tproperties.get( texture ).__currentAnisotropy = texture.anisotropy;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction initTexture( textureProperties, texture ) {\n\n\t\tif ( textureProperties.__webglInit === undefined ) {\n\n\t\t\ttextureProperties.__webglInit = true;\n\n\t\t\ttexture.addEventListener( 'dispose', onTextureDispose );\n\n\t\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\t\tinfo.memory.textures ++;\n\n\t\t}\n\n\t}\n\n\tfunction uploadTexture( textureProperties, texture, slot ) {\n\n\t\tvar textureType = 3553;\n\n\t\tif ( texture.isDataTexture2DArray ) textureType = 35866;\n\t\tif ( texture.isDataTexture3D ) textureType = 32879;\n\n\t\tinitTexture( textureProperties, texture );\n\n\t\tstate.activeTexture( 33984 + slot );\n\t\tstate.bindTexture( textureType, textureProperties.__webglTexture );\n\n\t\t_gl.pixelStorei( 37440, texture.flipY );\n\t\t_gl.pixelStorei( 37441, texture.premultiplyAlpha );\n\t\t_gl.pixelStorei( 3317, texture.unpackAlignment );\n\n\t\tvar needsPowerOfTwo = textureNeedsPowerOfTwo( texture ) && isPowerOfTwo( texture.image ) === false;\n\t\tvar image = resizeImage( texture.image, needsPowerOfTwo, false, maxTextureSize );\n\n\t\tvar supportsMips = isPowerOfTwo( image ) || isWebGL2,\n\t\t\tglFormat = utils.convert( texture.format ),\n\t\t\tglType = utils.convert( texture.type ),\n\t\t\tglInternalFormat = getInternalFormat( texture.internalFormat, glFormat, glType );\n\n\t\tsetTextureParameters( textureType, texture, supportsMips );\n\n\t\tvar mipmap, mipmaps = texture.mipmaps;\n\n\t\tif ( texture.isDepthTexture ) {\n\n\t\t\t// populate depth texture with dummy data\n\n\t\t\tglInternalFormat = 6402;\n\n\t\t\tif ( texture.type === FloatType ) {\n\n\t\t\t\tif ( isWebGL2 === false ) throw new Error( 'Float Depth Texture only supported in WebGL2.0' );\n\t\t\t\tglInternalFormat = 36012;\n\n\t\t\t} else if ( isWebGL2 ) {\n\n\t\t\t\t// WebGL 2.0 requires signed internalformat for glTexImage2D\n\t\t\t\tglInternalFormat = 33189;\n\n\t\t\t}\n\n\t\t\tif ( texture.format === DepthFormat && glInternalFormat === 6402 ) {\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_COMPONENT and type is not UNSIGNED_SHORT or UNSIGNED_INT\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedShortType && texture.type !== UnsignedIntType ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedShortType;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// Depth stencil textures need the DEPTH_STENCIL internal format\n\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\tif ( texture.format === DepthStencilFormat ) {\n\n\t\t\t\tglInternalFormat = 34041;\n\n\t\t\t\t// The error INVALID_OPERATION is generated by texImage2D if format and internalformat are\n\t\t\t\t// DEPTH_STENCIL and type is not UNSIGNED_INT_24_8_WEBGL.\n\t\t\t\t// (https://www.khronos.org/registry/webgl/extensions/WEBGL_depth_texture/)\n\t\t\t\tif ( texture.type !== UnsignedInt248Type ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture.' );\n\n\t\t\t\t\ttexture.type = UnsignedInt248Type;\n\t\t\t\t\tglType = utils.convert( texture.type );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, null );\n\n\t\t} else if ( texture.isDataTexture ) {\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, image.width, image.height, 0, glFormat, glType, image.data );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t} else if ( texture.isCompressedTexture ) {\n\n\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\tmipmap = mipmaps[ i ];\n\n\t\t\t\tif ( texture.format !== RGBAFormat && texture.format !== RGBFormat ) {\n\n\t\t\t\t\tif ( glFormat !== null ) {\n\n\t\t\t\t\t\tstate.compressedTexImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, mipmap.data );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()' );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, mipmap.width, mipmap.height, 0, glFormat, glType, mipmap.data );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t} else if ( texture.isDataTexture2DArray ) {\n\n\t\t\tstate.texImage3D( 35866, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else if ( texture.isDataTexture3D ) {\n\n\t\t\tstate.texImage3D( 32879, 0, glInternalFormat, image.width, image.height, image.depth, 0, glFormat, glType, image.data );\n\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t} else {\n\n\t\t\t// regular Texture (image, video, canvas)\n\n\t\t\t// use manually created mipmaps if available\n\t\t\t// if there are no manual mipmaps\n\t\t\t// set 0 level mipmap and then use GL to generate other mipmap levels\n\n\t\t\tif ( mipmaps.length > 0 && supportsMips ) {\n\n\t\t\t\tfor ( var i = 0, il = mipmaps.length; i < il; i ++ ) {\n\n\t\t\t\t\tmipmap = mipmaps[ i ];\n\t\t\t\t\tstate.texImage2D( 3553, i, glInternalFormat, glFormat, glType, mipmap );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.generateMipmaps = false;\n\t\t\t\ttextureProperties.__maxMipLevel = mipmaps.length - 1;\n\n\t\t\t} else {\n\n\t\t\t\tstate.texImage2D( 3553, 0, glInternalFormat, glFormat, glType, image );\n\t\t\t\ttextureProperties.__maxMipLevel = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tgenerateMipmap( textureType, texture, image.width, image.height );\n\n\t\t}\n\n\t\ttextureProperties.__version = texture.version;\n\n\t\tif ( texture.onUpdate ) texture.onUpdate( texture );\n\n\t}\n\n\t// Render targets\n\n\t// Setup storage for target texture and bind it to correct framebuffer\n\tfunction setupFrameBufferTexture( framebuffer, renderTarget, attachment, textureTarget ) {\n\n\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\tstate.texImage2D( textureTarget, 0, glInternalFormat, renderTarget.width, renderTarget.height, 0, glFormat, glType, null );\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t_gl.framebufferTexture2D( 36160, attachment, textureTarget, properties.get( renderTarget.texture ).__webglTexture, 0 );\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Setup storage for internal depth/stencil buffers and bind to correct framebuffer\n\tfunction setupRenderBufferStorage( renderbuffer, renderTarget, isMultisample ) {\n\n\t\t_gl.bindRenderbuffer( 36161, renderbuffer );\n\n\t\tif ( renderTarget.depthBuffer && ! renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 33189, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 36096, 36161, renderbuffer );\n\n\t\t} else if ( renderTarget.depthBuffer && renderTarget.stencilBuffer ) {\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, 35056, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, 34041, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\n\t\t\t_gl.framebufferRenderbuffer( 36160, 33306, 36161, renderbuffer );\n\n\t\t} else {\n\n\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\n\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t} else {\n\n\t\t\t\t_gl.renderbufferStorage( 36161, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t}\n\n\t// Setup resources for a Depth Texture for a FBO (needs an extension)\n\tfunction setupDepthTexture( framebuffer, renderTarget ) {\n\n\t\tvar isCube = ( renderTarget && renderTarget.isWebGLCubeRenderTarget );\n\t\tif ( isCube ) throw new Error( 'Depth Texture with cube render targets is not supported' );\n\n\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\tif ( ! ( renderTarget.depthTexture && renderTarget.depthTexture.isDepthTexture ) ) {\n\n\t\t\tthrow new Error( 'renderTarget.depthTexture must be an instance of THREE.DepthTexture' );\n\n\t\t}\n\n\t\t// upload an empty depth texture with framebuffer size\n\t\tif ( ! properties.get( renderTarget.depthTexture ).__webglTexture ||\n\t\t\t\trenderTarget.depthTexture.image.width !== renderTarget.width ||\n\t\t\t\trenderTarget.depthTexture.image.height !== renderTarget.height ) {\n\n\t\t\trenderTarget.depthTexture.image.width = renderTarget.width;\n\t\t\trenderTarget.depthTexture.image.height = renderTarget.height;\n\t\t\trenderTarget.depthTexture.needsUpdate = true;\n\n\t\t}\n\n\t\tsetTexture2D( renderTarget.depthTexture, 0 );\n\n\t\tvar webglDepthTexture = properties.get( renderTarget.depthTexture ).__webglTexture;\n\n\t\tif ( renderTarget.depthTexture.format === DepthFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 36096, 3553, webglDepthTexture, 0 );\n\n\t\t} else if ( renderTarget.depthTexture.format === DepthStencilFormat ) {\n\n\t\t\t_gl.framebufferTexture2D( 36160, 33306, 3553, webglDepthTexture, 0 );\n\n\t\t} else {\n\n\t\t\tthrow new Error( 'Unknown depthTexture format' );\n\n\t\t}\n\n\t}\n\n\t// Setup GL resources for a non-texture depth buffer\n\tfunction setupDepthRenderbuffer( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\tvar isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\n\t\tif ( renderTarget.depthTexture ) {\n\n\t\t\tif ( isCube ) throw new Error( 'target.depthTexture not supported in Cube render targets' );\n\n\t\t\tsetupDepthTexture( renderTargetProperties.__webglFramebuffer, renderTarget );\n\n\t\t} else {\n\n\t\t\tif ( isCube ) {\n\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = [];\n\n\t\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer[ i ] );\n\t\t\t\t\trenderTargetProperties.__webglDepthbuffer[ i ] = _gl.createRenderbuffer();\n\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer[ i ], renderTarget );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglFramebuffer );\n\t\t\t\trenderTargetProperties.__webglDepthbuffer = _gl.createRenderbuffer();\n\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthbuffer, renderTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\t_gl.bindFramebuffer( 36160, null );\n\n\t}\n\n\t// Set up GL resources for the render target\n\tfunction setupRenderTarget( renderTarget ) {\n\n\t\tvar renderTargetProperties = properties.get( renderTarget );\n\t\tvar textureProperties = properties.get( renderTarget.texture );\n\n\t\trenderTarget.addEventListener( 'dispose', onRenderTargetDispose );\n\n\t\ttextureProperties.__webglTexture = _gl.createTexture();\n\n\t\tinfo.memory.textures ++;\n\n\t\tvar isCube = ( renderTarget.isWebGLCubeRenderTarget === true );\n\t\tvar isMultisample = ( renderTarget.isWebGLMultisampleRenderTarget === true );\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\t// Setup framebuffer\n\n\t\tif ( isCube ) {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = [];\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\trenderTargetProperties.__webglFramebuffer[ i ] = _gl.createFramebuffer();\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\trenderTargetProperties.__webglFramebuffer = _gl.createFramebuffer();\n\n\t\t\tif ( isMultisample ) {\n\n\t\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\t\trenderTargetProperties.__webglMultisampledFramebuffer = _gl.createFramebuffer();\n\t\t\t\t\trenderTargetProperties.__webglColorRenderbuffer = _gl.createRenderbuffer();\n\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, renderTargetProperties.__webglColorRenderbuffer );\n\n\t\t\t\t\tvar glFormat = utils.convert( renderTarget.texture.format );\n\t\t\t\t\tvar glType = utils.convert( renderTarget.texture.type );\n\t\t\t\t\tvar glInternalFormat = getInternalFormat( renderTarget.texture.internalFormat, glFormat, glType );\n\t\t\t\t\tvar samples = getRenderTargetSamples( renderTarget );\n\t\t\t\t\t_gl.renderbufferStorageMultisample( 36161, samples, glInternalFormat, renderTarget.width, renderTarget.height );\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t\t_gl.framebufferRenderbuffer( 36160, 36064, 36161, renderTargetProperties.__webglColorRenderbuffer );\n\t\t\t\t\t_gl.bindRenderbuffer( 36161, null );\n\n\t\t\t\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\t\t\t\trenderTargetProperties.__webglDepthRenderbuffer = _gl.createRenderbuffer();\n\t\t\t\t\t\tsetupRenderBufferStorage( renderTargetProperties.__webglDepthRenderbuffer, renderTarget, true );\n\n\t\t\t\t\t}\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, null );\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Setup color buffer\n\n\t\tif ( isCube ) {\n\n\t\t\tstate.bindTexture( 34067, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 34067, renderTarget.texture, supportsMips );\n\n\t\t\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer[ i ], renderTarget, 36064, 34069 + i );\n\n\t\t\t}\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 34067, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 34067, null );\n\n\t\t} else {\n\n\t\t\tstate.bindTexture( 3553, textureProperties.__webglTexture );\n\t\t\tsetTextureParameters( 3553, renderTarget.texture, supportsMips );\n\t\t\tsetupFrameBufferTexture( renderTargetProperties.__webglFramebuffer, renderTarget, 36064, 3553 );\n\n\t\t\tif ( textureNeedsGenerateMipmaps( renderTarget.texture, supportsMips ) ) {\n\n\t\t\t\tgenerateMipmap( 3553, renderTarget.texture, renderTarget.width, renderTarget.height );\n\n\t\t\t}\n\n\t\t\tstate.bindTexture( 3553, null );\n\n\t\t}\n\n\t\t// Setup depth and stencil buffers\n\n\t\tif ( renderTarget.depthBuffer ) {\n\n\t\t\tsetupDepthRenderbuffer( renderTarget );\n\n\t\t}\n\n\t}\n\n\tfunction updateRenderTargetMipmap( renderTarget ) {\n\n\t\tvar texture = renderTarget.texture;\n\t\tvar supportsMips = isPowerOfTwo( renderTarget ) || isWebGL2;\n\n\t\tif ( textureNeedsGenerateMipmaps( texture, supportsMips ) ) {\n\n\t\t\tvar target = renderTarget.isWebGLCubeRenderTarget ? 34067 : 3553;\n\t\t\tvar webglTexture = properties.get( texture ).__webglTexture;\n\n\t\t\tstate.bindTexture( target, webglTexture );\n\t\t\tgenerateMipmap( target, texture, renderTarget.width, renderTarget.height );\n\t\t\tstate.bindTexture( target, null );\n\n\t\t}\n\n\t}\n\n\tfunction updateMultisampleRenderTarget( renderTarget ) {\n\n\t\tif ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\tif ( isWebGL2 ) {\n\n\t\t\t\tvar renderTargetProperties = properties.get( renderTarget );\n\n\t\t\t\t_gl.bindFramebuffer( 36008, renderTargetProperties.__webglMultisampledFramebuffer );\n\t\t\t\t_gl.bindFramebuffer( 36009, renderTargetProperties.__webglFramebuffer );\n\n\t\t\t\tvar width = renderTarget.width;\n\t\t\t\tvar height = renderTarget.height;\n\t\t\t\tvar mask = 16384;\n\n\t\t\t\tif ( renderTarget.depthBuffer ) mask |= 256;\n\t\t\t\tif ( renderTarget.stencilBuffer ) mask |= 1024;\n\n\t\t\t\t_gl.blitFramebuffer( 0, 0, width, height, 0, 0, width, height, mask, 9728 );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.WebGLRenderer: WebGLMultisampleRenderTarget can only be used with WebGL2.' );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction getRenderTargetSamples( renderTarget ) {\n\n\t\treturn ( isWebGL2 && renderTarget.isWebGLMultisampleRenderTarget ) ?\n\t\t\tMath.min( maxSamples, renderTarget.samples ) : 0;\n\n\t}\n\n\tfunction updateVideoTexture( texture ) {\n\n\t\tvar frame = info.render.frame;\n\n\t\t// Check the last frame we updated the VideoTexture\n\n\t\tif ( _videoTextures.get( texture ) !== frame ) {\n\n\t\t\t_videoTextures.set( texture, frame );\n\t\t\ttexture.update();\n\n\t\t}\n\n\t}\n\n\t// backwards compatibility\n\n\tvar warnedTexture2D = false;\n\tvar warnedTextureCube = false;\n\n\tfunction safeSetTexture2D( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLRenderTarget ) {\n\n\t\t\tif ( warnedTexture2D === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTexture2D: don't use render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTexture2D = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\tsetTexture2D( texture, slot );\n\n\t}\n\n\tfunction safeSetTextureCube( texture, slot ) {\n\n\t\tif ( texture && texture.isWebGLCubeRenderTarget ) {\n\n\t\t\tif ( warnedTextureCube === false ) {\n\n\t\t\t\tconsole.warn( \"THREE.WebGLTextures.safeSetTextureCube: don't use cube render targets as textures. Use their .texture property instead.\" );\n\t\t\t\twarnedTextureCube = true;\n\n\t\t\t}\n\n\t\t\ttexture = texture.texture;\n\n\t\t}\n\n\t\t// currently relying on the fact that WebGLCubeRenderTarget.texture is a Texture and NOT a CubeTexture\n\t\t// TODO: unify these code paths\n\t\tif ( ( texture && texture.isCubeTexture ) ||\n\t\t\t( Array.isArray( texture.image ) && texture.image.length === 6 ) ) {\n\n\t\t\t// CompressedTexture can have Array in image :/\n\n\t\t\t// this function alone should take care of cube textures\n\t\t\tsetTextureCube( texture, slot );\n\n\t\t} else {\n\n\t\t\t// assumed: texture property of THREE.WebGLCubeRenderTarget\n\t\t\tsetTextureCubeDynamic( texture, slot );\n\n\t\t}\n\n\t}\n\n\t//\n\n\tthis.allocateTextureUnit = allocateTextureUnit;\n\tthis.resetTextureUnits = resetTextureUnits;\n\n\tthis.setTexture2D = setTexture2D;\n\tthis.setTexture2DArray = setTexture2DArray;\n\tthis.setTexture3D = setTexture3D;\n\tthis.setTextureCube = setTextureCube;\n\tthis.setTextureCubeDynamic = setTextureCubeDynamic;\n\tthis.setupRenderTarget = setupRenderTarget;\n\tthis.updateRenderTargetMipmap = updateRenderTargetMipmap;\n\tthis.updateMultisampleRenderTarget = updateMultisampleRenderTarget;\n\n\tthis.safeSetTexture2D = safeSetTexture2D;\n\tthis.safeSetTextureCube = safeSetTextureCube;\n\n}\n\n/**\n * @author thespite / http://www.twitter.com/thespite\n */\n\nfunction WebGLUtils( gl, extensions, capabilities ) {\n\n\tvar isWebGL2 = capabilities.isWebGL2;\n\n\tfunction convert( p ) {\n\n\t\tvar extension;\n\n\t\tif ( p === UnsignedByteType ) return 5121;\n\t\tif ( p === UnsignedShort4444Type ) return 32819;\n\t\tif ( p === UnsignedShort5551Type ) return 32820;\n\t\tif ( p === UnsignedShort565Type ) return 33635;\n\n\t\tif ( p === ByteType ) return 5120;\n\t\tif ( p === ShortType ) return 5122;\n\t\tif ( p === UnsignedShortType ) return 5123;\n\t\tif ( p === IntType ) return 5124;\n\t\tif ( p === UnsignedIntType ) return 5125;\n\t\tif ( p === FloatType ) return 5126;\n\n\t\tif ( p === HalfFloatType ) {\n\n\t\t\tif ( isWebGL2 ) return 5131;\n\n\t\t\textension = extensions.get( 'OES_texture_half_float' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.HALF_FLOAT_OES;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === AlphaFormat ) return 6406;\n\t\tif ( p === RGBFormat ) return 6407;\n\t\tif ( p === RGBAFormat ) return 6408;\n\t\tif ( p === LuminanceFormat ) return 6409;\n\t\tif ( p === LuminanceAlphaFormat ) return 6410;\n\t\tif ( p === DepthFormat ) return 6402;\n\t\tif ( p === DepthStencilFormat ) return 34041;\n\t\tif ( p === RedFormat ) return 6403;\n\n\t\t// WebGL2 formats.\n\n\t\tif ( p === RedIntegerFormat ) return 36244;\n\t\tif ( p === RGFormat ) return 33319;\n\t\tif ( p === RGIntegerFormat ) return 33320;\n\t\tif ( p === RGBIntegerFormat ) return 36248;\n\t\tif ( p === RGBAIntegerFormat ) return 36249;\n\n\t\tif ( p === RGB_S3TC_DXT1_Format || p === RGBA_S3TC_DXT1_Format ||\n\t\t\tp === RGBA_S3TC_DXT3_Format || p === RGBA_S3TC_DXT5_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_S3TC_DXT1_Format ) return extension.COMPRESSED_RGB_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT1_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT1_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT3_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT3_EXT;\n\t\t\t\tif ( p === RGBA_S3TC_DXT5_Format ) return extension.COMPRESSED_RGBA_S3TC_DXT5_EXT;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_PVRTC_4BPPV1_Format || p === RGB_PVRTC_2BPPV1_Format ||\n\t\t\tp === RGBA_PVRTC_4BPPV1_Format || p === RGBA_PVRTC_2BPPV1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGB_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_4BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;\n\t\t\t\tif ( p === RGBA_PVRTC_2BPPV1_Format ) return extension.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC1_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc1' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.COMPRESSED_RGB_ETC1_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGB_ETC2_Format || p === RGBA_ETC2_EAC_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_etc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\tif ( p === RGB_ETC2_Format ) return extension.COMPRESSED_RGB8_ETC2;\n\t\t\t\tif ( p === RGBA_ETC2_EAC_Format ) return extension.COMPRESSED_RGBA8_ETC2_EAC;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === RGBA_ASTC_4x4_Format || p === RGBA_ASTC_5x4_Format || p === RGBA_ASTC_5x5_Format ||\n\t\t\tp === RGBA_ASTC_6x5_Format || p === RGBA_ASTC_6x6_Format || p === RGBA_ASTC_8x5_Format ||\n\t\t\tp === RGBA_ASTC_8x6_Format || p === RGBA_ASTC_8x8_Format || p === RGBA_ASTC_10x5_Format ||\n\t\t\tp === RGBA_ASTC_10x6_Format || p === RGBA_ASTC_10x8_Format || p === RGBA_ASTC_10x10_Format ||\n\t\t\tp === RGBA_ASTC_12x10_Format || p === RGBA_ASTC_12x12_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_4x4_Format || p === SRGB8_ALPHA8_ASTC_5x4_Format || p === SRGB8_ALPHA8_ASTC_5x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_6x5_Format || p === SRGB8_ALPHA8_ASTC_6x6_Format || p === SRGB8_ALPHA8_ASTC_8x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_8x6_Format || p === SRGB8_ALPHA8_ASTC_8x8_Format || p === SRGB8_ALPHA8_ASTC_10x5_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_10x6_Format || p === SRGB8_ALPHA8_ASTC_10x8_Format || p === SRGB8_ALPHA8_ASTC_10x10_Format ||\n\t\t\tp === SRGB8_ALPHA8_ASTC_12x10_Format || p === SRGB8_ALPHA8_ASTC_12x12_Format ) {\n\n\t\t\textension = extensions.get( 'WEBGL_compressed_texture_astc' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\t// TODO Complete?\n\n\t\t\t\treturn p;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( p === UnsignedInt248Type ) {\n\n\t\t\tif ( isWebGL2 ) return 34042;\n\n\t\t\textension = extensions.get( 'WEBGL_depth_texture' );\n\n\t\t\tif ( extension !== null ) {\n\n\t\t\t\treturn extension.UNSIGNED_INT_24_8_WEBGL;\n\n\t\t\t} else {\n\n\t\t\t\treturn null;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { convert: convert };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ArrayCamera( array ) {\n\n\tPerspectiveCamera.call( this );\n\n\tthis.cameras = array || [];\n\n}\n\nArrayCamera.prototype = Object.assign( Object.create( PerspectiveCamera.prototype ), {\n\n\tconstructor: ArrayCamera,\n\n\tisArrayCamera: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Group() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Group';\n\n}\n\nGroup.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Group,\n\n\tisGroup: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction WebXRManager( renderer, gl ) {\n\n\tvar scope = this;\n\n\tvar session = null;\n\n\tvar framebufferScaleFactor = 1.0;\n\n\tvar referenceSpace = null;\n\tvar referenceSpaceType = 'local-floor';\n\n\tvar pose = null;\n\n\tvar controllers = [];\n\tvar inputSourcesMap = new Map();\n\n\t//\n\n\tvar cameraL = new PerspectiveCamera();\n\tcameraL.layers.enable( 1 );\n\tcameraL.viewport = new Vector4();\n\n\tvar cameraR = new PerspectiveCamera();\n\tcameraR.layers.enable( 2 );\n\tcameraR.viewport = new Vector4();\n\n\tvar cameraVR = new ArrayCamera( [ cameraL, cameraR ] );\n\tcameraVR.layers.enable( 1 );\n\tcameraVR.layers.enable( 2 );\n\n\tvar _currentDepthNear = null;\n\tvar _currentDepthFar = null;\n\n\t//\n\n\tthis.enabled = false;\n\n\tthis.isPresenting = false;\n\n\tthis.getController = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = {};\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\tif ( controller.targetRay === undefined ) {\n\n\t\t\tcontroller.targetRay = new Group();\n\t\t\tcontroller.targetRay.matrixAutoUpdate = false;\n\t\t\tcontroller.targetRay.visible = false;\n\n\t\t}\n\n\t\treturn controller.targetRay;\n\n\t};\n\n\tthis.getControllerGrip = function ( id ) {\n\n\t\tvar controller = controllers[ id ];\n\n\t\tif ( controller === undefined ) {\n\n\t\t\tcontroller = {};\n\t\t\tcontrollers[ id ] = controller;\n\n\t\t}\n\n\t\tif ( controller.grip === undefined ) {\n\n\t\t\tcontroller.grip = new Group();\n\t\t\tcontroller.grip.matrixAutoUpdate = false;\n\t\t\tcontroller.grip.visible = false;\n\n\t\t}\n\n\t\treturn controller.grip;\n\n\t};\n\n\t//\n\n\tfunction onSessionEvent( event ) {\n\n\t\tvar controller = inputSourcesMap.get( event.inputSource );\n\n\t\tif ( controller ) {\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.dispatchEvent( { type: event.type } );\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.dispatchEvent( { type: event.type } );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction onSessionEnd() {\n\n\t\tinputSourcesMap.forEach( function ( controller, inputSource ) {\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tcontroller.targetRay.visible = false;\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\t\t\t\tcontroller.grip.visible = false;\n\n\t\t\t}\n\n\t\t} );\n\n\t\tinputSourcesMap.clear();\n\n\t\t//\n\n\t\trenderer.setFramebuffer( null );\n\t\trenderer.setRenderTarget( renderer.getRenderTarget() ); // Hack #15830\n\t\tanimation.stop();\n\n\t\tscope.isPresenting = false;\n\n\t\tscope.dispatchEvent( { type: 'sessionend' } );\n\n\t}\n\n\tfunction onRequestReferenceSpace( value ) {\n\n\t\treferenceSpace = value;\n\n\t\tanimation.setContext( session );\n\t\tanimation.start();\n\n\t\tscope.isPresenting = true;\n\n\t\tscope.dispatchEvent( { type: 'sessionstart' } );\n\n\t}\n\n\tthis.setFramebufferScaleFactor = function ( value ) {\n\n\t\tframebufferScaleFactor = value;\n\n\t\t// Warn if function is used while presenting\n\t\tif ( scope.isPresenting == true ) {\n\n\t\t\tconsole.warn( \"WebXRManager: Cannot change framebuffer scale while presenting VR content\" );\n\n\t\t}\n\n\t};\n\n\tthis.setReferenceSpaceType = function ( value ) {\n\n\t\treferenceSpaceType = value;\n\n\t};\n\n\tthis.getReferenceSpace = function () {\n\n\t\treturn referenceSpace;\n\n\t};\n\n\tthis.getSession = function () {\n\n\t\treturn session;\n\n\t};\n\n\tthis.setSession = function ( value ) {\n\n\t\tsession = value;\n\n\t\tif ( session !== null ) {\n\n\t\t\tsession.addEventListener( 'select', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectstart', onSessionEvent );\n\t\t\tsession.addEventListener( 'selectend', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeeze', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezestart', onSessionEvent );\n\t\t\tsession.addEventListener( 'squeezeend', onSessionEvent );\n\t\t\tsession.addEventListener( 'end', onSessionEnd );\n\n\t\t\tvar attributes = gl.getContextAttributes();\n\n\t\t\tvar layerInit = {\n\t\t\t\tantialias: attributes.antialias,\n\t\t\t\talpha: attributes.alpha,\n\t\t\t\tdepth: attributes.depth,\n\t\t\t\tstencil: attributes.stencil,\n\t\t\t\tframebufferScaleFactor: framebufferScaleFactor\n\t\t\t};\n\n\t\t\t// eslint-disable-next-line no-undef\n\t\t\tvar baseLayer = new XRWebGLLayer( session, gl, layerInit );\n\n\t\t\tsession.updateRenderState( { baseLayer: baseLayer } );\n\n\t\t\tsession.requestReferenceSpace( referenceSpaceType ).then( onRequestReferenceSpace );\n\n\t\t\t//\n\n\t\t\tsession.addEventListener( 'inputsourceschange', updateInputSources );\n\n\t\t}\n\n\t};\n\n\tfunction updateInputSources( event ) {\n\n\t\tvar inputSources = session.inputSources;\n\n\t\t// Assign inputSources to available controllers\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tinputSourcesMap.set( inputSources[ i ], controllers[ i ] );\n\n\t\t}\n\n\t\t// Notify disconnected\n\n\t\tfor ( var i = 0; i < event.removed.length; i ++ ) {\n\n\t\t\tvar inputSource = event.removed[ i ];\n\t\t\tvar controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip ) {\n\n\t\t\t\t\tcontroller.grip.dispatchEvent( { type: 'disconnected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tinputSourcesMap.delete( inputSource );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Notify connected\n\n\t\tfor ( var i = 0; i < event.added.length; i ++ ) {\n\n\t\t\tvar inputSource = event.added[ i ];\n\t\t\tvar controller = inputSourcesMap.get( inputSource );\n\n\t\t\tif ( controller ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tcontroller.targetRay.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip ) {\n\n\t\t\t\t\tcontroller.grip.dispatchEvent( { type: 'connected', data: inputSource } );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t//\n\n\tvar cameraLPos = new Vector3();\n\tvar cameraRPos = new Vector3();\n\n\t/**\n\t * @author jsantell / https://www.jsantell.com/\n\t *\n\t * Assumes 2 cameras that are parallel and share an X-axis, and that\n\t * the cameras' projection and world matrices have already been set.\n\t * And that near and far planes are identical for both cameras.\n\t * Visualization of this technique: https://computergraphics.stackexchange.com/a/4765\n\t */\n\tfunction setProjectionFromUnion( camera, cameraL, cameraR ) {\n\n\t\tcameraLPos.setFromMatrixPosition( cameraL.matrixWorld );\n\t\tcameraRPos.setFromMatrixPosition( cameraR.matrixWorld );\n\n\t\tvar ipd = cameraLPos.distanceTo( cameraRPos );\n\n\t\tvar projL = cameraL.projectionMatrix.elements;\n\t\tvar projR = cameraR.projectionMatrix.elements;\n\n\t\t// VR systems will have identical far and near planes, and\n\t\t// most likely identical top and bottom frustum extents.\n\t\t// Use the left camera for these values.\n\t\tvar near = projL[ 14 ] / ( projL[ 10 ] - 1 );\n\t\tvar far = projL[ 14 ] / ( projL[ 10 ] + 1 );\n\t\tvar topFov = ( projL[ 9 ] + 1 ) / projL[ 5 ];\n\t\tvar bottomFov = ( projL[ 9 ] - 1 ) / projL[ 5 ];\n\n\t\tvar leftFov = ( projL[ 8 ] - 1 ) / projL[ 0 ];\n\t\tvar rightFov = ( projR[ 8 ] + 1 ) / projR[ 0 ];\n\t\tvar left = near * leftFov;\n\t\tvar right = near * rightFov;\n\n\t\t// Calculate the new camera's position offset from the\n\t\t// left camera. xOffset should be roughly half `ipd`.\n\t\tvar zOffset = ipd / ( - leftFov + rightFov );\n\t\tvar xOffset = zOffset * - leftFov;\n\n\t\t// TODO: Better way to apply this offset?\n\t\tcameraL.matrixWorld.decompose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.translateX( xOffset );\n\t\tcamera.translateZ( zOffset );\n\t\tcamera.matrixWorld.compose( camera.position, camera.quaternion, camera.scale );\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t\t// Find the union of the frustum values of the cameras and scale\n\t\t// the values so that the near plane's position does not change in world space,\n\t\t// although must now be relative to the new union camera.\n\t\tvar near2 = near + zOffset;\n\t\tvar far2 = far + zOffset;\n\t\tvar left2 = left - xOffset;\n\t\tvar right2 = right + ( ipd - xOffset );\n\t\tvar top2 = topFov * far / far2 * near2;\n\t\tvar bottom2 = bottomFov * far / far2 * near2;\n\n\t\tcamera.projectionMatrix.makePerspective( left2, right2, top2, bottom2, near2, far2 );\n\n\t}\n\n\tfunction updateCamera( camera, parent ) {\n\n\t\tif ( parent === null ) {\n\n\t\t\tcamera.matrixWorld.copy( camera.matrix );\n\n\t\t} else {\n\n\t\t\tcamera.matrixWorld.multiplyMatrices( parent.matrixWorld, camera.matrix );\n\n\t\t}\n\n\t\tcamera.matrixWorldInverse.getInverse( camera.matrixWorld );\n\n\t}\n\n\tthis.getCamera = function ( camera ) {\n\n\t\tcameraVR.near = cameraR.near = cameraL.near = camera.near;\n\t\tcameraVR.far = cameraR.far = cameraL.far = camera.far;\n\n\t\tif ( _currentDepthNear !== cameraVR.near || _currentDepthFar !== cameraVR.far ) {\n\n\t\t\t// Note that the new renderState won't apply until the next frame. See #18320\n\n\t\t\tsession.updateRenderState( {\n\t\t\t\tdepthNear: cameraVR.near,\n\t\t\t\tdepthFar: cameraVR.far\n\t\t\t} );\n\n\t\t\t_currentDepthNear = cameraVR.near;\n\t\t\t_currentDepthFar = cameraVR.far;\n\n\t\t}\n\n\t\tvar parent = camera.parent;\n\t\tvar cameras = cameraVR.cameras;\n\n\t\tupdateCamera( cameraVR, parent );\n\n\t\tfor ( var i = 0; i < cameras.length; i ++ ) {\n\n\t\t\tupdateCamera( cameras[ i ], parent );\n\n\t\t}\n\n\t\t// update camera and its children\n\n\t\tcamera.matrixWorld.copy( cameraVR.matrixWorld );\n\n\t\tvar children = camera.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tchildren[ i ].updateMatrixWorld( true );\n\n\t\t}\n\n\t\tsetProjectionFromUnion( cameraVR, cameraL, cameraR );\n\n\t\treturn cameraVR;\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time, frame ) {\n\n\t\tpose = frame.getViewerPose( referenceSpace );\n\n\t\tif ( pose !== null ) {\n\n\t\t\tvar views = pose.views;\n\t\t\tvar baseLayer = session.renderState.baseLayer;\n\n\t\t\trenderer.setFramebuffer( baseLayer.framebuffer );\n\n\t\t\tfor ( var i = 0; i < views.length; i ++ ) {\n\n\t\t\t\tvar view = views[ i ];\n\t\t\t\tvar viewport = baseLayer.getViewport( view );\n\n\t\t\t\tvar camera = cameraVR.cameras[ i ];\n\t\t\t\tcamera.matrix.fromArray( view.transform.matrix );\n\t\t\t\tcamera.projectionMatrix.fromArray( view.projectionMatrix );\n\t\t\t\tcamera.viewport.set( viewport.x, viewport.y, viewport.width, viewport.height );\n\n\t\t\t\tif ( i === 0 ) {\n\n\t\t\t\t\tcameraVR.matrix.copy( camera.matrix );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar inputSources = session.inputSources;\n\n\t\tfor ( var i = 0; i < controllers.length; i ++ ) {\n\n\t\t\tvar controller = controllers[ i ];\n\n\t\t\tvar inputSource = inputSources[ i ];\n\n\t\t\tvar inputPose = null;\n\t\t\tvar gripPose = null;\n\n\t\t\tif ( inputSource ) {\n\n\t\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\t\tinputPose = frame.getPose( inputSource.targetRaySpace, referenceSpace );\n\n\t\t\t\t\tif ( inputPose !== null ) {\n\n\t\t\t\t\t\tcontroller.targetRay.matrix.fromArray( inputPose.transform.matrix );\n\t\t\t\t\t\tcontroller.targetRay.matrix.decompose( controller.targetRay.position, controller.targetRay.rotation, controller.targetRay.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( controller.grip && inputSource.gripSpace ) {\n\n\t\t\t\t\tgripPose = frame.getPose( inputSource.gripSpace, referenceSpace );\n\n\t\t\t\t\tif ( gripPose !== null ) {\n\n\t\t\t\t\t\tcontroller.grip.matrix.fromArray( gripPose.transform.matrix );\n\t\t\t\t\t\tcontroller.grip.matrix.decompose( controller.grip.position, controller.grip.rotation, controller.grip.scale );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( controller.targetRay ) {\n\n\t\t\t\tcontroller.targetRay.visible = inputPose !== null;\n\n\t\t\t}\n\n\t\t\tif ( controller.grip ) {\n\n\t\t\t\tcontroller.grip.visible = gripPose !== null;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time, frame );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\n\t};\n\n\tthis.dispose = function () {};\n\n}\n\nObject.assign( WebXRManager.prototype, EventDispatcher.prototype );\n\n/**\n * @author supereggbert / http://www.paulbrunt.co.uk/\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n * @author szimek / https://github.com/szimek/\n * @author tschw\n */\n\nfunction WebGLRenderer( parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar _canvas = parameters.canvas !== undefined ? parameters.canvas : document.createElementNS( 'http://www.w3.org/1999/xhtml', 'canvas' ),\n\t\t_context = parameters.context !== undefined ? parameters.context : null,\n\n\t\t_alpha = parameters.alpha !== undefined ? parameters.alpha : false,\n\t\t_depth = parameters.depth !== undefined ? parameters.depth : true,\n\t\t_stencil = parameters.stencil !== undefined ? parameters.stencil : true,\n\t\t_antialias = parameters.antialias !== undefined ? parameters.antialias : false,\n\t\t_premultipliedAlpha = parameters.premultipliedAlpha !== undefined ? parameters.premultipliedAlpha : true,\n\t\t_preserveDrawingBuffer = parameters.preserveDrawingBuffer !== undefined ? parameters.preserveDrawingBuffer : false,\n\t\t_powerPreference = parameters.powerPreference !== undefined ? parameters.powerPreference : 'default',\n\t\t_failIfMajorPerformanceCaveat = parameters.failIfMajorPerformanceCaveat !== undefined ? parameters.failIfMajorPerformanceCaveat : false;\n\n\tvar currentRenderList = null;\n\tvar currentRenderState = null;\n\n\t// public properties\n\n\tthis.domElement = _canvas;\n\n\t// Debug configuration container\n\tthis.debug = {\n\n\t\t/**\n\t\t * Enables error checking and reporting when shader programs are being compiled\n\t\t * @type {boolean}\n\t\t */\n\t\tcheckShaderErrors: true\n\t};\n\n\t// clearing\n\n\tthis.autoClear = true;\n\tthis.autoClearColor = true;\n\tthis.autoClearDepth = true;\n\tthis.autoClearStencil = true;\n\n\t// scene graph\n\n\tthis.sortObjects = true;\n\n\t// user-defined clipping\n\n\tthis.clippingPlanes = [];\n\tthis.localClippingEnabled = false;\n\n\t// physically based shading\n\n\tthis.gammaFactor = 2.0;\t// for backwards compatibility\n\tthis.outputEncoding = LinearEncoding;\n\n\t// physical lights\n\n\tthis.physicallyCorrectLights = false;\n\n\t// tone mapping\n\n\tthis.toneMapping = LinearToneMapping;\n\tthis.toneMappingExposure = 1.0;\n\tthis.toneMappingWhitePoint = 1.0;\n\n\t// morphs\n\n\tthis.maxMorphTargets = 8;\n\tthis.maxMorphNormals = 4;\n\n\t// internal properties\n\n\tvar _this = this,\n\n\t\t_isContextLost = false,\n\n\t\t// internal state cache\n\n\t\t_framebuffer = null,\n\n\t\t_currentActiveCubeFace = 0,\n\t\t_currentActiveMipmapLevel = 0,\n\t\t_currentRenderTarget = null,\n\t\t_currentFramebuffer = null,\n\t\t_currentMaterialId = - 1,\n\n\t\t// geometry and program caching\n\n\t\t_currentGeometryProgram = {\n\t\t\tgeometry: null,\n\t\t\tprogram: null,\n\t\t\twireframe: false\n\t\t},\n\n\t\t_currentCamera = null,\n\t\t_currentArrayCamera = null,\n\n\t\t_currentViewport = new Vector4(),\n\t\t_currentScissor = new Vector4(),\n\t\t_currentScissorTest = null,\n\n\t\t//\n\n\t\t_width = _canvas.width,\n\t\t_height = _canvas.height,\n\n\t\t_pixelRatio = 1,\n\t\t_opaqueSort = null,\n\t\t_transparentSort = null,\n\n\t\t_viewport = new Vector4( 0, 0, _width, _height ),\n\t\t_scissor = new Vector4( 0, 0, _width, _height ),\n\t\t_scissorTest = false,\n\n\t\t// frustum\n\n\t\t_frustum = new Frustum(),\n\n\t\t// clipping\n\n\t\t_clipping = new WebGLClipping(),\n\t\t_clippingEnabled = false,\n\t\t_localClippingEnabled = false,\n\n\t\t// camera matrices cache\n\n\t\t_projScreenMatrix = new Matrix4(),\n\n\t\t_vector3 = new Vector3();\n\n\tfunction getTargetPixelRatio() {\n\n\t\treturn _currentRenderTarget === null ? _pixelRatio : 1;\n\n\t}\n\n\t// initialize\n\n\tvar _gl;\n\n\ttry {\n\n\t\tvar contextAttributes = {\n\t\t\talpha: _alpha,\n\t\t\tdepth: _depth,\n\t\t\tstencil: _stencil,\n\t\t\tantialias: _antialias,\n\t\t\tpremultipliedAlpha: _premultipliedAlpha,\n\t\t\tpreserveDrawingBuffer: _preserveDrawingBuffer,\n\t\t\tpowerPreference: _powerPreference,\n\t\t\tfailIfMajorPerformanceCaveat: _failIfMajorPerformanceCaveat,\n\t\t\txrCompatible: true\n\t\t};\n\n\t\t// event listeners must be registered before WebGL context is created, see #12753\n\n\t\t_canvas.addEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.addEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\t_gl = _context || _canvas.getContext( 'webgl', contextAttributes ) || _canvas.getContext( 'experimental-webgl', contextAttributes );\n\n\t\tif ( _gl === null ) {\n\n\t\t\tif ( _canvas.getContext( 'webgl' ) !== null ) {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context with your selected attributes.' );\n\n\t\t\t} else {\n\n\t\t\t\tthrow new Error( 'Error creating WebGL context.' );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Some experimental-webgl implementations do not have getShaderPrecisionFormat\n\n\t\tif ( _gl.getShaderPrecisionFormat === undefined ) {\n\n\t\t\t_gl.getShaderPrecisionFormat = function () {\n\n\t\t\t\treturn { 'rangeMin': 1, 'rangeMax': 1, 'precision': 1 };\n\n\t\t\t};\n\n\t\t}\n\n\t} catch ( error ) {\n\n\t\tconsole.error( 'THREE.WebGLRenderer: ' + error.message );\n\t\tthrow error;\n\n\t}\n\n\tvar extensions, capabilities, state, info;\n\tvar properties, textures, attributes, geometries, objects;\n\tvar programCache, renderLists, renderStates;\n\n\tvar background, morphtargets, bufferRenderer, indexedBufferRenderer;\n\n\tvar utils;\n\n\tfunction initGLContext() {\n\n\t\textensions = new WebGLExtensions( _gl );\n\n\t\tcapabilities = new WebGLCapabilities( _gl, extensions, parameters );\n\n\t\tif ( capabilities.isWebGL2 === false ) {\n\n\t\t\textensions.get( 'WEBGL_depth_texture' );\n\t\t\textensions.get( 'OES_texture_float' );\n\t\t\textensions.get( 'OES_texture_half_float' );\n\t\t\textensions.get( 'OES_texture_half_float_linear' );\n\t\t\textensions.get( 'OES_standard_derivatives' );\n\t\t\textensions.get( 'OES_element_index_uint' );\n\t\t\textensions.get( 'ANGLE_instanced_arrays' );\n\n\t\t}\n\n\t\textensions.get( 'OES_texture_float_linear' );\n\n\t\tutils = new WebGLUtils( _gl, extensions, capabilities );\n\n\t\tstate = new WebGLState( _gl, extensions, capabilities );\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t\tinfo = new WebGLInfo( _gl );\n\t\tproperties = new WebGLProperties();\n\t\ttextures = new WebGLTextures( _gl, extensions, state, properties, capabilities, utils, info );\n\t\tattributes = new WebGLAttributes( _gl, capabilities );\n\t\tgeometries = new WebGLGeometries( _gl, attributes, info );\n\t\tobjects = new WebGLObjects( _gl, geometries, attributes, info );\n\t\tmorphtargets = new WebGLMorphtargets( _gl );\n\t\tprogramCache = new WebGLPrograms( _this, extensions, capabilities );\n\t\trenderLists = new WebGLRenderLists();\n\t\trenderStates = new WebGLRenderStates();\n\n\t\tbackground = new WebGLBackground( _this, state, objects, _premultipliedAlpha );\n\n\t\tbufferRenderer = new WebGLBufferRenderer( _gl, extensions, info, capabilities );\n\t\tindexedBufferRenderer = new WebGLIndexedBufferRenderer( _gl, extensions, info, capabilities );\n\n\t\tinfo.programs = programCache.programs;\n\n\t\t_this.capabilities = capabilities;\n\t\t_this.extensions = extensions;\n\t\t_this.properties = properties;\n\t\t_this.renderLists = renderLists;\n\t\t_this.state = state;\n\t\t_this.info = info;\n\n\t}\n\n\tinitGLContext();\n\n\t// xr\n\n\tvar xr = new WebXRManager( _this, _gl );\n\n\tthis.xr = xr;\n\n\t// shadow map\n\n\tvar shadowMap = new WebGLShadowMap( _this, objects, capabilities.maxTextureSize );\n\n\tthis.shadowMap = shadowMap;\n\n\t// API\n\n\tthis.getContext = function () {\n\n\t\treturn _gl;\n\n\t};\n\n\tthis.getContextAttributes = function () {\n\n\t\treturn _gl.getContextAttributes();\n\n\t};\n\n\tthis.forceContextLoss = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.loseContext();\n\n\t};\n\n\tthis.forceContextRestore = function () {\n\n\t\tvar extension = extensions.get( 'WEBGL_lose_context' );\n\t\tif ( extension ) extension.restoreContext();\n\n\t};\n\n\tthis.getPixelRatio = function () {\n\n\t\treturn _pixelRatio;\n\n\t};\n\n\tthis.setPixelRatio = function ( value ) {\n\n\t\tif ( value === undefined ) return;\n\n\t\t_pixelRatio = value;\n\n\t\tthis.setSize( _width, _height, false );\n\n\t};\n\n\tthis.getSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getsize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width, _height );\n\n\t};\n\n\tthis.setSize = function ( width, height, updateStyle ) {\n\n\t\tif ( xr.isPresenting ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: Can\\'t change size while VR device is presenting.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_canvas.width = Math.floor( width * _pixelRatio );\n\t\t_canvas.height = Math.floor( height * _pixelRatio );\n\n\t\tif ( updateStyle !== false ) {\n\n\t\t\t_canvas.style.width = width + 'px';\n\t\t\t_canvas.style.height = height + 'px';\n\n\t\t}\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getDrawingBufferSize = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getdrawingBufferSize() now requires a Vector2 as an argument' );\n\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set( _width * _pixelRatio, _height * _pixelRatio ).floor();\n\n\t};\n\n\tthis.setDrawingBufferSize = function ( width, height, pixelRatio ) {\n\n\t\t_width = width;\n\t\t_height = height;\n\n\t\t_pixelRatio = pixelRatio;\n\n\t\t_canvas.width = Math.floor( width * pixelRatio );\n\t\t_canvas.height = Math.floor( height * pixelRatio );\n\n\t\tthis.setViewport( 0, 0, width, height );\n\n\t};\n\n\tthis.getCurrentViewport = function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'WebGLRenderer: .getCurrentViewport() now requires a Vector4 as an argument' );\n\n\t\t\ttarget = new Vector4();\n\n\t\t}\n\n\t\treturn target.copy( _currentViewport );\n\n\t};\n\n\tthis.getViewport = function ( target ) {\n\n\t\treturn target.copy( _viewport );\n\n\t};\n\n\tthis.setViewport = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_viewport.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_viewport.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissor = function ( target ) {\n\n\t\treturn target.copy( _scissor );\n\n\t};\n\n\tthis.setScissor = function ( x, y, width, height ) {\n\n\t\tif ( x.isVector4 ) {\n\n\t\t\t_scissor.set( x.x, x.y, x.z, x.w );\n\n\t\t} else {\n\n\t\t\t_scissor.set( x, y, width, height );\n\n\t\t}\n\n\t\tstate.scissor( _currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor() );\n\n\t};\n\n\tthis.getScissorTest = function () {\n\n\t\treturn _scissorTest;\n\n\t};\n\n\tthis.setScissorTest = function ( boolean ) {\n\n\t\tstate.setScissorTest( _scissorTest = boolean );\n\n\t};\n\n\tthis.setOpaqueSort = function ( method ) {\n\n\t\t_opaqueSort = method;\n\n\t};\n\n\tthis.setTransparentSort = function ( method ) {\n\n\t\t_transparentSort = method;\n\n\t};\n\n\t// Clearing\n\n\tthis.getClearColor = function () {\n\n\t\treturn background.getClearColor();\n\n\t};\n\n\tthis.setClearColor = function () {\n\n\t\tbackground.setClearColor.apply( background, arguments );\n\n\t};\n\n\tthis.getClearAlpha = function () {\n\n\t\treturn background.getClearAlpha();\n\n\t};\n\n\tthis.setClearAlpha = function () {\n\n\t\tbackground.setClearAlpha.apply( background, arguments );\n\n\t};\n\n\tthis.clear = function ( color, depth, stencil ) {\n\n\t\tvar bits = 0;\n\n\t\tif ( color === undefined || color ) bits |= 16384;\n\t\tif ( depth === undefined || depth ) bits |= 256;\n\t\tif ( stencil === undefined || stencil ) bits |= 1024;\n\n\t\t_gl.clear( bits );\n\n\t};\n\n\tthis.clearColor = function () {\n\n\t\tthis.clear( true, false, false );\n\n\t};\n\n\tthis.clearDepth = function () {\n\n\t\tthis.clear( false, true, false );\n\n\t};\n\n\tthis.clearStencil = function () {\n\n\t\tthis.clear( false, false, true );\n\n\t};\n\n\t//\n\n\tthis.dispose = function () {\n\n\t\t_canvas.removeEventListener( 'webglcontextlost', onContextLost, false );\n\t\t_canvas.removeEventListener( 'webglcontextrestored', onContextRestore, false );\n\n\t\trenderLists.dispose();\n\t\trenderStates.dispose();\n\t\tproperties.dispose();\n\t\tobjects.dispose();\n\n\t\txr.dispose();\n\n\t\tanimation.stop();\n\n\t};\n\n\t// Events\n\n\tfunction onContextLost( event ) {\n\n\t\tevent.preventDefault();\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Lost.' );\n\n\t\t_isContextLost = true;\n\n\t}\n\n\tfunction onContextRestore( /* event */ ) {\n\n\t\tconsole.log( 'THREE.WebGLRenderer: Context Restored.' );\n\n\t\t_isContextLost = false;\n\n\t\tinitGLContext();\n\n\t}\n\n\tfunction onMaterialDispose( event ) {\n\n\t\tvar material = event.target;\n\n\t\tmaterial.removeEventListener( 'dispose', onMaterialDispose );\n\n\t\tdeallocateMaterial( material );\n\n\t}\n\n\t// Buffer deallocation\n\n\tfunction deallocateMaterial( material ) {\n\n\t\treleaseMaterialProgramReference( material );\n\n\t\tproperties.remove( material );\n\n\t}\n\n\n\tfunction releaseMaterialProgramReference( material ) {\n\n\t\tvar programInfo = properties.get( material ).program;\n\n\t\tmaterial.program = undefined;\n\n\t\tif ( programInfo !== undefined ) {\n\n\t\t\tprogramCache.releaseProgram( programInfo );\n\n\t\t}\n\n\t}\n\n\t// Buffer rendering\n\n\tfunction renderObjectImmediate( object, program ) {\n\n\t\tobject.render( function ( object ) {\n\n\t\t\t_this.renderBufferImmediate( object, program );\n\n\t\t} );\n\n\t}\n\n\tthis.renderBufferImmediate = function ( object, program ) {\n\n\t\tstate.initAttributes();\n\n\t\tvar buffers = properties.get( object );\n\n\t\tif ( object.hasPositions && ! buffers.position ) buffers.position = _gl.createBuffer();\n\t\tif ( object.hasNormals && ! buffers.normal ) buffers.normal = _gl.createBuffer();\n\t\tif ( object.hasUvs && ! buffers.uv ) buffers.uv = _gl.createBuffer();\n\t\tif ( object.hasColors && ! buffers.color ) buffers.color = _gl.createBuffer();\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( object.hasPositions ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.position );\n\t\t\t_gl.bufferData( 34962, object.positionArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.position );\n\t\t\t_gl.vertexAttribPointer( programAttributes.position, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasNormals ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.normal );\n\t\t\t_gl.bufferData( 34962, object.normalArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.normal );\n\t\t\t_gl.vertexAttribPointer( programAttributes.normal, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasUvs ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.uv );\n\t\t\t_gl.bufferData( 34962, object.uvArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.uv );\n\t\t\t_gl.vertexAttribPointer( programAttributes.uv, 2, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tif ( object.hasColors ) {\n\n\t\t\t_gl.bindBuffer( 34962, buffers.color );\n\t\t\t_gl.bufferData( 34962, object.colorArray, 35048 );\n\n\t\t\tstate.enableAttribute( programAttributes.color );\n\t\t\t_gl.vertexAttribPointer( programAttributes.color, 3, 5126, false, 0, 0 );\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t\t_gl.drawArrays( 4, 0, object.count );\n\n\t\tobject.count = 0;\n\n\t};\n\n\tvar tempScene = new Scene();\n\n\tthis.renderBufferDirect = function ( camera, scene, geometry, material, object, group ) {\n\n\t\tif ( scene === null ) scene = tempScene; // renderBufferDirect second parameter used to be fog (could be null)\n\n\t\tvar frontFaceCW = ( object.isMesh && object.matrixWorld.determinant() < 0 );\n\n\t\tvar program = setProgram( camera, scene, material, object );\n\n\t\tstate.setMaterial( material, frontFaceCW );\n\n\t\tvar updateBuffers = false;\n\n\t\tif ( _currentGeometryProgram.geometry !== geometry.id ||\n\t\t\t_currentGeometryProgram.program !== program.id ||\n\t\t\t_currentGeometryProgram.wireframe !== ( material.wireframe === true ) ) {\n\n\t\t\t_currentGeometryProgram.geometry = geometry.id;\n\t\t\t_currentGeometryProgram.program = program.id;\n\t\t\t_currentGeometryProgram.wireframe = material.wireframe === true;\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\tif ( material.morphTargets || material.morphNormals ) {\n\n\t\t\tmorphtargets.update( object, geometry, material, program );\n\n\t\t\tupdateBuffers = true;\n\n\t\t}\n\n\t\t//\n\n\t\tvar index = geometry.index;\n\t\tvar position = geometry.attributes.position;\n\n\t\t//\n\n\t\tif ( index === null ) {\n\n\t\t\tif ( position === undefined || position.count === 0 ) return;\n\n\t\t} else if ( index.count === 0 ) {\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t//\n\n\t\tvar rangeFactor = 1;\n\n\t\tif ( material.wireframe === true ) {\n\n\t\t\tindex = geometries.getWireframeAttribute( geometry );\n\t\t\trangeFactor = 2;\n\n\t\t}\n\n\t\tvar attribute;\n\t\tvar renderer = bufferRenderer;\n\n\t\tif ( index !== null ) {\n\n\t\t\tattribute = attributes.get( index );\n\n\t\t\trenderer = indexedBufferRenderer;\n\t\t\trenderer.setIndex( attribute );\n\n\t\t}\n\n\t\tif ( updateBuffers ) {\n\n\t\t\tsetupVertexAttributes( object, geometry, material, program );\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\t_gl.bindBuffer( 34963, attribute.buffer );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//\n\n\t\tvar dataCount = ( index !== null ) ? index.count : position.count;\n\n\t\tvar rangeStart = geometry.drawRange.start * rangeFactor;\n\t\tvar rangeCount = geometry.drawRange.count * rangeFactor;\n\n\t\tvar groupStart = group !== null ? group.start * rangeFactor : 0;\n\t\tvar groupCount = group !== null ? group.count * rangeFactor : Infinity;\n\n\t\tvar drawStart = Math.max( rangeStart, groupStart );\n\t\tvar drawEnd = Math.min( dataCount, rangeStart + rangeCount, groupStart + groupCount ) - 1;\n\n\t\tvar drawCount = Math.max( 0, drawEnd - drawStart + 1 );\n\n\t\tif ( drawCount === 0 ) return;\n\n\t\t//\n\n\t\tif ( object.isMesh ) {\n\n\t\t\tif ( material.wireframe === true ) {\n\n\t\t\t\tstate.setLineWidth( material.wireframeLinewidth * getTargetPixelRatio() );\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 4 );\n\n\t\t\t}\n\n\t\t} else if ( object.isLine ) {\n\n\t\t\tvar lineWidth = material.linewidth;\n\n\t\t\tif ( lineWidth === undefined ) lineWidth = 1; // Not using Line*Material\n\n\t\t\tstate.setLineWidth( lineWidth * getTargetPixelRatio() );\n\n\t\t\tif ( object.isLineSegments ) {\n\n\t\t\t\trenderer.setMode( 1 );\n\n\t\t\t} else if ( object.isLineLoop ) {\n\n\t\t\t\trenderer.setMode( 2 );\n\n\t\t\t} else {\n\n\t\t\t\trenderer.setMode( 3 );\n\n\t\t\t}\n\n\t\t} else if ( object.isPoints ) {\n\n\t\t\trenderer.setMode( 0 );\n\n\t\t} else if ( object.isSprite ) {\n\n\t\t\trenderer.setMode( 4 );\n\n\t\t}\n\n\t\tif ( object.isInstancedMesh ) {\n\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, object.count );\n\n\t\t} else if ( geometry.isInstancedBufferGeometry ) {\n\n\t\t\trenderer.renderInstances( geometry, drawStart, drawCount, geometry.maxInstancedCount );\n\n\t\t} else {\n\n\t\t\trenderer.render( drawStart, drawCount );\n\n\t\t}\n\n\t};\n\n\tfunction setupVertexAttributes( object, geometry, material, program ) {\n\n\t\tif ( capabilities.isWebGL2 === false && ( object.isInstancedMesh || geometry.isInstancedBufferGeometry ) ) {\n\n\t\t\tif ( extensions.get( 'ANGLE_instanced_arrays' ) === null ) return;\n\n\t\t}\n\n\t\tstate.initAttributes();\n\n\t\tvar geometryAttributes = geometry.attributes;\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tvar materialDefaultAttributeValues = material.defaultAttributeValues;\n\n\t\tfor ( var name in programAttributes ) {\n\n\t\t\tvar programAttribute = programAttributes[ name ];\n\n\t\t\tif ( programAttribute >= 0 ) {\n\n\t\t\t\tvar geometryAttribute = geometryAttributes[ name ];\n\n\t\t\t\tif ( geometryAttribute !== undefined ) {\n\n\t\t\t\t\tvar normalized = geometryAttribute.normalized;\n\t\t\t\t\tvar size = geometryAttribute.itemSize;\n\n\t\t\t\t\tvar attribute = attributes.get( geometryAttribute );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\t\t\t\t\tvar bytesPerElement = attribute.bytesPerElement;\n\n\t\t\t\t\tif ( geometryAttribute.isInterleavedBufferAttribute ) {\n\n\t\t\t\t\t\tvar data = geometryAttribute.data;\n\t\t\t\t\t\tvar stride = data.stride;\n\t\t\t\t\t\tvar offset = geometryAttribute.offset;\n\n\t\t\t\t\t\tif ( data && data.isInstancedInterleavedBuffer ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, data.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = data.meshPerAttribute * data.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, stride * bytesPerElement, offset * bytesPerElement );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( geometryAttribute.isInstancedBufferAttribute ) {\n\n\t\t\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute, geometryAttribute.meshPerAttribute );\n\n\t\t\t\t\t\t\tif ( geometry.maxInstancedCount === undefined ) {\n\n\t\t\t\t\t\t\t\tgeometry.maxInstancedCount = geometryAttribute.meshPerAttribute * geometryAttribute.count;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tstate.enableAttribute( programAttribute );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\t\t\t\t\t\t_gl.vertexAttribPointer( programAttribute, size, type, normalized, 0, 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( name === 'instanceMatrix' ) {\n\n\t\t\t\t\tvar attribute = attributes.get( object.instanceMatrix );\n\n\t\t\t\t\t// TODO Attribute may not be available on context restore\n\n\t\t\t\t\tif ( attribute === undefined ) continue;\n\n\t\t\t\t\tvar buffer = attribute.buffer;\n\t\t\t\t\tvar type = attribute.type;\n\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 0, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 1, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 2, 1 );\n\t\t\t\t\tstate.enableAttributeAndDivisor( programAttribute + 3, 1 );\n\n\t\t\t\t\t_gl.bindBuffer( 34962, buffer );\n\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 0, 4, type, false, 64, 0 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 1, 4, type, false, 64, 16 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 2, 4, type, false, 64, 32 );\n\t\t\t\t\t_gl.vertexAttribPointer( programAttribute + 3, 4, type, false, 64, 48 );\n\n\t\t\t\t} else if ( materialDefaultAttributeValues !== undefined ) {\n\n\t\t\t\t\tvar value = materialDefaultAttributeValues[ name ];\n\n\t\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\t\tswitch ( value.length ) {\n\n\t\t\t\t\t\t\tcase 2:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib2fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 3:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib3fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tcase 4:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib4fv( programAttribute, value );\n\t\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\t\t_gl.vertexAttrib1fv( programAttribute, value );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tstate.disableUnusedAttributes();\n\n\t}\n\n\t// Compile\n\n\tthis.compile = function ( scene, camera ) {\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tvar compiled = {};\n\n\t\tscene.traverse( function ( object ) {\n\n\t\t\tif ( object.material ) {\n\n\t\t\t\tif ( Array.isArray( object.material ) ) {\n\n\t\t\t\t\tfor ( var i = 0; i < object.material.length; i ++ ) {\n\n\t\t\t\t\t\tif ( object.material[ i ].uuid in compiled === false ) {\n\n\t\t\t\t\t\t\tinitMaterial( object.material[ i ], scene, object );\n\t\t\t\t\t\t\tcompiled[ object.material[ i ].uuid ] = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else if ( object.material.uuid in compiled === false ) {\n\n\t\t\t\t\tinitMaterial( object.material, scene, object );\n\t\t\t\t\tcompiled[ object.material.uuid ] = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} );\n\n\t};\n\n\t// Animation Loop\n\n\tvar onAnimationFrameCallback = null;\n\n\tfunction onAnimationFrame( time ) {\n\n\t\tif ( xr.isPresenting ) return;\n\t\tif ( onAnimationFrameCallback ) onAnimationFrameCallback( time );\n\n\t}\n\n\tvar animation = new WebGLAnimation();\n\tanimation.setAnimationLoop( onAnimationFrame );\n\n\tif ( typeof window !== 'undefined' ) animation.setContext( window );\n\n\tthis.setAnimationLoop = function ( callback ) {\n\n\t\tonAnimationFrameCallback = callback;\n\t\txr.setAnimationLoop( callback );\n\n\t\tanimation.start();\n\n\t};\n\n\t// Rendering\n\n\tthis.render = function ( scene, camera ) {\n\n\t\tvar renderTarget, forceClear;\n\n\t\tif ( arguments[ 2 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the renderTarget argument has been removed. Use .setRenderTarget() instead.' );\n\t\t\trenderTarget = arguments[ 2 ];\n\n\t\t}\n\n\t\tif ( arguments[ 3 ] !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer.render(): the forceClear argument has been removed. Use .clear() instead.' );\n\t\t\tforceClear = arguments[ 3 ];\n\n\t\t}\n\n\t\tif ( ! ( camera && camera.isCamera ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( _isContextLost ) return;\n\n\t\t// reset caching for this frame\n\n\t\t_currentGeometryProgram.geometry = null;\n\t\t_currentGeometryProgram.program = null;\n\t\t_currentGeometryProgram.wireframe = false;\n\t\t_currentMaterialId = - 1;\n\t\t_currentCamera = null;\n\n\t\t// update scene graph\n\n\t\tif ( scene.autoUpdate === true ) scene.updateMatrixWorld();\n\n\t\t// update camera matrices and frustum\n\n\t\tif ( camera.parent === null ) camera.updateMatrixWorld();\n\n\t\tif ( xr.enabled && xr.isPresenting ) {\n\n\t\t\tcamera = xr.getCamera( camera );\n\n\t\t}\n\n\t\t//\n\n\t\tcurrentRenderState = renderStates.get( scene, camera );\n\t\tcurrentRenderState.init();\n\n\t\tscene.onBeforeRender( _this, scene, camera, renderTarget || _currentRenderTarget );\n\n\t\t_projScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\t_frustum.setFromProjectionMatrix( _projScreenMatrix );\n\n\t\t_localClippingEnabled = this.localClippingEnabled;\n\t\t_clippingEnabled = _clipping.init( this.clippingPlanes, _localClippingEnabled, camera );\n\n\t\tcurrentRenderList = renderLists.get( scene, camera );\n\t\tcurrentRenderList.init();\n\n\t\tprojectObject( scene, camera, 0, _this.sortObjects );\n\n\t\tcurrentRenderList.finish();\n\n\t\tif ( _this.sortObjects === true ) {\n\n\t\t\tcurrentRenderList.sort( _opaqueSort, _transparentSort );\n\n\t\t}\n\n\t\t//\n\n\t\tif ( _clippingEnabled ) _clipping.beginShadows();\n\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tshadowMap.render( shadowsArray, scene, camera );\n\n\t\tcurrentRenderState.setupLights( camera );\n\n\t\tif ( _clippingEnabled ) _clipping.endShadows();\n\n\t\t//\n\n\t\tif ( this.info.autoReset ) this.info.reset();\n\n\t\tif ( renderTarget !== undefined ) {\n\n\t\t\tthis.setRenderTarget( renderTarget );\n\n\t\t}\n\n\t\t//\n\n\t\tbackground.render( currentRenderList, scene, camera, forceClear );\n\n\t\t// render scene\n\n\t\tvar opaqueObjects = currentRenderList.opaque;\n\t\tvar transparentObjects = currentRenderList.transparent;\n\n\t\tif ( scene.overrideMaterial ) {\n\n\t\t\tvar overrideMaterial = scene.overrideMaterial;\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera, overrideMaterial );\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera, overrideMaterial );\n\n\t\t} else {\n\n\t\t\t// opaque pass (front-to-back order)\n\n\t\t\tif ( opaqueObjects.length ) renderObjects( opaqueObjects, scene, camera );\n\n\t\t\t// transparent pass (back-to-front order)\n\n\t\t\tif ( transparentObjects.length ) renderObjects( transparentObjects, scene, camera );\n\n\t\t}\n\n\t\t//\n\n\t\tscene.onAfterRender( _this, scene, camera );\n\n\t\t//\n\n\t\tif ( _currentRenderTarget !== null ) {\n\n\t\t\t// Generate mipmap if we're using any kind of mipmap filtering\n\n\t\t\ttextures.updateRenderTargetMipmap( _currentRenderTarget );\n\n\t\t\t// resolve multisample renderbuffers to a single-sample texture if necessary\n\n\t\t\ttextures.updateMultisampleRenderTarget( _currentRenderTarget );\n\n\t\t}\n\n\t\t// Ensure depth buffer writing is enabled so it can be cleared on next render\n\n\t\tstate.buffers.depth.setTest( true );\n\t\tstate.buffers.depth.setMask( true );\n\t\tstate.buffers.color.setMask( true );\n\n\t\tstate.setPolygonOffset( false );\n\n\t\t// _gl.finish();\n\n\t\tcurrentRenderList = null;\n\t\tcurrentRenderState = null;\n\n\t};\n\n\tfunction projectObject( object, camera, groupOrder, sortObjects ) {\n\n\t\tif ( object.visible === false ) return;\n\n\t\tvar visible = object.layers.test( camera.layers );\n\n\t\tif ( visible ) {\n\n\t\t\tif ( object.isGroup ) {\n\n\t\t\t\tgroupOrder = object.renderOrder;\n\n\t\t\t} else if ( object.isLOD ) {\n\n\t\t\t\tif ( object.autoUpdate === true ) object.update( camera );\n\n\t\t\t} else if ( object.isLight ) {\n\n\t\t\t\tcurrentRenderState.pushLight( object );\n\n\t\t\t\tif ( object.castShadow ) {\n\n\t\t\t\t\tcurrentRenderState.pushShadow( object );\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isSprite ) {\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsSprite( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else if ( object.isImmediateRenderObject ) {\n\n\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t}\n\n\t\t\t\tcurrentRenderList.push( object, null, object.material, groupOrder, _vector3.z, null );\n\n\t\t\t} else if ( object.isMesh || object.isLine || object.isPoints ) {\n\n\t\t\t\tif ( object.isSkinnedMesh ) {\n\n\t\t\t\t\t// update skeleton only once in a frame\n\n\t\t\t\t\tif ( object.skeleton.frame !== info.render.frame ) {\n\n\t\t\t\t\t\tobject.skeleton.update();\n\t\t\t\t\t\tobject.skeleton.frame = info.render.frame;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( ! object.frustumCulled || _frustum.intersectsObject( object ) ) {\n\n\t\t\t\t\tif ( sortObjects ) {\n\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( object.matrixWorld )\n\t\t\t\t\t\t\t.applyMatrix4( _projScreenMatrix );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar geometry = objects.update( object );\n\t\t\t\t\tvar material = object.material;\n\n\t\t\t\t\tif ( Array.isArray( material ) ) {\n\n\t\t\t\t\t\tvar groups = geometry.groups;\n\n\t\t\t\t\t\tfor ( var i = 0, l = groups.length; i < l; i ++ ) {\n\n\t\t\t\t\t\t\tvar group = groups[ i ];\n\t\t\t\t\t\t\tvar groupMaterial = material[ group.materialIndex ];\n\n\t\t\t\t\t\t\tif ( groupMaterial && groupMaterial.visible ) {\n\n\t\t\t\t\t\t\t\tcurrentRenderList.push( object, geometry, groupMaterial, groupOrder, _vector3.z, group );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else if ( material.visible ) {\n\n\t\t\t\t\t\tcurrentRenderList.push( object, geometry, material, groupOrder, _vector3.z, null );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tprojectObject( children[ i ], camera, groupOrder, sortObjects );\n\n\t\t}\n\n\t}\n\n\tfunction renderObjects( renderList, scene, camera, overrideMaterial ) {\n\n\t\tfor ( var i = 0, l = renderList.length; i < l; i ++ ) {\n\n\t\t\tvar renderItem = renderList[ i ];\n\n\t\t\tvar object = renderItem.object;\n\t\t\tvar geometry = renderItem.geometry;\n\t\t\tvar material = overrideMaterial === undefined ? renderItem.material : overrideMaterial;\n\t\t\tvar group = renderItem.group;\n\n\t\t\tif ( camera.isArrayCamera ) {\n\n\t\t\t\t_currentArrayCamera = camera;\n\n\t\t\t\tvar cameras = camera.cameras;\n\n\t\t\t\tfor ( var j = 0, jl = cameras.length; j < jl; j ++ ) {\n\n\t\t\t\t\tvar camera2 = cameras[ j ];\n\n\t\t\t\t\tif ( object.layers.test( camera2.layers ) ) {\n\n\t\t\t\t\t\tstate.viewport( _currentViewport.copy( camera2.viewport ) );\n\n\t\t\t\t\t\tcurrentRenderState.setupLights( camera2 );\n\n\t\t\t\t\t\trenderObject( object, scene, camera2, geometry, material, group );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t_currentArrayCamera = null;\n\n\t\t\t\trenderObject( object, scene, camera, geometry, material, group );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction renderObject( object, scene, camera, geometry, material, group ) {\n\n\t\tobject.onBeforeRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t\tobject.modelViewMatrix.multiplyMatrices( camera.matrixWorldInverse, object.matrixWorld );\n\t\tobject.normalMatrix.getNormalMatrix( object.modelViewMatrix );\n\n\t\tif ( object.isImmediateRenderObject ) {\n\n\t\t\tvar program = setProgram( camera, scene, material, object );\n\n\t\t\tstate.setMaterial( material );\n\n\t\t\t_currentGeometryProgram.geometry = null;\n\t\t\t_currentGeometryProgram.program = null;\n\t\t\t_currentGeometryProgram.wireframe = false;\n\n\t\t\trenderObjectImmediate( object, program );\n\n\t\t} else {\n\n\t\t\t_this.renderBufferDirect( camera, scene, geometry, material, object, group );\n\n\t\t}\n\n\t\tobject.onAfterRender( _this, scene, camera, geometry, material, group );\n\t\tcurrentRenderState = renderStates.get( scene, _currentArrayCamera || camera );\n\n\t}\n\n\tfunction initMaterial( material, scene, object ) {\n\n\t\tvar materialProperties = properties.get( material );\n\n\t\tvar lights = currentRenderState.state.lights;\n\t\tvar shadowsArray = currentRenderState.state.shadowsArray;\n\n\t\tvar lightsStateVersion = lights.state.version;\n\n\t\tvar parameters = programCache.getParameters( material, lights.state, shadowsArray, scene, _clipping.numPlanes, _clipping.numIntersection, object );\n\t\tvar programCacheKey = programCache.getProgramCacheKey( parameters );\n\n\t\tvar program = materialProperties.program;\n\t\tvar programChange = true;\n\n\t\tif ( program === undefined ) {\n\n\t\t\t// new material\n\t\t\tmaterial.addEventListener( 'dispose', onMaterialDispose );\n\n\t\t} else if ( program.cacheKey !== programCacheKey ) {\n\n\t\t\t// changed glsl or parameters\n\t\t\treleaseMaterialProgramReference( material );\n\n\t\t} else if ( materialProperties.lightsStateVersion !== lightsStateVersion ) {\n\n\t\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\t\tprogramChange = false;\n\n\t\t} else if ( parameters.shaderID !== undefined ) {\n\n\t\t\t// same glsl and uniform list\n\t\t\treturn;\n\n\t\t} else {\n\n\t\t\t// only rebuild uniform list\n\t\t\tprogramChange = false;\n\n\t\t}\n\n\t\tif ( programChange ) {\n\n\t\t\tprogram = programCache.acquireProgram( parameters, programCacheKey );\n\n\t\t\tmaterialProperties.program = program;\n\t\t\tmaterialProperties.uniforms = parameters.uniforms;\n\t\t\tmaterialProperties.environment = material.isMeshStandardMaterial ? scene.environment : null;\n\t\t\tmaterialProperties.outputEncoding = _this.outputEncoding;\n\t\t\tmaterial.program = program;\n\n\t\t}\n\n\t\tvar programAttributes = program.getAttributes();\n\n\t\tif ( material.morphTargets ) {\n\n\t\t\tmaterial.numSupportedMorphTargets = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphTargets; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphTarget' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphTargets ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.morphNormals ) {\n\n\t\t\tmaterial.numSupportedMorphNormals = 0;\n\n\t\t\tfor ( var i = 0; i < _this.maxMorphNormals; i ++ ) {\n\n\t\t\t\tif ( programAttributes[ 'morphNormal' + i ] >= 0 ) {\n\n\t\t\t\t\tmaterial.numSupportedMorphNormals ++;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar uniforms = materialProperties.uniforms;\n\n\t\tif ( ! material.isShaderMaterial &&\n\t\t\t! material.isRawShaderMaterial ||\n\t\t\tmaterial.clipping === true ) {\n\n\t\t\tmaterialProperties.numClippingPlanes = _clipping.numPlanes;\n\t\t\tmaterialProperties.numIntersection = _clipping.numIntersection;\n\t\t\tuniforms.clippingPlanes = _clipping.uniform;\n\n\t\t}\n\n\t\tmaterialProperties.fog = scene.fog;\n\n\t\t// store the light setup it was created for\n\n\t\tmaterialProperties.needsLights = materialNeedsLights( material );\n\t\tmaterialProperties.lightsStateVersion = lightsStateVersion;\n\n\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t// wire up the material to this renderer's lighting state\n\n\t\t\tuniforms.ambientLightColor.value = lights.state.ambient;\n\t\t\tuniforms.lightProbe.value = lights.state.probe;\n\t\t\tuniforms.directionalLights.value = lights.state.directional;\n\t\t\tuniforms.directionalLightShadows.value = lights.state.directionalShadow;\n\t\t\tuniforms.spotLights.value = lights.state.spot;\n\t\t\tuniforms.spotLightShadows.value = lights.state.spotShadow;\n\t\t\tuniforms.rectAreaLights.value = lights.state.rectArea;\n\t\t\tuniforms.pointLights.value = lights.state.point;\n\t\t\tuniforms.pointLightShadows.value = lights.state.pointShadow;\n\t\t\tuniforms.hemisphereLights.value = lights.state.hemi;\n\n\t\t\tuniforms.directionalShadowMap.value = lights.state.directionalShadowMap;\n\t\t\tuniforms.directionalShadowMatrix.value = lights.state.directionalShadowMatrix;\n\t\t\tuniforms.spotShadowMap.value = lights.state.spotShadowMap;\n\t\t\tuniforms.spotShadowMatrix.value = lights.state.spotShadowMatrix;\n\t\t\tuniforms.pointShadowMap.value = lights.state.pointShadowMap;\n\t\t\tuniforms.pointShadowMatrix.value = lights.state.pointShadowMatrix;\n\t\t\t// TODO (abelnation): add area lights shadow info to uniforms\n\n\t\t}\n\n\t\tvar progUniforms = materialProperties.program.getUniforms(),\n\t\t\tuniformsList =\n\t\t\t\tWebGLUniforms.seqWithValue( progUniforms.seq, uniforms );\n\n\t\tmaterialProperties.uniformsList = uniformsList;\n\n\t}\n\n\tfunction setProgram( camera, scene, material, object ) {\n\n\t\ttextures.resetTextureUnits();\n\n\t\tvar fog = scene.fog;\n\t\tvar environment = material.isMeshStandardMaterial ? scene.environment : null;\n\n\t\tvar materialProperties = properties.get( material );\n\t\tvar lights = currentRenderState.state.lights;\n\n\t\tif ( _clippingEnabled ) {\n\n\t\t\tif ( _localClippingEnabled || camera !== _currentCamera ) {\n\n\t\t\t\tvar useCache =\n\t\t\t\t\tcamera === _currentCamera &&\n\t\t\t\t\tmaterial.id === _currentMaterialId;\n\n\t\t\t\t// we might want to call this function with some ClippingGroup\n\t\t\t\t// object instead of the material, once it becomes feasible\n\t\t\t\t// (#8465, #8379)\n\t\t\t\t_clipping.setState(\n\t\t\t\t\tmaterial.clippingPlanes, material.clipIntersection, material.clipShadows,\n\t\t\t\t\tcamera, materialProperties, useCache );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.version === materialProperties.__version ) {\n\n\t\t\tif ( materialProperties.program === undefined ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( material.fog && materialProperties.fog !== fog ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.environment !== environment ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.needsLights && ( materialProperties.lightsStateVersion !== lights.state.version ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.numClippingPlanes !== undefined &&\n\t\t\t\t( materialProperties.numClippingPlanes !== _clipping.numPlanes ||\n\t\t\t\tmaterialProperties.numIntersection !== _clipping.numIntersection ) ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t} else if ( materialProperties.outputEncoding !== _this.outputEncoding ) {\n\n\t\t\t\tinitMaterial( material, scene, object );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tinitMaterial( material, scene, object );\n\t\t\tmaterialProperties.__version = material.version;\n\n\t\t}\n\n\t\tvar refreshProgram = false;\n\t\tvar refreshMaterial = false;\n\t\tvar refreshLights = false;\n\n\t\tvar program = materialProperties.program,\n\t\t\tp_uniforms = program.getUniforms(),\n\t\t\tm_uniforms = materialProperties.uniforms;\n\n\t\tif ( state.useProgram( program.program ) ) {\n\n\t\t\trefreshProgram = true;\n\t\t\trefreshMaterial = true;\n\t\t\trefreshLights = true;\n\n\t\t}\n\n\t\tif ( material.id !== _currentMaterialId ) {\n\n\t\t\t_currentMaterialId = material.id;\n\n\t\t\trefreshMaterial = true;\n\n\t\t}\n\n\t\tif ( refreshProgram || _currentCamera !== camera ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'projectionMatrix', camera.projectionMatrix );\n\n\t\t\tif ( capabilities.logarithmicDepthBuffer ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'logDepthBufFC',\n\t\t\t\t\t2.0 / ( Math.log( camera.far + 1.0 ) / Math.LN2 ) );\n\n\t\t\t}\n\n\t\t\tif ( _currentCamera !== camera ) {\n\n\t\t\t\t_currentCamera = camera;\n\n\t\t\t\t// lighting uniforms depend on the camera so enforce an update\n\t\t\t\t// now, in case this material supports lights - or later, when\n\t\t\t\t// the next material that does gets activated:\n\n\t\t\t\trefreshMaterial = true;\t\t// set to true on material change\n\t\t\t\trefreshLights = true;\t\t// remains set until update done\n\n\t\t\t}\n\n\t\t\t// load material specific uniforms\n\t\t\t// (shader material also gets them for the sake of genericity)\n\n\t\t\tif ( material.isShaderMaterial ||\n\t\t\t\tmaterial.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.envMap ) {\n\n\t\t\t\tvar uCamPos = p_uniforms.map.cameraPosition;\n\n\t\t\t\tif ( uCamPos !== undefined ) {\n\n\t\t\t\t\tuCamPos.setValue( _gl,\n\t\t\t\t\t\t_vector3.setFromMatrixPosition( camera.matrixWorld ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'isOrthographic', camera.isOrthographicCamera === true );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshPhongMaterial ||\n\t\t\t\tmaterial.isMeshToonMaterial ||\n\t\t\t\tmaterial.isMeshLambertMaterial ||\n\t\t\t\tmaterial.isMeshBasicMaterial ||\n\t\t\t\tmaterial.isMeshStandardMaterial ||\n\t\t\t\tmaterial.isShaderMaterial ||\n\t\t\t\tmaterial.skinning ) {\n\n\t\t\t\tp_uniforms.setValue( _gl, 'viewMatrix', camera.matrixWorldInverse );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// skinning uniforms must be set even if material didn't change\n\t\t// auto-setting of texture unit for bone texture must go before other textures\n\t\t// otherwise textures used for skinning can take over texture units reserved for other material textures\n\n\t\tif ( material.skinning ) {\n\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrix' );\n\t\t\tp_uniforms.setOptional( _gl, object, 'bindMatrixInverse' );\n\n\t\t\tvar skeleton = object.skeleton;\n\n\t\t\tif ( skeleton ) {\n\n\t\t\t\tvar bones = skeleton.bones;\n\n\t\t\t\tif ( capabilities.floatVertexTextures ) {\n\n\t\t\t\t\tif ( skeleton.boneTexture === undefined ) {\n\n\t\t\t\t\t\t// layout (1 matrix = 4 pixels)\n\t\t\t\t\t\t//      RGBA RGBA RGBA RGBA (=> column1, column2, column3, column4)\n\t\t\t\t\t\t//  with  8x8  pixel texture max   16 bones * 4 pixels =  (8 * 8)\n\t\t\t\t\t\t//       16x16 pixel texture max   64 bones * 4 pixels = (16 * 16)\n\t\t\t\t\t\t//       32x32 pixel texture max  256 bones * 4 pixels = (32 * 32)\n\t\t\t\t\t\t//       64x64 pixel texture max 1024 bones * 4 pixels = (64 * 64)\n\n\n\t\t\t\t\t\tvar size = Math.sqrt( bones.length * 4 ); // 4 pixels needed for 1 matrix\n\t\t\t\t\t\tsize = MathUtils.ceilPowerOfTwo( size );\n\t\t\t\t\t\tsize = Math.max( size, 4 );\n\n\t\t\t\t\t\tvar boneMatrices = new Float32Array( size * size * 4 ); // 4 floats per RGBA pixel\n\t\t\t\t\t\tboneMatrices.set( skeleton.boneMatrices ); // copy current values\n\n\t\t\t\t\t\tvar boneTexture = new DataTexture( boneMatrices, size, size, RGBAFormat, FloatType );\n\n\t\t\t\t\t\tskeleton.boneMatrices = boneMatrices;\n\t\t\t\t\t\tskeleton.boneTexture = boneTexture;\n\t\t\t\t\t\tskeleton.boneTextureSize = size;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTexture', skeleton.boneTexture, textures );\n\t\t\t\t\tp_uniforms.setValue( _gl, 'boneTextureSize', skeleton.boneTextureSize );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tp_uniforms.setOptional( _gl, skeleton, 'boneMatrices' );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( refreshMaterial || materialProperties.receiveShadow !== object.receiveShadow ) {\n\n\t\t\tmaterialProperties.receiveShadow = object.receiveShadow;\n\t\t\tp_uniforms.setValue( _gl, 'receiveShadow', object.receiveShadow );\n\n\t\t}\n\n\t\tif ( refreshMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingExposure', _this.toneMappingExposure );\n\t\t\tp_uniforms.setValue( _gl, 'toneMappingWhitePoint', _this.toneMappingWhitePoint );\n\n\t\t\tif ( materialProperties.needsLights ) {\n\n\t\t\t\t// the current material requires lighting info\n\n\t\t\t\t// note: all lighting uniforms are always set correctly\n\t\t\t\t// they simply reference the renderer's state for their\n\t\t\t\t// values\n\t\t\t\t//\n\t\t\t\t// use the current material's .needsUpdate flags to set\n\t\t\t\t// the GL state when required\n\n\t\t\t\tmarkUniformsLightsNeedsUpdate( m_uniforms, refreshLights );\n\n\t\t\t}\n\n\t\t\t// refresh uniforms common to several materials\n\n\t\t\tif ( fog && material.fog ) {\n\n\t\t\t\trefreshUniformsFog( m_uniforms, fog );\n\n\t\t\t}\n\n\t\t\tif ( material.isMeshBasicMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshLambertMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsLambert( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshToonMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsToon( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshPhongMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsPhong( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshStandardMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material, environment );\n\n\t\t\t\tif ( material.isMeshPhysicalMaterial ) {\n\n\t\t\t\t\trefreshUniformsPhysical( m_uniforms, material, environment );\n\n\t\t\t\t} else {\n\n\t\t\t\t\trefreshUniformsStandard( m_uniforms, material, environment );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isMeshMatcapMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsMatcap( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDepthMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDepth( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshDistanceMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsDistance( m_uniforms, material );\n\n\t\t\t} else if ( material.isMeshNormalMaterial ) {\n\n\t\t\t\trefreshUniformsCommon( m_uniforms, material );\n\t\t\t\trefreshUniformsNormal( m_uniforms, material );\n\n\t\t\t} else if ( material.isLineBasicMaterial ) {\n\n\t\t\t\trefreshUniformsLine( m_uniforms, material );\n\n\t\t\t\tif ( material.isLineDashedMaterial ) {\n\n\t\t\t\t\trefreshUniformsDash( m_uniforms, material );\n\n\t\t\t\t}\n\n\t\t\t} else if ( material.isPointsMaterial ) {\n\n\t\t\t\trefreshUniformsPoints( m_uniforms, material );\n\n\t\t\t} else if ( material.isSpriteMaterial ) {\n\n\t\t\t\trefreshUniformsSprites( m_uniforms, material );\n\n\t\t\t} else if ( material.isShadowMaterial ) {\n\n\t\t\t\tm_uniforms.color.value.copy( material.color );\n\t\t\t\tm_uniforms.opacity.value = material.opacity;\n\n\t\t\t}\n\n\t\t\t// RectAreaLight Texture\n\t\t\t// TODO (mrdoob): Find a nicer implementation\n\n\t\t\tif ( m_uniforms.ltc_1 !== undefined ) m_uniforms.ltc_1.value = UniformsLib.LTC_1;\n\t\t\tif ( m_uniforms.ltc_2 !== undefined ) m_uniforms.ltc_2.value = UniformsLib.LTC_2;\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\n\t\t\tif ( material.isShaderMaterial ) {\n\n\t\t\t\tmaterial.uniformsNeedUpdate = false; // #15581\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( material.isShaderMaterial && material.uniformsNeedUpdate === true ) {\n\n\t\t\tWebGLUniforms.upload( _gl, materialProperties.uniformsList, m_uniforms, textures );\n\t\t\tmaterial.uniformsNeedUpdate = false;\n\n\t\t}\n\n\t\tif ( material.isSpriteMaterial ) {\n\n\t\t\tp_uniforms.setValue( _gl, 'center', object.center );\n\n\t\t}\n\n\t\t// common matrices\n\n\t\tp_uniforms.setValue( _gl, 'modelViewMatrix', object.modelViewMatrix );\n\t\tp_uniforms.setValue( _gl, 'normalMatrix', object.normalMatrix );\n\t\tp_uniforms.setValue( _gl, 'modelMatrix', object.matrixWorld );\n\n\t\treturn program;\n\n\t}\n\n\t// Uniforms (refresh uniforms objects)\n\n\tfunction refreshUniformsCommon( uniforms, material, environment ) {\n\n\t\tuniforms.opacity.value = material.opacity;\n\n\t\tif ( material.color ) {\n\n\t\t\tuniforms.diffuse.value.copy( material.color );\n\n\t\t}\n\n\t\tif ( material.emissive ) {\n\n\t\t\tuniforms.emissive.value.copy( material.emissive ).multiplyScalar( material.emissiveIntensity );\n\n\t\t}\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\tif ( material.specularMap ) {\n\n\t\t\tuniforms.specularMap.value = material.specularMap;\n\n\t\t}\n\n\t\tvar envMap = material.envMap || environment;\n\n\t\tif ( envMap ) {\n\n\t\t\tuniforms.envMap.value = envMap;\n\n\t\t\tuniforms.flipEnvMap.value = envMap.isCubeTexture ? - 1 : 1;\n\n\t\t\tuniforms.reflectivity.value = material.reflectivity;\n\t\t\tuniforms.refractionRatio.value = material.refractionRatio;\n\n\t\t\tuniforms.maxMipLevel.value = properties.get( envMap ).__maxMipLevel;\n\n\t\t}\n\n\t\tif ( material.lightMap ) {\n\n\t\t\tuniforms.lightMap.value = material.lightMap;\n\t\t\tuniforms.lightMapIntensity.value = material.lightMapIntensity;\n\n\t\t}\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuniforms.aoMap.value = material.aoMap;\n\t\t\tuniforms.aoMapIntensity.value = material.aoMapIntensity;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. specular map\n\t\t// 3. normal map\n\t\t// 4. bump map\n\t\t// 5. alpha map\n\t\t// 6. emissive map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.specularMap ) {\n\n\t\t\tuvScaleMap = material.specularMap;\n\n\t\t} else if ( material.displacementMap ) {\n\n\t\t\tuvScaleMap = material.displacementMap;\n\n\t\t} else if ( material.normalMap ) {\n\n\t\t\tuvScaleMap = material.normalMap;\n\n\t\t} else if ( material.bumpMap ) {\n\n\t\t\tuvScaleMap = material.bumpMap;\n\n\t\t} else if ( material.roughnessMap ) {\n\n\t\t\tuvScaleMap = material.roughnessMap;\n\n\t\t} else if ( material.metalnessMap ) {\n\n\t\t\tuvScaleMap = material.metalnessMap;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t} else if ( material.emissiveMap ) {\n\n\t\t\tuvScaleMap = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uvScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuvScaleMap = uvScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities for uv2\n\t\t// 1. ao map\n\t\t// 2. light map\n\n\t\tvar uv2ScaleMap;\n\n\t\tif ( material.aoMap ) {\n\n\t\t\tuv2ScaleMap = material.aoMap;\n\n\t\t} else if ( material.lightMap ) {\n\n\t\t\tuv2ScaleMap = material.lightMap;\n\n\t\t}\n\n\t\tif ( uv2ScaleMap !== undefined ) {\n\n\t\t\t// backwards compatibility\n\t\t\tif ( uv2ScaleMap.isWebGLRenderTarget ) {\n\n\t\t\t\tuv2ScaleMap = uv2ScaleMap.texture;\n\n\t\t\t}\n\n\t\t\tif ( uv2ScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuv2ScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uv2Transform.value.copy( uv2ScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLine( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\n\t}\n\n\tfunction refreshUniformsDash( uniforms, material ) {\n\n\t\tuniforms.dashSize.value = material.dashSize;\n\t\tuniforms.totalSize.value = material.dashSize + material.gapSize;\n\t\tuniforms.scale.value = material.scale;\n\n\t}\n\n\tfunction refreshUniformsPoints( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.size.value = material.size * _pixelRatio;\n\t\tuniforms.scale.value = _height * 0.5;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsSprites( uniforms, material ) {\n\n\t\tuniforms.diffuse.value.copy( material.color );\n\t\tuniforms.opacity.value = material.opacity;\n\t\tuniforms.rotation.value = material.rotation;\n\n\t\tif ( material.map ) {\n\n\t\t\tuniforms.map.value = material.map;\n\n\t\t}\n\n\t\tif ( material.alphaMap ) {\n\n\t\t\tuniforms.alphaMap.value = material.alphaMap;\n\n\t\t}\n\n\t\t// uv repeat and offset setting priorities\n\t\t// 1. color map\n\t\t// 2. alpha map\n\n\t\tvar uvScaleMap;\n\n\t\tif ( material.map ) {\n\n\t\t\tuvScaleMap = material.map;\n\n\t\t} else if ( material.alphaMap ) {\n\n\t\t\tuvScaleMap = material.alphaMap;\n\n\t\t}\n\n\t\tif ( uvScaleMap !== undefined ) {\n\n\t\t\tif ( uvScaleMap.matrixAutoUpdate === true ) {\n\n\t\t\t\tuvScaleMap.updateMatrix();\n\n\t\t\t}\n\n\t\t\tuniforms.uvTransform.value.copy( uvScaleMap.matrix );\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsFog( uniforms, fog ) {\n\n\t\tuniforms.fogColor.value.copy( fog.color );\n\n\t\tif ( fog.isFog ) {\n\n\t\t\tuniforms.fogNear.value = fog.near;\n\t\t\tuniforms.fogFar.value = fog.far;\n\n\t\t} else if ( fog.isFogExp2 ) {\n\n\t\t\tuniforms.fogDensity.value = fog.density;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsLambert( uniforms, material ) {\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhong( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsToon( uniforms, material ) {\n\n\t\tuniforms.specular.value.copy( material.specular );\n\t\tuniforms.shininess.value = Math.max( material.shininess, 1e-4 ); // to prevent pow( 0.0, 0.0 )\n\n\t\tif ( material.gradientMap ) {\n\n\t\t\tuniforms.gradientMap.value = material.gradientMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsStandard( uniforms, material, environment ) {\n\n\t\tuniforms.roughness.value = material.roughness;\n\t\tuniforms.metalness.value = material.metalness;\n\n\t\tif ( material.roughnessMap ) {\n\n\t\t\tuniforms.roughnessMap.value = material.roughnessMap;\n\n\t\t}\n\n\t\tif ( material.metalnessMap ) {\n\n\t\t\tuniforms.metalnessMap.value = material.metalnessMap;\n\n\t\t}\n\n\t\tif ( material.emissiveMap ) {\n\n\t\t\tuniforms.emissiveMap.value = material.emissiveMap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tif ( material.envMap || environment ) {\n\n\t\t\t//uniforms.envMap.value = material.envMap; // part of uniforms common\n\t\t\tuniforms.envMapIntensity.value = material.envMapIntensity;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsPhysical( uniforms, material, environment ) {\n\n\t\trefreshUniformsStandard( uniforms, material, environment );\n\n\t\tuniforms.reflectivity.value = material.reflectivity; // also part of uniforms common\n\n\t\tuniforms.clearcoat.value = material.clearcoat;\n\t\tuniforms.clearcoatRoughness.value = material.clearcoatRoughness;\n\t\tif ( material.sheen ) uniforms.sheen.value.copy( material.sheen );\n\n\t\tif ( material.clearcoatNormalMap ) {\n\n\t\t\tuniforms.clearcoatNormalScale.value.copy( material.clearcoatNormalScale );\n\t\t\tuniforms.clearcoatNormalMap.value = material.clearcoatNormalMap;\n\n\t\t\tif ( material.side === BackSide ) {\n\n\t\t\t\tuniforms.clearcoatNormalScale.value.negate();\n\n\t\t\t}\n\n\t\t}\n\n\t\tuniforms.transparency.value = material.transparency;\n\n\t}\n\n\tfunction refreshUniformsMatcap( uniforms, material ) {\n\n\t\tif ( material.matcap ) {\n\n\t\t\tuniforms.matcap.value = material.matcap;\n\n\t\t}\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDepth( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\tfunction refreshUniformsDistance( uniforms, material ) {\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t\tuniforms.referencePosition.value.copy( material.referencePosition );\n\t\tuniforms.nearDistance.value = material.nearDistance;\n\t\tuniforms.farDistance.value = material.farDistance;\n\n\t}\n\n\tfunction refreshUniformsNormal( uniforms, material ) {\n\n\t\tif ( material.bumpMap ) {\n\n\t\t\tuniforms.bumpMap.value = material.bumpMap;\n\t\t\tuniforms.bumpScale.value = material.bumpScale;\n\t\t\tif ( material.side === BackSide ) uniforms.bumpScale.value *= - 1;\n\n\t\t}\n\n\t\tif ( material.normalMap ) {\n\n\t\t\tuniforms.normalMap.value = material.normalMap;\n\t\t\tuniforms.normalScale.value.copy( material.normalScale );\n\t\t\tif ( material.side === BackSide ) uniforms.normalScale.value.negate();\n\n\t\t}\n\n\t\tif ( material.displacementMap ) {\n\n\t\t\tuniforms.displacementMap.value = material.displacementMap;\n\t\t\tuniforms.displacementScale.value = material.displacementScale;\n\t\t\tuniforms.displacementBias.value = material.displacementBias;\n\n\t\t}\n\n\t}\n\n\t// If uniforms are marked as clean, they don't need to be loaded to the GPU.\n\n\tfunction markUniformsLightsNeedsUpdate( uniforms, value ) {\n\n\t\tuniforms.ambientLightColor.needsUpdate = value;\n\t\tuniforms.lightProbe.needsUpdate = value;\n\n\t\tuniforms.directionalLights.needsUpdate = value;\n\t\tuniforms.directionalLightShadows.needsUpdate = value;\n\t\tuniforms.pointLights.needsUpdate = value;\n\t\tuniforms.pointLightShadows.needsUpdate = value;\n\t\tuniforms.spotLights.needsUpdate = value;\n\t\tuniforms.spotLightShadows.needsUpdate = value;\n\t\tuniforms.rectAreaLights.needsUpdate = value;\n\t\tuniforms.hemisphereLights.needsUpdate = value;\n\n\t}\n\n\tfunction materialNeedsLights( material ) {\n\n\t\treturn material.isMeshLambertMaterial || material.isMeshToonMaterial || material.isMeshPhongMaterial ||\n\t\t\tmaterial.isMeshStandardMaterial || material.isShadowMaterial ||\n\t\t\t( material.isShaderMaterial && material.lights === true );\n\n\t}\n\n\t//\n\tthis.setFramebuffer = function ( value ) {\n\n\t\tif ( _framebuffer !== value && _currentRenderTarget === null ) _gl.bindFramebuffer( 36160, value );\n\n\t\t_framebuffer = value;\n\n\t};\n\n\tthis.getActiveCubeFace = function () {\n\n\t\treturn _currentActiveCubeFace;\n\n\t};\n\n\tthis.getActiveMipmapLevel = function () {\n\n\t\treturn _currentActiveMipmapLevel;\n\n\t};\n\n\tthis.getRenderTarget = function () {\n\n\t\treturn _currentRenderTarget;\n\n\t};\n\n\tthis.setRenderTarget = function ( renderTarget, activeCubeFace, activeMipmapLevel ) {\n\n\t\t_currentRenderTarget = renderTarget;\n\t\t_currentActiveCubeFace = activeCubeFace;\n\t\t_currentActiveMipmapLevel = activeMipmapLevel;\n\n\t\tif ( renderTarget && properties.get( renderTarget ).__webglFramebuffer === undefined ) {\n\n\t\t\ttextures.setupRenderTarget( renderTarget );\n\n\t\t}\n\n\t\tvar framebuffer = _framebuffer;\n\t\tvar isCube = false;\n\n\t\tif ( renderTarget ) {\n\n\t\t\tvar __webglFramebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\t\tif ( renderTarget.isWebGLCubeRenderTarget ) {\n\n\t\t\t\tframebuffer = __webglFramebuffer[ activeCubeFace || 0 ];\n\t\t\t\tisCube = true;\n\n\t\t\t} else if ( renderTarget.isWebGLMultisampleRenderTarget ) {\n\n\t\t\t\tframebuffer = properties.get( renderTarget ).__webglMultisampledFramebuffer;\n\n\t\t\t} else {\n\n\t\t\t\tframebuffer = __webglFramebuffer;\n\n\t\t\t}\n\n\t\t\t_currentViewport.copy( renderTarget.viewport );\n\t\t\t_currentScissor.copy( renderTarget.scissor );\n\t\t\t_currentScissorTest = renderTarget.scissorTest;\n\n\t\t} else {\n\n\t\t\t_currentViewport.copy( _viewport ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissor.copy( _scissor ).multiplyScalar( _pixelRatio ).floor();\n\t\t\t_currentScissorTest = _scissorTest;\n\n\t\t}\n\n\t\tif ( _currentFramebuffer !== framebuffer ) {\n\n\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\t\t\t_currentFramebuffer = framebuffer;\n\n\t\t}\n\n\t\tstate.viewport( _currentViewport );\n\t\tstate.scissor( _currentScissor );\n\t\tstate.setScissorTest( _currentScissorTest );\n\n\t\tif ( isCube ) {\n\n\t\t\tvar textureProperties = properties.get( renderTarget.texture );\n\t\t\t_gl.framebufferTexture2D( 36160, 36064, 34069 + ( activeCubeFace || 0 ), textureProperties.__webglTexture, activeMipmapLevel || 0 );\n\n\t\t}\n\n\t};\n\n\tthis.readRenderTargetPixels = function ( renderTarget, x, y, width, height, buffer, activeCubeFaceIndex ) {\n\n\t\tif ( ! ( renderTarget && renderTarget.isWebGLRenderTarget ) ) {\n\n\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar framebuffer = properties.get( renderTarget ).__webglFramebuffer;\n\n\t\tif ( renderTarget.isWebGLCubeRenderTarget && activeCubeFaceIndex !== undefined ) {\n\n\t\t\tframebuffer = framebuffer[ activeCubeFaceIndex ];\n\n\t\t}\n\n\t\tif ( framebuffer ) {\n\n\t\t\tvar restore = false;\n\n\t\t\tif ( framebuffer !== _currentFramebuffer ) {\n\n\t\t\t\t_gl.bindFramebuffer( 36160, framebuffer );\n\n\t\t\t\trestore = true;\n\n\t\t\t}\n\n\t\t\ttry {\n\n\t\t\t\tvar texture = renderTarget.texture;\n\t\t\t\tvar textureFormat = texture.format;\n\t\t\t\tvar textureType = texture.type;\n\n\t\t\t\tif ( textureFormat !== RGBAFormat && utils.convert( textureFormat ) !== _gl.getParameter( 35739 ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( textureType !== UnsignedByteType && utils.convert( textureType ) !== _gl.getParameter( 35738 ) && // IE11, Edge and Chrome Mac < 52 (#9513)\n\t\t\t\t\t! ( textureType === FloatType && ( capabilities.isWebGL2 || extensions.get( 'OES_texture_float' ) || extensions.get( 'WEBGL_color_buffer_float' ) ) ) && // Chrome Mac >= 52 and Firefox\n\t\t\t\t\t! ( textureType === HalfFloatType && ( capabilities.isWebGL2 ? extensions.get( 'EXT_color_buffer_float' ) : extensions.get( 'EXT_color_buffer_half_float' ) ) ) ) {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.' );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( _gl.checkFramebufferStatus( 36160 ) === 36053 ) {\n\n\t\t\t\t\t// the following if statement ensures valid read requests (no out-of-bounds pixels, see #8604)\n\n\t\t\t\t\tif ( ( x >= 0 && x <= ( renderTarget.width - width ) ) && ( y >= 0 && y <= ( renderTarget.height - height ) ) ) {\n\n\t\t\t\t\t\t_gl.readPixels( x, y, width, height, utils.convert( textureFormat ), utils.convert( textureType ), buffer );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tconsole.error( 'THREE.WebGLRenderer.readRenderTargetPixels: readPixels from renderTarget failed. Framebuffer not complete.' );\n\n\t\t\t\t}\n\n\t\t\t} finally {\n\n\t\t\t\tif ( restore ) {\n\n\t\t\t\t\t_gl.bindFramebuffer( 36160, _currentFramebuffer );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.copyFramebufferToTexture = function ( position, texture, level ) {\n\n\t\tif ( level === undefined ) level = 0;\n\n\t\tvar levelScale = Math.pow( 2, - level );\n\t\tvar width = Math.floor( texture.image.width * levelScale );\n\t\tvar height = Math.floor( texture.image.height * levelScale );\n\t\tvar glFormat = utils.convert( texture.format );\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\t_gl.copyTexImage2D( 3553, level, glFormat, position.x, position.y, width, height, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.copyTextureToTexture = function ( position, srcTexture, dstTexture, level ) {\n\n\t\tvar width = srcTexture.image.width;\n\t\tvar height = srcTexture.image.height;\n\t\tvar glFormat = utils.convert( dstTexture.format );\n\t\tvar glType = utils.convert( dstTexture.type );\n\n\t\ttextures.setTexture2D( dstTexture, 0 );\n\n\t\tif ( srcTexture.isDataTexture ) {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, width, height, glFormat, glType, srcTexture.image.data );\n\n\t\t} else {\n\n\t\t\t_gl.texSubImage2D( 3553, level || 0, position.x, position.y, glFormat, glType, srcTexture.image );\n\n\t\t}\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tthis.initTexture = function ( texture ) {\n\n\t\ttextures.setTexture2D( texture, 0 );\n\n\t\tstate.unbindTexture();\n\n\t};\n\n\tif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'observe', { detail: this } ) ); // eslint-disable-line no-undef\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction FogExp2( color, density ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\tthis.density = ( density !== undefined ) ? density : 0.00025;\n\n}\n\nObject.assign( FogExp2.prototype, {\n\n\tisFogExp2: true,\n\n\tclone: function () {\n\n\t\treturn new FogExp2( this.color, this.density );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'FogExp2',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tdensity: this.density\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Fog( color, near, far ) {\n\n\tthis.name = '';\n\n\tthis.color = new Color( color );\n\n\tthis.near = ( near !== undefined ) ? near : 1;\n\tthis.far = ( far !== undefined ) ? far : 1000;\n\n}\n\nObject.assign( Fog.prototype, {\n\n\tisFog: true,\n\n\tclone: function () {\n\n\t\treturn new Fog( this.color, this.near, this.far );\n\n\t},\n\n\ttoJSON: function ( /* meta */ ) {\n\n\t\treturn {\n\t\t\ttype: 'Fog',\n\t\t\tcolor: this.color.getHex(),\n\t\t\tnear: this.near,\n\t\t\tfar: this.far\n\t\t};\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InterleavedBuffer( array, stride ) {\n\n\tthis.array = array;\n\tthis.stride = stride;\n\tthis.count = array !== undefined ? array.length / stride : 0;\n\n\tthis.usage = StaticDrawUsage;\n\tthis.updateRange = { offset: 0, count: - 1 };\n\n\tthis.version = 0;\n\n}\n\nObject.defineProperty( InterleavedBuffer.prototype, 'needsUpdate', {\n\n\tset: function ( value ) {\n\n\t\tif ( value === true ) this.version ++;\n\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\n\tisInterleavedBuffer: true,\n\n\tonUploadCallback: function () {},\n\n\tsetUsage: function ( value ) {\n\n\t\tthis.usage = value;\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.array = new source.array.constructor( source.array );\n\t\tthis.count = source.count;\n\t\tthis.stride = source.stride;\n\t\tthis.usage = source.usage;\n\n\t\treturn this;\n\n\t},\n\n\tcopyAt: function ( index1, attribute, index2 ) {\n\n\t\tindex1 *= this.stride;\n\t\tindex2 *= attribute.stride;\n\n\t\tfor ( var i = 0, l = this.stride; i < l; i ++ ) {\n\n\t\t\tthis.array[ index1 + i ] = attribute.array[ index2 + i ];\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tset: function ( value, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tthis.array.set( value, offset );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tonUpload: function ( callback ) {\n\n\t\tthis.onUploadCallback = callback;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nvar _vector$6 = new Vector3();\n\nfunction InterleavedBufferAttribute( interleavedBuffer, itemSize, offset, normalized ) {\n\n\tthis.data = interleavedBuffer;\n\tthis.itemSize = itemSize;\n\tthis.offset = offset;\n\n\tthis.normalized = normalized === true;\n\n}\n\nObject.defineProperties( InterleavedBufferAttribute.prototype, {\n\n\tcount: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.count;\n\n\t\t}\n\n\t},\n\n\tarray: {\n\n\t\tget: function () {\n\n\t\t\treturn this.data.array;\n\n\t\t}\n\n\t}\n\n} );\n\nObject.assign( InterleavedBufferAttribute.prototype, {\n\n\tisInterleavedBufferAttribute: true,\n\n\tapplyMatrix4: function ( m ) {\n\n\t\tfor ( var i = 0, l = this.data.count; i < l; i ++ ) {\n\n\t\t\t_vector$6.x = this.getX( i );\n\t\t\t_vector$6.y = this.getY( i );\n\t\t\t_vector$6.z = this.getZ( i );\n\n\t\t\t_vector$6.applyMatrix4( m );\n\n\t\t\tthis.setXYZ( i, _vector$6.x, _vector$6.y, _vector$6.z );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetX: function ( index, x ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset ] = x;\n\n\t\treturn this;\n\n\t},\n\n\tsetY: function ( index, y ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetZ: function ( index, z ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetW: function ( index, w ) {\n\n\t\tthis.data.array[ index * this.data.stride + this.offset + 3 ] = w;\n\n\t\treturn this;\n\n\t},\n\n\tgetX: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset ];\n\n\t},\n\n\tgetY: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 1 ];\n\n\t},\n\n\tgetZ: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 2 ];\n\n\t},\n\n\tgetW: function ( index ) {\n\n\t\treturn this.data.array[ index * this.data.stride + this.offset + 3 ];\n\n\t},\n\n\tsetXY: function ( index, x, y ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZ: function ( index, x, y, z ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\n\t\treturn this;\n\n\t},\n\n\tsetXYZW: function ( index, x, y, z, w ) {\n\n\t\tindex = index * this.data.stride + this.offset;\n\n\t\tthis.data.array[ index + 0 ] = x;\n\t\tthis.data.array[ index + 1 ] = y;\n\t\tthis.data.array[ index + 2 ] = z;\n\t\tthis.data.array[ index + 3 ] = w;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *  rotation: <float>,\n *  sizeAttenuation: <bool>\n * }\n */\n\nfunction SpriteMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'SpriteMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.rotation = 0;\n\n\tthis.sizeAttenuation = true;\n\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nSpriteMaterial.prototype = Object.create( Material.prototype );\nSpriteMaterial.prototype.constructor = SpriteMaterial;\nSpriteMaterial.prototype.isSpriteMaterial = true;\n\nSpriteMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.rotation = source.rotation;\n\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\treturn this;\n\n};\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar _geometry;\n\nvar _intersectPoint = new Vector3();\nvar _worldScale = new Vector3();\nvar _mvPosition = new Vector3();\n\nvar _alignedPosition = new Vector2();\nvar _rotatedPosition = new Vector2();\nvar _viewWorldMatrix = new Matrix4();\n\nvar _vA$1 = new Vector3();\nvar _vB$1 = new Vector3();\nvar _vC$1 = new Vector3();\n\nvar _uvA$1 = new Vector2();\nvar _uvB$1 = new Vector2();\nvar _uvC$1 = new Vector2();\n\nfunction Sprite( material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Sprite';\n\n\tif ( _geometry === undefined ) {\n\n\t\t_geometry = new BufferGeometry();\n\n\t\tvar float32Array = new Float32Array( [\n\t\t\t- 0.5, - 0.5, 0, 0, 0,\n\t\t\t0.5, - 0.5, 0, 1, 0,\n\t\t\t0.5, 0.5, 0, 1, 1,\n\t\t\t- 0.5, 0.5, 0, 0, 1\n\t\t] );\n\n\t\tvar interleavedBuffer = new InterleavedBuffer( float32Array, 5 );\n\n\t\t_geometry.setIndex( [ 0, 1, 2,\t0, 2, 3 ] );\n\t\t_geometry.setAttribute( 'position', new InterleavedBufferAttribute( interleavedBuffer, 3, 0, false ) );\n\t\t_geometry.setAttribute( 'uv', new InterleavedBufferAttribute( interleavedBuffer, 2, 3, false ) );\n\n\t}\n\n\tthis.geometry = _geometry;\n\tthis.material = ( material !== undefined ) ? material : new SpriteMaterial();\n\n\tthis.center = new Vector2( 0.5, 0.5 );\n\n}\n\nSprite.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Sprite,\n\n\tisSprite: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tif ( raycaster.camera === null ) {\n\n\t\t\tconsole.error( 'THREE.Sprite: \"Raycaster.camera\" needs to be set in order to raycast against sprites.' );\n\n\t\t}\n\n\t\t_worldScale.setFromMatrixScale( this.matrixWorld );\n\n\t\t_viewWorldMatrix.copy( raycaster.camera.matrixWorld );\n\t\tthis.modelViewMatrix.multiplyMatrices( raycaster.camera.matrixWorldInverse, this.matrixWorld );\n\n\t\t_mvPosition.setFromMatrixPosition( this.modelViewMatrix );\n\n\t\tif ( raycaster.camera.isPerspectiveCamera && this.material.sizeAttenuation === false ) {\n\n\t\t\t_worldScale.multiplyScalar( - _mvPosition.z );\n\n\t\t}\n\n\t\tvar rotation = this.material.rotation;\n\t\tvar sin, cos;\n\t\tif ( rotation !== 0 ) {\n\n\t\t\tcos = Math.cos( rotation );\n\t\t\tsin = Math.sin( rotation );\n\n\t\t}\n\n\t\tvar center = this.center;\n\n\t\ttransformVertex( _vA$1.set( - 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vB$1.set( 0.5, - 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\ttransformVertex( _vC$1.set( 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\n\t\t_uvA$1.set( 0, 0 );\n\t\t_uvB$1.set( 1, 0 );\n\t\t_uvC$1.set( 1, 1 );\n\n\t\t// check first triangle\n\t\tvar intersect = raycaster.ray.intersectTriangle( _vA$1, _vB$1, _vC$1, false, _intersectPoint );\n\n\t\tif ( intersect === null ) {\n\n\t\t\t// check second triangle\n\t\t\ttransformVertex( _vB$1.set( - 0.5, 0.5, 0 ), _mvPosition, center, _worldScale, sin, cos );\n\t\t\t_uvB$1.set( 0, 1 );\n\n\t\t\tintersect = raycaster.ray.intersectTriangle( _vA$1, _vC$1, _vB$1, false, _intersectPoint );\n\t\t\tif ( intersect === null ) {\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( _intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tpoint: _intersectPoint.clone(),\n\t\t\tuv: Triangle.getUV( _intersectPoint, _vA$1, _vB$1, _vC$1, _uvA$1, _uvB$1, _uvC$1, new Vector2() ),\n\t\t\tface: null,\n\t\t\tobject: this\n\n\t\t} );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.material ).copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tif ( source.center !== undefined ) this.center.copy( source.center );\n\n\t\treturn this;\n\n\t}\n\n\n} );\n\nfunction transformVertex( vertexPosition, mvPosition, center, scale, sin, cos ) {\n\n\t// compute position in camera space\n\t_alignedPosition.subVectors( vertexPosition, center ).addScalar( 0.5 ).multiply( scale );\n\n\t// to check if rotation is not zero\n\tif ( sin !== undefined ) {\n\n\t\t_rotatedPosition.x = ( cos * _alignedPosition.x ) - ( sin * _alignedPosition.y );\n\t\t_rotatedPosition.y = ( sin * _alignedPosition.x ) + ( cos * _alignedPosition.y );\n\n\t} else {\n\n\t\t_rotatedPosition.copy( _alignedPosition );\n\n\t}\n\n\n\tvertexPosition.copy( mvPosition );\n\tvertexPosition.x += _rotatedPosition.x;\n\tvertexPosition.y += _rotatedPosition.y;\n\n\t// transform to world space\n\tvertexPosition.applyMatrix4( _viewWorldMatrix );\n\n}\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _v1$4 = new Vector3();\nvar _v2$2 = new Vector3();\n\nfunction LOD() {\n\n\tObject3D.call( this );\n\n\tthis._currentLevel = 0;\n\n\tthis.type = 'LOD';\n\n\tObject.defineProperties( this, {\n\t\tlevels: {\n\t\t\tenumerable: true,\n\t\t\tvalue: []\n\t\t}\n\t} );\n\n\tthis.autoUpdate = true;\n\n}\n\nLOD.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: LOD,\n\n\tisLOD: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source, false );\n\n\t\tvar levels = source.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tthis.addLevel( level.object.clone(), level.distance );\n\n\t\t}\n\n\t\tthis.autoUpdate = source.autoUpdate;\n\n\t\treturn this;\n\n\t},\n\n\taddLevel: function ( object, distance ) {\n\n\t\tif ( distance === undefined ) distance = 0;\n\n\t\tdistance = Math.abs( distance );\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\tif ( distance < levels[ l ].distance ) {\n\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t\tlevels.splice( l, 0, { distance: distance, object: object } );\n\n\t\tthis.add( object );\n\n\t\treturn this;\n\n\t},\n\n\tgetCurrentLevel: function () {\n\n\t\treturn this._currentLevel;\n\n\t},\n\n\tgetObjectForDistance: function ( distance ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance < levels[ i ].distance ) {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn levels[ i - 1 ].object;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 0 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = raycaster.ray.origin.distanceTo( _v1$4 );\n\n\t\t\tthis.getObjectForDistance( distance ).raycast( raycaster, intersects );\n\n\t\t}\n\n\t},\n\n\tupdate: function ( camera ) {\n\n\t\tvar levels = this.levels;\n\n\t\tif ( levels.length > 1 ) {\n\n\t\t\t_v1$4.setFromMatrixPosition( camera.matrixWorld );\n\t\t\t_v2$2.setFromMatrixPosition( this.matrixWorld );\n\n\t\t\tvar distance = _v1$4.distanceTo( _v2$2 ) / camera.zoom;\n\n\t\t\tlevels[ 0 ].object.visible = true;\n\n\t\t\tfor ( var i = 1, l = levels.length; i < l; i ++ ) {\n\n\t\t\t\tif ( distance >= levels[ i ].distance ) {\n\n\t\t\t\t\tlevels[ i - 1 ].object.visible = false;\n\t\t\t\t\tlevels[ i ].object.visible = true;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._currentLevel = i - 1;\n\n\t\t\tfor ( ; i < l; i ++ ) {\n\n\t\t\t\tlevels[ i ].object.visible = false;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tif ( this.autoUpdate === false ) data.object.autoUpdate = false;\n\n\t\tdata.object.levels = [];\n\n\t\tvar levels = this.levels;\n\n\t\tfor ( var i = 0, l = levels.length; i < l; i ++ ) {\n\n\t\t\tvar level = levels[ i ];\n\n\t\t\tdata.object.levels.push( {\n\t\t\t\tobject: level.object.uuid,\n\t\t\t\tdistance: level.distance\n\t\t\t} );\n\n\t\t}\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction SkinnedMesh( geometry, material ) {\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\tconsole.error( 'THREE.SkinnedMesh no longer supports THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t}\n\n\tMesh.call( this, geometry, material );\n\n\tthis.type = 'SkinnedMesh';\n\n\tthis.bindMode = 'attached';\n\tthis.bindMatrix = new Matrix4();\n\tthis.bindMatrixInverse = new Matrix4();\n\n}\n\nSkinnedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: SkinnedMesh,\n\n\tisSkinnedMesh: true,\n\n\tbind: function ( skeleton, bindMatrix ) {\n\n\t\tthis.skeleton = skeleton;\n\n\t\tif ( bindMatrix === undefined ) {\n\n\t\t\tthis.updateMatrixWorld( true );\n\n\t\t\tthis.skeleton.calculateInverses();\n\n\t\t\tbindMatrix = this.matrixWorld;\n\n\t\t}\n\n\t\tthis.bindMatrix.copy( bindMatrix );\n\t\tthis.bindMatrixInverse.getInverse( bindMatrix );\n\n\t},\n\n\tpose: function () {\n\n\t\tthis.skeleton.pose();\n\n\t},\n\n\tnormalizeSkinWeights: function () {\n\n\t\tvar vector = new Vector4();\n\n\t\tvar skinWeight = this.geometry.attributes.skinWeight;\n\n\t\tfor ( var i = 0, l = skinWeight.count; i < l; i ++ ) {\n\n\t\t\tvector.x = skinWeight.getX( i );\n\t\t\tvector.y = skinWeight.getY( i );\n\t\t\tvector.z = skinWeight.getZ( i );\n\t\t\tvector.w = skinWeight.getW( i );\n\n\t\t\tvar scale = 1.0 / vector.manhattanLength();\n\n\t\t\tif ( scale !== Infinity ) {\n\n\t\t\t\tvector.multiplyScalar( scale );\n\n\t\t\t} else {\n\n\t\t\t\tvector.set( 1, 0, 0, 0 ); // do something reasonable\n\n\t\t\t}\n\n\t\t\tskinWeight.setXYZW( i, vector.x, vector.y, vector.z, vector.w );\n\n\t\t}\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tMesh.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.bindMode === 'attached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.matrixWorld );\n\n\t\t} else if ( this.bindMode === 'detached' ) {\n\n\t\t\tthis.bindMatrixInverse.getInverse( this.bindMatrix );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.SkinnedMesh: Unrecognized bindMode: ' + this.bindMode );\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author michael guerrero / http://realitymeltdown.com\n * @author ikerr / http://verold.com\n */\n\nvar _offsetMatrix = new Matrix4();\nvar _identityMatrix = new Matrix4();\n\nfunction Skeleton( bones, boneInverses ) {\n\n\t// copy the bone array\n\n\tbones = bones || [];\n\n\tthis.bones = bones.slice( 0 );\n\tthis.boneMatrices = new Float32Array( this.bones.length * 16 );\n\n\tthis.frame = - 1;\n\n\t// use the supplied bone inverses or calculate the inverses\n\n\tif ( boneInverses === undefined ) {\n\n\t\tthis.calculateInverses();\n\n\t} else {\n\n\t\tif ( this.bones.length === boneInverses.length ) {\n\n\t\t\tthis.boneInverses = boneInverses.slice( 0 );\n\n\t\t} else {\n\n\t\t\tconsole.warn( 'THREE.Skeleton boneInverses is the wrong length.' );\n\n\t\t\tthis.boneInverses = [];\n\n\t\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\t\tthis.boneInverses.push( new Matrix4() );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Skeleton.prototype, {\n\n\tcalculateInverses: function () {\n\n\t\tthis.boneInverses = [];\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar inverse = new Matrix4();\n\n\t\t\tif ( this.bones[ i ] ) {\n\n\t\t\t\tinverse.getInverse( this.bones[ i ].matrixWorld );\n\n\t\t\t}\n\n\t\t\tthis.boneInverses.push( inverse );\n\n\t\t}\n\n\t},\n\n\tpose: function () {\n\n\t\tvar bone, i, il;\n\n\t\t// recover the bind-time world matrices\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tbone.matrixWorld.getInverse( this.boneInverses[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// compute the local matrices, positions, rotations and scales\n\n\t\tfor ( i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tbone = this.bones[ i ];\n\n\t\t\tif ( bone ) {\n\n\t\t\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t\t\tbone.matrix.getInverse( bone.parent.matrixWorld );\n\t\t\t\t\tbone.matrix.multiply( bone.matrixWorld );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tbone.matrix.copy( bone.matrixWorld );\n\n\t\t\t\t}\n\n\t\t\t\tbone.matrix.decompose( bone.position, bone.quaternion, bone.scale );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdate: function () {\n\n\t\tvar bones = this.bones;\n\t\tvar boneInverses = this.boneInverses;\n\t\tvar boneMatrices = this.boneMatrices;\n\t\tvar boneTexture = this.boneTexture;\n\n\t\t// flatten bone matrices to array\n\n\t\tfor ( var i = 0, il = bones.length; i < il; i ++ ) {\n\n\t\t\t// compute the offset between the current and the original transform\n\n\t\t\tvar matrix = bones[ i ] ? bones[ i ].matrixWorld : _identityMatrix;\n\n\t\t\t_offsetMatrix.multiplyMatrices( matrix, boneInverses[ i ] );\n\t\t\t_offsetMatrix.toArray( boneMatrices, i * 16 );\n\n\t\t}\n\n\t\tif ( boneTexture !== undefined ) {\n\n\t\t\tboneTexture.needsUpdate = true;\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new Skeleton( this.bones, this.boneInverses );\n\n\t},\n\n\tgetBoneByName: function ( name ) {\n\n\t\tfor ( var i = 0, il = this.bones.length; i < il; i ++ ) {\n\n\t\t\tvar bone = this.bones[ i ];\n\n\t\t\tif ( bone.name === name ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn undefined;\n\n\t}\n\n} );\n\n/**\n * @author mikael emtinger / http://gomo.se/\n * @author alteredq / http://alteredqualia.com/\n * @author ikerr / http://verold.com\n */\n\nfunction Bone() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Bone';\n\n}\n\nBone.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Bone,\n\n\tisBone: true\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _instanceLocalMatrix = new Matrix4();\nvar _instanceWorldMatrix = new Matrix4();\n\nvar _instanceIntersects = [];\n\nvar _mesh = new Mesh();\n\nfunction InstancedMesh( geometry, material, count ) {\n\n\tMesh.call( this, geometry, material );\n\n\tthis.instanceMatrix = new BufferAttribute( new Float32Array( count * 16 ), 16 );\n\n\tthis.count = count;\n\n\tthis.frustumCulled = false;\n\n}\n\nInstancedMesh.prototype = Object.assign( Object.create( Mesh.prototype ), {\n\n\tconstructor: InstancedMesh,\n\n\tisInstancedMesh: true,\n\n\tgetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.fromArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar raycastTimes = this.count;\n\n\t\t_mesh.geometry = this.geometry;\n\t\t_mesh.material = this.material;\n\n\t\tif ( _mesh.material === undefined ) return;\n\n\t\tfor ( var instanceId = 0; instanceId < raycastTimes; instanceId ++ ) {\n\n\t\t\t// calculate the world matrix for each instance\n\n\t\t\tthis.getMatrixAt( instanceId, _instanceLocalMatrix );\n\n\t\t\t_instanceWorldMatrix.multiplyMatrices( matrixWorld, _instanceLocalMatrix );\n\n\t\t\t// the mesh represents this single instance\n\n\t\t\t_mesh.matrixWorld = _instanceWorldMatrix;\n\n\t\t\t_mesh.raycast( raycaster, _instanceIntersects );\n\n\t\t\t// process the result of raycast\n\n\t\t\tif ( _instanceIntersects.length > 0 ) {\n\n\t\t\t\t_instanceIntersects[ 0 ].instanceId = instanceId;\n\t\t\t\t_instanceIntersects[ 0 ].object = this;\n\n\t\t\t\tintersects.push( _instanceIntersects[ 0 ] );\n\n\t\t\t\t_instanceIntersects.length = 0;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tsetMatrixAt: function ( index, matrix ) {\n\n\t\tmatrix.toArray( this.instanceMatrix.array, index * 16 );\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *  linecap: \"round\",\n *  linejoin: \"round\"\n * }\n */\n\nfunction LineBasicMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'LineBasicMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.linewidth = 1;\n\tthis.linecap = 'round';\n\tthis.linejoin = 'round';\n\n\tthis.setValues( parameters );\n\n}\n\nLineBasicMaterial.prototype = Object.create( Material.prototype );\nLineBasicMaterial.prototype.constructor = LineBasicMaterial;\n\nLineBasicMaterial.prototype.isLineBasicMaterial = true;\n\nLineBasicMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.linewidth = source.linewidth;\n\tthis.linecap = source.linecap;\n\tthis.linejoin = source.linejoin;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _start = new Vector3();\nvar _end = new Vector3();\nvar _inverseMatrix$1 = new Matrix4();\nvar _ray$1 = new Ray();\nvar _sphere$2 = new Sphere();\n\nfunction Line( geometry, material, mode ) {\n\n\tif ( mode === 1 ) {\n\n\t\tconsole.error( 'THREE.Line: parameter THREE.LinePieces no longer supported. Use THREE.LineSegments instead.' );\n\n\t}\n\n\tObject3D.call( this );\n\n\tthis.type = 'Line';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new LineBasicMaterial();\n\n}\n\nLine.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Line,\n\n\tisLine: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\tvar lineDistances = [ 0 ];\n\n\t\t\t\tfor ( var i = 1, l = positionAttribute.count; i < l; i ++ ) {\n\n\t\t\t\t\t_start.fromBufferAttribute( positionAttribute, i - 1 );\n\t\t\t\t\t_end.fromBufferAttribute( positionAttribute, i );\n\n\t\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i ] += _start.distanceTo( _end );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\tlineDistances[ 0 ] = 0;\n\n\t\t\tfor ( var i = 1, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\tlineDistances[ i ] = lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i ] += vertices[ i - 1 ].distanceTo( vertices[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar threshold = raycaster.params.Line.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$2.copy( geometry.boundingSphere );\n\t\t_sphere$2.applyMatrix4( matrixWorld );\n\t\t_sphere$2.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$2 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$1.getInverse( matrixWorld );\n\t\t_ray$1.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$1 );\n\n\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tvar localThresholdSq = localThreshold * localThreshold;\n\n\t\tvar vStart = new Vector3();\n\t\tvar vEnd = new Vector3();\n\t\tvar interSegment = new Vector3();\n\t\tvar interRay = new Vector3();\n\t\tvar step = ( this && this.isLineSegments ) ? 2 : 1;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, l = indices.length - 1; i < l; i += step ) {\n\n\t\t\t\t\tvar a = indices[ i ];\n\t\t\t\t\tvar b = indices[ i + 1 ];\n\n\t\t\t\t\tvStart.fromArray( positions, a * 3 );\n\t\t\t\t\tvEnd.fromArray( positions, b * 3 );\n\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = positions.length / 3 - 1; i < l; i += step ) {\n\n\t\t\t\t\tvStart.fromArray( positions, 3 * i );\n\t\t\t\t\tvEnd.fromArray( positions, 3 * i + 3 );\n\n\t\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vStart, vEnd, interRay, interSegment );\n\n\t\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\t\tintersects.push( {\n\n\t\t\t\t\t\tdistance: distance,\n\t\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\t\tindex: i,\n\t\t\t\t\t\tface: null,\n\t\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\t\tobject: this\n\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar nbVertices = vertices.length;\n\n\t\t\tfor ( var i = 0; i < nbVertices - 1; i += step ) {\n\n\t\t\t\tvar distSq = _ray$1.distanceSqToSegment( vertices[ i ], vertices[ i + 1 ], interRay, interSegment );\n\n\t\t\t\tif ( distSq > localThresholdSq ) continue;\n\n\t\t\t\tinterRay.applyMatrix4( this.matrixWorld ); //Move back to world space for distance calculation\n\n\t\t\t\tvar distance = raycaster.ray.origin.distanceTo( interRay );\n\n\t\t\t\tif ( distance < raycaster.near || distance > raycaster.far ) continue;\n\n\t\t\t\tintersects.push( {\n\n\t\t\t\t\tdistance: distance,\n\t\t\t\t\t// What do we want? intersection point on the ray or on the segment??\n\t\t\t\t\t// point: raycaster.ray.at( distance ),\n\t\t\t\t\tpoint: interSegment.clone().applyMatrix4( this.matrixWorld ),\n\t\t\t\t\tindex: i,\n\t\t\t\t\tface: null,\n\t\t\t\t\tfaceIndex: null,\n\t\t\t\t\tobject: this\n\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _start$1 = new Vector3();\nvar _end$1 = new Vector3();\n\nfunction LineSegments( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineSegments';\n\n}\n\nLineSegments.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineSegments,\n\n\tisLineSegments: true,\n\n\tcomputeLineDistances: function () {\n\n\t\tvar geometry = this.geometry;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\t// we assume non-indexed geometry\n\n\t\t\tif ( geometry.index === null ) {\n\n\t\t\t\tvar positionAttribute = geometry.attributes.position;\n\t\t\t\tvar lineDistances = [];\n\n\t\t\t\tfor ( var i = 0, l = positionAttribute.count; i < l; i += 2 ) {\n\n\t\t\t\t\t_start$1.fromBufferAttribute( positionAttribute, i );\n\t\t\t\t\t_end$1.fromBufferAttribute( positionAttribute, i + 1 );\n\n\t\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.setAttribute( 'lineDistance', new Float32BufferAttribute( lineDistances, 1 ) );\n\n\t\t\t} else {\n\n\t\t\t\tconsole.warn( 'THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.' );\n\n\t\t\t}\n\n\t\t} else if ( geometry.isGeometry ) {\n\n\t\t\tvar vertices = geometry.vertices;\n\t\t\tvar lineDistances = geometry.lineDistances;\n\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i += 2 ) {\n\n\t\t\t\t_start$1.copy( vertices[ i ] );\n\t\t\t\t_end$1.copy( vertices[ i + 1 ] );\n\n\t\t\t\tlineDistances[ i ] = ( i === 0 ) ? 0 : lineDistances[ i - 1 ];\n\t\t\t\tlineDistances[ i + 1 ] = lineDistances[ i ] + _start$1.distanceTo( _end$1 );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mgreter / http://github.com/mgreter\n */\n\nfunction LineLoop( geometry, material ) {\n\n\tLine.call( this, geometry, material );\n\n\tthis.type = 'LineLoop';\n\n}\n\nLineLoop.prototype = Object.assign( Object.create( Line.prototype ), {\n\n\tconstructor: LineLoop,\n\n\tisLineLoop: true,\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *  map: new THREE.Texture( <Image> ),\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  size: <float>,\n *  sizeAttenuation: <bool>\n *\n *  morphTargets: <bool>\n * }\n */\n\nfunction PointsMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'PointsMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\n\tthis.map = null;\n\n\tthis.alphaMap = null;\n\n\tthis.size = 1;\n\tthis.sizeAttenuation = true;\n\n\tthis.morphTargets = false;\n\n\tthis.setValues( parameters );\n\n}\n\nPointsMaterial.prototype = Object.create( Material.prototype );\nPointsMaterial.prototype.constructor = PointsMaterial;\n\nPointsMaterial.prototype.isPointsMaterial = true;\n\nPointsMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.size = source.size;\n\tthis.sizeAttenuation = source.sizeAttenuation;\n\n\tthis.morphTargets = source.morphTargets;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nvar _inverseMatrix$2 = new Matrix4();\nvar _ray$2 = new Ray();\nvar _sphere$3 = new Sphere();\nvar _position$1 = new Vector3();\n\nfunction Points( geometry, material ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Points';\n\n\tthis.geometry = geometry !== undefined ? geometry : new BufferGeometry();\n\tthis.material = material !== undefined ? material : new PointsMaterial();\n\n\tthis.updateMorphTargets();\n\n}\n\nPoints.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Points,\n\n\tisPoints: true,\n\n\traycast: function ( raycaster, intersects ) {\n\n\t\tvar geometry = this.geometry;\n\t\tvar matrixWorld = this.matrixWorld;\n\t\tvar threshold = raycaster.params.Points.threshold;\n\n\t\t// Checking boundingSphere distance to ray\n\n\t\tif ( geometry.boundingSphere === null ) geometry.computeBoundingSphere();\n\n\t\t_sphere$3.copy( geometry.boundingSphere );\n\t\t_sphere$3.applyMatrix4( matrixWorld );\n\t\t_sphere$3.radius += threshold;\n\n\t\tif ( raycaster.ray.intersectsSphere( _sphere$3 ) === false ) return;\n\n\t\t//\n\n\t\t_inverseMatrix$2.getInverse( matrixWorld );\n\t\t_ray$2.copy( raycaster.ray ).applyMatrix4( _inverseMatrix$2 );\n\n\t\tvar localThreshold = threshold / ( ( this.scale.x + this.scale.y + this.scale.z ) / 3 );\n\t\tvar localThresholdSq = localThreshold * localThreshold;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar index = geometry.index;\n\t\t\tvar attributes = geometry.attributes;\n\t\t\tvar positions = attributes.position.array;\n\n\t\t\tif ( index !== null ) {\n\n\t\t\t\tvar indices = index.array;\n\n\t\t\t\tfor ( var i = 0, il = indices.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar a = indices[ i ];\n\n\t\t\t\t\t_position$1.fromArray( positions, a * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, a, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tfor ( var i = 0, l = positions.length / 3; i < l; i ++ ) {\n\n\t\t\t\t\t_position$1.fromArray( positions, i * 3 );\n\n\t\t\t\t\ttestPoint( _position$1, i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar vertices = geometry.vertices;\n\n\t\t\tfor ( var i = 0, l = vertices.length; i < l; i ++ ) {\n\n\t\t\t\ttestPoint( vertices[ i ], i, localThresholdSq, matrixWorld, raycaster, intersects, this );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tupdateMorphTargets: function () {\n\n\t\tvar geometry = this.geometry;\n\t\tvar m, ml, name;\n\n\t\tif ( geometry.isBufferGeometry ) {\n\n\t\t\tvar morphAttributes = geometry.morphAttributes;\n\t\t\tvar keys = Object.keys( morphAttributes );\n\n\t\t\tif ( keys.length > 0 ) {\n\n\t\t\t\tvar morphAttribute = morphAttributes[ keys[ 0 ] ];\n\n\t\t\t\tif ( morphAttribute !== undefined ) {\n\n\t\t\t\t\tthis.morphTargetInfluences = [];\n\t\t\t\t\tthis.morphTargetDictionary = {};\n\n\t\t\t\t\tfor ( m = 0, ml = morphAttribute.length; m < ml; m ++ ) {\n\n\t\t\t\t\t\tname = morphAttribute[ m ].name || String( m );\n\n\t\t\t\t\t\tthis.morphTargetInfluences.push( 0 );\n\t\t\t\t\t\tthis.morphTargetDictionary[ name ] = m;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\tvar morphTargets = geometry.morphTargets;\n\n\t\t\tif ( morphTargets !== undefined && morphTargets.length > 0 ) {\n\n\t\t\t\tconsole.error( 'THREE.Points.updateMorphTargets() does not support THREE.Geometry. Use THREE.BufferGeometry instead.' );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor( this.geometry, this.material ).copy( this );\n\n\t}\n\n} );\n\nfunction testPoint( point, index, localThresholdSq, matrixWorld, raycaster, intersects, object ) {\n\n\tvar rayPointDistanceSq = _ray$2.distanceSqToPoint( point );\n\n\tif ( rayPointDistanceSq < localThresholdSq ) {\n\n\t\tvar intersectPoint = new Vector3();\n\n\t\t_ray$2.closestPointToPoint( point, intersectPoint );\n\t\tintersectPoint.applyMatrix4( matrixWorld );\n\n\t\tvar distance = raycaster.ray.origin.distanceTo( intersectPoint );\n\n\t\tif ( distance < raycaster.near || distance > raycaster.far ) return;\n\n\t\tintersects.push( {\n\n\t\t\tdistance: distance,\n\t\t\tdistanceToRay: Math.sqrt( rayPointDistanceSq ),\n\t\t\tpoint: intersectPoint,\n\t\t\tindex: index,\n\t\t\tface: null,\n\t\t\tobject: object\n\n\t\t} );\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction VideoTexture( video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, video, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.format = format !== undefined ? format : RGBFormat;\n\n\tthis.minFilter = minFilter !== undefined ? minFilter : LinearFilter;\n\tthis.magFilter = magFilter !== undefined ? magFilter : LinearFilter;\n\n\tthis.generateMipmaps = false;\n\n}\n\nVideoTexture.prototype = Object.assign( Object.create( Texture.prototype ), {\n\n\tconstructor: VideoTexture,\n\n\tisVideoTexture: true,\n\n\tupdate: function () {\n\n\t\tvar video = this.image;\n\n\t\tif ( video.readyState >= video.HAVE_CURRENT_DATA ) {\n\n\t\t\tthis.needsUpdate = true;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction CompressedTexture( mipmaps, width, height, format, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, encoding ) {\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy, encoding );\n\n\tthis.image = { width: width, height: height };\n\tthis.mipmaps = mipmaps;\n\n\t// no flipping for cube textures\n\t// (also flipping doesn't work for compressed textures )\n\n\tthis.flipY = false;\n\n\t// can't generate mipmaps for compressed textures\n\t// mips must be embedded in DDS files\n\n\tthis.generateMipmaps = false;\n\n}\n\nCompressedTexture.prototype = Object.create( Texture.prototype );\nCompressedTexture.prototype.constructor = CompressedTexture;\n\nCompressedTexture.prototype.isCompressedTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction CanvasTexture( canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy ) {\n\n\tTexture.call( this, canvas, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.needsUpdate = true;\n\n}\n\nCanvasTexture.prototype = Object.create( Texture.prototype );\nCanvasTexture.prototype.constructor = CanvasTexture;\nCanvasTexture.prototype.isCanvasTexture = true;\n\n/**\n * @author Matt DesLauriers / @mattdesl\n * @author atix / arthursilber.de\n */\n\nfunction DepthTexture( width, height, type, mapping, wrapS, wrapT, magFilter, minFilter, anisotropy, format ) {\n\n\tformat = format !== undefined ? format : DepthFormat;\n\n\tif ( format !== DepthFormat && format !== DepthStencilFormat ) {\n\n\t\tthrow new Error( 'DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat' );\n\n\t}\n\n\tif ( type === undefined && format === DepthFormat ) type = UnsignedShortType;\n\tif ( type === undefined && format === DepthStencilFormat ) type = UnsignedInt248Type;\n\n\tTexture.call( this, null, mapping, wrapS, wrapT, magFilter, minFilter, format, type, anisotropy );\n\n\tthis.image = { width: width, height: height };\n\n\tthis.magFilter = magFilter !== undefined ? magFilter : NearestFilter;\n\tthis.minFilter = minFilter !== undefined ? minFilter : NearestFilter;\n\n\tthis.flipY = false;\n\tthis.generateMipmaps\t= false;\n\n}\n\nDepthTexture.prototype = Object.create( Texture.prototype );\nDepthTexture.prototype.constructor = DepthTexture;\nDepthTexture.prototype.isDepthTexture = true;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction WireframeGeometry( geometry ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'WireframeGeometry';\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar i, j, l, o, ol;\n\tvar edge = [ 0, 0 ], edges = {}, e, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\tvar vertex;\n\n\t// different logic for Geometry and BufferGeometry\n\n\tif ( geometry && geometry.isGeometry ) {\n\n\t\t// create a data structure that contains all edges without duplicates\n\n\t\tvar faces = geometry.faces;\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// generate vertices\n\n\t\tfor ( key in edges ) {\n\n\t\t\te = edges[ key ];\n\n\t\t\tvertex = geometry.vertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = geometry.vertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t} else if ( geometry && geometry.isBufferGeometry ) {\n\n\t\tvar position, indices, groups;\n\t\tvar group, start, count;\n\t\tvar index1, index2;\n\n\t\tvertex = new Vector3();\n\n\t\tif ( geometry.index !== null ) {\n\n\t\t\t// indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\t\t\tindices = geometry.index;\n\t\t\tgroups = geometry.groups;\n\n\t\t\tif ( groups.length === 0 ) {\n\n\t\t\t\tgroups = [ { start: 0, count: indices.count, materialIndex: 0 } ];\n\n\t\t\t}\n\n\t\t\t// create a data structure that contains all eges without duplicates\n\n\t\t\tfor ( o = 0, ol = groups.length; o < ol; ++ o ) {\n\n\t\t\t\tgroup = groups[ o ];\n\n\t\t\t\tstart = group.start;\n\t\t\t\tcount = group.count;\n\n\t\t\t\tfor ( i = start, l = ( start + count ); i < l; i += 3 ) {\n\n\t\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t\tedge1 = indices.getX( i + j );\n\t\t\t\t\t\tedge2 = indices.getX( i + ( j + 1 ) % 3 );\n\t\t\t\t\t\tedge[ 0 ] = Math.min( edge1, edge2 ); // sorting prevents duplicates\n\t\t\t\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\t\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\t\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ] };\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// generate vertices\n\n\t\t\tfor ( key in edges ) {\n\n\t\t\t\te = edges[ key ];\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index1 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\tvertex.fromBufferAttribute( position, e.index2 );\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// non-indexed BufferGeometry\n\n\t\t\tposition = geometry.attributes.position;\n\n\t\t\tfor ( i = 0, l = ( position.count / 3 ); i < l; i ++ ) {\n\n\t\t\t\tfor ( j = 0; j < 3; j ++ ) {\n\n\t\t\t\t\t// three edges per triangle, an edge is represented as (index1, index2)\n\t\t\t\t\t// e.g. the first triangle has the following edges: (0,1),(1,2),(2,0)\n\n\t\t\t\t\tindex1 = 3 * i + j;\n\t\t\t\t\tvertex.fromBufferAttribute( position, index1 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t\tindex2 = 3 * i + ( ( j + 1 ) % 3 );\n\t\t\t\t\tvertex.fromBufferAttribute( position, index2 );\n\t\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nWireframeGeometry.prototype = Object.create( BufferGeometry.prototype );\nWireframeGeometry.prototype.constructor = WireframeGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Parametric Surfaces Geometry\n * based on the brilliant article by @prideout https://prideout.net/blog/old/blog/index.html@p=44.html\n */\n\n// ParametricGeometry\n\nfunction ParametricGeometry( func, slices, stacks ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ParametricGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\tthis.fromBufferGeometry( new ParametricBufferGeometry( func, slices, stacks ) );\n\tthis.mergeVertices();\n\n}\n\nParametricGeometry.prototype = Object.create( Geometry.prototype );\nParametricGeometry.prototype.constructor = ParametricGeometry;\n\n// ParametricBufferGeometry\n\nfunction ParametricBufferGeometry( func, slices, stacks ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ParametricBufferGeometry';\n\n\tthis.parameters = {\n\t\tfunc: func,\n\t\tslices: slices,\n\t\tstacks: stacks\n\t};\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\tvar EPS = 0.00001;\n\n\tvar normal = new Vector3();\n\n\tvar p0 = new Vector3(), p1 = new Vector3();\n\tvar pu = new Vector3(), pv = new Vector3();\n\n\tvar i, j;\n\n\tif ( func.length < 3 ) {\n\n\t\tconsole.error( 'THREE.ParametricGeometry: Function must now modify a Vector3 as third parameter.' );\n\n\t}\n\n\t// generate vertices, normals and uvs\n\n\tvar sliceCount = slices + 1;\n\n\tfor ( i = 0; i <= stacks; i ++ ) {\n\n\t\tvar v = i / stacks;\n\n\t\tfor ( j = 0; j <= slices; j ++ ) {\n\n\t\t\tvar u = j / slices;\n\n\t\t\t// vertex\n\n\t\t\tfunc( u, v, p0 );\n\t\t\tvertices.push( p0.x, p0.y, p0.z );\n\n\t\t\t// normal\n\n\t\t\t// approximate tangent vectors via finite differences\n\n\t\t\tif ( u - EPS >= 0 ) {\n\n\t\t\t\tfunc( u - EPS, v, p1 );\n\t\t\t\tpu.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u + EPS, v, p1 );\n\t\t\t\tpu.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\tif ( v - EPS >= 0 ) {\n\n\t\t\t\tfunc( u, v - EPS, p1 );\n\t\t\t\tpv.subVectors( p0, p1 );\n\n\t\t\t} else {\n\n\t\t\t\tfunc( u, v + EPS, p1 );\n\t\t\t\tpv.subVectors( p1, p0 );\n\n\t\t\t}\n\n\t\t\t// cross product of tangent vectors returns surface normal\n\n\t\t\tnormal.crossVectors( pu, pv ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u, v );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( i = 0; i < stacks; i ++ ) {\n\n\t\tfor ( j = 0; j < slices; j ++ ) {\n\n\t\t\tvar a = i * sliceCount + j;\n\t\t\tvar b = i * sliceCount + j + 1;\n\t\t\tvar c = ( i + 1 ) * sliceCount + j + 1;\n\t\t\tvar d = ( i + 1 ) * sliceCount + j;\n\n\t\t\t// faces one and two\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nParametricBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nParametricBufferGeometry.prototype.constructor = ParametricBufferGeometry;\n\n/**\n * @author clockworkgeek / https://github.com/clockworkgeek\n * @author timothypratley / https://github.com/timothypratley\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// PolyhedronGeometry\n\nfunction PolyhedronGeometry( vertices, indices, radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'PolyhedronGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new PolyhedronBufferGeometry( vertices, indices, radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nPolyhedronGeometry.prototype = Object.create( Geometry.prototype );\nPolyhedronGeometry.prototype.constructor = PolyhedronGeometry;\n\n// PolyhedronBufferGeometry\n\nfunction PolyhedronBufferGeometry( vertices, indices, radius, detail ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'PolyhedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tvertices: vertices,\n\t\tindices: indices,\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tradius = radius || 1;\n\tdetail = detail || 0;\n\n\t// default buffer data\n\n\tvar vertexBuffer = [];\n\tvar uvBuffer = [];\n\n\t// the subdivision creates the vertex buffer data\n\n\tsubdivide( detail );\n\n\t// all vertices should lie on a conceptual sphere with a given radius\n\n\tapplyRadius( radius );\n\n\t// finally, create the uv data\n\n\tgenerateUVs();\n\n\t// build non-indexed geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertexBuffer, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( vertexBuffer.slice(), 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvBuffer, 2 ) );\n\n\tif ( detail === 0 ) {\n\n\t\tthis.computeVertexNormals(); // flat normals\n\n\t} else {\n\n\t\tthis.normalizeNormals(); // smooth normals\n\n\t}\n\n\t// helper functions\n\n\tfunction subdivide( detail ) {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\t// iterate over all faces and apply a subdivison with the given detail value\n\n\t\tfor ( var i = 0; i < indices.length; i += 3 ) {\n\n\t\t\t// get the vertices of the face\n\n\t\t\tgetVertexByIndex( indices[ i + 0 ], a );\n\t\t\tgetVertexByIndex( indices[ i + 1 ], b );\n\t\t\tgetVertexByIndex( indices[ i + 2 ], c );\n\n\t\t\t// perform subdivision\n\n\t\t\tsubdivideFace( a, b, c, detail );\n\n\t\t}\n\n\t}\n\n\tfunction subdivideFace( a, b, c, detail ) {\n\n\t\tvar cols = Math.pow( 2, detail );\n\n\t\t// we use this multidimensional array as a data structure for creating the subdivision\n\n\t\tvar v = [];\n\n\t\tvar i, j;\n\n\t\t// construct all of the vertices for this subdivision\n\n\t\tfor ( i = 0; i <= cols; i ++ ) {\n\n\t\t\tv[ i ] = [];\n\n\t\t\tvar aj = a.clone().lerp( c, i / cols );\n\t\t\tvar bj = b.clone().lerp( c, i / cols );\n\n\t\t\tvar rows = cols - i;\n\n\t\t\tfor ( j = 0; j <= rows; j ++ ) {\n\n\t\t\t\tif ( j === 0 && i === cols ) {\n\n\t\t\t\t\tv[ i ][ j ] = aj;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tv[ i ][ j ] = aj.clone().lerp( bj, j / rows );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t// construct all of the faces\n\n\t\tfor ( i = 0; i < cols; i ++ ) {\n\n\t\t\tfor ( j = 0; j < 2 * ( cols - i ) - 1; j ++ ) {\n\n\t\t\t\tvar k = Math.floor( j / 2 );\n\n\t\t\t\tif ( j % 2 === 0 ) {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\t\t\t\t\tpushVertex( v[ i ][ k ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tpushVertex( v[ i ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k + 1 ] );\n\t\t\t\t\tpushVertex( v[ i + 1 ][ k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction applyRadius( radius ) {\n\n\t\tvar vertex = new Vector3();\n\n\t\t// iterate over the entire buffer and apply the radius to each vertex\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvertex.normalize().multiplyScalar( radius );\n\n\t\t\tvertexBuffer[ i + 0 ] = vertex.x;\n\t\t\tvertexBuffer[ i + 1 ] = vertex.y;\n\t\t\tvertexBuffer[ i + 2 ] = vertex.z;\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tvar vertex = new Vector3();\n\n\t\tfor ( var i = 0; i < vertexBuffer.length; i += 3 ) {\n\n\t\t\tvertex.x = vertexBuffer[ i + 0 ];\n\t\t\tvertex.y = vertexBuffer[ i + 1 ];\n\t\t\tvertex.z = vertexBuffer[ i + 2 ];\n\n\t\t\tvar u = azimuth( vertex ) / 2 / Math.PI + 0.5;\n\t\t\tvar v = inclination( vertex ) / Math.PI + 0.5;\n\t\t\tuvBuffer.push( u, 1 - v );\n\n\t\t}\n\n\t\tcorrectUVs();\n\n\t\tcorrectSeam();\n\n\t}\n\n\tfunction correctSeam() {\n\n\t\t// handle case when face straddles the seam, see #3269\n\n\t\tfor ( var i = 0; i < uvBuffer.length; i += 6 ) {\n\n\t\t\t// uv data of a single face\n\n\t\t\tvar x0 = uvBuffer[ i + 0 ];\n\t\t\tvar x1 = uvBuffer[ i + 2 ];\n\t\t\tvar x2 = uvBuffer[ i + 4 ];\n\n\t\t\tvar max = Math.max( x0, x1, x2 );\n\t\t\tvar min = Math.min( x0, x1, x2 );\n\n\t\t\t// 0.9 is somewhat arbitrary\n\n\t\t\tif ( max > 0.9 && min < 0.1 ) {\n\n\t\t\t\tif ( x0 < 0.2 ) uvBuffer[ i + 0 ] += 1;\n\t\t\t\tif ( x1 < 0.2 ) uvBuffer[ i + 2 ] += 1;\n\t\t\t\tif ( x2 < 0.2 ) uvBuffer[ i + 4 ] += 1;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction pushVertex( vertex ) {\n\n\t\tvertexBuffer.push( vertex.x, vertex.y, vertex.z );\n\n\t}\n\n\tfunction getVertexByIndex( index, vertex ) {\n\n\t\tvar stride = index * 3;\n\n\t\tvertex.x = vertices[ stride + 0 ];\n\t\tvertex.y = vertices[ stride + 1 ];\n\t\tvertex.z = vertices[ stride + 2 ];\n\n\t}\n\n\tfunction correctUVs() {\n\n\t\tvar a = new Vector3();\n\t\tvar b = new Vector3();\n\t\tvar c = new Vector3();\n\n\t\tvar centroid = new Vector3();\n\n\t\tvar uvA = new Vector2();\n\t\tvar uvB = new Vector2();\n\t\tvar uvC = new Vector2();\n\n\t\tfor ( var i = 0, j = 0; i < vertexBuffer.length; i += 9, j += 6 ) {\n\n\t\t\ta.set( vertexBuffer[ i + 0 ], vertexBuffer[ i + 1 ], vertexBuffer[ i + 2 ] );\n\t\t\tb.set( vertexBuffer[ i + 3 ], vertexBuffer[ i + 4 ], vertexBuffer[ i + 5 ] );\n\t\t\tc.set( vertexBuffer[ i + 6 ], vertexBuffer[ i + 7 ], vertexBuffer[ i + 8 ] );\n\n\t\t\tuvA.set( uvBuffer[ j + 0 ], uvBuffer[ j + 1 ] );\n\t\t\tuvB.set( uvBuffer[ j + 2 ], uvBuffer[ j + 3 ] );\n\t\t\tuvC.set( uvBuffer[ j + 4 ], uvBuffer[ j + 5 ] );\n\n\t\t\tcentroid.copy( a ).add( b ).add( c ).divideScalar( 3 );\n\n\t\t\tvar azi = azimuth( centroid );\n\n\t\t\tcorrectUV( uvA, j + 0, a, azi );\n\t\t\tcorrectUV( uvB, j + 2, b, azi );\n\t\t\tcorrectUV( uvC, j + 4, c, azi );\n\n\t\t}\n\n\t}\n\n\tfunction correctUV( uv, stride, vector, azimuth ) {\n\n\t\tif ( ( azimuth < 0 ) && ( uv.x === 1 ) ) {\n\n\t\t\tuvBuffer[ stride ] = uv.x - 1;\n\n\t\t}\n\n\t\tif ( ( vector.x === 0 ) && ( vector.z === 0 ) ) {\n\n\t\t\tuvBuffer[ stride ] = azimuth / 2 / Math.PI + 0.5;\n\n\t\t}\n\n\t}\n\n\t// Angle around the Y axis, counter-clockwise when looking from above.\n\n\tfunction azimuth( vector ) {\n\n\t\treturn Math.atan2( vector.z, - vector.x );\n\n\t}\n\n\n\t// Angle above the XZ plane.\n\n\tfunction inclination( vector ) {\n\n\t\treturn Math.atan2( - vector.y, Math.sqrt( ( vector.x * vector.x ) + ( vector.z * vector.z ) ) );\n\n\t}\n\n}\n\nPolyhedronBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nPolyhedronBufferGeometry.prototype.constructor = PolyhedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TetrahedronGeometry\n\nfunction TetrahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TetrahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new TetrahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nTetrahedronGeometry.prototype = Object.create( Geometry.prototype );\nTetrahedronGeometry.prototype.constructor = TetrahedronGeometry;\n\n// TetrahedronBufferGeometry\n\nfunction TetrahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 1, 1, \t- 1, - 1, 1, \t- 1, 1, - 1, \t1, - 1, - 1\n\t];\n\n\tvar indices = [\n\t\t2, 1, 0, \t0, 3, 2,\t1, 3, 0,\t2, 3, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'TetrahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nTetrahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nTetrahedronBufferGeometry.prototype.constructor = TetrahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// OctahedronGeometry\n\nfunction OctahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'OctahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new OctahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nOctahedronGeometry.prototype = Object.create( Geometry.prototype );\nOctahedronGeometry.prototype.constructor = OctahedronGeometry;\n\n// OctahedronBufferGeometry\n\nfunction OctahedronBufferGeometry( radius, detail ) {\n\n\tvar vertices = [\n\t\t1, 0, 0, \t- 1, 0, 0,\t0, 1, 0,\n\t\t0, - 1, 0, \t0, 0, 1,\t0, 0, - 1\n\t];\n\n\tvar indices = [\n\t\t0, 2, 4,\t0, 4, 3,\t0, 3, 5,\n\t\t0, 5, 2,\t1, 2, 5,\t1, 5, 3,\n\t\t1, 3, 4,\t1, 4, 2\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'OctahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nOctahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nOctahedronBufferGeometry.prototype.constructor = OctahedronBufferGeometry;\n\n/**\n * @author timothypratley / https://github.com/timothypratley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// IcosahedronGeometry\n\nfunction IcosahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'IcosahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new IcosahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nIcosahedronGeometry.prototype = Object.create( Geometry.prototype );\nIcosahedronGeometry.prototype.constructor = IcosahedronGeometry;\n\n// IcosahedronBufferGeometry\n\nfunction IcosahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\n\tvar vertices = [\n\t\t- 1, t, 0, \t1, t, 0, \t- 1, - t, 0, \t1, - t, 0,\n\t\t 0, - 1, t, \t0, 1, t,\t0, - 1, - t, \t0, 1, - t,\n\t\t t, 0, - 1, \tt, 0, 1, \t- t, 0, - 1, \t- t, 0, 1\n\t];\n\n\tvar indices = [\n\t\t 0, 11, 5, \t0, 5, 1, \t0, 1, 7, \t0, 7, 10, \t0, 10, 11,\n\t\t 1, 5, 9, \t5, 11, 4,\t11, 10, 2,\t10, 7, 6,\t7, 1, 8,\n\t\t 3, 9, 4, \t3, 4, 2,\t3, 2, 6,\t3, 6, 8,\t3, 8, 9,\n\t\t 4, 9, 5, \t2, 4, 11,\t6, 2, 10,\t8, 6, 7,\t9, 8, 1\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'IcosahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nIcosahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nIcosahedronBufferGeometry.prototype.constructor = IcosahedronBufferGeometry;\n\n/**\n * @author Abe Pazos / https://hamoid.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// DodecahedronGeometry\n\nfunction DodecahedronGeometry( radius, detail ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'DodecahedronGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n\tthis.fromBufferGeometry( new DodecahedronBufferGeometry( radius, detail ) );\n\tthis.mergeVertices();\n\n}\n\nDodecahedronGeometry.prototype = Object.create( Geometry.prototype );\nDodecahedronGeometry.prototype.constructor = DodecahedronGeometry;\n\n// DodecahedronBufferGeometry\n\nfunction DodecahedronBufferGeometry( radius, detail ) {\n\n\tvar t = ( 1 + Math.sqrt( 5 ) ) / 2;\n\tvar r = 1 / t;\n\n\tvar vertices = [\n\n\t\t// (±1, ±1, ±1)\n\t\t- 1, - 1, - 1,\t- 1, - 1, 1,\n\t\t- 1, 1, - 1, - 1, 1, 1,\n\t\t1, - 1, - 1, 1, - 1, 1,\n\t\t1, 1, - 1, 1, 1, 1,\n\n\t\t// (0, ±1/φ, ±φ)\n\t\t 0, - r, - t, 0, - r, t,\n\t\t 0, r, - t, 0, r, t,\n\n\t\t// (±1/φ, ±φ, 0)\n\t\t- r, - t, 0, - r, t, 0,\n\t\t r, - t, 0, r, t, 0,\n\n\t\t// (±φ, 0, ±1/φ)\n\t\t- t, 0, - r, t, 0, - r,\n\t\t- t, 0, r, t, 0, r\n\t];\n\n\tvar indices = [\n\t\t3, 11, 7, \t3, 7, 15, \t3, 15, 13,\n\t\t7, 19, 17, \t7, 17, 6, \t7, 6, 15,\n\t\t17, 4, 8, \t17, 8, 10, \t17, 10, 6,\n\t\t8, 0, 16, \t8, 16, 2, \t8, 2, 10,\n\t\t0, 12, 1, \t0, 1, 18, \t0, 18, 16,\n\t\t6, 10, 2, \t6, 2, 13, \t6, 13, 15,\n\t\t2, 16, 18, \t2, 18, 3, \t2, 3, 13,\n\t\t18, 1, 9, \t18, 9, 11, \t18, 11, 3,\n\t\t4, 14, 12, \t4, 12, 0, \t4, 0, 8,\n\t\t11, 9, 5, \t11, 5, 19, \t11, 19, 7,\n\t\t19, 5, 14, \t19, 14, 4, \t19, 4, 17,\n\t\t1, 12, 14, \t1, 14, 5, \t1, 5, 9\n\t];\n\n\tPolyhedronBufferGeometry.call( this, vertices, indices, radius, detail );\n\n\tthis.type = 'DodecahedronBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tdetail: detail\n\t};\n\n}\n\nDodecahedronBufferGeometry.prototype = Object.create( PolyhedronBufferGeometry.prototype );\nDodecahedronBufferGeometry.prototype.constructor = DodecahedronBufferGeometry;\n\n/**\n * @author oosmoxiecode / https://github.com/oosmoxiecode\n * @author WestLangley / https://github.com/WestLangley\n * @author zz85 / https://github.com/zz85\n * @author miningold / https://github.com/miningold\n * @author jonobr1 / https://github.com/jonobr1\n * @author Mugen87 / https://github.com/Mugen87\n *\n */\n\n// TubeGeometry\n\nfunction TubeGeometry( path, tubularSegments, radius, radialSegments, closed, taper ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TubeGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\tif ( taper !== undefined ) console.warn( 'THREE.TubeGeometry: taper has been removed.' );\n\n\tvar bufferGeometry = new TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = bufferGeometry.tangents;\n\tthis.normals = bufferGeometry.normals;\n\tthis.binormals = bufferGeometry.binormals;\n\n\t// create geometry\n\n\tthis.fromBufferGeometry( bufferGeometry );\n\tthis.mergeVertices();\n\n}\n\nTubeGeometry.prototype = Object.create( Geometry.prototype );\nTubeGeometry.prototype.constructor = TubeGeometry;\n\n// TubeBufferGeometry\n\nfunction TubeBufferGeometry( path, tubularSegments, radius, radialSegments, closed ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TubeBufferGeometry';\n\n\tthis.parameters = {\n\t\tpath: path,\n\t\ttubularSegments: tubularSegments,\n\t\tradius: radius,\n\t\tradialSegments: radialSegments,\n\t\tclosed: closed\n\t};\n\n\ttubularSegments = tubularSegments || 64;\n\tradius = radius || 1;\n\tradialSegments = radialSegments || 8;\n\tclosed = closed || false;\n\n\tvar frames = path.computeFrenetFrames( tubularSegments, closed );\n\n\t// expose internals\n\n\tthis.tangents = frames.tangents;\n\tthis.normals = frames.normals;\n\tthis.binormals = frames.binormals;\n\n\t// helper variables\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\tvar uv = new Vector2();\n\tvar P = new Vector3();\n\n\tvar i, j;\n\n\t// buffer\n\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\tvar indices = [];\n\n\t// create buffer data\n\n\tgenerateBufferData();\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// functions\n\n\tfunction generateBufferData() {\n\n\t\tfor ( i = 0; i < tubularSegments; i ++ ) {\n\n\t\t\tgenerateSegment( i );\n\n\t\t}\n\n\t\t// if the geometry is not closed, generate the last row of vertices and normals\n\t\t// at the regular position on the given path\n\t\t//\n\t\t// if the geometry is closed, duplicate the first row of vertices and normals (uvs will differ)\n\n\t\tgenerateSegment( ( closed === false ) ? tubularSegments : 0 );\n\n\t\t// uvs are generated in a separate function.\n\t\t// this makes it easy compute correct values for closed geometries\n\n\t\tgenerateUVs();\n\n\t\t// finally create faces\n\n\t\tgenerateIndices();\n\n\t}\n\n\tfunction generateSegment( i ) {\n\n\t\t// we use getPointAt to sample evenly distributed points from the given path\n\n\t\tP = path.getPointAt( i / tubularSegments, P );\n\n\t\t// retrieve corresponding normal and binormal\n\n\t\tvar N = frames.normals[ i ];\n\t\tvar B = frames.binormals[ i ];\n\n\t\t// generate normals and vertices for the current segment\n\n\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\tvar sin = Math.sin( v );\n\t\t\tvar cos = - Math.cos( v );\n\n\t\t\t// normal\n\n\t\t\tnormal.x = ( cos * N.x + sin * B.x );\n\t\t\tnormal.y = ( cos * N.y + sin * B.y );\n\t\t\tnormal.z = ( cos * N.z + sin * B.z );\n\t\t\tnormal.normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = P.x + radius * normal.x;\n\t\t\tvertex.y = P.y + radius * normal.y;\n\t\t\tvertex.z = P.z + radius * normal.z;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\tfunction generateIndices() {\n\n\t\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tfunction generateUVs() {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\t\t\tuv.x = i / tubularSegments;\n\t\t\t\tuv.y = j / radialSegments;\n\n\t\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n}\n\nTubeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTubeBufferGeometry.prototype.constructor = TubeBufferGeometry;\n\nTubeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tdata.path = this.parameters.path.toJSON();\n\n\treturn data;\n\n};\n\n/**\n * @author oosmoxiecode\n * @author Mugen87 / https://github.com/Mugen87\n *\n * based on http://www.blackpawn.com/texts/pqtorus/\n */\n\n// TorusKnotGeometry\n\nfunction TorusKnotGeometry( radius, tube, tubularSegments, radialSegments, p, q, heightScale ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusKnotGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tif ( heightScale !== undefined ) console.warn( 'THREE.TorusKnotGeometry: heightScale has been deprecated. Use .scale( x, y, z ) instead.' );\n\n\tthis.fromBufferGeometry( new TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) );\n\tthis.mergeVertices();\n\n}\n\nTorusKnotGeometry.prototype = Object.create( Geometry.prototype );\nTorusKnotGeometry.prototype.constructor = TorusKnotGeometry;\n\n// TorusKnotBufferGeometry\n\nfunction TorusKnotBufferGeometry( radius, tube, tubularSegments, radialSegments, p, q ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusKnotBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\ttubularSegments: tubularSegments,\n\t\tradialSegments: radialSegments,\n\t\tp: p,\n\t\tq: q\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\ttubularSegments = Math.floor( tubularSegments ) || 64;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\tp = p || 2;\n\tq = q || 3;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, j;\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar P1 = new Vector3();\n\tvar P2 = new Vector3();\n\n\tvar B = new Vector3();\n\tvar T = new Vector3();\n\tvar N = new Vector3();\n\n\t// generate vertices, normals and uvs\n\n\tfor ( i = 0; i <= tubularSegments; ++ i ) {\n\n\t\t// the radian \"u\" is used to calculate the position on the torus curve of the current tubular segement\n\n\t\tvar u = i / tubularSegments * p * Math.PI * 2;\n\n\t\t// now we calculate two points. P1 is our current position on the curve, P2 is a little farther ahead.\n\t\t// these points are used to create a special \"coordinate space\", which is necessary to calculate the correct vertex positions\n\n\t\tcalculatePositionOnCurve( u, p, q, radius, P1 );\n\t\tcalculatePositionOnCurve( u + 0.01, p, q, radius, P2 );\n\n\t\t// calculate orthonormal basis\n\n\t\tT.subVectors( P2, P1 );\n\t\tN.addVectors( P2, P1 );\n\t\tB.crossVectors( T, N );\n\t\tN.crossVectors( B, T );\n\n\t\t// normalize B, N. T can be ignored, we don't use it\n\n\t\tB.normalize();\n\t\tN.normalize();\n\n\t\tfor ( j = 0; j <= radialSegments; ++ j ) {\n\n\t\t\t// now calculate the vertices. they are nothing more than an extrusion of the torus curve.\n\t\t\t// because we extrude a shape in the xy-plane, there is no need to calculate a z-value.\n\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\t\t\tvar cx = - tube * Math.cos( v );\n\t\t\tvar cy = tube * Math.sin( v );\n\n\t\t\t// now calculate the final vertex position.\n\t\t\t// first we orient the extrusion with our basis vectos, then we add it to the current position on the curve\n\n\t\t\tvertex.x = P1.x + ( cx * N.x + cy * B.x );\n\t\t\tvertex.y = P1.y + ( cx * N.y + cy * B.y );\n\t\t\tvertex.z = P1.z + ( cx * N.z + cy * B.z );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal (P1 is always the center/origin of the extrusion, thus we can use it to calculate the normal)\n\n\t\t\tnormal.subVectors( vertex, P1 ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= tubularSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= radialSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( radialSegments + 1 ) * ( j - 1 ) + ( i - 1 );\n\t\t\tvar b = ( radialSegments + 1 ) * j + ( i - 1 );\n\t\t\tvar c = ( radialSegments + 1 ) * j + i;\n\t\t\tvar d = ( radialSegments + 1 ) * ( j - 1 ) + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// this function calculates the current position on the torus curve\n\n\tfunction calculatePositionOnCurve( u, p, q, radius, position ) {\n\n\t\tvar cu = Math.cos( u );\n\t\tvar su = Math.sin( u );\n\t\tvar quOverP = q / p * u;\n\t\tvar cs = Math.cos( quOverP );\n\n\t\tposition.x = radius * ( 2 + cs ) * 0.5 * cu;\n\t\tposition.y = radius * ( 2 + cs ) * su * 0.5;\n\t\tposition.z = radius * Math.sin( quOverP ) * 0.5;\n\n\t}\n\n}\n\nTorusKnotBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusKnotBufferGeometry.prototype.constructor = TorusKnotBufferGeometry;\n\n/**\n * @author oosmoxiecode\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// TorusGeometry\n\nfunction TorusGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TorusGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tthis.fromBufferGeometry( new TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) );\n\tthis.mergeVertices();\n\n}\n\nTorusGeometry.prototype = Object.create( Geometry.prototype );\nTorusGeometry.prototype.constructor = TorusGeometry;\n\n// TorusBufferGeometry\n\nfunction TorusBufferGeometry( radius, tube, radialSegments, tubularSegments, arc ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'TorusBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\ttube: tube,\n\t\tradialSegments: radialSegments,\n\t\ttubularSegments: tubularSegments,\n\t\tarc: arc\n\t};\n\n\tradius = radius || 1;\n\ttube = tube || 0.4;\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\ttubularSegments = Math.floor( tubularSegments ) || 6;\n\tarc = arc || Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar center = new Vector3();\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= tubularSegments; i ++ ) {\n\n\t\t\tvar u = i / tubularSegments * arc;\n\t\t\tvar v = j / radialSegments * Math.PI * 2;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = ( radius + tube * Math.cos( v ) ) * Math.cos( u );\n\t\t\tvertex.y = ( radius + tube * Math.cos( v ) ) * Math.sin( u );\n\t\t\tvertex.z = tube * Math.sin( v );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tcenter.x = radius * Math.cos( u );\n\t\t\tcenter.y = radius * Math.sin( u );\n\t\t\tnormal.subVectors( vertex, center ).normalize();\n\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( i / tubularSegments );\n\t\t\tuvs.push( j / radialSegments );\n\n\t\t}\n\n\t}\n\n\t// generate indices\n\n\tfor ( j = 1; j <= radialSegments; j ++ ) {\n\n\t\tfor ( i = 1; i <= tubularSegments; i ++ ) {\n\n\t\t\t// indices\n\n\t\t\tvar a = ( tubularSegments + 1 ) * j + i - 1;\n\t\t\tvar b = ( tubularSegments + 1 ) * ( j - 1 ) + i - 1;\n\t\t\tvar c = ( tubularSegments + 1 ) * ( j - 1 ) + i;\n\t\t\tvar d = ( tubularSegments + 1 ) * j + i;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nTorusBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nTorusBufferGeometry.prototype.constructor = TorusBufferGeometry;\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n * Port from https://github.com/mapbox/earcut (v2.1.5)\n */\n\nvar Earcut = {\n\n\ttriangulate: function ( data, holeIndices, dim ) {\n\n\t\tdim = dim || 2;\n\n\t\tvar hasHoles = holeIndices && holeIndices.length,\n\t\t\touterLen = hasHoles ? holeIndices[ 0 ] * dim : data.length,\n\t\t\touterNode = linkedList( data, 0, outerLen, dim, true ),\n\t\t\ttriangles = [];\n\n\t\tif ( ! outerNode || outerNode.next === outerNode.prev ) return triangles;\n\n\t\tvar minX, minY, maxX, maxY, x, y, invSize;\n\n\t\tif ( hasHoles ) outerNode = eliminateHoles( data, holeIndices, outerNode, dim );\n\n\t\t// if the shape is not too simple, we'll use z-order curve hash later; calculate polygon bbox\n\t\tif ( data.length > 80 * dim ) {\n\n\t\t\tminX = maxX = data[ 0 ];\n\t\t\tminY = maxY = data[ 1 ];\n\n\t\t\tfor ( var i = dim; i < outerLen; i += dim ) {\n\n\t\t\t\tx = data[ i ];\n\t\t\t\ty = data[ i + 1 ];\n\t\t\t\tif ( x < minX ) minX = x;\n\t\t\t\tif ( y < minY ) minY = y;\n\t\t\t\tif ( x > maxX ) maxX = x;\n\t\t\t\tif ( y > maxY ) maxY = y;\n\n\t\t\t}\n\n\t\t\t// minX, minY and invSize are later used to transform coords into integers for z-order calculation\n\t\t\tinvSize = Math.max( maxX - minX, maxY - minY );\n\t\t\tinvSize = invSize !== 0 ? 1 / invSize : 0;\n\n\t\t}\n\n\t\tearcutLinked( outerNode, triangles, dim, minX, minY, invSize );\n\n\t\treturn triangles;\n\n\t}\n\n};\n\n// create a circular doubly linked list from polygon points in the specified winding order\nfunction linkedList( data, start, end, dim, clockwise ) {\n\n\tvar i, last;\n\n\tif ( clockwise === ( signedArea( data, start, end, dim ) > 0 ) ) {\n\n\t\tfor ( i = start; i < end; i += dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t} else {\n\n\t\tfor ( i = end - dim; i >= start; i -= dim ) last = insertNode( i, data[ i ], data[ i + 1 ], last );\n\n\t}\n\n\tif ( last && equals( last, last.next ) ) {\n\n\t\tremoveNode( last );\n\t\tlast = last.next;\n\n\t}\n\n\treturn last;\n\n}\n\n// eliminate colinear or duplicate points\nfunction filterPoints( start, end ) {\n\n\tif ( ! start ) return start;\n\tif ( ! end ) end = start;\n\n\tvar p = start,\n\t\tagain;\n\tdo {\n\n\t\tagain = false;\n\n\t\tif ( ! p.steiner && ( equals( p, p.next ) || area( p.prev, p, p.next ) === 0 ) ) {\n\n\t\t\tremoveNode( p );\n\t\t\tp = end = p.prev;\n\t\t\tif ( p === p.next ) break;\n\t\t\tagain = true;\n\n\t\t} else {\n\n\t\t\tp = p.next;\n\n\t\t}\n\n\t} while ( again || p !== end );\n\n\treturn end;\n\n}\n\n// main ear slicing loop which triangulates a polygon (given as a linked list)\nfunction earcutLinked( ear, triangles, dim, minX, minY, invSize, pass ) {\n\n\tif ( ! ear ) return;\n\n\t// interlink polygon nodes in z-order\n\tif ( ! pass && invSize ) indexCurve( ear, minX, minY, invSize );\n\n\tvar stop = ear,\n\t\tprev, next;\n\n\t// iterate through ears, slicing them one by one\n\twhile ( ear.prev !== ear.next ) {\n\n\t\tprev = ear.prev;\n\t\tnext = ear.next;\n\n\t\tif ( invSize ? isEarHashed( ear, minX, minY, invSize ) : isEar( ear ) ) {\n\n\t\t\t// cut off the triangle\n\t\t\ttriangles.push( prev.i / dim );\n\t\t\ttriangles.push( ear.i / dim );\n\t\t\ttriangles.push( next.i / dim );\n\n\t\t\tremoveNode( ear );\n\n\t\t\t// skipping the next vertex leads to less sliver triangles\n\t\t\tear = next.next;\n\t\t\tstop = next.next;\n\n\t\t\tcontinue;\n\n\t\t}\n\n\t\tear = next;\n\n\t\t// if we looped through the whole remaining polygon and can't find any more ears\n\t\tif ( ear === stop ) {\n\n\t\t\t// try filtering points and slicing again\n\t\t\tif ( ! pass ) {\n\n\t\t\t\tearcutLinked( filterPoints( ear ), triangles, dim, minX, minY, invSize, 1 );\n\n\t\t\t\t// if this didn't work, try curing all small self-intersections locally\n\n\t\t\t} else if ( pass === 1 ) {\n\n\t\t\t\tear = cureLocalIntersections( ear, triangles, dim );\n\t\t\t\tearcutLinked( ear, triangles, dim, minX, minY, invSize, 2 );\n\n\t\t\t\t// as a last resort, try splitting the remaining polygon into two\n\n\t\t\t} else if ( pass === 2 ) {\n\n\t\t\t\tsplitEarcut( ear, triangles, dim, minX, minY, invSize );\n\n\t\t\t}\n\n\t\t\tbreak;\n\n\t\t}\n\n\t}\n\n}\n\n// check whether a polygon node forms a valid ear with adjacent nodes\nfunction isEar( ear ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// now make sure we don't have other points inside the potential ear\n\tvar p = ear.next.next;\n\n\twhile ( p !== ear.prev ) {\n\n\t\tif ( pointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.next;\n\n\t}\n\n\treturn true;\n\n}\n\nfunction isEarHashed( ear, minX, minY, invSize ) {\n\n\tvar a = ear.prev,\n\t\tb = ear,\n\t\tc = ear.next;\n\n\tif ( area( a, b, c ) >= 0 ) return false; // reflex, can't be an ear\n\n\t// triangle bbox; min & max are calculated like this for speed\n\tvar minTX = a.x < b.x ? ( a.x < c.x ? a.x : c.x ) : ( b.x < c.x ? b.x : c.x ),\n\t\tminTY = a.y < b.y ? ( a.y < c.y ? a.y : c.y ) : ( b.y < c.y ? b.y : c.y ),\n\t\tmaxTX = a.x > b.x ? ( a.x > c.x ? a.x : c.x ) : ( b.x > c.x ? b.x : c.x ),\n\t\tmaxTY = a.y > b.y ? ( a.y > c.y ? a.y : c.y ) : ( b.y > c.y ? b.y : c.y );\n\n\t// z-order range for the current triangle bbox;\n\tvar minZ = zOrder( minTX, minTY, minX, minY, invSize ),\n\t\tmaxZ = zOrder( maxTX, maxTY, minX, minY, invSize );\n\n\tvar p = ear.prevZ,\n\t\tn = ear.nextZ;\n\n\t// look for points inside the triangle in both directions\n\twhile ( p && p.z >= minZ && n && n.z <= maxZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\t// look for remaining points in decreasing z-order\n\twhile ( p && p.z >= minZ ) {\n\n\t\tif ( p !== ear.prev && p !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, p.x, p.y ) &&\n\t\t\tarea( p.prev, p, p.next ) >= 0 ) return false;\n\t\tp = p.prevZ;\n\n\t}\n\n\t// look for remaining points in increasing z-order\n\twhile ( n && n.z <= maxZ ) {\n\n\t\tif ( n !== ear.prev && n !== ear.next &&\n\t\t\tpointInTriangle( a.x, a.y, b.x, b.y, c.x, c.y, n.x, n.y ) &&\n\t\t\tarea( n.prev, n, n.next ) >= 0 ) return false;\n\t\tn = n.nextZ;\n\n\t}\n\n\treturn true;\n\n}\n\n// go through all polygon nodes and cure small local self-intersections\nfunction cureLocalIntersections( start, triangles, dim ) {\n\n\tvar p = start;\n\tdo {\n\n\t\tvar a = p.prev,\n\t\t\tb = p.next.next;\n\n\t\tif ( ! equals( a, b ) && intersects( a, p, p.next, b ) && locallyInside( a, b ) && locallyInside( b, a ) ) {\n\n\t\t\ttriangles.push( a.i / dim );\n\t\t\ttriangles.push( p.i / dim );\n\t\t\ttriangles.push( b.i / dim );\n\n\t\t\t// remove two nodes involved\n\t\t\tremoveNode( p );\n\t\t\tremoveNode( p.next );\n\n\t\t\tp = start = b;\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn p;\n\n}\n\n// try splitting polygon into two and triangulate them independently\nfunction splitEarcut( start, triangles, dim, minX, minY, invSize ) {\n\n\t// look for a valid diagonal that divides the polygon into two\n\tvar a = start;\n\tdo {\n\n\t\tvar b = a.next.next;\n\t\twhile ( b !== a.prev ) {\n\n\t\t\tif ( a.i !== b.i && isValidDiagonal( a, b ) ) {\n\n\t\t\t\t// split the polygon in two by the diagonal\n\t\t\t\tvar c = splitPolygon( a, b );\n\n\t\t\t\t// filter colinear points around the cuts\n\t\t\t\ta = filterPoints( a, a.next );\n\t\t\t\tc = filterPoints( c, c.next );\n\n\t\t\t\t// run earcut on each half\n\t\t\t\tearcutLinked( a, triangles, dim, minX, minY, invSize );\n\t\t\t\tearcutLinked( c, triangles, dim, minX, minY, invSize );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tb = b.next;\n\n\t\t}\n\n\t\ta = a.next;\n\n\t} while ( a !== start );\n\n}\n\n// link every hole into the outer loop, producing a single-ring polygon without holes\nfunction eliminateHoles( data, holeIndices, outerNode, dim ) {\n\n\tvar queue = [],\n\t\ti, len, start, end, list;\n\n\tfor ( i = 0, len = holeIndices.length; i < len; i ++ ) {\n\n\t\tstart = holeIndices[ i ] * dim;\n\t\tend = i < len - 1 ? holeIndices[ i + 1 ] * dim : data.length;\n\t\tlist = linkedList( data, start, end, dim, false );\n\t\tif ( list === list.next ) list.steiner = true;\n\t\tqueue.push( getLeftmost( list ) );\n\n\t}\n\n\tqueue.sort( compareX );\n\n\t// process holes from left to right\n\tfor ( i = 0; i < queue.length; i ++ ) {\n\n\t\teliminateHole( queue[ i ], outerNode );\n\t\touterNode = filterPoints( outerNode, outerNode.next );\n\n\t}\n\n\treturn outerNode;\n\n}\n\nfunction compareX( a, b ) {\n\n\treturn a.x - b.x;\n\n}\n\n// find a bridge between vertices that connects hole with an outer ring and and link it\nfunction eliminateHole( hole, outerNode ) {\n\n\touterNode = findHoleBridge( hole, outerNode );\n\tif ( outerNode ) {\n\n\t\tvar b = splitPolygon( outerNode, hole );\n\t\tfilterPoints( b, b.next );\n\n\t}\n\n}\n\n// David Eberly's algorithm for finding a bridge between hole and outer polygon\nfunction findHoleBridge( hole, outerNode ) {\n\n\tvar p = outerNode,\n\t\thx = hole.x,\n\t\thy = hole.y,\n\t\tqx = - Infinity,\n\t\tm;\n\n\t// find a segment intersected by a ray from the hole's leftmost point to the left;\n\t// segment's endpoint with lesser x will be potential connection point\n\tdo {\n\n\t\tif ( hy <= p.y && hy >= p.next.y && p.next.y !== p.y ) {\n\n\t\t\tvar x = p.x + ( hy - p.y ) * ( p.next.x - p.x ) / ( p.next.y - p.y );\n\t\t\tif ( x <= hx && x > qx ) {\n\n\t\t\t\tqx = x;\n\t\t\t\tif ( x === hx ) {\n\n\t\t\t\t\tif ( hy === p.y ) return p;\n\t\t\t\t\tif ( hy === p.next.y ) return p.next;\n\n\t\t\t\t}\n\n\t\t\t\tm = p.x < p.next.x ? p : p.next;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t} while ( p !== outerNode );\n\n\tif ( ! m ) return null;\n\n\tif ( hx === qx ) return m.prev; // hole touches outer segment; pick lower endpoint\n\n\t// look for points inside the triangle of hole point, segment intersection and endpoint;\n\t// if there are no points found, we have a valid connection;\n\t// otherwise choose the point of the minimum angle with the ray as connection point\n\n\tvar stop = m,\n\t\tmx = m.x,\n\t\tmy = m.y,\n\t\ttanMin = Infinity,\n\t\ttan;\n\n\tp = m.next;\n\n\twhile ( p !== stop ) {\n\n\t\tif ( hx >= p.x && p.x >= mx && hx !== p.x &&\n\t\t\t\tpointInTriangle( hy < my ? hx : qx, hy, mx, my, hy < my ? qx : hx, hy, p.x, p.y ) ) {\n\n\t\t\ttan = Math.abs( hy - p.y ) / ( hx - p.x ); // tangential\n\n\t\t\tif ( ( tan < tanMin || ( tan === tanMin && p.x > m.x ) ) && locallyInside( p, hole ) ) {\n\n\t\t\t\tm = p;\n\t\t\t\ttanMin = tan;\n\n\t\t\t}\n\n\t\t}\n\n\t\tp = p.next;\n\n\t}\n\n\treturn m;\n\n}\n\n// interlink polygon nodes in z-order\nfunction indexCurve( start, minX, minY, invSize ) {\n\n\tvar p = start;\n\tdo {\n\n\t\tif ( p.z === null ) p.z = zOrder( p.x, p.y, minX, minY, invSize );\n\t\tp.prevZ = p.prev;\n\t\tp.nextZ = p.next;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\tp.prevZ.nextZ = null;\n\tp.prevZ = null;\n\n\tsortLinked( p );\n\n}\n\n// Simon Tatham's linked list merge sort algorithm\n// http://www.chiark.greenend.org.uk/~sgtatham/algorithms/listsort.html\nfunction sortLinked( list ) {\n\n\tvar i, p, q, e, tail, numMerges, pSize, qSize,\n\t\tinSize = 1;\n\n\tdo {\n\n\t\tp = list;\n\t\tlist = null;\n\t\ttail = null;\n\t\tnumMerges = 0;\n\n\t\twhile ( p ) {\n\n\t\t\tnumMerges ++;\n\t\t\tq = p;\n\t\t\tpSize = 0;\n\t\t\tfor ( i = 0; i < inSize; i ++ ) {\n\n\t\t\t\tpSize ++;\n\t\t\t\tq = q.nextZ;\n\t\t\t\tif ( ! q ) break;\n\n\t\t\t}\n\n\t\t\tqSize = inSize;\n\n\t\t\twhile ( pSize > 0 || ( qSize > 0 && q ) ) {\n\n\t\t\t\tif ( pSize !== 0 && ( qSize === 0 || ! q || p.z <= q.z ) ) {\n\n\t\t\t\t\te = p;\n\t\t\t\t\tp = p.nextZ;\n\t\t\t\t\tpSize --;\n\n\t\t\t\t} else {\n\n\t\t\t\t\te = q;\n\t\t\t\t\tq = q.nextZ;\n\t\t\t\t\tqSize --;\n\n\t\t\t\t}\n\n\t\t\t\tif ( tail ) tail.nextZ = e;\n\t\t\t\telse list = e;\n\n\t\t\t\te.prevZ = tail;\n\t\t\t\ttail = e;\n\n\t\t\t}\n\n\t\t\tp = q;\n\n\t\t}\n\n\t\ttail.nextZ = null;\n\t\tinSize *= 2;\n\n\t} while ( numMerges > 1 );\n\n\treturn list;\n\n}\n\n// z-order of a point given coords and inverse of the longer side of data bbox\nfunction zOrder( x, y, minX, minY, invSize ) {\n\n\t// coords are transformed into non-negative 15-bit integer range\n\tx = 32767 * ( x - minX ) * invSize;\n\ty = 32767 * ( y - minY ) * invSize;\n\n\tx = ( x | ( x << 8 ) ) & 0x00FF00FF;\n\tx = ( x | ( x << 4 ) ) & 0x0F0F0F0F;\n\tx = ( x | ( x << 2 ) ) & 0x33333333;\n\tx = ( x | ( x << 1 ) ) & 0x55555555;\n\n\ty = ( y | ( y << 8 ) ) & 0x00FF00FF;\n\ty = ( y | ( y << 4 ) ) & 0x0F0F0F0F;\n\ty = ( y | ( y << 2 ) ) & 0x33333333;\n\ty = ( y | ( y << 1 ) ) & 0x55555555;\n\n\treturn x | ( y << 1 );\n\n}\n\n// find the leftmost node of a polygon ring\nfunction getLeftmost( start ) {\n\n\tvar p = start,\n\t\tleftmost = start;\n\tdo {\n\n\t\tif ( p.x < leftmost.x || ( p.x === leftmost.x && p.y < leftmost.y ) ) leftmost = p;\n\t\tp = p.next;\n\n\t} while ( p !== start );\n\n\treturn leftmost;\n\n}\n\n// check if a point lies within a convex triangle\nfunction pointInTriangle( ax, ay, bx, by, cx, cy, px, py ) {\n\n\treturn ( cx - px ) * ( ay - py ) - ( ax - px ) * ( cy - py ) >= 0 &&\n\t\t   ( ax - px ) * ( by - py ) - ( bx - px ) * ( ay - py ) >= 0 &&\n\t\t   ( bx - px ) * ( cy - py ) - ( cx - px ) * ( by - py ) >= 0;\n\n}\n\n// check if a diagonal between two polygon nodes is valid (lies in polygon interior)\nfunction isValidDiagonal( a, b ) {\n\n\treturn a.next.i !== b.i && a.prev.i !== b.i && ! intersectsPolygon( a, b ) &&\n\t\t   locallyInside( a, b ) && locallyInside( b, a ) && middleInside( a, b );\n\n}\n\n// signed area of a triangle\nfunction area( p, q, r ) {\n\n\treturn ( q.y - p.y ) * ( r.x - q.x ) - ( q.x - p.x ) * ( r.y - q.y );\n\n}\n\n// check if two points are equal\nfunction equals( p1, p2 ) {\n\n\treturn p1.x === p2.x && p1.y === p2.y;\n\n}\n\n// check if two segments intersect\nfunction intersects( p1, q1, p2, q2 ) {\n\n\tif ( ( equals( p1, p2 ) && equals( q1, q2 ) ) ||\n\t\t( equals( p1, q2 ) && equals( p2, q1 ) ) ) return true;\n\treturn area( p1, q1, p2 ) > 0 !== area( p1, q1, q2 ) > 0 &&\n\t\t   area( p2, q2, p1 ) > 0 !== area( p2, q2, q1 ) > 0;\n\n}\n\n// check if a polygon diagonal intersects any polygon segments\nfunction intersectsPolygon( a, b ) {\n\n\tvar p = a;\n\tdo {\n\n\t\tif ( p.i !== a.i && p.next.i !== a.i && p.i !== b.i && p.next.i !== b.i &&\n\t\t\t\tintersects( p, p.next, a, b ) ) return true;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn false;\n\n}\n\n// check if a polygon diagonal is locally inside the polygon\nfunction locallyInside( a, b ) {\n\n\treturn area( a.prev, a, a.next ) < 0 ?\n\t\tarea( a, b, a.next ) >= 0 && area( a, a.prev, b ) >= 0 :\n\t\tarea( a, b, a.prev ) < 0 || area( a, a.next, b ) < 0;\n\n}\n\n// check if the middle point of a polygon diagonal is inside the polygon\nfunction middleInside( a, b ) {\n\n\tvar p = a,\n\t\tinside = false,\n\t\tpx = ( a.x + b.x ) / 2,\n\t\tpy = ( a.y + b.y ) / 2;\n\tdo {\n\n\t\tif ( ( ( p.y > py ) !== ( p.next.y > py ) ) && p.next.y !== p.y &&\n\t\t\t\t( px < ( p.next.x - p.x ) * ( py - p.y ) / ( p.next.y - p.y ) + p.x ) )\n\t\t\tinside = ! inside;\n\t\tp = p.next;\n\n\t} while ( p !== a );\n\n\treturn inside;\n\n}\n\n// link two polygon vertices with a bridge; if the vertices belong to the same ring, it splits polygon into two;\n// if one belongs to the outer ring and another to a hole, it merges it into a single ring\nfunction splitPolygon( a, b ) {\n\n\tvar a2 = new Node( a.i, a.x, a.y ),\n\t\tb2 = new Node( b.i, b.x, b.y ),\n\t\tan = a.next,\n\t\tbp = b.prev;\n\n\ta.next = b;\n\tb.prev = a;\n\n\ta2.next = an;\n\tan.prev = a2;\n\n\tb2.next = a2;\n\ta2.prev = b2;\n\n\tbp.next = b2;\n\tb2.prev = bp;\n\n\treturn b2;\n\n}\n\n// create a node and optionally link it with previous one (in a circular doubly linked list)\nfunction insertNode( i, x, y, last ) {\n\n\tvar p = new Node( i, x, y );\n\n\tif ( ! last ) {\n\n\t\tp.prev = p;\n\t\tp.next = p;\n\n\t} else {\n\n\t\tp.next = last.next;\n\t\tp.prev = last;\n\t\tlast.next.prev = p;\n\t\tlast.next = p;\n\n\t}\n\n\treturn p;\n\n}\n\nfunction removeNode( p ) {\n\n\tp.next.prev = p.prev;\n\tp.prev.next = p.next;\n\n\tif ( p.prevZ ) p.prevZ.nextZ = p.nextZ;\n\tif ( p.nextZ ) p.nextZ.prevZ = p.prevZ;\n\n}\n\nfunction Node( i, x, y ) {\n\n\t// vertex index in coordinates array\n\tthis.i = i;\n\n\t// vertex coordinates\n\tthis.x = x;\n\tthis.y = y;\n\n\t// previous and next vertex nodes in a polygon ring\n\tthis.prev = null;\n\tthis.next = null;\n\n\t// z-order curve value\n\tthis.z = null;\n\n\t// previous and next nodes in z-order\n\tthis.prevZ = null;\n\tthis.nextZ = null;\n\n\t// indicates whether this is a steiner point\n\tthis.steiner = false;\n\n}\n\nfunction signedArea( data, start, end, dim ) {\n\n\tvar sum = 0;\n\tfor ( var i = start, j = end - dim; i < end; i += dim ) {\n\n\t\tsum += ( data[ j ] - data[ i ] ) * ( data[ i + 1 ] + data[ j + 1 ] );\n\t\tj = i;\n\n\t}\n\n\treturn sum;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n */\n\nvar ShapeUtils = {\n\n\t// calculate area of the contour polygon\n\n\tarea: function ( contour ) {\n\n\t\tvar n = contour.length;\n\t\tvar a = 0.0;\n\n\t\tfor ( var p = n - 1, q = 0; q < n; p = q ++ ) {\n\n\t\t\ta += contour[ p ].x * contour[ q ].y - contour[ q ].x * contour[ p ].y;\n\n\t\t}\n\n\t\treturn a * 0.5;\n\n\t},\n\n\tisClockWise: function ( pts ) {\n\n\t\treturn ShapeUtils.area( pts ) < 0;\n\n\t},\n\n\ttriangulateShape: function ( contour, holes ) {\n\n\t\tvar vertices = []; // flat array of vertices like [ x0,y0, x1,y1, x2,y2, ... ]\n\t\tvar holeIndices = []; // array of hole indices\n\t\tvar faces = []; // final array of vertex indices like [ [ a,b,d ], [ b,c,d ] ]\n\n\t\tremoveDupEndPts( contour );\n\t\taddContour( vertices, contour );\n\n\t\t//\n\n\t\tvar holeIndex = contour.length;\n\n\t\tholes.forEach( removeDupEndPts );\n\n\t\tfor ( var i = 0; i < holes.length; i ++ ) {\n\n\t\t\tholeIndices.push( holeIndex );\n\t\t\tholeIndex += holes[ i ].length;\n\t\t\taddContour( vertices, holes[ i ] );\n\n\t\t}\n\n\t\t//\n\n\t\tvar triangles = Earcut.triangulate( vertices, holeIndices );\n\n\t\t//\n\n\t\tfor ( var i = 0; i < triangles.length; i += 3 ) {\n\n\t\t\tfaces.push( triangles.slice( i, i + 3 ) );\n\n\t\t}\n\n\t\treturn faces;\n\n\t}\n\n};\n\nfunction removeDupEndPts( points ) {\n\n\tvar l = points.length;\n\n\tif ( l > 2 && points[ l - 1 ].equals( points[ 0 ] ) ) {\n\n\t\tpoints.pop();\n\n\t}\n\n}\n\nfunction addContour( vertices, contour ) {\n\n\tfor ( var i = 0; i < contour.length; i ++ ) {\n\n\t\tvertices.push( contour[ i ].x );\n\t\tvertices.push( contour[ i ].y );\n\n\t}\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Creates extruded geometry from a path shape.\n *\n * parameters = {\n *\n *  curveSegments: <int>, // number of points on the curves\n *  steps: <int>, // number of points for z-side extrusions / used for subdividing segments of extrude spline too\n *  depth: <float>, // Depth to extrude the shape\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into the original shape bevel goes\n *  bevelSize: <float>, // how far from shape outline (including bevelOffset) is bevel\n *  bevelOffset: <float>, // how far from shape outline does bevel start\n *  bevelSegments: <int>, // number of bevel layers\n *\n *  extrudePath: <THREE.Curve> // curve to extrude shape along\n *\n *  UVGenerator: <Object> // object that provides UV generator functions\n *\n * }\n */\n\n// ExtrudeGeometry\n\nfunction ExtrudeGeometry( shapes, options ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ExtrudeGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tthis.fromBufferGeometry( new ExtrudeBufferGeometry( shapes, options ) );\n\tthis.mergeVertices();\n\n}\n\nExtrudeGeometry.prototype = Object.create( Geometry.prototype );\nExtrudeGeometry.prototype.constructor = ExtrudeGeometry;\n\nExtrudeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n// ExtrudeBufferGeometry\n\nfunction ExtrudeBufferGeometry( shapes, options ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ExtrudeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\toptions: options\n\t};\n\n\tshapes = Array.isArray( shapes ) ? shapes : [ shapes ];\n\n\tvar scope = this;\n\n\tvar verticesArray = [];\n\tvar uvArray = [];\n\n\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\tvar shape = shapes[ i ];\n\t\taddShape( shape );\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( verticesArray, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvArray, 2 ) );\n\n\tthis.computeVertexNormals();\n\n\t// functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar placeholder = [];\n\n\t\t// options\n\n\t\tvar curveSegments = options.curveSegments !== undefined ? options.curveSegments : 12;\n\t\tvar steps = options.steps !== undefined ? options.steps : 1;\n\t\tvar depth = options.depth !== undefined ? options.depth : 100;\n\n\t\tvar bevelEnabled = options.bevelEnabled !== undefined ? options.bevelEnabled : true;\n\t\tvar bevelThickness = options.bevelThickness !== undefined ? options.bevelThickness : 6;\n\t\tvar bevelSize = options.bevelSize !== undefined ? options.bevelSize : bevelThickness - 2;\n\t\tvar bevelOffset = options.bevelOffset !== undefined ? options.bevelOffset : 0;\n\t\tvar bevelSegments = options.bevelSegments !== undefined ? options.bevelSegments : 3;\n\n\t\tvar extrudePath = options.extrudePath;\n\n\t\tvar uvgen = options.UVGenerator !== undefined ? options.UVGenerator : WorldUVGenerator;\n\n\t\t// deprecated options\n\n\t\tif ( options.amount !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.ExtrudeBufferGeometry: amount has been renamed to depth.' );\n\t\t\tdepth = options.amount;\n\n\t\t}\n\n\t\t//\n\n\t\tvar extrudePts, extrudeByPath = false;\n\t\tvar splineTube, binormal, normal, position2;\n\n\t\tif ( extrudePath ) {\n\n\t\t\textrudePts = extrudePath.getSpacedPoints( steps );\n\n\t\t\textrudeByPath = true;\n\t\t\tbevelEnabled = false; // bevels not supported for path extrusion\n\n\t\t\t// SETUP TNB variables\n\n\t\t\t// TODO1 - have a .isClosed in spline?\n\n\t\t\tsplineTube = extrudePath.computeFrenetFrames( steps, false );\n\n\t\t\t// console.log(splineTube, 'splineTube', splineTube.normals.length, 'steps', steps, 'extrudePts', extrudePts.length);\n\n\t\t\tbinormal = new Vector3();\n\t\t\tnormal = new Vector3();\n\t\t\tposition2 = new Vector3();\n\n\t\t}\n\n\t\t// Safeguards if bevels are not enabled\n\n\t\tif ( ! bevelEnabled ) {\n\n\t\t\tbevelSegments = 0;\n\t\t\tbevelThickness = 0;\n\t\t\tbevelSize = 0;\n\t\t\tbevelOffset = 0;\n\n\t\t}\n\n\t\t// Variables initialization\n\n\t\tvar ahole, h, hl; // looping of holes\n\n\t\tvar shapePoints = shape.extractPoints( curveSegments );\n\n\t\tvar vertices = shapePoints.shape;\n\t\tvar holes = shapePoints.holes;\n\n\t\tvar reverse = ! ShapeUtils.isClockWise( vertices );\n\n\t\tif ( reverse ) {\n\n\t\t\tvertices = vertices.reverse();\n\n\t\t\t// Maybe we should also check if holes are in the opposite direction, just to be safe ...\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\n\t\t\t\tif ( ShapeUtils.isClockWise( ahole ) ) {\n\n\t\t\t\t\tholes[ h ] = ahole.reverse();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\tvar faces = ShapeUtils.triangulateShape( vertices, holes );\n\n\t\t/* Vertices */\n\n\t\tvar contour = vertices; // vertices has all points but contour has only points of circumference\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\tvertices = vertices.concat( ahole );\n\n\t\t}\n\n\n\t\tfunction scalePt2( pt, vec, size ) {\n\n\t\t\tif ( ! vec ) console.error( \"THREE.ExtrudeGeometry: vec does not exist\" );\n\n\t\t\treturn vec.clone().multiplyScalar( size ).add( pt );\n\n\t\t}\n\n\t\tvar b, bs, t, z,\n\t\t\tvert, vlen = vertices.length,\n\t\t\tface, flen = faces.length;\n\n\n\t\t// Find directions for point movement\n\n\n\t\tfunction getBevelVec( inPt, inPrev, inNext ) {\n\n\t\t\t// computes for inPt the corresponding point inPt' on a new contour\n\t\t\t//   shifted by 1 unit (length of normalized vector) to the left\n\t\t\t// if we walk along contour clockwise, this new contour is outside the old one\n\t\t\t//\n\t\t\t// inPt' is the intersection of the two lines parallel to the two\n\t\t\t//  adjacent edges of inPt at a distance of 1 unit on the left side.\n\n\t\t\tvar v_trans_x, v_trans_y, shrink_by; // resulting translation vector for inPt\n\n\t\t\t// good reading for geometry algorithms (here: line-line intersection)\n\t\t\t// http://geomalgorithms.com/a05-_intersect-1.html\n\n\t\t\tvar v_prev_x = inPt.x - inPrev.x,\n\t\t\t\tv_prev_y = inPt.y - inPrev.y;\n\t\t\tvar v_next_x = inNext.x - inPt.x,\n\t\t\t\tv_next_y = inNext.y - inPt.y;\n\n\t\t\tvar v_prev_lensq = ( v_prev_x * v_prev_x + v_prev_y * v_prev_y );\n\n\t\t\t// check for collinear edges\n\t\t\tvar collinear0 = ( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\tif ( Math.abs( collinear0 ) > Number.EPSILON ) {\n\n\t\t\t\t// not collinear\n\n\t\t\t\t// length of vectors for normalizing\n\n\t\t\t\tvar v_prev_len = Math.sqrt( v_prev_lensq );\n\t\t\t\tvar v_next_len = Math.sqrt( v_next_x * v_next_x + v_next_y * v_next_y );\n\n\t\t\t\t// shift adjacent points by unit vectors to the left\n\n\t\t\t\tvar ptPrevShift_x = ( inPrev.x - v_prev_y / v_prev_len );\n\t\t\t\tvar ptPrevShift_y = ( inPrev.y + v_prev_x / v_prev_len );\n\n\t\t\t\tvar ptNextShift_x = ( inNext.x - v_next_y / v_next_len );\n\t\t\t\tvar ptNextShift_y = ( inNext.y + v_next_x / v_next_len );\n\n\t\t\t\t// scaling factor for v_prev to intersection point\n\n\t\t\t\tvar sf = ( ( ptNextShift_x - ptPrevShift_x ) * v_next_y -\n\t\t\t\t\t\t( ptNextShift_y - ptPrevShift_y ) * v_next_x ) /\n\t\t\t\t\t( v_prev_x * v_next_y - v_prev_y * v_next_x );\n\n\t\t\t\t// vector from inPt to intersection point\n\n\t\t\t\tv_trans_x = ( ptPrevShift_x + v_prev_x * sf - inPt.x );\n\t\t\t\tv_trans_y = ( ptPrevShift_y + v_prev_y * sf - inPt.y );\n\n\t\t\t\t// Don't normalize!, otherwise sharp corners become ugly\n\t\t\t\t//  but prevent crazy spikes\n\t\t\t\tvar v_trans_lensq = ( v_trans_x * v_trans_x + v_trans_y * v_trans_y );\n\t\t\t\tif ( v_trans_lensq <= 2 ) {\n\n\t\t\t\t\treturn new Vector2( v_trans_x, v_trans_y );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tshrink_by = Math.sqrt( v_trans_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// handle special case of collinear edges\n\n\t\t\t\tvar direction_eq = false; // assumes: opposite\n\t\t\t\tif ( v_prev_x > Number.EPSILON ) {\n\n\t\t\t\t\tif ( v_next_x > Number.EPSILON ) {\n\n\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( v_prev_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\tif ( v_next_x < - Number.EPSILON ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tif ( Math.sign( v_prev_y ) === Math.sign( v_next_y ) ) {\n\n\t\t\t\t\t\t\tdirection_eq = true;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( direction_eq ) {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight sequence\");\n\t\t\t\t\tv_trans_x = - v_prev_y;\n\t\t\t\t\tv_trans_y = v_prev_x;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// console.log(\"Warning: lines are a straight spike\");\n\t\t\t\t\tv_trans_x = v_prev_x;\n\t\t\t\t\tv_trans_y = v_prev_y;\n\t\t\t\t\tshrink_by = Math.sqrt( v_prev_lensq / 2 );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn new Vector2( v_trans_x / shrink_by, v_trans_y / shrink_by );\n\n\t\t}\n\n\n\t\tvar contourMovements = [];\n\n\t\tfor ( var i = 0, il = contour.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\tif ( j === il ) j = 0;\n\t\t\tif ( k === il ) k = 0;\n\n\t\t\t//  (j)---(i)---(k)\n\t\t\t// console.log('i,j,k', i, j , k)\n\n\t\t\tcontourMovements[ i ] = getBevelVec( contour[ i ], contour[ j ], contour[ k ] );\n\n\t\t}\n\n\t\tvar holesMovements = [],\n\t\t\toneHoleMovements, verticesMovements = contourMovements.concat();\n\n\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\tahole = holes[ h ];\n\n\t\t\toneHoleMovements = [];\n\n\t\t\tfor ( i = 0, il = ahole.length, j = il - 1, k = i + 1; i < il; i ++, j ++, k ++ ) {\n\n\t\t\t\tif ( j === il ) j = 0;\n\t\t\t\tif ( k === il ) k = 0;\n\n\t\t\t\t//  (j)---(i)---(k)\n\t\t\t\toneHoleMovements[ i ] = getBevelVec( ahole[ i ], ahole[ j ], ahole[ k ] );\n\n\t\t\t}\n\n\t\t\tholesMovements.push( oneHoleMovements );\n\t\t\tverticesMovements = verticesMovements.concat( oneHoleMovements );\n\n\t\t}\n\n\n\t\t// Loop bevelSegments, 1 for the front, 1 for the back\n\n\t\tfor ( b = 0; b < bevelSegments; b ++ ) {\n\n\t\t\t//for ( b = bevelSegments; b > 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\n\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tv( vert.x, vert.y, - z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tbs = bevelSize + bevelOffset;\n\n\t\t// Back facing vertices\n\n\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\tv( vert.x, vert.y, 0 );\n\n\t\t\t} else {\n\n\t\t\t\t// v( vert.x, vert.y + extrudePts[ 0 ].y, extrudePts[ 0 ].x );\n\n\t\t\t\tnormal.copy( splineTube.normals[ 0 ] ).multiplyScalar( vert.x );\n\t\t\t\tbinormal.copy( splineTube.binormals[ 0 ] ).multiplyScalar( vert.y );\n\n\t\t\t\tposition2.copy( extrudePts[ 0 ] ).add( normal ).add( binormal );\n\n\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Add stepped vertices...\n\t\t// Including front facing vertices\n\n\t\tvar s;\n\n\t\tfor ( s = 1; s <= steps; s ++ ) {\n\n\t\t\tfor ( i = 0; i < vlen; i ++ ) {\n\n\t\t\t\tvert = bevelEnabled ? scalePt2( vertices[ i ], verticesMovements[ i ], bs ) : vertices[ i ];\n\n\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\tv( vert.x, vert.y, depth / steps * s );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// v( vert.x, vert.y + extrudePts[ s - 1 ].y, extrudePts[ s - 1 ].x );\n\n\t\t\t\t\tnormal.copy( splineTube.normals[ s ] ).multiplyScalar( vert.x );\n\t\t\t\t\tbinormal.copy( splineTube.binormals[ s ] ).multiplyScalar( vert.y );\n\n\t\t\t\t\tposition2.copy( extrudePts[ s ] ).add( normal ).add( binormal );\n\n\t\t\t\t\tv( position2.x, position2.y, position2.z );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\n\t\t// Add bevel segments planes\n\n\t\t//for ( b = 1; b <= bevelSegments; b ++ ) {\n\t\tfor ( b = bevelSegments - 1; b >= 0; b -- ) {\n\n\t\t\tt = b / bevelSegments;\n\t\t\tz = bevelThickness * Math.cos( t * Math.PI / 2 );\n\t\t\tbs = bevelSize * Math.sin( t * Math.PI / 2 ) + bevelOffset;\n\n\t\t\t// contract shape\n\n\t\t\tfor ( i = 0, il = contour.length; i < il; i ++ ) {\n\n\t\t\t\tvert = scalePt2( contour[ i ], contourMovements[ i ], bs );\n\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t}\n\n\t\t\t// expand holes\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\toneHoleMovements = holesMovements[ h ];\n\n\t\t\t\tfor ( i = 0, il = ahole.length; i < il; i ++ ) {\n\n\t\t\t\t\tvert = scalePt2( ahole[ i ], oneHoleMovements[ i ], bs );\n\n\t\t\t\t\tif ( ! extrudeByPath ) {\n\n\t\t\t\t\t\tv( vert.x, vert.y, depth + z );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tv( vert.x, vert.y + extrudePts[ steps - 1 ].y, extrudePts[ steps - 1 ].x + z );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\t/* Faces */\n\n\t\t// Top and bottom faces\n\n\t\tbuildLidFaces();\n\n\t\t// Sides faces\n\n\t\tbuildSideFaces();\n\n\n\t\t/////  Internal functions\n\n\t\tfunction buildLidFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\n\t\t\tif ( bevelEnabled ) {\n\n\t\t\t\tvar layer = 0; // steps + 1\n\t\t\t\tvar offset = vlen * layer;\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ] + offset, face[ 1 ] + offset, face[ 0 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t\tlayer = steps + bevelSegments * 2;\n\t\t\t\toffset = vlen * layer;\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + offset, face[ 1 ] + offset, face[ 2 ] + offset );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\t// Bottom faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 2 ], face[ 1 ], face[ 0 ] );\n\n\t\t\t\t}\n\n\t\t\t\t// Top faces\n\n\t\t\t\tfor ( i = 0; i < flen; i ++ ) {\n\n\t\t\t\t\tface = faces[ i ];\n\t\t\t\t\tf3( face[ 0 ] + vlen * steps, face[ 1 ] + vlen * steps, face[ 2 ] + vlen * steps );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 0 );\n\n\t\t}\n\n\t\t// Create faces for the z-sides of the shape\n\n\t\tfunction buildSideFaces() {\n\n\t\t\tvar start = verticesArray.length / 3;\n\t\t\tvar layeroffset = 0;\n\t\t\tsidewalls( contour, layeroffset );\n\t\t\tlayeroffset += contour.length;\n\n\t\t\tfor ( h = 0, hl = holes.length; h < hl; h ++ ) {\n\n\t\t\t\tahole = holes[ h ];\n\t\t\t\tsidewalls( ahole, layeroffset );\n\n\t\t\t\t//, true\n\t\t\t\tlayeroffset += ahole.length;\n\n\t\t\t}\n\n\n\t\t\tscope.addGroup( start, verticesArray.length / 3 - start, 1 );\n\n\n\t\t}\n\n\t\tfunction sidewalls( contour, layeroffset ) {\n\n\t\t\tvar j, k;\n\t\t\ti = contour.length;\n\n\t\t\twhile ( -- i >= 0 ) {\n\n\t\t\t\tj = i;\n\t\t\t\tk = i - 1;\n\t\t\t\tif ( k < 0 ) k = contour.length - 1;\n\n\t\t\t\t//console.log('b', i,j, i-1, k,vertices.length);\n\n\t\t\t\tvar s = 0,\n\t\t\t\t\tsl = steps + bevelSegments * 2;\n\n\t\t\t\tfor ( s = 0; s < sl; s ++ ) {\n\n\t\t\t\t\tvar slen1 = vlen * s;\n\t\t\t\t\tvar slen2 = vlen * ( s + 1 );\n\n\t\t\t\t\tvar a = layeroffset + j + slen1,\n\t\t\t\t\t\tb = layeroffset + k + slen1,\n\t\t\t\t\t\tc = layeroffset + k + slen2,\n\t\t\t\t\t\td = layeroffset + j + slen2;\n\n\t\t\t\t\tf4( a, b, c, d );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tfunction v( x, y, z ) {\n\n\t\t\tplaceholder.push( x );\n\t\t\tplaceholder.push( y );\n\t\t\tplaceholder.push( z );\n\n\t\t}\n\n\n\t\tfunction f3( a, b, c ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateTopUV( scope, verticesArray, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\n\t\t}\n\n\t\tfunction f4( a, b, c, d ) {\n\n\t\t\taddVertex( a );\n\t\t\taddVertex( b );\n\t\t\taddVertex( d );\n\n\t\t\taddVertex( b );\n\t\t\taddVertex( c );\n\t\t\taddVertex( d );\n\n\n\t\t\tvar nextIndex = verticesArray.length / 3;\n\t\t\tvar uvs = uvgen.generateSideWallUV( scope, verticesArray, nextIndex - 6, nextIndex - 3, nextIndex - 2, nextIndex - 1 );\n\n\t\t\taddUV( uvs[ 0 ] );\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t\taddUV( uvs[ 1 ] );\n\t\t\taddUV( uvs[ 2 ] );\n\t\t\taddUV( uvs[ 3 ] );\n\n\t\t}\n\n\t\tfunction addVertex( index ) {\n\n\t\t\tverticesArray.push( placeholder[ index * 3 + 0 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 1 ] );\n\t\t\tverticesArray.push( placeholder[ index * 3 + 2 ] );\n\n\t\t}\n\n\n\t\tfunction addUV( vector2 ) {\n\n\t\t\tuvArray.push( vector2.x );\n\t\t\tuvArray.push( vector2.y );\n\n\t\t}\n\n\t}\n\n}\n\nExtrudeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nExtrudeBufferGeometry.prototype.constructor = ExtrudeBufferGeometry;\n\nExtrudeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\tvar options = this.parameters.options;\n\n\treturn toJSON( shapes, options, data );\n\n};\n\n//\n\nvar WorldUVGenerator = {\n\n\tgenerateTopUV: function ( geometry, vertices, indexA, indexB, indexC ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\n\t\treturn [\n\t\t\tnew Vector2( a_x, a_y ),\n\t\t\tnew Vector2( b_x, b_y ),\n\t\t\tnew Vector2( c_x, c_y )\n\t\t];\n\n\t},\n\n\tgenerateSideWallUV: function ( geometry, vertices, indexA, indexB, indexC, indexD ) {\n\n\t\tvar a_x = vertices[ indexA * 3 ];\n\t\tvar a_y = vertices[ indexA * 3 + 1 ];\n\t\tvar a_z = vertices[ indexA * 3 + 2 ];\n\t\tvar b_x = vertices[ indexB * 3 ];\n\t\tvar b_y = vertices[ indexB * 3 + 1 ];\n\t\tvar b_z = vertices[ indexB * 3 + 2 ];\n\t\tvar c_x = vertices[ indexC * 3 ];\n\t\tvar c_y = vertices[ indexC * 3 + 1 ];\n\t\tvar c_z = vertices[ indexC * 3 + 2 ];\n\t\tvar d_x = vertices[ indexD * 3 ];\n\t\tvar d_y = vertices[ indexD * 3 + 1 ];\n\t\tvar d_z = vertices[ indexD * 3 + 2 ];\n\n\t\tif ( Math.abs( a_y - b_y ) < 0.01 ) {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_x, 1 - a_z ),\n\t\t\t\tnew Vector2( b_x, 1 - b_z ),\n\t\t\t\tnew Vector2( c_x, 1 - c_z ),\n\t\t\t\tnew Vector2( d_x, 1 - d_z )\n\t\t\t];\n\n\t\t} else {\n\n\t\t\treturn [\n\t\t\t\tnew Vector2( a_y, 1 - a_z ),\n\t\t\t\tnew Vector2( b_y, 1 - b_z ),\n\t\t\t\tnew Vector2( c_y, 1 - c_z ),\n\t\t\t\tnew Vector2( d_y, 1 - d_z )\n\t\t\t];\n\n\t\t}\n\n\t}\n};\n\nfunction toJSON( shapes, options, data ) {\n\n\t//\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\t//\n\n\tif ( options.extrudePath !== undefined ) data.options.extrudePath = options.extrudePath.toJSON();\n\n\treturn data;\n\n}\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author alteredq / http://alteredqualia.com/\n *\n * Text = 3D Text\n *\n * parameters = {\n *  font: <THREE.Font>, // font\n *\n *  size: <float>, // size of the text\n *  height: <float>, // thickness to extrude text\n *  curveSegments: <int>, // number of points on the curves\n *\n *  bevelEnabled: <bool>, // turn on bevel\n *  bevelThickness: <float>, // how deep into text bevel goes\n *  bevelSize: <float>, // how far from text outline (including bevelOffset) is bevel\n *  bevelOffset: <float> // how far from text outline does bevel start\n * }\n */\n\n// TextGeometry\n\nfunction TextGeometry( text, parameters ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'TextGeometry';\n\n\tthis.parameters = {\n\t\ttext: text,\n\t\tparameters: parameters\n\t};\n\n\tthis.fromBufferGeometry( new TextBufferGeometry( text, parameters ) );\n\tthis.mergeVertices();\n\n}\n\nTextGeometry.prototype = Object.create( Geometry.prototype );\nTextGeometry.prototype.constructor = TextGeometry;\n\n// TextBufferGeometry\n\nfunction TextBufferGeometry( text, parameters ) {\n\n\tparameters = parameters || {};\n\n\tvar font = parameters.font;\n\n\tif ( ! ( font && font.isFont ) ) {\n\n\t\tconsole.error( 'THREE.TextGeometry: font parameter is not an instance of THREE.Font.' );\n\t\treturn new Geometry();\n\n\t}\n\n\tvar shapes = font.generateShapes( text, parameters.size );\n\n\t// translate parameters to ExtrudeGeometry API\n\n\tparameters.depth = parameters.height !== undefined ? parameters.height : 50;\n\n\t// defaults\n\n\tif ( parameters.bevelThickness === undefined ) parameters.bevelThickness = 10;\n\tif ( parameters.bevelSize === undefined ) parameters.bevelSize = 8;\n\tif ( parameters.bevelEnabled === undefined ) parameters.bevelEnabled = false;\n\n\tExtrudeBufferGeometry.call( this, shapes, parameters );\n\n\tthis.type = 'TextBufferGeometry';\n\n}\n\nTextBufferGeometry.prototype = Object.create( ExtrudeBufferGeometry.prototype );\nTextBufferGeometry.prototype.constructor = TextBufferGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// SphereGeometry\n\nfunction SphereGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'SphereGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nSphereGeometry.prototype = Object.create( Geometry.prototype );\nSphereGeometry.prototype.constructor = SphereGeometry;\n\n// SphereBufferGeometry\n\nfunction SphereBufferGeometry( radius, widthSegments, heightSegments, phiStart, phiLength, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'SphereBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\twidthSegments: widthSegments,\n\t\theightSegments: heightSegments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\n\twidthSegments = Math.max( 3, Math.floor( widthSegments ) || 8 );\n\theightSegments = Math.max( 2, Math.floor( heightSegments ) || 6 );\n\n\tphiStart = phiStart !== undefined ? phiStart : 0;\n\tphiLength = phiLength !== undefined ? phiLength : Math.PI * 2;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI;\n\n\tvar thetaEnd = Math.min( thetaStart + thetaLength, Math.PI );\n\n\tvar ix, iy;\n\n\tvar index = 0;\n\tvar grid = [];\n\n\tvar vertex = new Vector3();\n\tvar normal = new Vector3();\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// generate vertices, normals and uvs\n\n\tfor ( iy = 0; iy <= heightSegments; iy ++ ) {\n\n\t\tvar verticesRow = [];\n\n\t\tvar v = iy / heightSegments;\n\n\t\t// special case for the poles\n\n\t\tvar uOffset = 0;\n\n\t\tif ( iy == 0 && thetaStart == 0 ) {\n\n\t\t\tuOffset = 0.5 / widthSegments;\n\n\t\t} else if ( iy == heightSegments && thetaEnd == Math.PI ) {\n\n\t\t\tuOffset = - 0.5 / widthSegments;\n\n\t\t}\n\n\t\tfor ( ix = 0; ix <= widthSegments; ix ++ ) {\n\n\t\t\tvar u = ix / widthSegments;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = - radius * Math.cos( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\t\t\tvertex.y = radius * Math.cos( thetaStart + v * thetaLength );\n\t\t\tvertex.z = radius * Math.sin( phiStart + u * phiLength ) * Math.sin( thetaStart + v * thetaLength );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormal.copy( vertex ).normalize();\n\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( u + uOffset, 1 - v );\n\n\t\t\tverticesRow.push( index ++ );\n\n\t\t}\n\n\t\tgrid.push( verticesRow );\n\n\t}\n\n\t// indices\n\n\tfor ( iy = 0; iy < heightSegments; iy ++ ) {\n\n\t\tfor ( ix = 0; ix < widthSegments; ix ++ ) {\n\n\t\t\tvar a = grid[ iy ][ ix + 1 ];\n\t\t\tvar b = grid[ iy ][ ix ];\n\t\t\tvar c = grid[ iy + 1 ][ ix ];\n\t\t\tvar d = grid[ iy + 1 ][ ix + 1 ];\n\n\t\t\tif ( iy !== 0 || thetaStart > 0 ) indices.push( a, b, d );\n\t\t\tif ( iy !== heightSegments - 1 || thetaEnd < Math.PI ) indices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nSphereBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nSphereBufferGeometry.prototype.constructor = SphereBufferGeometry;\n\n/**\n * @author Kaleb Murphy\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// RingGeometry\n\nfunction RingGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'RingGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nRingGeometry.prototype = Object.create( Geometry.prototype );\nRingGeometry.prototype.constructor = RingGeometry;\n\n// RingBufferGeometry\n\nfunction RingBufferGeometry( innerRadius, outerRadius, thetaSegments, phiSegments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'RingBufferGeometry';\n\n\tthis.parameters = {\n\t\tinnerRadius: innerRadius,\n\t\touterRadius: outerRadius,\n\t\tthetaSegments: thetaSegments,\n\t\tphiSegments: phiSegments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tinnerRadius = innerRadius || 0.5;\n\touterRadius = outerRadius || 1;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\tthetaSegments = thetaSegments !== undefined ? Math.max( 3, thetaSegments ) : 8;\n\tphiSegments = phiSegments !== undefined ? Math.max( 1, phiSegments ) : 1;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// some helper variables\n\n\tvar segment;\n\tvar radius = innerRadius;\n\tvar radiusStep = ( ( outerRadius - innerRadius ) / phiSegments );\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar j, i;\n\n\t// generate vertices, normals and uvs\n\n\tfor ( j = 0; j <= phiSegments; j ++ ) {\n\n\t\tfor ( i = 0; i <= thetaSegments; i ++ ) {\n\n\t\t\t// values are generate from the inside of the ring to the outside\n\n\t\t\tsegment = thetaStart + i / thetaSegments * thetaLength;\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * Math.cos( segment );\n\t\t\tvertex.y = radius * Math.sin( segment );\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, 0, 1 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( vertex.x / outerRadius + 1 ) / 2;\n\t\t\tuv.y = ( vertex.y / outerRadius + 1 ) / 2;\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t}\n\n\t\t// increase the radius for next row of vertices\n\n\t\tradius += radiusStep;\n\n\t}\n\n\t// indices\n\n\tfor ( j = 0; j < phiSegments; j ++ ) {\n\n\t\tvar thetaSegmentLevel = j * ( thetaSegments + 1 );\n\n\t\tfor ( i = 0; i < thetaSegments; i ++ ) {\n\n\t\t\tsegment = i + thetaSegmentLevel;\n\n\t\t\tvar a = segment;\n\t\t\tvar b = segment + thetaSegments + 1;\n\t\t\tvar c = segment + thetaSegments + 2;\n\t\t\tvar d = segment + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nRingBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nRingBufferGeometry.prototype.constructor = RingBufferGeometry;\n\n/**\n * @author zz85 / https://github.com/zz85\n * @author bhouston / http://clara.io\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// LatheGeometry\n\nfunction LatheGeometry( points, segments, phiStart, phiLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'LatheGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tthis.fromBufferGeometry( new LatheBufferGeometry( points, segments, phiStart, phiLength ) );\n\tthis.mergeVertices();\n\n}\n\nLatheGeometry.prototype = Object.create( Geometry.prototype );\nLatheGeometry.prototype.constructor = LatheGeometry;\n\n// LatheBufferGeometry\n\nfunction LatheBufferGeometry( points, segments, phiStart, phiLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'LatheBufferGeometry';\n\n\tthis.parameters = {\n\t\tpoints: points,\n\t\tsegments: segments,\n\t\tphiStart: phiStart,\n\t\tphiLength: phiLength\n\t};\n\n\tsegments = Math.floor( segments ) || 12;\n\tphiStart = phiStart || 0;\n\tphiLength = phiLength || Math.PI * 2;\n\n\t// clamp phiLength so it's in range of [ 0, 2PI ]\n\n\tphiLength = MathUtils.clamp( phiLength, 0, Math.PI * 2 );\n\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar base;\n\tvar inverseSegments = 1.0 / segments;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\tvar i, j;\n\n\t// generate vertices and uvs\n\n\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\tvar phi = phiStart + i * inverseSegments * phiLength;\n\n\t\tvar sin = Math.sin( phi );\n\t\tvar cos = Math.cos( phi );\n\n\t\tfor ( j = 0; j <= ( points.length - 1 ); j ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = points[ j ].x * sin;\n\t\t\tvertex.y = points[ j ].y;\n\t\t\tvertex.z = points[ j ].x * cos;\n\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// uv\n\n\t\t\tuv.x = i / segments;\n\t\t\tuv.y = j / ( points.length - 1 );\n\n\t\t\tuvs.push( uv.x, uv.y );\n\n\n\t\t}\n\n\t}\n\n\t// indices\n\n\tfor ( i = 0; i < segments; i ++ ) {\n\n\t\tfor ( j = 0; j < ( points.length - 1 ); j ++ ) {\n\n\t\t\tbase = j + i * points.length;\n\n\t\t\tvar a = base;\n\t\t\tvar b = base + points.length;\n\t\t\tvar c = base + points.length + 1;\n\t\t\tvar d = base + 1;\n\n\t\t\t// faces\n\n\t\t\tindices.push( a, b, d );\n\t\t\tindices.push( b, c, d );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\t// generate normals\n\n\tthis.computeVertexNormals();\n\n\t// if the geometry is closed, we need to average the normals along the seam.\n\t// because the corresponding vertices are identical (but still have different UVs).\n\n\tif ( phiLength === Math.PI * 2 ) {\n\n\t\tvar normals = this.attributes.normal.array;\n\t\tvar n1 = new Vector3();\n\t\tvar n2 = new Vector3();\n\t\tvar n = new Vector3();\n\n\t\t// this is the buffer offset for the last line of vertices\n\n\t\tbase = segments * points.length * 3;\n\n\t\tfor ( i = 0, j = 0; i < points.length; i ++, j += 3 ) {\n\n\t\t\t// select the normal of the vertex in the first line\n\n\t\t\tn1.x = normals[ j + 0 ];\n\t\t\tn1.y = normals[ j + 1 ];\n\t\t\tn1.z = normals[ j + 2 ];\n\n\t\t\t// select the normal of the vertex in the last line\n\n\t\t\tn2.x = normals[ base + j + 0 ];\n\t\t\tn2.y = normals[ base + j + 1 ];\n\t\t\tn2.z = normals[ base + j + 2 ];\n\n\t\t\t// average normals\n\n\t\t\tn.addVectors( n1, n2 ).normalize();\n\n\t\t\t// assign the new values to both normals\n\n\t\t\tnormals[ j + 0 ] = normals[ base + j + 0 ] = n.x;\n\t\t\tnormals[ j + 1 ] = normals[ base + j + 1 ] = n.y;\n\t\t\tnormals[ j + 2 ] = normals[ base + j + 2 ] = n.z;\n\n\t\t}\n\n\t}\n\n}\n\nLatheBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nLatheBufferGeometry.prototype.constructor = LatheBufferGeometry;\n\n/**\n * @author jonobr1 / http://jonobr1.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// ShapeGeometry\n\nfunction ShapeGeometry( shapes, curveSegments ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'ShapeGeometry';\n\n\tif ( typeof curveSegments === 'object' ) {\n\n\t\tconsole.warn( 'THREE.ShapeGeometry: Options parameter has been removed.' );\n\n\t\tcurveSegments = curveSegments.curveSegments;\n\n\t}\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tthis.fromBufferGeometry( new ShapeBufferGeometry( shapes, curveSegments ) );\n\tthis.mergeVertices();\n\n}\n\nShapeGeometry.prototype = Object.create( Geometry.prototype );\nShapeGeometry.prototype.constructor = ShapeGeometry;\n\nShapeGeometry.prototype.toJSON = function () {\n\n\tvar data = Geometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n// ShapeBufferGeometry\n\nfunction ShapeBufferGeometry( shapes, curveSegments ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'ShapeBufferGeometry';\n\n\tthis.parameters = {\n\t\tshapes: shapes,\n\t\tcurveSegments: curveSegments\n\t};\n\n\tcurveSegments = curveSegments || 12;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar groupStart = 0;\n\tvar groupCount = 0;\n\n\t// allow single and array values for \"shapes\" parameter\n\n\tif ( Array.isArray( shapes ) === false ) {\n\n\t\taddShape( shapes );\n\n\t} else {\n\n\t\tfor ( var i = 0; i < shapes.length; i ++ ) {\n\n\t\t\taddShape( shapes[ i ] );\n\n\t\t\tthis.addGroup( groupStart, groupCount, i ); // enables MultiMaterial support\n\n\t\t\tgroupStart += groupCount;\n\t\t\tgroupCount = 0;\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\n\t// helper functions\n\n\tfunction addShape( shape ) {\n\n\t\tvar i, l, shapeHole;\n\n\t\tvar indexOffset = vertices.length / 3;\n\t\tvar points = shape.extractPoints( curveSegments );\n\n\t\tvar shapeVertices = points.shape;\n\t\tvar shapeHoles = points.holes;\n\n\t\t// check direction of vertices\n\n\t\tif ( ShapeUtils.isClockWise( shapeVertices ) === false ) {\n\n\t\t\tshapeVertices = shapeVertices.reverse();\n\n\t\t}\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\n\t\t\tif ( ShapeUtils.isClockWise( shapeHole ) === true ) {\n\n\t\t\t\tshapeHoles[ i ] = shapeHole.reverse();\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar faces = ShapeUtils.triangulateShape( shapeVertices, shapeHoles );\n\n\t\t// join vertices of inner and outer paths to a single array\n\n\t\tfor ( i = 0, l = shapeHoles.length; i < l; i ++ ) {\n\n\t\t\tshapeHole = shapeHoles[ i ];\n\t\t\tshapeVertices = shapeVertices.concat( shapeHole );\n\n\t\t}\n\n\t\t// vertices, normals, uvs\n\n\t\tfor ( i = 0, l = shapeVertices.length; i < l; i ++ ) {\n\n\t\t\tvar vertex = shapeVertices[ i ];\n\n\t\t\tvertices.push( vertex.x, vertex.y, 0 );\n\t\t\tnormals.push( 0, 0, 1 );\n\t\t\tuvs.push( vertex.x, vertex.y ); // world uvs\n\n\t\t}\n\n\t\t// incides\n\n\t\tfor ( i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\t\tvar face = faces[ i ];\n\n\t\t\tvar a = face[ 0 ] + indexOffset;\n\t\t\tvar b = face[ 1 ] + indexOffset;\n\t\t\tvar c = face[ 2 ] + indexOffset;\n\n\t\t\tindices.push( a, b, c );\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t}\n\n}\n\nShapeBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nShapeBufferGeometry.prototype.constructor = ShapeBufferGeometry;\n\nShapeBufferGeometry.prototype.toJSON = function () {\n\n\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\tvar shapes = this.parameters.shapes;\n\n\treturn toJSON$1( shapes, data );\n\n};\n\n//\n\nfunction toJSON$1( shapes, data ) {\n\n\tdata.shapes = [];\n\n\tif ( Array.isArray( shapes ) ) {\n\n\t\tfor ( var i = 0, l = shapes.length; i < l; i ++ ) {\n\n\t\t\tvar shape = shapes[ i ];\n\n\t\t\tdata.shapes.push( shape.uuid );\n\n\t\t}\n\n\t} else {\n\n\t\tdata.shapes.push( shapes.uuid );\n\n\t}\n\n\treturn data;\n\n}\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nfunction EdgesGeometry( geometry, thresholdAngle ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'EdgesGeometry';\n\n\tthis.parameters = {\n\t\tthresholdAngle: thresholdAngle\n\t};\n\n\tthresholdAngle = ( thresholdAngle !== undefined ) ? thresholdAngle : 1;\n\n\t// buffer\n\n\tvar vertices = [];\n\n\t// helper variables\n\n\tvar thresholdDot = Math.cos( MathUtils.DEG2RAD * thresholdAngle );\n\tvar edge = [ 0, 0 ], edges = {}, edge1, edge2;\n\tvar key, keys = [ 'a', 'b', 'c' ];\n\n\t// prepare source geometry\n\n\tvar geometry2;\n\n\tif ( geometry.isBufferGeometry ) {\n\n\t\tgeometry2 = new Geometry();\n\t\tgeometry2.fromBufferGeometry( geometry );\n\n\t} else {\n\n\t\tgeometry2 = geometry.clone();\n\n\t}\n\n\tgeometry2.mergeVertices();\n\tgeometry2.computeFaceNormals();\n\n\tvar sourceVertices = geometry2.vertices;\n\tvar faces = geometry2.faces;\n\n\t// now create a data structure where each entry represents an edge with its adjoining faces\n\n\tfor ( var i = 0, l = faces.length; i < l; i ++ ) {\n\n\t\tvar face = faces[ i ];\n\n\t\tfor ( var j = 0; j < 3; j ++ ) {\n\n\t\t\tedge1 = face[ keys[ j ] ];\n\t\t\tedge2 = face[ keys[ ( j + 1 ) % 3 ] ];\n\t\t\tedge[ 0 ] = Math.min( edge1, edge2 );\n\t\t\tedge[ 1 ] = Math.max( edge1, edge2 );\n\n\t\t\tkey = edge[ 0 ] + ',' + edge[ 1 ];\n\n\t\t\tif ( edges[ key ] === undefined ) {\n\n\t\t\t\tedges[ key ] = { index1: edge[ 0 ], index2: edge[ 1 ], face1: i, face2: undefined };\n\n\t\t\t} else {\n\n\t\t\t\tedges[ key ].face2 = i;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\t// generate vertices\n\n\tfor ( key in edges ) {\n\n\t\tvar e = edges[ key ];\n\n\t\t// an edge is only rendered if the angle (in degrees) between the face normals of the adjoining faces exceeds this value. default = 1 degree.\n\n\t\tif ( e.face2 === undefined || faces[ e.face1 ].normal.dot( faces[ e.face2 ].normal ) <= thresholdDot ) {\n\n\t\t\tvar vertex = sourceVertices[ e.index1 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\tvertex = sourceVertices[ e.index2 ];\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t}\n\n\t}\n\n\t// build geometry\n\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\n}\n\nEdgesGeometry.prototype = Object.create( BufferGeometry.prototype );\nEdgesGeometry.prototype.constructor = EdgesGeometry;\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\n// CylinderGeometry\n\nfunction CylinderGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CylinderGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCylinderGeometry.prototype = Object.create( Geometry.prototype );\nCylinderGeometry.prototype.constructor = CylinderGeometry;\n\n// CylinderBufferGeometry\n\nfunction CylinderBufferGeometry( radiusTop, radiusBottom, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CylinderBufferGeometry';\n\n\tthis.parameters = {\n\t\tradiusTop: radiusTop,\n\t\tradiusBottom: radiusBottom,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tvar scope = this;\n\n\tradiusTop = radiusTop !== undefined ? radiusTop : 1;\n\tradiusBottom = radiusBottom !== undefined ? radiusBottom : 1;\n\theight = height || 1;\n\n\tradialSegments = Math.floor( radialSegments ) || 8;\n\theightSegments = Math.floor( heightSegments ) || 1;\n\n\topenEnded = openEnded !== undefined ? openEnded : false;\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0.0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar index = 0;\n\tvar indexArray = [];\n\tvar halfHeight = height / 2;\n\tvar groupStart = 0;\n\n\t// generate geometry\n\n\tgenerateTorso();\n\n\tif ( openEnded === false ) {\n\n\t\tif ( radiusTop > 0 ) generateCap( true );\n\t\tif ( radiusBottom > 0 ) generateCap( false );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n\tfunction generateTorso() {\n\n\t\tvar x, y;\n\t\tvar normal = new Vector3();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\t// this will be used to calculate the normal\n\t\tvar slope = ( radiusBottom - radiusTop ) / height;\n\n\t\t// generate vertices, normals and uvs\n\n\t\tfor ( y = 0; y <= heightSegments; y ++ ) {\n\n\t\t\tvar indexRow = [];\n\n\t\t\tvar v = y / heightSegments;\n\n\t\t\t// calculate the radius of the current row\n\n\t\t\tvar radius = v * ( radiusBottom - radiusTop ) + radiusTop;\n\n\t\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\t\tvar u = x / radialSegments;\n\n\t\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\t\tvar sinTheta = Math.sin( theta );\n\t\t\t\tvar cosTheta = Math.cos( theta );\n\n\t\t\t\t// vertex\n\n\t\t\t\tvertex.x = radius * sinTheta;\n\t\t\t\tvertex.y = - v * height + halfHeight;\n\t\t\t\tvertex.z = radius * cosTheta;\n\t\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t\t// normal\n\n\t\t\t\tnormal.set( sinTheta, slope, cosTheta ).normalize();\n\t\t\t\tnormals.push( normal.x, normal.y, normal.z );\n\n\t\t\t\t// uv\n\n\t\t\t\tuvs.push( u, 1 - v );\n\n\t\t\t\t// save index of vertex in respective row\n\n\t\t\t\tindexRow.push( index ++ );\n\n\t\t\t}\n\n\t\t\t// now save vertices of the row in our index array\n\n\t\t\tindexArray.push( indexRow );\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tfor ( y = 0; y < heightSegments; y ++ ) {\n\n\t\t\t\t// we use the index array to access the correct indices\n\n\t\t\t\tvar a = indexArray[ y ][ x ];\n\t\t\t\tvar b = indexArray[ y + 1 ][ x ];\n\t\t\t\tvar c = indexArray[ y + 1 ][ x + 1 ];\n\t\t\t\tvar d = indexArray[ y ][ x + 1 ];\n\n\t\t\t\t// faces\n\n\t\t\t\tindices.push( a, b, d );\n\t\t\t\tindices.push( b, c, d );\n\n\t\t\t\t// update group counter\n\n\t\t\t\tgroupCount += 6;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, 0 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n\tfunction generateCap( top ) {\n\n\t\tvar x, centerIndexStart, centerIndexEnd;\n\n\t\tvar uv = new Vector2();\n\t\tvar vertex = new Vector3();\n\n\t\tvar groupCount = 0;\n\n\t\tvar radius = ( top === true ) ? radiusTop : radiusBottom;\n\t\tvar sign = ( top === true ) ? 1 : - 1;\n\n\t\t// save the index of the first center vertex\n\t\tcenterIndexStart = index;\n\n\t\t// first we generate the center vertex data of the cap.\n\t\t// because the geometry needs one set of uvs per face,\n\t\t// we must generate a center vertex per face/segment\n\n\t\tfor ( x = 1; x <= radialSegments; x ++ ) {\n\n\t\t\t// vertex\n\n\t\t\tvertices.push( 0, halfHeight * sign, 0 );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuvs.push( 0.5, 0.5 );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// save the index of the last center vertex\n\n\t\tcenterIndexEnd = index;\n\n\t\t// now we generate the surrounding vertices, normals and uvs\n\n\t\tfor ( x = 0; x <= radialSegments; x ++ ) {\n\n\t\t\tvar u = x / radialSegments;\n\t\t\tvar theta = u * thetaLength + thetaStart;\n\n\t\t\tvar cosTheta = Math.cos( theta );\n\t\t\tvar sinTheta = Math.sin( theta );\n\n\t\t\t// vertex\n\n\t\t\tvertex.x = radius * sinTheta;\n\t\t\tvertex.y = halfHeight * sign;\n\t\t\tvertex.z = radius * cosTheta;\n\t\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t\t// normal\n\n\t\t\tnormals.push( 0, sign, 0 );\n\n\t\t\t// uv\n\n\t\t\tuv.x = ( cosTheta * 0.5 ) + 0.5;\n\t\t\tuv.y = ( sinTheta * 0.5 * sign ) + 0.5;\n\t\t\tuvs.push( uv.x, uv.y );\n\n\t\t\t// increase index\n\n\t\t\tindex ++;\n\n\t\t}\n\n\t\t// generate indices\n\n\t\tfor ( x = 0; x < radialSegments; x ++ ) {\n\n\t\t\tvar c = centerIndexStart + x;\n\t\t\tvar i = centerIndexEnd + x;\n\n\t\t\tif ( top === true ) {\n\n\t\t\t\t// face top\n\n\t\t\t\tindices.push( i, i + 1, c );\n\n\t\t\t} else {\n\n\t\t\t\t// face bottom\n\n\t\t\t\tindices.push( i + 1, i, c );\n\n\t\t\t}\n\n\t\t\tgroupCount += 3;\n\n\t\t}\n\n\t\t// add a group to the geometry. this will ensure multi material support\n\n\t\tscope.addGroup( groupStart, groupCount, top === true ? 1 : 2 );\n\n\t\t// calculate new start value for groups\n\n\t\tgroupStart += groupCount;\n\n\t}\n\n}\n\nCylinderBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCylinderBufferGeometry.prototype.constructor = CylinderBufferGeometry;\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\n// ConeGeometry\n\nfunction ConeGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeGeometry.prototype = Object.create( CylinderGeometry.prototype );\nConeGeometry.prototype.constructor = ConeGeometry;\n\n// ConeBufferGeometry\n\nfunction ConeBufferGeometry( radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength ) {\n\n\tCylinderBufferGeometry.call( this, 0, radius, height, radialSegments, heightSegments, openEnded, thetaStart, thetaLength );\n\n\tthis.type = 'ConeBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\theight: height,\n\t\tradialSegments: radialSegments,\n\t\theightSegments: heightSegments,\n\t\topenEnded: openEnded,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n}\n\nConeBufferGeometry.prototype = Object.create( CylinderBufferGeometry.prototype );\nConeBufferGeometry.prototype.constructor = ConeBufferGeometry;\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n * @author Mugen87 / https://github.com/Mugen87\n * @author hughes\n */\n\n// CircleGeometry\n\nfunction CircleGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tGeometry.call( this );\n\n\tthis.type = 'CircleGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tthis.fromBufferGeometry( new CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) );\n\tthis.mergeVertices();\n\n}\n\nCircleGeometry.prototype = Object.create( Geometry.prototype );\nCircleGeometry.prototype.constructor = CircleGeometry;\n\n// CircleBufferGeometry\n\nfunction CircleBufferGeometry( radius, segments, thetaStart, thetaLength ) {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'CircleBufferGeometry';\n\n\tthis.parameters = {\n\t\tradius: radius,\n\t\tsegments: segments,\n\t\tthetaStart: thetaStart,\n\t\tthetaLength: thetaLength\n\t};\n\n\tradius = radius || 1;\n\tsegments = segments !== undefined ? Math.max( 3, segments ) : 8;\n\n\tthetaStart = thetaStart !== undefined ? thetaStart : 0;\n\tthetaLength = thetaLength !== undefined ? thetaLength : Math.PI * 2;\n\n\t// buffers\n\n\tvar indices = [];\n\tvar vertices = [];\n\tvar normals = [];\n\tvar uvs = [];\n\n\t// helper variables\n\n\tvar i, s;\n\tvar vertex = new Vector3();\n\tvar uv = new Vector2();\n\n\t// center point\n\n\tvertices.push( 0, 0, 0 );\n\tnormals.push( 0, 0, 1 );\n\tuvs.push( 0.5, 0.5 );\n\n\tfor ( s = 0, i = 3; s <= segments; s ++, i += 3 ) {\n\n\t\tvar segment = thetaStart + s / segments * thetaLength;\n\n\t\t// vertex\n\n\t\tvertex.x = radius * Math.cos( segment );\n\t\tvertex.y = radius * Math.sin( segment );\n\n\t\tvertices.push( vertex.x, vertex.y, vertex.z );\n\n\t\t// normal\n\n\t\tnormals.push( 0, 0, 1 );\n\n\t\t// uvs\n\n\t\tuv.x = ( vertices[ i ] / radius + 1 ) / 2;\n\t\tuv.y = ( vertices[ i + 1 ] / radius + 1 ) / 2;\n\n\t\tuvs.push( uv.x, uv.y );\n\n\t}\n\n\t// indices\n\n\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\tindices.push( i, i + 1, 0 );\n\n\t}\n\n\t// build geometry\n\n\tthis.setIndex( indices );\n\tthis.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tthis.setAttribute( 'normal', new Float32BufferAttribute( normals, 3 ) );\n\tthis.setAttribute( 'uv', new Float32BufferAttribute( uvs, 2 ) );\n\n}\n\nCircleBufferGeometry.prototype = Object.create( BufferGeometry.prototype );\nCircleBufferGeometry.prototype.constructor = CircleBufferGeometry;\n\n\n\nvar Geometries = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tWireframeGeometry: WireframeGeometry,\n\tParametricGeometry: ParametricGeometry,\n\tParametricBufferGeometry: ParametricBufferGeometry,\n\tTetrahedronGeometry: TetrahedronGeometry,\n\tTetrahedronBufferGeometry: TetrahedronBufferGeometry,\n\tOctahedronGeometry: OctahedronGeometry,\n\tOctahedronBufferGeometry: OctahedronBufferGeometry,\n\tIcosahedronGeometry: IcosahedronGeometry,\n\tIcosahedronBufferGeometry: IcosahedronBufferGeometry,\n\tDodecahedronGeometry: DodecahedronGeometry,\n\tDodecahedronBufferGeometry: DodecahedronBufferGeometry,\n\tPolyhedronGeometry: PolyhedronGeometry,\n\tPolyhedronBufferGeometry: PolyhedronBufferGeometry,\n\tTubeGeometry: TubeGeometry,\n\tTubeBufferGeometry: TubeBufferGeometry,\n\tTorusKnotGeometry: TorusKnotGeometry,\n\tTorusKnotBufferGeometry: TorusKnotBufferGeometry,\n\tTorusGeometry: TorusGeometry,\n\tTorusBufferGeometry: TorusBufferGeometry,\n\tTextGeometry: TextGeometry,\n\tTextBufferGeometry: TextBufferGeometry,\n\tSphereGeometry: SphereGeometry,\n\tSphereBufferGeometry: SphereBufferGeometry,\n\tRingGeometry: RingGeometry,\n\tRingBufferGeometry: RingBufferGeometry,\n\tPlaneGeometry: PlaneGeometry,\n\tPlaneBufferGeometry: PlaneBufferGeometry,\n\tLatheGeometry: LatheGeometry,\n\tLatheBufferGeometry: LatheBufferGeometry,\n\tShapeGeometry: ShapeGeometry,\n\tShapeBufferGeometry: ShapeBufferGeometry,\n\tExtrudeGeometry: ExtrudeGeometry,\n\tExtrudeBufferGeometry: ExtrudeBufferGeometry,\n\tEdgesGeometry: EdgesGeometry,\n\tConeGeometry: ConeGeometry,\n\tConeBufferGeometry: ConeBufferGeometry,\n\tCylinderGeometry: CylinderGeometry,\n\tCylinderBufferGeometry: CylinderBufferGeometry,\n\tCircleGeometry: CircleGeometry,\n\tCircleBufferGeometry: CircleBufferGeometry,\n\tBoxGeometry: BoxGeometry,\n\tBoxBufferGeometry: BoxBufferGeometry\n});\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * parameters = {\n *  color: <THREE.Color>\n * }\n */\n\nfunction ShadowMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'ShadowMaterial';\n\n\tthis.color = new Color( 0x000000 );\n\tthis.transparent = true;\n\n\tthis.setValues( parameters );\n\n}\n\nShadowMaterial.prototype = Object.create( Material.prototype );\nShadowMaterial.prototype.constructor = ShadowMaterial;\n\nShadowMaterial.prototype.isShadowMaterial = true;\n\nShadowMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction RawShaderMaterial( parameters ) {\n\n\tShaderMaterial.call( this, parameters );\n\n\tthis.type = 'RawShaderMaterial';\n\n}\n\nRawShaderMaterial.prototype = Object.create( ShaderMaterial.prototype );\nRawShaderMaterial.prototype.constructor = RawShaderMaterial;\n\nRawShaderMaterial.prototype.isRawShaderMaterial = true;\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  roughness: <float>,\n *  metalness: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  roughnessMap: new THREE.Texture( <Image> ),\n *\n *  metalnessMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  envMapIntensity: <float>\n *\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshStandardMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.type = 'MeshStandardMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.roughness = 1.0;\n\tthis.metalness = 0.0;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.roughnessMap = null;\n\n\tthis.metalnessMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.envMapIntensity = 1.0;\n\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.vertexTangents = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshStandardMaterial.prototype = Object.create( Material.prototype );\nMeshStandardMaterial.prototype.constructor = MeshStandardMaterial;\n\nMeshStandardMaterial.prototype.isMeshStandardMaterial = true;\n\nMeshStandardMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'STANDARD': '' };\n\n\tthis.color.copy( source.color );\n\tthis.roughness = source.roughness;\n\tthis.metalness = source.metalness;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.roughnessMap = source.roughnessMap;\n\n\tthis.metalnessMap = source.metalnessMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.envMapIntensity = source.envMapIntensity;\n\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\tthis.vertexTangents = source.vertexTangents;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  reflectivity: <float>\n *  clearcoat: <float>\n *  clearcoatRoughness: <float>\n *\n *  sheen: <Color>\n *\n *  clearcoatNormalScale: <Vector2>,\n *  clearcoatNormalMap: new THREE.Texture( <Image> ),\n * }\n */\n\nfunction MeshPhysicalMaterial( parameters ) {\n\n\tMeshStandardMaterial.call( this );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.type = 'MeshPhysicalMaterial';\n\n\tthis.reflectivity = 0.5; // maps to F0 = 0.04\n\n\tthis.clearcoat = 0.0;\n\tthis.clearcoatRoughness = 0.0;\n\n\tthis.sheen = null; // null will disable sheen bsdf\n\n\tthis.clearcoatNormalScale = new Vector2( 1, 1 );\n\tthis.clearcoatNormalMap = null;\n\n\tthis.transparency = 0.0;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhysicalMaterial.prototype = Object.create( MeshStandardMaterial.prototype );\nMeshPhysicalMaterial.prototype.constructor = MeshPhysicalMaterial;\n\nMeshPhysicalMaterial.prototype.isMeshPhysicalMaterial = true;\n\nMeshPhysicalMaterial.prototype.copy = function ( source ) {\n\n\tMeshStandardMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = {\n\n\t\t'STANDARD': '',\n\t\t'PHYSICAL': ''\n\n\t};\n\n\tthis.reflectivity = source.reflectivity;\n\n\tthis.clearcoat = source.clearcoat;\n\tthis.clearcoatRoughness = source.clearcoatRoughness;\n\n\tif ( source.sheen ) this.sheen = ( this.sheen || new Color() ).copy( source.sheen );\n\telse this.sheen = null;\n\n\tthis.clearcoatNormalMap = source.clearcoatNormalMap;\n\tthis.clearcoatNormalScale.copy( source.clearcoatNormalScale );\n\n\tthis.transparency = source.transparency;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.MultiplyOperation,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshPhongMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshPhongMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshPhongMaterial.prototype = Object.create( Material.prototype );\nMeshPhongMaterial.prototype.constructor = MeshPhongMaterial;\n\nMeshPhongMaterial.prototype.isMeshPhongMaterial = true;\n\nMeshPhongMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author takahirox / http://github.com/takahirox\n *\n * parameters = {\n *  color: <hex>,\n *  specular: <hex>,\n *  shininess: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *  gradientMap: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshToonMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'TOON': '' };\n\n\tthis.type = 'MeshToonMaterial';\n\n\tthis.color = new Color( 0xffffff );\n\tthis.specular = new Color( 0x111111 );\n\tthis.shininess = 30;\n\n\tthis.map = null;\n\tthis.gradientMap = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshToonMaterial.prototype = Object.create( Material.prototype );\nMeshToonMaterial.prototype.constructor = MeshToonMaterial;\n\nMeshToonMaterial.prototype.isMeshToonMaterial = true;\n\nMeshToonMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\tthis.specular.copy( source.specular );\n\tthis.shininess = source.shininess;\n\n\tthis.map = source.map;\n\tthis.gradientMap = source.gradientMap;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  opacity: <float>,\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshNormalMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshNormalMaterial';\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\n\tthis.fog = false;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshNormalMaterial.prototype = Object.create( Material.prototype );\nMeshNormalMaterial.prototype.constructor = MeshNormalMaterial;\n\nMeshNormalMaterial.prototype.isMeshNormalMaterial = true;\n\nMeshNormalMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  lightMap: new THREE.Texture( <Image> ),\n *  lightMapIntensity: <float>\n *\n *  aoMap: new THREE.Texture( <Image> ),\n *  aoMapIntensity: <float>\n *\n *  emissive: <hex>,\n *  emissiveIntensity: <float>\n *  emissiveMap: new THREE.Texture( <Image> ),\n *\n *  specularMap: new THREE.Texture( <Image> ),\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  envMap: new THREE.CubeTexture( [posx, negx, posy, negy, posz, negz] ),\n *  combine: THREE.Multiply,\n *  reflectivity: <float>,\n *  refractionRatio: <float>,\n *\n *  wireframe: <boolean>,\n *  wireframeLinewidth: <float>,\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshLambertMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.type = 'MeshLambertMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.map = null;\n\n\tthis.lightMap = null;\n\tthis.lightMapIntensity = 1.0;\n\n\tthis.aoMap = null;\n\tthis.aoMapIntensity = 1.0;\n\n\tthis.emissive = new Color( 0x000000 );\n\tthis.emissiveIntensity = 1.0;\n\tthis.emissiveMap = null;\n\n\tthis.specularMap = null;\n\n\tthis.alphaMap = null;\n\n\tthis.envMap = null;\n\tthis.combine = MultiplyOperation;\n\tthis.reflectivity = 1;\n\tthis.refractionRatio = 0.98;\n\n\tthis.wireframe = false;\n\tthis.wireframeLinewidth = 1;\n\tthis.wireframeLinecap = 'round';\n\tthis.wireframeLinejoin = 'round';\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshLambertMaterial.prototype = Object.create( Material.prototype );\nMeshLambertMaterial.prototype.constructor = MeshLambertMaterial;\n\nMeshLambertMaterial.prototype.isMeshLambertMaterial = true;\n\nMeshLambertMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.color.copy( source.color );\n\n\tthis.map = source.map;\n\n\tthis.lightMap = source.lightMap;\n\tthis.lightMapIntensity = source.lightMapIntensity;\n\n\tthis.aoMap = source.aoMap;\n\tthis.aoMapIntensity = source.aoMapIntensity;\n\n\tthis.emissive.copy( source.emissive );\n\tthis.emissiveMap = source.emissiveMap;\n\tthis.emissiveIntensity = source.emissiveIntensity;\n\n\tthis.specularMap = source.specularMap;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.envMap = source.envMap;\n\tthis.combine = source.combine;\n\tthis.reflectivity = source.reflectivity;\n\tthis.refractionRatio = source.refractionRatio;\n\n\tthis.wireframe = source.wireframe;\n\tthis.wireframeLinewidth = source.wireframeLinewidth;\n\tthis.wireframeLinecap = source.wireframeLinecap;\n\tthis.wireframeLinejoin = source.wireframeLinejoin;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  matcap: new THREE.Texture( <Image> ),\n *\n *  map: new THREE.Texture( <Image> ),\n *\n *  bumpMap: new THREE.Texture( <Image> ),\n *  bumpScale: <float>,\n *\n *  normalMap: new THREE.Texture( <Image> ),\n *  normalMapType: THREE.TangentSpaceNormalMap,\n *  normalScale: <Vector2>,\n *\n *  displacementMap: new THREE.Texture( <Image> ),\n *  displacementScale: <float>,\n *  displacementBias: <float>,\n *\n *  alphaMap: new THREE.Texture( <Image> ),\n *\n *  skinning: <bool>,\n *  morphTargets: <bool>,\n *  morphNormals: <bool>\n * }\n */\n\nfunction MeshMatcapMaterial( parameters ) {\n\n\tMaterial.call( this );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.type = 'MeshMatcapMaterial';\n\n\tthis.color = new Color( 0xffffff ); // diffuse\n\n\tthis.matcap = null;\n\n\tthis.map = null;\n\n\tthis.bumpMap = null;\n\tthis.bumpScale = 1;\n\n\tthis.normalMap = null;\n\tthis.normalMapType = TangentSpaceNormalMap;\n\tthis.normalScale = new Vector2( 1, 1 );\n\n\tthis.displacementMap = null;\n\tthis.displacementScale = 1;\n\tthis.displacementBias = 0;\n\n\tthis.alphaMap = null;\n\n\tthis.skinning = false;\n\tthis.morphTargets = false;\n\tthis.morphNormals = false;\n\n\tthis.setValues( parameters );\n\n}\n\nMeshMatcapMaterial.prototype = Object.create( Material.prototype );\nMeshMatcapMaterial.prototype.constructor = MeshMatcapMaterial;\n\nMeshMatcapMaterial.prototype.isMeshMatcapMaterial = true;\n\nMeshMatcapMaterial.prototype.copy = function ( source ) {\n\n\tMaterial.prototype.copy.call( this, source );\n\n\tthis.defines = { 'MATCAP': '' };\n\n\tthis.color.copy( source.color );\n\n\tthis.matcap = source.matcap;\n\n\tthis.map = source.map;\n\n\tthis.bumpMap = source.bumpMap;\n\tthis.bumpScale = source.bumpScale;\n\n\tthis.normalMap = source.normalMap;\n\tthis.normalMapType = source.normalMapType;\n\tthis.normalScale.copy( source.normalScale );\n\n\tthis.displacementMap = source.displacementMap;\n\tthis.displacementScale = source.displacementScale;\n\tthis.displacementBias = source.displacementBias;\n\n\tthis.alphaMap = source.alphaMap;\n\n\tthis.skinning = source.skinning;\n\tthis.morphTargets = source.morphTargets;\n\tthis.morphNormals = source.morphNormals;\n\n\treturn this;\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n *\n * parameters = {\n *  color: <hex>,\n *  opacity: <float>,\n *\n *  linewidth: <float>,\n *\n *  scale: <float>,\n *  dashSize: <float>,\n *  gapSize: <float>\n * }\n */\n\nfunction LineDashedMaterial( parameters ) {\n\n\tLineBasicMaterial.call( this );\n\n\tthis.type = 'LineDashedMaterial';\n\n\tthis.scale = 1;\n\tthis.dashSize = 3;\n\tthis.gapSize = 1;\n\n\tthis.setValues( parameters );\n\n}\n\nLineDashedMaterial.prototype = Object.create( LineBasicMaterial.prototype );\nLineDashedMaterial.prototype.constructor = LineDashedMaterial;\n\nLineDashedMaterial.prototype.isLineDashedMaterial = true;\n\nLineDashedMaterial.prototype.copy = function ( source ) {\n\n\tLineBasicMaterial.prototype.copy.call( this, source );\n\n\tthis.scale = source.scale;\n\tthis.dashSize = source.dashSize;\n\tthis.gapSize = source.gapSize;\n\n\treturn this;\n\n};\n\n\n\nvar Materials = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tShadowMaterial: ShadowMaterial,\n\tSpriteMaterial: SpriteMaterial,\n\tRawShaderMaterial: RawShaderMaterial,\n\tShaderMaterial: ShaderMaterial,\n\tPointsMaterial: PointsMaterial,\n\tMeshPhysicalMaterial: MeshPhysicalMaterial,\n\tMeshStandardMaterial: MeshStandardMaterial,\n\tMeshPhongMaterial: MeshPhongMaterial,\n\tMeshToonMaterial: MeshToonMaterial,\n\tMeshNormalMaterial: MeshNormalMaterial,\n\tMeshLambertMaterial: MeshLambertMaterial,\n\tMeshDepthMaterial: MeshDepthMaterial,\n\tMeshDistanceMaterial: MeshDistanceMaterial,\n\tMeshBasicMaterial: MeshBasicMaterial,\n\tMeshMatcapMaterial: MeshMatcapMaterial,\n\tLineDashedMaterial: LineDashedMaterial,\n\tLineBasicMaterial: LineBasicMaterial,\n\tMaterial: Material\n});\n\n/**\n * @author tschw\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nvar AnimationUtils = {\n\n\t// same as Array.prototype.slice, but also works on typed arrays\n\tarraySlice: function ( array, from, to ) {\n\n\t\tif ( AnimationUtils.isTypedArray( array ) ) {\n\n\t\t\t// in ios9 array.subarray(from, undefined) will return empty array\n\t\t\t// but array.subarray(from) or array.subarray(from, len) is correct\n\t\t\treturn new array.constructor( array.subarray( from, to !== undefined ? to : array.length ) );\n\n\t\t}\n\n\t\treturn array.slice( from, to );\n\n\t},\n\n\t// converts an array to a specific type\n\tconvertArray: function ( array, type, forceClone ) {\n\n\t\tif ( ! array || // let 'undefined' and 'null' pass\n\t\t\t! forceClone && array.constructor === type ) return array;\n\n\t\tif ( typeof type.BYTES_PER_ELEMENT === 'number' ) {\n\n\t\t\treturn new type( array ); // create typed array\n\n\t\t}\n\n\t\treturn Array.prototype.slice.call( array ); // create Array\n\n\t},\n\n\tisTypedArray: function ( object ) {\n\n\t\treturn ArrayBuffer.isView( object ) &&\n\t\t\t! ( object instanceof DataView );\n\n\t},\n\n\t// returns an array by which times and values can be sorted\n\tgetKeyframeOrder: function ( times ) {\n\n\t\tfunction compareTime( i, j ) {\n\n\t\t\treturn times[ i ] - times[ j ];\n\n\t\t}\n\n\t\tvar n = times.length;\n\t\tvar result = new Array( n );\n\t\tfor ( var i = 0; i !== n; ++ i ) result[ i ] = i;\n\n\t\tresult.sort( compareTime );\n\n\t\treturn result;\n\n\t},\n\n\t// uses the array previously returned by 'getKeyframeOrder' to sort data\n\tsortedArray: function ( values, stride, order ) {\n\n\t\tvar nValues = values.length;\n\t\tvar result = new values.constructor( nValues );\n\n\t\tfor ( var i = 0, dstOffset = 0; dstOffset !== nValues; ++ i ) {\n\n\t\t\tvar srcOffset = order[ i ] * stride;\n\n\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tresult[ dstOffset ++ ] = values[ srcOffset + j ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// function for parsing AOS keyframe formats\n\tflattenJSON: function ( jsonKeys, times, values, valuePropertyName ) {\n\n\t\tvar i = 1, key = jsonKeys[ 0 ];\n\n\t\twhile ( key !== undefined && key[ valuePropertyName ] === undefined ) {\n\n\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t}\n\n\t\tif ( key === undefined ) return; // no data\n\n\t\tvar value = key[ valuePropertyName ];\n\t\tif ( value === undefined ) return; // no data\n\n\t\tif ( Array.isArray( value ) ) {\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push.apply( values, value ); // push all elements\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else if ( value.toArray !== undefined ) {\n\n\t\t\t// ...assume THREE.Math-ish\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalue.toArray( values, values.length );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t} else {\n\n\t\t\t// otherwise push as-is\n\n\t\t\tdo {\n\n\t\t\t\tvalue = key[ valuePropertyName ];\n\n\t\t\t\tif ( value !== undefined ) {\n\n\t\t\t\t\ttimes.push( key.time );\n\t\t\t\t\tvalues.push( value );\n\n\t\t\t\t}\n\n\t\t\t\tkey = jsonKeys[ i ++ ];\n\n\t\t\t} while ( key !== undefined );\n\n\t\t}\n\n\t},\n\n\tsubclip: function ( sourceClip, name, startFrame, endFrame, fps ) {\n\n\t\tfps = fps || 30;\n\n\t\tvar clip = sourceClip.clone();\n\n\t\tclip.name = name;\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tvar track = clip.tracks[ i ];\n\t\t\tvar valueSize = track.getValueSize();\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\tfor ( var j = 0; j < track.times.length; ++ j ) {\n\n\t\t\t\tvar frame = track.times[ j ] * fps;\n\n\t\t\t\tif ( frame < startFrame || frame >= endFrame ) continue;\n\n\t\t\t\ttimes.push( track.times[ j ] );\n\n\t\t\t\tfor ( var k = 0; k < valueSize; ++ k ) {\n\n\t\t\t\t\tvalues.push( track.values[ j * valueSize + k ] );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( times.length === 0 ) continue;\n\n\t\t\ttrack.times = AnimationUtils.convertArray( times, track.times.constructor );\n\t\t\ttrack.values = AnimationUtils.convertArray( values, track.values.constructor );\n\n\t\t\ttracks.push( track );\n\n\t\t}\n\n\t\tclip.tracks = tracks;\n\n\t\t// find minimum .times value across all tracks in the trimmed clip\n\n\t\tvar minStartTime = Infinity;\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tif ( minStartTime > clip.tracks[ i ].times[ 0 ] ) {\n\n\t\t\t\tminStartTime = clip.tracks[ i ].times[ 0 ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// shift all tracks such that clip begins at t=0\n\n\t\tfor ( var i = 0; i < clip.tracks.length; ++ i ) {\n\n\t\t\tclip.tracks[ i ].shift( - 1 * minStartTime );\n\n\t\t}\n\n\t\tclip.resetDuration();\n\n\t\treturn clip;\n\n\t}\n\n};\n\n/**\n * Abstract base class of interpolants over parametric samples.\n *\n * The parameter domain is one dimensional, typically the time or a path\n * along a curve defined by the data.\n *\n * The sample values can have any dimensionality and derived classes may\n * apply special interpretations to the data.\n *\n * This class provides the interval seek in a Template Method, deferring\n * the actual interpolation to derived classes.\n *\n * Time complexity is O(1) for linear access crossing at most two points\n * and O(log N) for random access, where N is the number of positions.\n *\n * References:\n *\n * \t\thttp://www.oodesign.com/template-method-pattern.html\n *\n * @author tschw\n */\n\nfunction Interpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tthis.parameterPositions = parameterPositions;\n\tthis._cachedIndex = 0;\n\n\tthis.resultBuffer = resultBuffer !== undefined ?\n\t\tresultBuffer : new sampleValues.constructor( sampleSize );\n\tthis.sampleValues = sampleValues;\n\tthis.valueSize = sampleSize;\n\n}\n\nObject.assign( Interpolant.prototype, {\n\n\tevaluate: function ( t ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\ti1 = this._cachedIndex,\n\n\t\t\tt1 = pp[ i1 ],\n\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\tvalidate_interval: {\n\n\t\t\tseek: {\n\n\t\t\t\tvar right;\n\n\t\t\t\tlinear_scan: {\n\n\t\t\t\t\t//- See http://jsperf.com/comparison-to-undefined/3\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\n\t\t\t\t\t//- \t\t\t\tif ( t >= t1 || t1 === undefined ) {\n\t\t\t\t\tforward_scan: if ( ! ( t < t1 ) ) {\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 + 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\t\t\t\tif ( t < t0 ) break forward_scan;\n\n\t\t\t\t\t\t\t\t// after end\n\n\t\t\t\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\t\t\t\treturn this.afterEnd_( i1 - 1, t, t0 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt0 = t1;\n\t\t\t\t\t\t\tt1 = pp[ ++ i1 ];\n\n\t\t\t\t\t\t\tif ( t < t1 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the right side of the index\n\t\t\t\t\t\tright = pp.length;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t//- slower code:\n\t\t\t\t\t//-\t\t\t\t\tif ( t < t0 || t0 === undefined ) {\n\t\t\t\t\tif ( ! ( t >= t0 ) ) {\n\n\t\t\t\t\t\t// looping?\n\n\t\t\t\t\t\tvar t1global = pp[ 1 ];\n\n\t\t\t\t\t\tif ( t < t1global ) {\n\n\t\t\t\t\t\t\ti1 = 2; // + 1, using the scan for the details\n\t\t\t\t\t\t\tt0 = t1global;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// linear reverse scan\n\n\t\t\t\t\t\tfor ( var giveUpAt = i1 - 2; ; ) {\n\n\t\t\t\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\t\t\t\t// before start\n\n\t\t\t\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\tif ( i1 === giveUpAt ) break; // this loop\n\n\t\t\t\t\t\t\tt1 = t0;\n\t\t\t\t\t\t\tt0 = pp[ -- i1 - 1 ];\n\n\t\t\t\t\t\t\tif ( t >= t0 ) {\n\n\t\t\t\t\t\t\t\t// we have arrived at the sought interval\n\t\t\t\t\t\t\t\tbreak seek;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\t// prepare binary search on the left side of the index\n\t\t\t\t\t\tright = i1;\n\t\t\t\t\t\ti1 = 0;\n\t\t\t\t\t\tbreak linear_scan;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// the interval is valid\n\n\t\t\t\t\tbreak validate_interval;\n\n\t\t\t\t} // linear scan\n\n\t\t\t\t// binary search\n\n\t\t\t\twhile ( i1 < right ) {\n\n\t\t\t\t\tvar mid = ( i1 + right ) >>> 1;\n\n\t\t\t\t\tif ( t < pp[ mid ] ) {\n\n\t\t\t\t\t\tright = mid;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\ti1 = mid + 1;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tt1 = pp[ i1 ];\n\t\t\t\tt0 = pp[ i1 - 1 ];\n\n\t\t\t\t// check boundary cases, again\n\n\t\t\t\tif ( t0 === undefined ) {\n\n\t\t\t\t\tthis._cachedIndex = 0;\n\t\t\t\t\treturn this.beforeStart_( 0, t, t1 );\n\n\t\t\t\t}\n\n\t\t\t\tif ( t1 === undefined ) {\n\n\t\t\t\t\ti1 = pp.length;\n\t\t\t\t\tthis._cachedIndex = i1;\n\t\t\t\t\treturn this.afterEnd_( i1 - 1, t0, t );\n\n\t\t\t\t}\n\n\t\t\t} // seek\n\n\t\t\tthis._cachedIndex = i1;\n\n\t\t\tthis.intervalChanged_( i1, t0, t1 );\n\n\t\t} // validate_interval\n\n\t\treturn this.interpolate_( i1, t0, t, t1 );\n\n\t},\n\n\tsettings: null, // optional, subclass-specific settings structure\n\t// Note: The indirection allows central control of many interpolants.\n\n\t// --- Protected interface\n\n\tDefaultSettings_: {},\n\n\tgetSettings_: function () {\n\n\t\treturn this.settings || this.DefaultSettings_;\n\n\t},\n\n\tcopySampleValue_: function ( index ) {\n\n\t\t// copies a sample value to the result buffer\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = index * stride;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] = values[ offset + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t},\n\n\t// Template methods for derived classes:\n\n\tinterpolate_: function ( /* i1, t0, t, t1 */ ) {\n\n\t\tthrow new Error( 'call to abstract method' );\n\t\t// implementations shall return this.resultBuffer\n\n\t},\n\n\tintervalChanged_: function ( /* i1, t0, t1 */ ) {\n\n\t\t// empty\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( Interpolant.prototype, {\n\n\t//( 0, t, t0 ), returns this.resultBuffer\n\tbeforeStart_: Interpolant.prototype.copySampleValue_,\n\n\t//( N-1, tN-1, t ), returns this.resultBuffer\n\tafterEnd_: Interpolant.prototype.copySampleValue_,\n\n} );\n\n/**\n * Fast and simple cubic spline interpolant.\n *\n * It was derived from a Hermitian construction setting the first derivative\n * at each sample position to the linear slope between neighboring positions\n * over their parameter interval.\n *\n * @author tschw\n */\n\nfunction CubicInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n\tthis._weightPrev = - 0;\n\tthis._offsetPrev = - 0;\n\tthis._weightNext = - 0;\n\tthis._offsetNext = - 0;\n\n}\n\nCubicInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: CubicInterpolant,\n\n\tDefaultSettings_: {\n\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\n\t},\n\n\tintervalChanged_: function ( i1, t0, t1 ) {\n\n\t\tvar pp = this.parameterPositions,\n\t\t\tiPrev = i1 - 2,\n\t\t\tiNext = i1 + 1,\n\n\t\t\ttPrev = pp[ iPrev ],\n\t\t\ttNext = pp[ iNext ];\n\n\t\tif ( tPrev === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingStart ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(t0) = 0\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = 2 * t0 - t1;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiPrev = pp.length - 2;\n\t\t\t\t\ttPrev = t0 + pp[ iPrev ] - pp[ iPrev + 1 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(t0) = 0 a.k.a. Natural Spline\n\t\t\t\t\tiPrev = i1;\n\t\t\t\t\ttPrev = t1;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tNext === undefined ) {\n\n\t\t\tswitch ( this.getSettings_().endingEnd ) {\n\n\t\t\t\tcase ZeroSlopeEnding:\n\n\t\t\t\t\t// f'(tN) = 0\n\t\t\t\t\tiNext = i1;\n\t\t\t\t\ttNext = 2 * t1 - t0;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase WrapAroundEnding:\n\n\t\t\t\t\t// use the other end of the curve\n\t\t\t\t\tiNext = 1;\n\t\t\t\t\ttNext = t1 + pp[ 1 ] - pp[ 0 ];\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault: // ZeroCurvatureEnding\n\n\t\t\t\t\t// f''(tN) = 0, a.k.a. Natural Spline\n\t\t\t\t\tiNext = i1 - 1;\n\t\t\t\t\ttNext = t0;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar halfDt = ( t1 - t0 ) * 0.5,\n\t\t\tstride = this.valueSize;\n\n\t\tthis._weightPrev = halfDt / ( t0 - tPrev );\n\t\tthis._weightNext = halfDt / ( tNext - t1 );\n\t\tthis._offsetPrev = iPrev * stride;\n\t\tthis._offsetNext = iNext * stride;\n\n\t},\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\to1 = i1 * stride,\t\to0 = o1 - stride,\n\t\t\toP = this._offsetPrev, \toN = this._offsetNext,\n\t\t\twP = this._weightPrev,\twN = this._weightNext,\n\n\t\t\tp = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tpp = p * p,\n\t\t\tppp = pp * p;\n\n\t\t// evaluate polynomials\n\n\t\tvar sP = - wP * ppp + 2 * wP * pp - wP * p;\n\t\tvar s0 = ( 1 + wP ) * ppp + ( - 1.5 - 2 * wP ) * pp + ( - 0.5 + wP ) * p + 1;\n\t\tvar s1 = ( - 1 - wN ) * ppp + ( 1.5 + wN ) * pp + 0.5 * p;\n\t\tvar sN = wN * ppp - wN * pp;\n\n\t\t// combine data linearly\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tsP * values[ oP + i ] +\n\t\t\t\t\ts0 * values[ o0 + i ] +\n\t\t\t\t\ts1 * values[ o1 + i ] +\n\t\t\t\t\tsN * values[ oN + i ];\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n * @author tschw\n */\n\nfunction LinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: LinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset1 = i1 * stride,\n\t\t\toffset0 = offset1 - stride,\n\n\t\t\tweight1 = ( t - t0 ) / ( t1 - t0 ),\n\t\t\tweight0 = 1 - weight1;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tresult[ i ] =\n\t\t\t\t\tvalues[ offset0 + i ] * weight0 +\n\t\t\t\t\tvalues[ offset1 + i ] * weight1;\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * Interpolant that evaluates to the sample value at the position preceeding\n * the parameter.\n *\n * @author tschw\n */\n\nfunction DiscreteInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nDiscreteInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: DiscreteInterpolant,\n\n\tinterpolate_: function ( i1 /*, t0, t, t1 */ ) {\n\n\t\treturn this.copySampleValue_( i1 - 1 );\n\n\t}\n\n} );\n\n/**\n *\n * A timed sequence of keyframes for a specific property.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction KeyframeTrack( name, times, values, interpolation ) {\n\n\tif ( name === undefined ) throw new Error( 'THREE.KeyframeTrack: track name is undefined' );\n\tif ( times === undefined || times.length === 0 ) throw new Error( 'THREE.KeyframeTrack: no keyframes in track named ' + name );\n\n\tthis.name = name;\n\n\tthis.times = AnimationUtils.convertArray( times, this.TimeBufferType );\n\tthis.values = AnimationUtils.convertArray( values, this.ValueBufferType );\n\n\tthis.setInterpolation( interpolation || this.DefaultInterpolation );\n\n}\n\n// Static methods\n\nObject.assign( KeyframeTrack, {\n\n\t// Serialization (in static context, because of constructor invocation\n\t// and automatic invocation of .toJSON):\n\n\ttoJSON: function ( track ) {\n\n\t\tvar trackType = track.constructor;\n\n\t\tvar json;\n\n\t\t// derived classes can define a static toJSON method\n\t\tif ( trackType.toJSON !== undefined ) {\n\n\t\t\tjson = trackType.toJSON( track );\n\n\t\t} else {\n\n\t\t\t// by default, we assume the data can be serialized as-is\n\t\t\tjson = {\n\n\t\t\t\t'name': track.name,\n\t\t\t\t'times': AnimationUtils.convertArray( track.times, Array ),\n\t\t\t\t'values': AnimationUtils.convertArray( track.values, Array )\n\n\t\t\t};\n\n\t\t\tvar interpolation = track.getInterpolation();\n\n\t\t\tif ( interpolation !== track.DefaultInterpolation ) {\n\n\t\t\t\tjson.interpolation = interpolation;\n\n\t\t\t}\n\n\t\t}\n\n\t\tjson.type = track.ValueTypeName; // mandatory\n\n\t\treturn json;\n\n\t}\n\n} );\n\nObject.assign( KeyframeTrack.prototype, {\n\n\tconstructor: KeyframeTrack,\n\n\tTimeBufferType: Float32Array,\n\n\tValueBufferType: Float32Array,\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodDiscrete: function ( result ) {\n\n\t\treturn new DiscreteInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new LinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: function ( result ) {\n\n\t\treturn new CubicInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tsetInterpolation: function ( interpolation ) {\n\n\t\tvar factoryMethod;\n\n\t\tswitch ( interpolation ) {\n\n\t\t\tcase InterpolateDiscrete:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodDiscrete;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateLinear:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodLinear;\n\n\t\t\t\tbreak;\n\n\t\t\tcase InterpolateSmooth:\n\n\t\t\t\tfactoryMethod = this.InterpolantFactoryMethodSmooth;\n\n\t\t\t\tbreak;\n\n\t\t}\n\n\t\tif ( factoryMethod === undefined ) {\n\n\t\t\tvar message = \"unsupported interpolation for \" +\n\t\t\t\tthis.ValueTypeName + \" keyframe track named \" + this.name;\n\n\t\t\tif ( this.createInterpolant === undefined ) {\n\n\t\t\t\t// fall back to default, unless the default itself is messed up\n\t\t\t\tif ( interpolation !== this.DefaultInterpolation ) {\n\n\t\t\t\t\tthis.setInterpolation( this.DefaultInterpolation );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthrow new Error( message ); // fatal, in this case\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tconsole.warn( 'THREE.KeyframeTrack:', message );\n\t\t\treturn this;\n\n\t\t}\n\n\t\tthis.createInterpolant = factoryMethod;\n\n\t\treturn this;\n\n\t},\n\n\tgetInterpolation: function () {\n\n\t\tswitch ( this.createInterpolant ) {\n\n\t\t\tcase this.InterpolantFactoryMethodDiscrete:\n\n\t\t\t\treturn InterpolateDiscrete;\n\n\t\t\tcase this.InterpolantFactoryMethodLinear:\n\n\t\t\t\treturn InterpolateLinear;\n\n\t\t\tcase this.InterpolantFactoryMethodSmooth:\n\n\t\t\t\treturn InterpolateSmooth;\n\n\t\t}\n\n\t},\n\n\tgetValueSize: function () {\n\n\t\treturn this.values.length / this.times.length;\n\n\t},\n\n\t// move all keyframes either forwards or backwards in time\n\tshift: function ( timeOffset ) {\n\n\t\tif ( timeOffset !== 0.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] += timeOffset;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// scale all keyframe times by a factor (useful for frame <-> seconds conversions)\n\tscale: function ( timeScale ) {\n\n\t\tif ( timeScale !== 1.0 ) {\n\n\t\t\tvar times = this.times;\n\n\t\t\tfor ( var i = 0, n = times.length; i !== n; ++ i ) {\n\n\t\t\t\ttimes[ i ] *= timeScale;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// removes keyframes before and after animation without changing any values within the range [startTime, endTime].\n\t// IMPORTANT: We do not shift around keys to the start of the track time, because for interpolated keys this will change their values\n\ttrim: function ( startTime, endTime ) {\n\n\t\tvar times = this.times,\n\t\t\tnKeys = times.length,\n\t\t\tfrom = 0,\n\t\t\tto = nKeys - 1;\n\n\t\twhile ( from !== nKeys && times[ from ] < startTime ) {\n\n\t\t\t++ from;\n\n\t\t}\n\n\t\twhile ( to !== - 1 && times[ to ] > endTime ) {\n\n\t\t\t-- to;\n\n\t\t}\n\n\t\t++ to; // inclusive -> exclusive bound\n\n\t\tif ( from !== 0 || to !== nKeys ) {\n\n\t\t\t// empty tracks are forbidden, so keep at least one keyframe\n\t\t\tif ( from >= to ) {\n\n\t\t\t\tto = Math.max( to, 1 );\n\t\t\t\tfrom = to - 1;\n\n\t\t\t}\n\n\t\t\tvar stride = this.getValueSize();\n\t\t\tthis.times = AnimationUtils.arraySlice( times, from, to );\n\t\t\tthis.values = AnimationUtils.arraySlice( this.values, from * stride, to * stride );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// ensure we do not get a GarbageInGarbageOut situation, make sure tracks are at least minimally viable\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tvar valueSize = this.getValueSize();\n\t\tif ( valueSize - Math.floor( valueSize ) !== 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Invalid value size in track.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar times = this.times,\n\t\t\tvalues = this.values,\n\n\t\t\tnKeys = times.length;\n\n\t\tif ( nKeys === 0 ) {\n\n\t\t\tconsole.error( 'THREE.KeyframeTrack: Track is empty.', this );\n\t\t\tvalid = false;\n\n\t\t}\n\n\t\tvar prevTime = null;\n\n\t\tfor ( var i = 0; i !== nKeys; i ++ ) {\n\n\t\t\tvar currTime = times[ i ];\n\n\t\t\tif ( typeof currTime === 'number' && isNaN( currTime ) ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Time is not a valid number.', this, i, currTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tif ( prevTime !== null && prevTime > currTime ) {\n\n\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Out of order keys.', this, i, currTime, prevTime );\n\t\t\t\tvalid = false;\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t\tprevTime = currTime;\n\n\t\t}\n\n\t\tif ( values !== undefined ) {\n\n\t\t\tif ( AnimationUtils.isTypedArray( values ) ) {\n\n\t\t\t\tfor ( var i = 0, n = values.length; i !== n; ++ i ) {\n\n\t\t\t\t\tvar value = values[ i ];\n\n\t\t\t\t\tif ( isNaN( value ) ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.KeyframeTrack: Value is not a valid number.', this, i, value );\n\t\t\t\t\t\tvalid = false;\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\t// removes equivalent sequential keys as common in morph target sequences\n\t// (0,0,0,0,1,1,1,0,0,0,0,0,0,0) --> (0,0,1,1,0,0)\n\toptimize: function () {\n\n\t\t// times or values may be shared with other tracks, so overwriting is unsafe\n\t\tvar times = AnimationUtils.arraySlice( this.times ),\n\t\t\tvalues = AnimationUtils.arraySlice( this.values ),\n\t\t\tstride = this.getValueSize(),\n\n\t\t\tsmoothInterpolation = this.getInterpolation() === InterpolateSmooth,\n\n\t\t\twriteIndex = 1,\n\t\t\tlastIndex = times.length - 1;\n\n\t\tfor ( var i = 1; i < lastIndex; ++ i ) {\n\n\t\t\tvar keep = false;\n\n\t\t\tvar time = times[ i ];\n\t\t\tvar timeNext = times[ i + 1 ];\n\n\t\t\t// remove adjacent keyframes scheduled at the same time\n\n\t\t\tif ( time !== timeNext && ( i !== 1 || time !== time[ 0 ] ) ) {\n\n\t\t\t\tif ( ! smoothInterpolation ) {\n\n\t\t\t\t\t// remove unnecessary keyframes same as their neighbors\n\n\t\t\t\t\tvar offset = i * stride,\n\t\t\t\t\t\toffsetP = offset - stride,\n\t\t\t\t\t\toffsetN = offset + stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvar value = values[ offset + j ];\n\n\t\t\t\t\t\tif ( value !== values[ offsetP + j ] ||\n\t\t\t\t\t\t\tvalue !== values[ offsetN + j ] ) {\n\n\t\t\t\t\t\t\tkeep = true;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\tkeep = true;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\t// in-place compaction\n\n\t\t\tif ( keep ) {\n\n\t\t\t\tif ( i !== writeIndex ) {\n\n\t\t\t\t\ttimes[ writeIndex ] = times[ i ];\n\n\t\t\t\t\tvar readOffset = i * stride,\n\t\t\t\t\t\twriteOffset = writeIndex * stride;\n\n\t\t\t\t\tfor ( var j = 0; j !== stride; ++ j ) {\n\n\t\t\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t++ writeIndex;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// flush last keyframe (compaction looks ahead)\n\n\t\tif ( lastIndex > 0 ) {\n\n\t\t\ttimes[ writeIndex ] = times[ lastIndex ];\n\n\t\t\tfor ( var readOffset = lastIndex * stride, writeOffset = writeIndex * stride, j = 0; j !== stride; ++ j ) {\n\n\t\t\t\tvalues[ writeOffset + j ] = values[ readOffset + j ];\n\n\t\t\t}\n\n\t\t\t++ writeIndex;\n\n\t\t}\n\n\t\tif ( writeIndex !== times.length ) {\n\n\t\t\tthis.times = AnimationUtils.arraySlice( times, 0, writeIndex );\n\t\t\tthis.values = AnimationUtils.arraySlice( values, 0, writeIndex * stride );\n\n\t\t} else {\n\n\t\t\tthis.times = times;\n\t\t\tthis.values = values;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar times = AnimationUtils.arraySlice( this.times, 0 );\n\t\tvar values = AnimationUtils.arraySlice( this.values, 0 );\n\n\t\tvar TypedKeyframeTrack = this.constructor;\n\t\tvar track = new TypedKeyframeTrack( this.name, times, values );\n\n\t\t// Interpolant argument to constructor is not saved, so copy the factory method directly.\n\t\ttrack.createInterpolant = this.createInterpolant;\n\n\t\treturn track;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of Boolean keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction BooleanKeyframeTrack( name, times, values ) {\n\n\tKeyframeTrack.call( this, name, times, values );\n\n}\n\nBooleanKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: BooleanKeyframeTrack,\n\n\tValueTypeName: 'bool',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\tInterpolantFactoryMethodSmooth: undefined\n\n\t// Note: Actually this track could have a optimized / compressed\n\t// representation of a single value and a custom interpolant that\n\t// computes \"firstValue ^ isOdd( index )\".\n\n} );\n\n/**\n *\n * A Track of keyframe values that represent color.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction ColorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nColorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: ColorKeyframeTrack,\n\n\tValueTypeName: 'color'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n\t// Note: Very basic implementation and nothing special yet.\n\t// However, this is the place for color space parameterization.\n\n} );\n\n/**\n *\n * A Track of numeric keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction NumberKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nNumberKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: NumberKeyframeTrack,\n\n\tValueTypeName: 'number'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n * Spherical linear unit quaternion interpolant.\n *\n * @author tschw\n */\n\nfunction QuaternionLinearInterpolant( parameterPositions, sampleValues, sampleSize, resultBuffer ) {\n\n\tInterpolant.call( this, parameterPositions, sampleValues, sampleSize, resultBuffer );\n\n}\n\nQuaternionLinearInterpolant.prototype = Object.assign( Object.create( Interpolant.prototype ), {\n\n\tconstructor: QuaternionLinearInterpolant,\n\n\tinterpolate_: function ( i1, t0, t, t1 ) {\n\n\t\tvar result = this.resultBuffer,\n\t\t\tvalues = this.sampleValues,\n\t\t\tstride = this.valueSize,\n\n\t\t\toffset = i1 * stride,\n\n\t\t\talpha = ( t - t0 ) / ( t1 - t0 );\n\n\t\tfor ( var end = offset + stride; offset !== end; offset += 4 ) {\n\n\t\t\tQuaternion.slerpFlat( result, 0, values, offset - stride, values, offset, alpha );\n\n\t\t}\n\n\t\treturn result;\n\n\t}\n\n} );\n\n/**\n *\n * A Track of quaternion keyframe values.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction QuaternionKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nQuaternionKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: QuaternionKeyframeTrack,\n\n\tValueTypeName: 'quaternion',\n\n\t// ValueBufferType is inherited\n\n\tDefaultInterpolation: InterpolateLinear,\n\n\tInterpolantFactoryMethodLinear: function ( result ) {\n\n\t\treturn new QuaternionLinearInterpolant( this.times, this.values, this.getValueSize(), result );\n\n\t},\n\n\tInterpolantFactoryMethodSmooth: undefined // not yet implemented\n\n} );\n\n/**\n *\n * A Track that interpolates Strings\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction StringKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nStringKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: StringKeyframeTrack,\n\n\tValueTypeName: 'string',\n\tValueBufferType: Array,\n\n\tDefaultInterpolation: InterpolateDiscrete,\n\n\tInterpolantFactoryMethodLinear: undefined,\n\n\tInterpolantFactoryMethodSmooth: undefined\n\n} );\n\n/**\n *\n * A Track of vectored keyframe values.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction VectorKeyframeTrack( name, times, values, interpolation ) {\n\n\tKeyframeTrack.call( this, name, times, values, interpolation );\n\n}\n\nVectorKeyframeTrack.prototype = Object.assign( Object.create( KeyframeTrack.prototype ), {\n\n\tconstructor: VectorKeyframeTrack,\n\n\tValueTypeName: 'vector'\n\n\t// ValueBufferType is inherited\n\n\t// DefaultInterpolation is inherited\n\n} );\n\n/**\n *\n * Reusable set of Tracks that represent an animation.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n */\n\nfunction AnimationClip( name, duration, tracks ) {\n\n\tthis.name = name;\n\tthis.tracks = tracks;\n\tthis.duration = ( duration !== undefined ) ? duration : - 1;\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// this means it should figure out its duration by scanning the tracks\n\tif ( this.duration < 0 ) {\n\n\t\tthis.resetDuration();\n\n\t}\n\n}\n\nfunction getTrackTypeForValueTypeName( typeName ) {\n\n\tswitch ( typeName.toLowerCase() ) {\n\n\t\tcase 'scalar':\n\t\tcase 'double':\n\t\tcase 'float':\n\t\tcase 'number':\n\t\tcase 'integer':\n\n\t\t\treturn NumberKeyframeTrack;\n\n\t\tcase 'vector':\n\t\tcase 'vector2':\n\t\tcase 'vector3':\n\t\tcase 'vector4':\n\n\t\t\treturn VectorKeyframeTrack;\n\n\t\tcase 'color':\n\n\t\t\treturn ColorKeyframeTrack;\n\n\t\tcase 'quaternion':\n\n\t\t\treturn QuaternionKeyframeTrack;\n\n\t\tcase 'bool':\n\t\tcase 'boolean':\n\n\t\t\treturn BooleanKeyframeTrack;\n\n\t\tcase 'string':\n\n\t\t\treturn StringKeyframeTrack;\n\n\t}\n\n\tthrow new Error( 'THREE.KeyframeTrack: Unsupported typeName: ' + typeName );\n\n}\n\nfunction parseKeyframeTrack( json ) {\n\n\tif ( json.type === undefined ) {\n\n\t\tthrow new Error( 'THREE.KeyframeTrack: track type undefined, can not parse' );\n\n\t}\n\n\tvar trackType = getTrackTypeForValueTypeName( json.type );\n\n\tif ( json.times === undefined ) {\n\n\t\tvar times = [], values = [];\n\n\t\tAnimationUtils.flattenJSON( json.keys, times, values, 'value' );\n\n\t\tjson.times = times;\n\t\tjson.values = values;\n\n\t}\n\n\t// derived classes can define a static parse method\n\tif ( trackType.parse !== undefined ) {\n\n\t\treturn trackType.parse( json );\n\n\t} else {\n\n\t\t// by default, we assume a constructor compatible with the base\n\t\treturn new trackType( json.name, json.times, json.values, json.interpolation );\n\n\t}\n\n}\n\nObject.assign( AnimationClip, {\n\n\tparse: function ( json ) {\n\n\t\tvar tracks = [],\n\t\t\tjsonTracks = json.tracks,\n\t\t\tframeTime = 1.0 / ( json.fps || 1.0 );\n\n\t\tfor ( var i = 0, n = jsonTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( parseKeyframeTrack( jsonTracks[ i ] ).scale( frameTime ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( json.name, json.duration, tracks );\n\n\t},\n\n\ttoJSON: function ( clip ) {\n\n\t\tvar tracks = [],\n\t\t\tclipTracks = clip.tracks;\n\n\t\tvar json = {\n\n\t\t\t'name': clip.name,\n\t\t\t'duration': clip.duration,\n\t\t\t'tracks': tracks,\n\t\t\t'uuid': clip.uuid\n\n\t\t};\n\n\t\tfor ( var i = 0, n = clipTracks.length; i !== n; ++ i ) {\n\n\t\t\ttracks.push( KeyframeTrack.toJSON( clipTracks[ i ] ) );\n\n\t\t}\n\n\t\treturn json;\n\n\t},\n\n\tCreateFromMorphTargetSequence: function ( name, morphTargetSequence, fps, noLoop ) {\n\n\t\tvar numMorphTargets = morphTargetSequence.length;\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < numMorphTargets; i ++ ) {\n\n\t\t\tvar times = [];\n\t\t\tvar values = [];\n\n\t\t\ttimes.push(\n\t\t\t\t( i + numMorphTargets - 1 ) % numMorphTargets,\n\t\t\t\ti,\n\t\t\t\t( i + 1 ) % numMorphTargets );\n\n\t\t\tvalues.push( 0, 1, 0 );\n\n\t\t\tvar order = AnimationUtils.getKeyframeOrder( times );\n\t\t\ttimes = AnimationUtils.sortedArray( times, 1, order );\n\t\t\tvalues = AnimationUtils.sortedArray( values, 1, order );\n\n\t\t\t// if there is a key at the first frame, duplicate it as the\n\t\t\t// last frame as well for perfect loop.\n\t\t\tif ( ! noLoop && times[ 0 ] === 0 ) {\n\n\t\t\t\ttimes.push( numMorphTargets );\n\t\t\t\tvalues.push( values[ 0 ] );\n\n\t\t\t}\n\n\t\t\ttracks.push(\n\t\t\t\tnew NumberKeyframeTrack(\n\t\t\t\t\t'.morphTargetInfluences[' + morphTargetSequence[ i ].name + ']',\n\t\t\t\t\ttimes, values\n\t\t\t\t).scale( 1.0 / fps ) );\n\n\t\t}\n\n\t\treturn new AnimationClip( name, - 1, tracks );\n\n\t},\n\n\tfindByName: function ( objectOrClipArray, name ) {\n\n\t\tvar clipArray = objectOrClipArray;\n\n\t\tif ( ! Array.isArray( objectOrClipArray ) ) {\n\n\t\t\tvar o = objectOrClipArray;\n\t\t\tclipArray = o.geometry && o.geometry.animations || o.animations;\n\n\t\t}\n\n\t\tfor ( var i = 0; i < clipArray.length; i ++ ) {\n\n\t\t\tif ( clipArray[ i ].name === name ) {\n\n\t\t\t\treturn clipArray[ i ];\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\tCreateClipsFromMorphTargetSequences: function ( morphTargets, fps, noLoop ) {\n\n\t\tvar animationToMorphTargets = {};\n\n\t\t// tested with https://regex101.com/ on trick sequences\n\t\t// such flamingo_flyA_003, flamingo_run1_003, crdeath0059\n\t\tvar pattern = /^([\\w-]*?)([\\d]+)$/;\n\n\t\t// sort morph target names into animation groups based\n\t\t// patterns like Walk_001, Walk_002, Run_001, Run_002\n\t\tfor ( var i = 0, il = morphTargets.length; i < il; i ++ ) {\n\n\t\t\tvar morphTarget = morphTargets[ i ];\n\t\t\tvar parts = morphTarget.name.match( pattern );\n\n\t\t\tif ( parts && parts.length > 1 ) {\n\n\t\t\t\tvar name = parts[ 1 ];\n\n\t\t\t\tvar animationMorphTargets = animationToMorphTargets[ name ];\n\t\t\t\tif ( ! animationMorphTargets ) {\n\n\t\t\t\t\tanimationToMorphTargets[ name ] = animationMorphTargets = [];\n\n\t\t\t\t}\n\n\t\t\t\tanimationMorphTargets.push( morphTarget );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar clips = [];\n\n\t\tfor ( var name in animationToMorphTargets ) {\n\n\t\t\tclips.push( AnimationClip.CreateFromMorphTargetSequence( name, animationToMorphTargets[ name ], fps, noLoop ) );\n\n\t\t}\n\n\t\treturn clips;\n\n\t},\n\n\t// parse the animation.hierarchy format\n\tparseAnimation: function ( animation, bones ) {\n\n\t\tif ( ! animation ) {\n\n\t\t\tconsole.error( 'THREE.AnimationClip: No animation in JSONLoader data.' );\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar addNonemptyTrack = function ( trackType, trackName, animationKeys, propertyName, destTracks ) {\n\n\t\t\t// only return track if there are actually keys.\n\t\t\tif ( animationKeys.length !== 0 ) {\n\n\t\t\t\tvar times = [];\n\t\t\t\tvar values = [];\n\n\t\t\t\tAnimationUtils.flattenJSON( animationKeys, times, values, propertyName );\n\n\t\t\t\t// empty keys are filtered out, so check again\n\t\t\t\tif ( times.length !== 0 ) {\n\n\t\t\t\t\tdestTracks.push( new trackType( trackName, times, values ) );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t};\n\n\t\tvar tracks = [];\n\n\t\tvar clipName = animation.name || 'default';\n\t\t// automatic length determination in AnimationClip.\n\t\tvar duration = animation.length || - 1;\n\t\tvar fps = animation.fps || 30;\n\n\t\tvar hierarchyTracks = animation.hierarchy || [];\n\n\t\tfor ( var h = 0; h < hierarchyTracks.length; h ++ ) {\n\n\t\t\tvar animationKeys = hierarchyTracks[ h ].keys;\n\n\t\t\t// skip empty tracks\n\t\t\tif ( ! animationKeys || animationKeys.length === 0 ) continue;\n\n\t\t\t// process morph targets\n\t\t\tif ( animationKeys[ 0 ].morphTargets ) {\n\n\t\t\t\t// figure out all morph targets used in this track\n\t\t\t\tvar morphTargetNames = {};\n\n\t\t\t\tfor ( var k = 0; k < animationKeys.length; k ++ ) {\n\n\t\t\t\t\tif ( animationKeys[ k ].morphTargets ) {\n\n\t\t\t\t\t\tfor ( var m = 0; m < animationKeys[ k ].morphTargets.length; m ++ ) {\n\n\t\t\t\t\t\t\tmorphTargetNames[ animationKeys[ k ].morphTargets[ m ] ] = - 1;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\t// create a track for each morph target with all zero\n\t\t\t\t// morphTargetInfluences except for the keys in which\n\t\t\t\t// the morphTarget is named.\n\t\t\t\tfor ( var morphTargetName in morphTargetNames ) {\n\n\t\t\t\t\tvar times = [];\n\t\t\t\t\tvar values = [];\n\n\t\t\t\t\tfor ( var m = 0; m !== animationKeys[ k ].morphTargets.length; ++ m ) {\n\n\t\t\t\t\t\tvar animationKey = animationKeys[ k ];\n\n\t\t\t\t\t\ttimes.push( animationKey.time );\n\t\t\t\t\t\tvalues.push( ( animationKey.morphTarget === morphTargetName ) ? 1 : 0 );\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttracks.push( new NumberKeyframeTrack( '.morphTargetInfluence[' + morphTargetName + ']', times, values ) );\n\n\t\t\t\t}\n\n\t\t\t\tduration = morphTargetNames.length * ( fps || 1.0 );\n\n\t\t\t} else {\n\n\t\t\t\t// ...assume skeletal animation\n\n\t\t\t\tvar boneName = '.bones[' + bones[ h ].name + ']';\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.position',\n\t\t\t\t\tanimationKeys, 'pos', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tQuaternionKeyframeTrack, boneName + '.quaternion',\n\t\t\t\t\tanimationKeys, 'rot', tracks );\n\n\t\t\t\taddNonemptyTrack(\n\t\t\t\t\tVectorKeyframeTrack, boneName + '.scale',\n\t\t\t\t\tanimationKeys, 'scl', tracks );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( tracks.length === 0 ) {\n\n\t\t\treturn null;\n\n\t\t}\n\n\t\tvar clip = new AnimationClip( clipName, duration, tracks );\n\n\t\treturn clip;\n\n\t}\n\n} );\n\nObject.assign( AnimationClip.prototype, {\n\n\tresetDuration: function () {\n\n\t\tvar tracks = this.tracks, duration = 0;\n\n\t\tfor ( var i = 0, n = tracks.length; i !== n; ++ i ) {\n\n\t\t\tvar track = this.tracks[ i ];\n\n\t\t\tduration = Math.max( duration, track.times[ track.times.length - 1 ] );\n\n\t\t}\n\n\t\tthis.duration = duration;\n\n\t\treturn this;\n\n\t},\n\n\ttrim: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].trim( 0, this.duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tvalidate: function () {\n\n\t\tvar valid = true;\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tvalid = valid && this.tracks[ i ].validate();\n\n\t\t}\n\n\t\treturn valid;\n\n\t},\n\n\toptimize: function () {\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\tthis.tracks[ i ].optimize();\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\tvar tracks = [];\n\n\t\tfor ( var i = 0; i < this.tracks.length; i ++ ) {\n\n\t\t\ttracks.push( this.tracks[ i ].clone() );\n\n\t\t}\n\n\t\treturn new AnimationClip( this.name, this.duration, tracks );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar Cache = {\n\n\tenabled: false,\n\n\tfiles: {},\n\n\tadd: function ( key, file ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Adding key:', key );\n\n\t\tthis.files[ key ] = file;\n\n\t},\n\n\tget: function ( key ) {\n\n\t\tif ( this.enabled === false ) return;\n\n\t\t// console.log( 'THREE.Cache', 'Checking key:', key );\n\n\t\treturn this.files[ key ];\n\n\t},\n\n\tremove: function ( key ) {\n\n\t\tdelete this.files[ key ];\n\n\t},\n\n\tclear: function () {\n\n\t\tthis.files = {};\n\n\t}\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LoadingManager( onLoad, onProgress, onError ) {\n\n\tvar scope = this;\n\n\tvar isLoading = false;\n\tvar itemsLoaded = 0;\n\tvar itemsTotal = 0;\n\tvar urlModifier = undefined;\n\tvar handlers = [];\n\n\t// Refer to #5689 for the reason why we don't set .onStart\n\t// in the constructor\n\n\tthis.onStart = undefined;\n\tthis.onLoad = onLoad;\n\tthis.onProgress = onProgress;\n\tthis.onError = onError;\n\n\tthis.itemStart = function ( url ) {\n\n\t\titemsTotal ++;\n\n\t\tif ( isLoading === false ) {\n\n\t\t\tif ( scope.onStart !== undefined ) {\n\n\t\t\t\tscope.onStart( url, itemsLoaded, itemsTotal );\n\n\t\t\t}\n\n\t\t}\n\n\t\tisLoading = true;\n\n\t};\n\n\tthis.itemEnd = function ( url ) {\n\n\t\titemsLoaded ++;\n\n\t\tif ( scope.onProgress !== undefined ) {\n\n\t\t\tscope.onProgress( url, itemsLoaded, itemsTotal );\n\n\t\t}\n\n\t\tif ( itemsLoaded === itemsTotal ) {\n\n\t\t\tisLoading = false;\n\n\t\t\tif ( scope.onLoad !== undefined ) {\n\n\t\t\t\tscope.onLoad();\n\n\t\t\t}\n\n\t\t}\n\n\t};\n\n\tthis.itemError = function ( url ) {\n\n\t\tif ( scope.onError !== undefined ) {\n\n\t\t\tscope.onError( url );\n\n\t\t}\n\n\t};\n\n\tthis.resolveURL = function ( url ) {\n\n\t\tif ( urlModifier ) {\n\n\t\t\treturn urlModifier( url );\n\n\t\t}\n\n\t\treturn url;\n\n\t};\n\n\tthis.setURLModifier = function ( transform ) {\n\n\t\turlModifier = transform;\n\n\t\treturn this;\n\n\t};\n\n\tthis.addHandler = function ( regex, loader ) {\n\n\t\thandlers.push( regex, loader );\n\n\t\treturn this;\n\n\t};\n\n\tthis.removeHandler = function ( regex ) {\n\n\t\tvar index = handlers.indexOf( regex );\n\n\t\tif ( index !== - 1 ) {\n\n\t\t\thandlers.splice( index, 2 );\n\n\t\t}\n\n\t\treturn this;\n\n\t};\n\n\tthis.getHandler = function ( file ) {\n\n\t\tfor ( var i = 0, l = handlers.length; i < l; i += 2 ) {\n\n\t\t\tvar regex = handlers[ i ];\n\t\t\tvar loader = handlers[ i + 1 ];\n\n\t\t\tif ( regex.global ) regex.lastIndex = 0; // see #17920\n\n\t\t\tif ( regex.test( file ) ) {\n\n\t\t\t\treturn loader;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t};\n\n}\n\nvar DefaultLoadingManager = new LoadingManager();\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Loader( manager ) {\n\n\tthis.manager = ( manager !== undefined ) ? manager : DefaultLoadingManager;\n\n\tthis.crossOrigin = 'anonymous';\n\tthis.path = '';\n\tthis.resourcePath = '';\n\n}\n\nObject.assign( Loader.prototype, {\n\n\tload: function ( /* url, onLoad, onProgress, onError */ ) {},\n\n\tparse: function ( /* data */ ) {},\n\n\tsetCrossOrigin: function ( crossOrigin ) {\n\n\t\tthis.crossOrigin = crossOrigin;\n\t\treturn this;\n\n\t},\n\n\tsetPath: function ( path ) {\n\n\t\tthis.path = path;\n\t\treturn this;\n\n\t},\n\n\tsetResourcePath: function ( resourcePath ) {\n\n\t\tthis.resourcePath = resourcePath;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar loading = {};\n\nfunction FileLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFileLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FileLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\t// Check if request is duplicate\n\n\t\tif ( loading[ url ] !== undefined ) {\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\treturn;\n\n\t\t}\n\n\t\t// Check for data: URI\n\t\tvar dataUriRegex = /^data:(.*?)(;base64)?,(.*)$/;\n\t\tvar dataUriRegexResult = url.match( dataUriRegex );\n\n\t\t// Safari can not handle Data URIs through XMLHttpRequest so process manually\n\t\tif ( dataUriRegexResult ) {\n\n\t\t\tvar mimeType = dataUriRegexResult[ 1 ];\n\t\t\tvar isBase64 = !! dataUriRegexResult[ 2 ];\n\t\t\tvar data = dataUriRegexResult[ 3 ];\n\n\t\t\tdata = decodeURIComponent( data );\n\n\t\t\tif ( isBase64 ) data = atob( data );\n\n\t\t\ttry {\n\n\t\t\t\tvar response;\n\t\t\t\tvar responseType = ( this.responseType || '' ).toLowerCase();\n\n\t\t\t\tswitch ( responseType ) {\n\n\t\t\t\t\tcase 'arraybuffer':\n\t\t\t\t\tcase 'blob':\n\n\t\t\t\t\t\tvar view = new Uint8Array( data.length );\n\n\t\t\t\t\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\t\t\t\t\tview[ i ] = data.charCodeAt( i );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tif ( responseType === 'blob' ) {\n\n\t\t\t\t\t\t\tresponse = new Blob( [ view.buffer ], { type: mimeType } );\n\n\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\tresponse = view.buffer;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'document':\n\n\t\t\t\t\t\tvar parser = new DOMParser();\n\t\t\t\t\t\tresponse = parser.parseFromString( data, mimeType );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'json':\n\n\t\t\t\t\t\tresponse = JSON.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault: // 'text' or other\n\n\t\t\t\t\t\tresponse = data;\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t}\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onLoad ) onLoad( response );\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\t// Wait for next browser tick like standard XMLHttpRequest event dispatching does\n\t\t\t\tsetTimeout( function () {\n\n\t\t\t\t\tif ( onError ) onError( error );\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}, 0 );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// Initialise array for duplicate requests\n\n\t\t\tloading[ url ] = [];\n\n\t\t\tloading[ url ].push( {\n\n\t\t\t\tonLoad: onLoad,\n\t\t\t\tonProgress: onProgress,\n\t\t\t\tonError: onError\n\n\t\t\t} );\n\n\t\t\tvar request = new XMLHttpRequest();\n\n\t\t\trequest.open( 'GET', url, true );\n\n\t\t\trequest.addEventListener( 'load', function ( event ) {\n\n\t\t\t\tvar response = this.response;\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tif ( this.status === 200 || this.status === 0 ) {\n\n\t\t\t\t\t// Some browsers return HTTP Status 0 when using non-http protocol\n\t\t\t\t\t// e.g. 'file://' or 'data://'. Handle as success.\n\n\t\t\t\t\tif ( this.status === 0 ) console.warn( 'THREE.FileLoader: HTTP Status 0 received.' );\n\n\t\t\t\t\t// Add to cache only on HTTP success, so that we do not cache\n\t\t\t\t\t// error response bodies as proper responses to requests.\n\t\t\t\t\tCache.add( url, response );\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onLoad ) callback.onLoad( response );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tscope.manager.itemError( url );\n\t\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'progress', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onProgress ) callback.onProgress( event );\n\n\t\t\t\t}\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'error', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\trequest.addEventListener( 'abort', function ( event ) {\n\n\t\t\t\tvar callbacks = loading[ url ];\n\n\t\t\t\tdelete loading[ url ];\n\n\t\t\t\tfor ( var i = 0, il = callbacks.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar callback = callbacks[ i ];\n\t\t\t\t\tif ( callback.onError ) callback.onError( event );\n\n\t\t\t\t}\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, false );\n\n\t\t\tif ( this.responseType !== undefined ) request.responseType = this.responseType;\n\t\t\tif ( this.withCredentials !== undefined ) request.withCredentials = this.withCredentials;\n\n\t\t\tif ( request.overrideMimeType ) request.overrideMimeType( this.mimeType !== undefined ? this.mimeType : 'text/plain' );\n\n\t\t\tfor ( var header in this.requestHeader ) {\n\n\t\t\t\trequest.setRequestHeader( header, this.requestHeader[ header ] );\n\n\t\t\t}\n\n\t\t\trequest.send( null );\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\treturn request;\n\n\t},\n\n\tsetResponseType: function ( value ) {\n\n\t\tthis.responseType = value;\n\t\treturn this;\n\n\t},\n\n\tsetWithCredentials: function ( value ) {\n\n\t\tthis.withCredentials = value;\n\t\treturn this;\n\n\t},\n\n\tsetMimeType: function ( value ) {\n\n\t\tthis.mimeType = value;\n\t\treturn this;\n\n\t},\n\n\tsetRequestHeader: function ( value ) {\n\n\t\tthis.requestHeader = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io/\n */\n\nfunction AnimationLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAnimationLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AnimationLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar clip = AnimationClip.parse( json[ i ] );\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n *\n * Abstract Base class to block based textures loader (dds, pvr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction CompressedTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCompressedTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CompressedTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar images = [];\n\n\t\tvar texture = new CompressedTexture();\n\t\ttexture.image = images;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.setResponseType( 'arraybuffer' );\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( url[ i ], function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope.parse( buffer, true );\n\n\t\t\t\timages[ i ] = {\n\t\t\t\t\twidth: texDatas.width,\n\t\t\t\t\theight: texDatas.height,\n\t\t\t\t\tformat: texDatas.format,\n\t\t\t\t\tmipmaps: texDatas.mipmaps\n\t\t\t\t};\n\n\t\t\t\tloaded += 1;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\tif ( texDatas.mipmapCount === 1 )\n\t\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\tif ( Array.isArray( url ) ) {\n\n\t\t\tvar loaded = 0;\n\n\t\t\tfor ( var i = 0, il = url.length; i < il; ++ i ) {\n\n\t\t\t\tloadTexture( i );\n\n\t\t\t}\n\n\t\t} else {\n\n\t\t\t// compressed cubemap texture stored in a single DDS file\n\n\t\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t\tvar texDatas = scope.parse( buffer, true );\n\n\t\t\t\tif ( texDatas.isCubemap ) {\n\n\t\t\t\t\tvar faces = texDatas.mipmaps.length / texDatas.mipmapCount;\n\n\t\t\t\t\tfor ( var f = 0; f < faces; f ++ ) {\n\n\t\t\t\t\t\timages[ f ] = { mipmaps: [] };\n\n\t\t\t\t\t\tfor ( var i = 0; i < texDatas.mipmapCount; i ++ ) {\n\n\t\t\t\t\t\t\timages[ f ].mipmaps.push( texDatas.mipmaps[ f * texDatas.mipmapCount + i ] );\n\t\t\t\t\t\t\timages[ f ].format = texDatas.format;\n\t\t\t\t\t\t\timages[ f ].width = texDatas.width;\n\t\t\t\t\t\t\timages[ f ].height = texDatas.height;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture.image.width = texDatas.width;\n\t\t\t\t\ttexture.image.height = texDatas.height;\n\t\t\t\t\ttexture.mipmaps = texDatas.mipmaps;\n\n\t\t\t\t}\n\n\t\t\t\tif ( texDatas.mipmapCount === 1 ) {\n\n\t\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t\t}\n\n\t\t\t\ttexture.format = texDatas.format;\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t}, onProgress, onError );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author Nikos M. / https://github.com/foo123/\n *\n * Abstract Base class to load generic binary textures formats (rgbe, hdr, ...)\n *\n * Sub classes have to implement the parse() method which will be used in load().\n */\n\nfunction DataTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nDataTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: DataTextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar texture = new DataTexture();\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\tvar texData = scope.parse( buffer );\n\n\t\t\tif ( ! texData ) return;\n\n\t\t\tif ( texData.image !== undefined ) {\n\n\t\t\t\ttexture.image = texData.image;\n\n\t\t\t} else if ( texData.data !== undefined ) {\n\n\t\t\t\ttexture.image.width = texData.width;\n\t\t\t\ttexture.image.height = texData.height;\n\t\t\t\ttexture.image.data = texData.data;\n\n\t\t\t}\n\n\t\t\ttexture.wrapS = texData.wrapS !== undefined ? texData.wrapS : ClampToEdgeWrapping;\n\t\t\ttexture.wrapT = texData.wrapT !== undefined ? texData.wrapT : ClampToEdgeWrapping;\n\n\t\t\ttexture.magFilter = texData.magFilter !== undefined ? texData.magFilter : LinearFilter;\n\t\t\ttexture.minFilter = texData.minFilter !== undefined ? texData.minFilter : LinearFilter;\n\n\t\t\ttexture.anisotropy = texData.anisotropy !== undefined ? texData.anisotropy : 1;\n\n\t\t\tif ( texData.format !== undefined ) {\n\n\t\t\t\ttexture.format = texData.format;\n\n\t\t\t}\n\t\t\tif ( texData.type !== undefined ) {\n\n\t\t\t\ttexture.type = texData.type;\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmaps !== undefined ) {\n\n\t\t\t\ttexture.mipmaps = texData.mipmaps;\n\t\t\t\ttexture.minFilter = LinearMipmapLinearFilter; // presumably...\n\n\t\t\t}\n\n\t\t\tif ( texData.mipmapCount === 1 ) {\n\n\t\t\t\ttexture.minFilter = LinearFilter;\n\n\t\t\t}\n\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad ) onLoad( texture, texData );\n\n\t\t}, onProgress, onError );\n\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ImageLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nImageLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tvar image = document.createElementNS( 'http://www.w3.org/1999/xhtml', 'img' );\n\n\t\tfunction onImageLoad() {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tCache.add( url, this );\n\n\t\t\tif ( onLoad ) onLoad( this );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\tfunction onImageError( event ) {\n\n\t\t\timage.removeEventListener( 'load', onImageLoad, false );\n\t\t\timage.removeEventListener( 'error', onImageError, false );\n\n\t\t\tif ( onError ) onError( event );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t}\n\n\t\timage.addEventListener( 'load', onImageLoad, false );\n\t\timage.addEventListener( 'error', onImageError, false );\n\n\t\tif ( url.substr( 0, 5 ) !== 'data:' ) {\n\n\t\t\tif ( this.crossOrigin !== undefined ) image.crossOrigin = this.crossOrigin;\n\n\t\t}\n\n\t\tscope.manager.itemStart( url );\n\n\t\timage.src = url;\n\n\t\treturn image;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction CubeTextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nCubeTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: CubeTextureLoader,\n\n\tload: function ( urls, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new CubeTexture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tvar loaded = 0;\n\n\t\tfunction loadTexture( i ) {\n\n\t\t\tloader.load( urls[ i ], function ( image ) {\n\n\t\t\t\ttexture.images[ i ] = image;\n\n\t\t\t\tloaded ++;\n\n\t\t\t\tif ( loaded === 6 ) {\n\n\t\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\t\tif ( onLoad ) onLoad( texture );\n\n\t\t\t\t}\n\n\t\t\t}, undefined, onError );\n\n\t\t}\n\n\t\tfor ( var i = 0; i < urls.length; ++ i ) {\n\n\t\t\tloadTexture( i );\n\n\t\t}\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction TextureLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nTextureLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: TextureLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar texture = new Texture();\n\n\t\tvar loader = new ImageLoader( this.manager );\n\t\tloader.setCrossOrigin( this.crossOrigin );\n\t\tloader.setPath( this.path );\n\n\t\tloader.load( url, function ( image ) {\n\n\t\t\ttexture.image = image;\n\n\t\t\t// JPEGs can't have an alpha channel, so memory can be saved by storing them as RGB.\n\t\t\tvar isJPEG = url.search( /\\.jpe?g($|\\?)/i ) > 0 || url.search( /^data\\:image\\/jpeg/ ) === 0;\n\n\t\t\ttexture.format = isJPEG ? RGBFormat : RGBAFormat;\n\t\t\ttexture.needsUpdate = true;\n\n\t\t\tif ( onLoad !== undefined ) {\n\n\t\t\t\tonLoad( texture );\n\n\t\t\t}\n\n\t\t}, onProgress, onError );\n\n\t\treturn texture;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Extensible curve object\n *\n * Some common of curve methods:\n * .getPoint( t, optionalTarget ), .getTangent( t )\n * .getPointAt( u, optionalTarget ), .getTangentAt( u )\n * .getPoints(), .getSpacedPoints()\n * .getLength()\n * .updateArcLengths()\n *\n * This following curves inherit from THREE.Curve:\n *\n * -- 2D curves --\n * THREE.ArcCurve\n * THREE.CubicBezierCurve\n * THREE.EllipseCurve\n * THREE.LineCurve\n * THREE.QuadraticBezierCurve\n * THREE.SplineCurve\n *\n * -- 3D curves --\n * THREE.CatmullRomCurve3\n * THREE.CubicBezierCurve3\n * THREE.LineCurve3\n * THREE.QuadraticBezierCurve3\n *\n * A series of curves can be represented as a THREE.CurvePath.\n *\n **/\n\n/**************************************************************\n *\tAbstract Curve base class\n **************************************************************/\n\nfunction Curve() {\n\n\tthis.type = 'Curve';\n\n\tthis.arcLengthDivisions = 200;\n\n}\n\nObject.assign( Curve.prototype, {\n\n\t// Virtual base class method to overwrite and implement in subclasses\n\t//\t- t [0 .. 1]\n\n\tgetPoint: function ( /* t, optionalTarget */ ) {\n\n\t\tconsole.warn( 'THREE.Curve: .getPoint() not implemented.' );\n\t\treturn null;\n\n\t},\n\n\t// Get point at relative position in curve according to arc length\n\t// - u [0 .. 1]\n\n\tgetPointAt: function ( u, optionalTarget ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getPoint( t, optionalTarget );\n\n\t},\n\n\t// Get sequence of points using getPoint( t )\n\n\tgetPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPoint( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get sequence of points using getPointAt( u )\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 5;\n\n\t\tvar points = [];\n\n\t\tfor ( var d = 0; d <= divisions; d ++ ) {\n\n\t\t\tpoints.push( this.getPointAt( d / divisions ) );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\t// Get total curve arc length\n\n\tgetLength: function () {\n\n\t\tvar lengths = this.getLengths();\n\t\treturn lengths[ lengths.length - 1 ];\n\n\t},\n\n\t// Get list of cumulative segment lengths\n\n\tgetLengths: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = this.arcLengthDivisions;\n\n\t\tif ( this.cacheArcLengths &&\n\t\t\t( this.cacheArcLengths.length === divisions + 1 ) &&\n\t\t\t! this.needsUpdate ) {\n\n\t\t\treturn this.cacheArcLengths;\n\n\t\t}\n\n\t\tthis.needsUpdate = false;\n\n\t\tvar cache = [];\n\t\tvar current, last = this.getPoint( 0 );\n\t\tvar p, sum = 0;\n\n\t\tcache.push( 0 );\n\n\t\tfor ( p = 1; p <= divisions; p ++ ) {\n\n\t\t\tcurrent = this.getPoint( p / divisions );\n\t\t\tsum += current.distanceTo( last );\n\t\t\tcache.push( sum );\n\t\t\tlast = current;\n\n\t\t}\n\n\t\tthis.cacheArcLengths = cache;\n\n\t\treturn cache; // { sums: cache, sum: sum }; Sum is in the last element.\n\n\t},\n\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.getLengths();\n\n\t},\n\n\t// Given u ( 0 .. 1 ), get a t to find p. This gives you points which are equidistant\n\n\tgetUtoTmapping: function ( u, distance ) {\n\n\t\tvar arcLengths = this.getLengths();\n\n\t\tvar i = 0, il = arcLengths.length;\n\n\t\tvar targetArcLength; // The targeted u distance value to get\n\n\t\tif ( distance ) {\n\n\t\t\ttargetArcLength = distance;\n\n\t\t} else {\n\n\t\t\ttargetArcLength = u * arcLengths[ il - 1 ];\n\n\t\t}\n\n\t\t// binary search for the index with largest value smaller than target u distance\n\n\t\tvar low = 0, high = il - 1, comparison;\n\n\t\twhile ( low <= high ) {\n\n\t\t\ti = Math.floor( low + ( high - low ) / 2 ); // less likely to overflow, though probably not issue here, JS doesn't really have integers, all numbers are floats\n\n\t\t\tcomparison = arcLengths[ i ] - targetArcLength;\n\n\t\t\tif ( comparison < 0 ) {\n\n\t\t\t\tlow = i + 1;\n\n\t\t\t} else if ( comparison > 0 ) {\n\n\t\t\t\thigh = i - 1;\n\n\t\t\t} else {\n\n\t\t\t\thigh = i;\n\t\t\t\tbreak;\n\n\t\t\t\t// DONE\n\n\t\t\t}\n\n\t\t}\n\n\t\ti = high;\n\n\t\tif ( arcLengths[ i ] === targetArcLength ) {\n\n\t\t\treturn i / ( il - 1 );\n\n\t\t}\n\n\t\t// we could get finer grain at lengths, or use simple interpolation between two points\n\n\t\tvar lengthBefore = arcLengths[ i ];\n\t\tvar lengthAfter = arcLengths[ i + 1 ];\n\n\t\tvar segmentLength = lengthAfter - lengthBefore;\n\n\t\t// determine where we are between the 'before' and 'after' points\n\n\t\tvar segmentFraction = ( targetArcLength - lengthBefore ) / segmentLength;\n\n\t\t// add that fractional amount to t\n\n\t\tvar t = ( i + segmentFraction ) / ( il - 1 );\n\n\t\treturn t;\n\n\t},\n\n\t// Returns a unit vector tangent at t\n\t// In case any sub curve does not implement its tangent derivation,\n\t// 2 points a small delta apart will be used to find its gradient\n\t// which seems to give a reasonable approximation\n\n\tgetTangent: function ( t ) {\n\n\t\tvar delta = 0.0001;\n\t\tvar t1 = t - delta;\n\t\tvar t2 = t + delta;\n\n\t\t// Capping in case of danger\n\n\t\tif ( t1 < 0 ) t1 = 0;\n\t\tif ( t2 > 1 ) t2 = 1;\n\n\t\tvar pt1 = this.getPoint( t1 );\n\t\tvar pt2 = this.getPoint( t2 );\n\n\t\tvar vec = pt2.clone().sub( pt1 );\n\t\treturn vec.normalize();\n\n\t},\n\n\tgetTangentAt: function ( u ) {\n\n\t\tvar t = this.getUtoTmapping( u );\n\t\treturn this.getTangent( t );\n\n\t},\n\n\tcomputeFrenetFrames: function ( segments, closed ) {\n\n\t\t// see http://www.cs.indiana.edu/pub/techreports/TR425.pdf\n\n\t\tvar normal = new Vector3();\n\n\t\tvar tangents = [];\n\t\tvar normals = [];\n\t\tvar binormals = [];\n\n\t\tvar vec = new Vector3();\n\t\tvar mat = new Matrix4();\n\n\t\tvar i, u, theta;\n\n\t\t// compute the tangent vectors for each segment on the curve\n\n\t\tfor ( i = 0; i <= segments; i ++ ) {\n\n\t\t\tu = i / segments;\n\n\t\t\ttangents[ i ] = this.getTangentAt( u );\n\t\t\ttangents[ i ].normalize();\n\n\t\t}\n\n\t\t// select an initial normal vector perpendicular to the first tangent vector,\n\t\t// and in the direction of the minimum tangent xyz component\n\n\t\tnormals[ 0 ] = new Vector3();\n\t\tbinormals[ 0 ] = new Vector3();\n\t\tvar min = Number.MAX_VALUE;\n\t\tvar tx = Math.abs( tangents[ 0 ].x );\n\t\tvar ty = Math.abs( tangents[ 0 ].y );\n\t\tvar tz = Math.abs( tangents[ 0 ].z );\n\n\t\tif ( tx <= min ) {\n\n\t\t\tmin = tx;\n\t\t\tnormal.set( 1, 0, 0 );\n\n\t\t}\n\n\t\tif ( ty <= min ) {\n\n\t\t\tmin = ty;\n\t\t\tnormal.set( 0, 1, 0 );\n\n\t\t}\n\n\t\tif ( tz <= min ) {\n\n\t\t\tnormal.set( 0, 0, 1 );\n\n\t\t}\n\n\t\tvec.crossVectors( tangents[ 0 ], normal ).normalize();\n\n\t\tnormals[ 0 ].crossVectors( tangents[ 0 ], vec );\n\t\tbinormals[ 0 ].crossVectors( tangents[ 0 ], normals[ 0 ] );\n\n\n\t\t// compute the slowly-varying normal and binormal vectors for each segment on the curve\n\n\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\tnormals[ i ] = normals[ i - 1 ].clone();\n\n\t\t\tbinormals[ i ] = binormals[ i - 1 ].clone();\n\n\t\t\tvec.crossVectors( tangents[ i - 1 ], tangents[ i ] );\n\n\t\t\tif ( vec.length() > Number.EPSILON ) {\n\n\t\t\t\tvec.normalize();\n\n\t\t\t\ttheta = Math.acos( MathUtils.clamp( tangents[ i - 1 ].dot( tangents[ i ] ), - 1, 1 ) ); // clamp for floating pt errors\n\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( vec, theta ) );\n\n\t\t\t}\n\n\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t}\n\n\t\t// if the curve is closed, postprocess the vectors so the first and last normal vectors are the same\n\n\t\tif ( closed === true ) {\n\n\t\t\ttheta = Math.acos( MathUtils.clamp( normals[ 0 ].dot( normals[ segments ] ), - 1, 1 ) );\n\t\t\ttheta /= segments;\n\n\t\t\tif ( tangents[ 0 ].dot( vec.crossVectors( normals[ 0 ], normals[ segments ] ) ) > 0 ) {\n\n\t\t\t\ttheta = - theta;\n\n\t\t\t}\n\n\t\t\tfor ( i = 1; i <= segments; i ++ ) {\n\n\t\t\t\t// twist a little...\n\t\t\t\tnormals[ i ].applyMatrix4( mat.makeRotationAxis( tangents[ i ], theta * i ) );\n\t\t\t\tbinormals[ i ].crossVectors( tangents[ i ], normals[ i ] );\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn {\n\t\t\ttangents: tangents,\n\t\t\tnormals: normals,\n\t\t\tbinormals: binormals\n\t\t};\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.arcLengthDivisions = source.arcLengthDivisions;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = {\n\t\t\tmetadata: {\n\t\t\t\tversion: 4.5,\n\t\t\t\ttype: 'Curve',\n\t\t\t\tgenerator: 'Curve.toJSON'\n\t\t\t}\n\t\t};\n\n\t\tdata.arcLengthDivisions = this.arcLengthDivisions;\n\t\tdata.type = this.type;\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tthis.arcLengthDivisions = json.arcLengthDivisions;\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'EllipseCurve';\n\n\tthis.aX = aX || 0;\n\tthis.aY = aY || 0;\n\n\tthis.xRadius = xRadius || 1;\n\tthis.yRadius = yRadius || 1;\n\n\tthis.aStartAngle = aStartAngle || 0;\n\tthis.aEndAngle = aEndAngle || 2 * Math.PI;\n\n\tthis.aClockwise = aClockwise || false;\n\n\tthis.aRotation = aRotation || 0;\n\n}\n\nEllipseCurve.prototype = Object.create( Curve.prototype );\nEllipseCurve.prototype.constructor = EllipseCurve;\n\nEllipseCurve.prototype.isEllipseCurve = true;\n\nEllipseCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar twoPi = Math.PI * 2;\n\tvar deltaAngle = this.aEndAngle - this.aStartAngle;\n\tvar samePoints = Math.abs( deltaAngle ) < Number.EPSILON;\n\n\t// ensures that deltaAngle is 0 .. 2 PI\n\twhile ( deltaAngle < 0 ) deltaAngle += twoPi;\n\twhile ( deltaAngle > twoPi ) deltaAngle -= twoPi;\n\n\tif ( deltaAngle < Number.EPSILON ) {\n\n\t\tif ( samePoints ) {\n\n\t\t\tdeltaAngle = 0;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = twoPi;\n\n\t\t}\n\n\t}\n\n\tif ( this.aClockwise === true && ! samePoints ) {\n\n\t\tif ( deltaAngle === twoPi ) {\n\n\t\t\tdeltaAngle = - twoPi;\n\n\t\t} else {\n\n\t\t\tdeltaAngle = deltaAngle - twoPi;\n\n\t\t}\n\n\t}\n\n\tvar angle = this.aStartAngle + t * deltaAngle;\n\tvar x = this.aX + this.xRadius * Math.cos( angle );\n\tvar y = this.aY + this.yRadius * Math.sin( angle );\n\n\tif ( this.aRotation !== 0 ) {\n\n\t\tvar cos = Math.cos( this.aRotation );\n\t\tvar sin = Math.sin( this.aRotation );\n\n\t\tvar tx = x - this.aX;\n\t\tvar ty = y - this.aY;\n\n\t\t// Rotate the point about the center of the ellipse.\n\t\tx = tx * cos - ty * sin + this.aX;\n\t\ty = tx * sin + ty * cos + this.aY;\n\n\t}\n\n\treturn point.set( x, y );\n\n};\n\nEllipseCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.aX = source.aX;\n\tthis.aY = source.aY;\n\n\tthis.xRadius = source.xRadius;\n\tthis.yRadius = source.yRadius;\n\n\tthis.aStartAngle = source.aStartAngle;\n\tthis.aEndAngle = source.aEndAngle;\n\n\tthis.aClockwise = source.aClockwise;\n\n\tthis.aRotation = source.aRotation;\n\n\treturn this;\n\n};\n\n\nEllipseCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.aX = this.aX;\n\tdata.aY = this.aY;\n\n\tdata.xRadius = this.xRadius;\n\tdata.yRadius = this.yRadius;\n\n\tdata.aStartAngle = this.aStartAngle;\n\tdata.aEndAngle = this.aEndAngle;\n\n\tdata.aClockwise = this.aClockwise;\n\n\tdata.aRotation = this.aRotation;\n\n\treturn data;\n\n};\n\nEllipseCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.aX = json.aX;\n\tthis.aY = json.aY;\n\n\tthis.xRadius = json.xRadius;\n\tthis.yRadius = json.yRadius;\n\n\tthis.aStartAngle = json.aStartAngle;\n\tthis.aEndAngle = json.aEndAngle;\n\n\tthis.aClockwise = json.aClockwise;\n\n\tthis.aRotation = json.aRotation;\n\n\treturn this;\n\n};\n\nfunction ArcCurve( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\tEllipseCurve.call( this, aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\tthis.type = 'ArcCurve';\n\n}\n\nArcCurve.prototype = Object.create( EllipseCurve.prototype );\nArcCurve.prototype.constructor = ArcCurve;\n\nArcCurve.prototype.isArcCurve = true;\n\n/**\n * @author zz85 https://github.com/zz85\n *\n * Centripetal CatmullRom Curve - which is useful for avoiding\n * cusps and self-intersections in non-uniform catmull rom curves.\n * http://www.cemyuksel.com/research/catmullrom_param/catmullrom.pdf\n *\n * curve.type accepts centripetal(default), chordal and catmullrom\n * curve.tension is used for catmullrom which defaults to 0.5\n */\n\n\n/*\nBased on an optimized c++ solution in\n - http://stackoverflow.com/questions/9489736/catmull-rom-curve-with-no-cusps-and-no-self-intersections/\n - http://ideone.com/NoEbVM\n\nThis CubicPoly class could be used for reusing some variables and calculations,\nbut for three.js curve use, it could be possible inlined and flatten into a single function call\nwhich can be placed in CurveUtils.\n*/\n\nfunction CubicPoly() {\n\n\tvar c0 = 0, c1 = 0, c2 = 0, c3 = 0;\n\n\t/*\n\t * Compute coefficients for a cubic polynomial\n\t *   p(s) = c0 + c1*s + c2*s^2 + c3*s^3\n\t * such that\n\t *   p(0) = x0, p(1) = x1\n\t *  and\n\t *   p'(0) = t0, p'(1) = t1.\n\t */\n\tfunction init( x0, x1, t0, t1 ) {\n\n\t\tc0 = x0;\n\t\tc1 = t0;\n\t\tc2 = - 3 * x0 + 3 * x1 - 2 * t0 - t1;\n\t\tc3 = 2 * x0 - 2 * x1 + t0 + t1;\n\n\t}\n\n\treturn {\n\n\t\tinitCatmullRom: function ( x0, x1, x2, x3, tension ) {\n\n\t\t\tinit( x1, x2, tension * ( x2 - x0 ), tension * ( x3 - x1 ) );\n\n\t\t},\n\n\t\tinitNonuniformCatmullRom: function ( x0, x1, x2, x3, dt0, dt1, dt2 ) {\n\n\t\t\t// compute tangents when parameterized in [t1,t2]\n\t\t\tvar t1 = ( x1 - x0 ) / dt0 - ( x2 - x0 ) / ( dt0 + dt1 ) + ( x2 - x1 ) / dt1;\n\t\t\tvar t2 = ( x2 - x1 ) / dt1 - ( x3 - x1 ) / ( dt1 + dt2 ) + ( x3 - x2 ) / dt2;\n\n\t\t\t// rescale tangents for parametrization in [0,1]\n\t\t\tt1 *= dt1;\n\t\t\tt2 *= dt1;\n\n\t\t\tinit( x1, x2, t1, t2 );\n\n\t\t},\n\n\t\tcalc: function ( t ) {\n\n\t\t\tvar t2 = t * t;\n\t\t\tvar t3 = t2 * t;\n\t\t\treturn c0 + c1 * t + c2 * t2 + c3 * t3;\n\n\t\t}\n\n\t};\n\n}\n\n//\n\nvar tmp = new Vector3();\nvar px = new CubicPoly(), py = new CubicPoly(), pz = new CubicPoly();\n\nfunction CatmullRomCurve3( points, closed, curveType, tension ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CatmullRomCurve3';\n\n\tthis.points = points || [];\n\tthis.closed = closed || false;\n\tthis.curveType = curveType || 'centripetal';\n\tthis.tension = tension || 0.5;\n\n}\n\nCatmullRomCurve3.prototype = Object.create( Curve.prototype );\nCatmullRomCurve3.prototype.constructor = CatmullRomCurve3;\n\nCatmullRomCurve3.prototype.isCatmullRomCurve3 = true;\n\nCatmullRomCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar points = this.points;\n\tvar l = points.length;\n\n\tvar p = ( l - ( this.closed ? 0 : 1 ) ) * t;\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tif ( this.closed ) {\n\n\t\tintPoint += intPoint > 0 ? 0 : ( Math.floor( Math.abs( intPoint ) / l ) + 1 ) * l;\n\n\t} else if ( weight === 0 && intPoint === l - 1 ) {\n\n\t\tintPoint = l - 2;\n\t\tweight = 1;\n\n\t}\n\n\tvar p0, p1, p2, p3; // 4 points\n\n\tif ( this.closed || intPoint > 0 ) {\n\n\t\tp0 = points[ ( intPoint - 1 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate first point\n\t\ttmp.subVectors( points[ 0 ], points[ 1 ] ).add( points[ 0 ] );\n\t\tp0 = tmp;\n\n\t}\n\n\tp1 = points[ intPoint % l ];\n\tp2 = points[ ( intPoint + 1 ) % l ];\n\n\tif ( this.closed || intPoint + 2 < l ) {\n\n\t\tp3 = points[ ( intPoint + 2 ) % l ];\n\n\t} else {\n\n\t\t// extrapolate last point\n\t\ttmp.subVectors( points[ l - 1 ], points[ l - 2 ] ).add( points[ l - 1 ] );\n\t\tp3 = tmp;\n\n\t}\n\n\tif ( this.curveType === 'centripetal' || this.curveType === 'chordal' ) {\n\n\t\t// init Centripetal / Chordal Catmull-Rom\n\t\tvar pow = this.curveType === 'chordal' ? 0.5 : 0.25;\n\t\tvar dt0 = Math.pow( p0.distanceToSquared( p1 ), pow );\n\t\tvar dt1 = Math.pow( p1.distanceToSquared( p2 ), pow );\n\t\tvar dt2 = Math.pow( p2.distanceToSquared( p3 ), pow );\n\n\t\t// safety check for repeated points\n\t\tif ( dt1 < 1e-4 ) dt1 = 1.0;\n\t\tif ( dt0 < 1e-4 ) dt0 = dt1;\n\t\tif ( dt2 < 1e-4 ) dt2 = dt1;\n\n\t\tpx.initNonuniformCatmullRom( p0.x, p1.x, p2.x, p3.x, dt0, dt1, dt2 );\n\t\tpy.initNonuniformCatmullRom( p0.y, p1.y, p2.y, p3.y, dt0, dt1, dt2 );\n\t\tpz.initNonuniformCatmullRom( p0.z, p1.z, p2.z, p3.z, dt0, dt1, dt2 );\n\n\t} else if ( this.curveType === 'catmullrom' ) {\n\n\t\tpx.initCatmullRom( p0.x, p1.x, p2.x, p3.x, this.tension );\n\t\tpy.initCatmullRom( p0.y, p1.y, p2.y, p3.y, this.tension );\n\t\tpz.initCatmullRom( p0.z, p1.z, p2.z, p3.z, this.tension );\n\n\t}\n\n\tpoint.set(\n\t\tpx.calc( weight ),\n\t\tpy.calc( weight ),\n\t\tpz.calc( weight )\n\t);\n\n\treturn point;\n\n};\n\nCatmullRomCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\tthis.closed = source.closed;\n\tthis.curveType = source.curveType;\n\tthis.tension = source.tension;\n\n\treturn this;\n\n};\n\nCatmullRomCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\tdata.closed = this.closed;\n\tdata.curveType = this.curveType;\n\tdata.tension = this.tension;\n\n\treturn data;\n\n};\n\nCatmullRomCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector3().fromArray( point ) );\n\n\t}\n\n\tthis.closed = json.closed;\n\tthis.curveType = json.curveType;\n\tthis.tension = json.tension;\n\n\treturn this;\n\n};\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n * Bezier Curves formulas obtained from\n * http://en.wikipedia.org/wiki/Bézier_curve\n */\n\nfunction CatmullRom( t, p0, p1, p2, p3 ) {\n\n\tvar v0 = ( p2 - p0 ) * 0.5;\n\tvar v1 = ( p3 - p1 ) * 0.5;\n\tvar t2 = t * t;\n\tvar t3 = t * t2;\n\treturn ( 2 * p1 - 2 * p2 + v0 + v1 ) * t3 + ( - 3 * p1 + 3 * p2 - 2 * v0 - v1 ) * t2 + v0 * t + p1;\n\n}\n\n//\n\nfunction QuadraticBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * p;\n\n}\n\nfunction QuadraticBezierP1( t, p ) {\n\n\treturn 2 * ( 1 - t ) * t * p;\n\n}\n\nfunction QuadraticBezierP2( t, p ) {\n\n\treturn t * t * p;\n\n}\n\nfunction QuadraticBezier( t, p0, p1, p2 ) {\n\n\treturn QuadraticBezierP0( t, p0 ) + QuadraticBezierP1( t, p1 ) +\n\t\tQuadraticBezierP2( t, p2 );\n\n}\n\n//\n\nfunction CubicBezierP0( t, p ) {\n\n\tvar k = 1 - t;\n\treturn k * k * k * p;\n\n}\n\nfunction CubicBezierP1( t, p ) {\n\n\tvar k = 1 - t;\n\treturn 3 * k * k * t * p;\n\n}\n\nfunction CubicBezierP2( t, p ) {\n\n\treturn 3 * ( 1 - t ) * t * t * p;\n\n}\n\nfunction CubicBezierP3( t, p ) {\n\n\treturn t * t * t * p;\n\n}\n\nfunction CubicBezier( t, p0, p1, p2, p3 ) {\n\n\treturn CubicBezierP0( t, p0 ) + CubicBezierP1( t, p1 ) + CubicBezierP2( t, p2 ) +\n\t\tCubicBezierP3( t, p3 );\n\n}\n\nfunction CubicBezierCurve( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\tthis.v3 = v3 || new Vector2();\n\n}\n\nCubicBezierCurve.prototype = Object.create( Curve.prototype );\nCubicBezierCurve.prototype.constructor = CubicBezierCurve;\n\nCubicBezierCurve.prototype.isCubicBezierCurve = true;\n\nCubicBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction CubicBezierCurve3( v0, v1, v2, v3 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'CubicBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\tthis.v3 = v3 || new Vector3();\n\n}\n\nCubicBezierCurve3.prototype = Object.create( Curve.prototype );\nCubicBezierCurve3.prototype.constructor = CubicBezierCurve3;\n\nCubicBezierCurve3.prototype.isCubicBezierCurve3 = true;\n\nCubicBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2, v3 = this.v3;\n\n\tpoint.set(\n\t\tCubicBezier( t, v0.x, v1.x, v2.x, v3.x ),\n\t\tCubicBezier( t, v0.y, v1.y, v2.y, v3.y ),\n\t\tCubicBezier( t, v0.z, v1.z, v2.z, v3.z )\n\t);\n\n\treturn point;\n\n};\n\nCubicBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\tthis.v3.copy( source.v3 );\n\n\treturn this;\n\n};\n\nCubicBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\tdata.v3 = this.v3.toArray();\n\n\treturn data;\n\n};\n\nCubicBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\tthis.v3.fromArray( json.v3 );\n\n\treturn this;\n\n};\n\nfunction LineCurve( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve';\n\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nLineCurve.prototype = Object.create( Curve.prototype );\nLineCurve.prototype.constructor = LineCurve;\n\nLineCurve.prototype.isLineCurve = true;\n\nLineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve.prototype.getTangent = function ( /* t */ ) {\n\n\tvar tangent = this.v2.clone().sub( this.v1 );\n\n\treturn tangent.normalize();\n\n};\n\nLineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction LineCurve3( v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'LineCurve3';\n\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nLineCurve3.prototype = Object.create( Curve.prototype );\nLineCurve3.prototype.constructor = LineCurve3;\n\nLineCurve3.prototype.isLineCurve3 = true;\n\nLineCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tif ( t === 1 ) {\n\n\t\tpoint.copy( this.v2 );\n\n\t} else {\n\n\t\tpoint.copy( this.v2 ).sub( this.v1 );\n\t\tpoint.multiplyScalar( t ).add( this.v1 );\n\n\t}\n\n\treturn point;\n\n};\n\n// Line curve is linear, so we can overwrite default getPointAt\n\nLineCurve3.prototype.getPointAt = function ( u, optionalTarget ) {\n\n\treturn this.getPoint( u, optionalTarget );\n\n};\n\nLineCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nLineCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nLineCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve';\n\n\tthis.v0 = v0 || new Vector2();\n\tthis.v1 = v1 || new Vector2();\n\tthis.v2 = v2 || new Vector2();\n\n}\n\nQuadraticBezierCurve.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve.prototype.constructor = QuadraticBezierCurve;\n\nQuadraticBezierCurve.prototype.isQuadraticBezierCurve = true;\n\nQuadraticBezierCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction QuadraticBezierCurve3( v0, v1, v2 ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'QuadraticBezierCurve3';\n\n\tthis.v0 = v0 || new Vector3();\n\tthis.v1 = v1 || new Vector3();\n\tthis.v2 = v2 || new Vector3();\n\n}\n\nQuadraticBezierCurve3.prototype = Object.create( Curve.prototype );\nQuadraticBezierCurve3.prototype.constructor = QuadraticBezierCurve3;\n\nQuadraticBezierCurve3.prototype.isQuadraticBezierCurve3 = true;\n\nQuadraticBezierCurve3.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector3();\n\n\tvar v0 = this.v0, v1 = this.v1, v2 = this.v2;\n\n\tpoint.set(\n\t\tQuadraticBezier( t, v0.x, v1.x, v2.x ),\n\t\tQuadraticBezier( t, v0.y, v1.y, v2.y ),\n\t\tQuadraticBezier( t, v0.z, v1.z, v2.z )\n\t);\n\n\treturn point;\n\n};\n\nQuadraticBezierCurve3.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.v0.copy( source.v0 );\n\tthis.v1.copy( source.v1 );\n\tthis.v2.copy( source.v2 );\n\n\treturn this;\n\n};\n\nQuadraticBezierCurve3.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.v0 = this.v0.toArray();\n\tdata.v1 = this.v1.toArray();\n\tdata.v2 = this.v2.toArray();\n\n\treturn data;\n\n};\n\nQuadraticBezierCurve3.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.v0.fromArray( json.v0 );\n\tthis.v1.fromArray( json.v1 );\n\tthis.v2.fromArray( json.v2 );\n\n\treturn this;\n\n};\n\nfunction SplineCurve( points /* array of Vector2 */ ) {\n\n\tCurve.call( this );\n\n\tthis.type = 'SplineCurve';\n\n\tthis.points = points || [];\n\n}\n\nSplineCurve.prototype = Object.create( Curve.prototype );\nSplineCurve.prototype.constructor = SplineCurve;\n\nSplineCurve.prototype.isSplineCurve = true;\n\nSplineCurve.prototype.getPoint = function ( t, optionalTarget ) {\n\n\tvar point = optionalTarget || new Vector2();\n\n\tvar points = this.points;\n\tvar p = ( points.length - 1 ) * t;\n\n\tvar intPoint = Math.floor( p );\n\tvar weight = p - intPoint;\n\n\tvar p0 = points[ intPoint === 0 ? intPoint : intPoint - 1 ];\n\tvar p1 = points[ intPoint ];\n\tvar p2 = points[ intPoint > points.length - 2 ? points.length - 1 : intPoint + 1 ];\n\tvar p3 = points[ intPoint > points.length - 3 ? points.length - 1 : intPoint + 2 ];\n\n\tpoint.set(\n\t\tCatmullRom( weight, p0.x, p1.x, p2.x, p3.x ),\n\t\tCatmullRom( weight, p0.y, p1.y, p2.y, p3.y )\n\t);\n\n\treturn point;\n\n};\n\nSplineCurve.prototype.copy = function ( source ) {\n\n\tCurve.prototype.copy.call( this, source );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = source.points.length; i < l; i ++ ) {\n\n\t\tvar point = source.points[ i ];\n\n\t\tthis.points.push( point.clone() );\n\n\t}\n\n\treturn this;\n\n};\n\nSplineCurve.prototype.toJSON = function () {\n\n\tvar data = Curve.prototype.toJSON.call( this );\n\n\tdata.points = [];\n\n\tfor ( var i = 0, l = this.points.length; i < l; i ++ ) {\n\n\t\tvar point = this.points[ i ];\n\t\tdata.points.push( point.toArray() );\n\n\t}\n\n\treturn data;\n\n};\n\nSplineCurve.prototype.fromJSON = function ( json ) {\n\n\tCurve.prototype.fromJSON.call( this, json );\n\n\tthis.points = [];\n\n\tfor ( var i = 0, l = json.points.length; i < l; i ++ ) {\n\n\t\tvar point = json.points[ i ];\n\t\tthis.points.push( new Vector2().fromArray( point ) );\n\n\t}\n\n\treturn this;\n\n};\n\n\n\nvar Curves = /*#__PURE__*/Object.freeze({\n\t__proto__: null,\n\tArcCurve: ArcCurve,\n\tCatmullRomCurve3: CatmullRomCurve3,\n\tCubicBezierCurve: CubicBezierCurve,\n\tCubicBezierCurve3: CubicBezierCurve3,\n\tEllipseCurve: EllipseCurve,\n\tLineCurve: LineCurve,\n\tLineCurve3: LineCurve3,\n\tQuadraticBezierCurve: QuadraticBezierCurve,\n\tQuadraticBezierCurve3: QuadraticBezierCurve3,\n\tSplineCurve: SplineCurve\n});\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n *\n **/\n\n/**************************************************************\n *\tCurved Path - a curve path is simply a array of connected\n *  curves, but retains the api of a curve\n **************************************************************/\n\nfunction CurvePath() {\n\n\tCurve.call( this );\n\n\tthis.type = 'CurvePath';\n\n\tthis.curves = [];\n\tthis.autoClose = false; // Automatically closes the path\n\n}\n\nCurvePath.prototype = Object.assign( Object.create( Curve.prototype ), {\n\n\tconstructor: CurvePath,\n\n\tadd: function ( curve ) {\n\n\t\tthis.curves.push( curve );\n\n\t},\n\n\tclosePath: function () {\n\n\t\t// Add a line curve if start and end of lines are not connected\n\t\tvar startPoint = this.curves[ 0 ].getPoint( 0 );\n\t\tvar endPoint = this.curves[ this.curves.length - 1 ].getPoint( 1 );\n\n\t\tif ( ! startPoint.equals( endPoint ) ) {\n\n\t\t\tthis.curves.push( new LineCurve( endPoint, startPoint ) );\n\n\t\t}\n\n\t},\n\n\t// To get accurate point with reference to\n\t// entire path distance at time t,\n\t// following has to be done:\n\n\t// 1. Length of each sub path have to be known\n\t// 2. Locate and identify type of curve\n\t// 3. Get t for the curve\n\t// 4. Return curve.getPointAt(t')\n\n\tgetPoint: function ( t ) {\n\n\t\tvar d = t * this.getLength();\n\t\tvar curveLengths = this.getCurveLengths();\n\t\tvar i = 0;\n\n\t\t// To think about boundaries points.\n\n\t\twhile ( i < curveLengths.length ) {\n\n\t\t\tif ( curveLengths[ i ] >= d ) {\n\n\t\t\t\tvar diff = curveLengths[ i ] - d;\n\t\t\t\tvar curve = this.curves[ i ];\n\n\t\t\t\tvar segmentLength = curve.getLength();\n\t\t\t\tvar u = segmentLength === 0 ? 0 : 1 - diff / segmentLength;\n\n\t\t\t\treturn curve.getPointAt( u );\n\n\t\t\t}\n\n\t\t\ti ++;\n\n\t\t}\n\n\t\treturn null;\n\n\t\t// loop where sum != 0, sum > d , sum+1 <d\n\n\t},\n\n\t// We cannot use the default THREE.Curve getPoint() with getLength() because in\n\t// THREE.Curve, getLength() depends on getPoint() but in THREE.CurvePath\n\t// getPoint() depends on getLength\n\n\tgetLength: function () {\n\n\t\tvar lens = this.getCurveLengths();\n\t\treturn lens[ lens.length - 1 ];\n\n\t},\n\n\t// cacheLengths must be recalculated.\n\tupdateArcLengths: function () {\n\n\t\tthis.needsUpdate = true;\n\t\tthis.cacheLengths = null;\n\t\tthis.getCurveLengths();\n\n\t},\n\n\t// Compute lengths and cache them\n\t// We cannot overwrite getLengths() because UtoT mapping uses it.\n\n\tgetCurveLengths: function () {\n\n\t\t// We use cache values if curves and cache array are same length\n\n\t\tif ( this.cacheLengths && this.cacheLengths.length === this.curves.length ) {\n\n\t\t\treturn this.cacheLengths;\n\n\t\t}\n\n\t\t// Get length of sub-curve\n\t\t// Push sums into cached array\n\n\t\tvar lengths = [], sums = 0;\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tsums += this.curves[ i ].getLength();\n\t\t\tlengths.push( sums );\n\n\t\t}\n\n\t\tthis.cacheLengths = lengths;\n\n\t\treturn lengths;\n\n\t},\n\n\tgetSpacedPoints: function ( divisions ) {\n\n\t\tif ( divisions === undefined ) divisions = 40;\n\n\t\tvar points = [];\n\n\t\tfor ( var i = 0; i <= divisions; i ++ ) {\n\n\t\t\tpoints.push( this.getPoint( i / divisions ) );\n\n\t\t}\n\n\t\tif ( this.autoClose ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tgetPoints: function ( divisions ) {\n\n\t\tdivisions = divisions || 12;\n\n\t\tvar points = [], last;\n\n\t\tfor ( var i = 0, curves = this.curves; i < curves.length; i ++ ) {\n\n\t\t\tvar curve = curves[ i ];\n\t\t\tvar resolution = ( curve && curve.isEllipseCurve ) ? divisions * 2\n\t\t\t\t: ( curve && ( curve.isLineCurve || curve.isLineCurve3 ) ) ? 1\n\t\t\t\t\t: ( curve && curve.isSplineCurve ) ? divisions * curve.points.length\n\t\t\t\t\t\t: divisions;\n\n\t\t\tvar pts = curve.getPoints( resolution );\n\n\t\t\tfor ( var j = 0; j < pts.length; j ++ ) {\n\n\t\t\t\tvar point = pts[ j ];\n\n\t\t\t\tif ( last && last.equals( point ) ) continue; // ensures no consecutive points are duplicates\n\n\t\t\t\tpoints.push( point );\n\t\t\t\tlast = point;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( this.autoClose && points.length > 1 && ! points[ points.length - 1 ].equals( points[ 0 ] ) ) {\n\n\t\t\tpoints.push( points[ 0 ] );\n\n\t\t}\n\n\t\treturn points;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurve.prototype.copy.call( this, source );\n\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = source.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = source.curves[ i ];\n\n\t\t\tthis.curves.push( curve.clone() );\n\n\t\t}\n\n\t\tthis.autoClose = source.autoClose;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Curve.prototype.toJSON.call( this );\n\n\t\tdata.autoClose = this.autoClose;\n\t\tdata.curves = [];\n\n\t\tfor ( var i = 0, l = this.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = this.curves[ i ];\n\t\t\tdata.curves.push( curve.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurve.prototype.fromJSON.call( this, json );\n\n\t\tthis.autoClose = json.autoClose;\n\t\tthis.curves = [];\n\n\t\tfor ( var i = 0, l = json.curves.length; i < l; i ++ ) {\n\n\t\t\tvar curve = json.curves[ i ];\n\t\t\tthis.curves.push( new Curves[ curve.type ]().fromJSON( curve ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Creates free form 2d path using series of points, lines or curves.\n **/\n\nfunction Path( points ) {\n\n\tCurvePath.call( this );\n\n\tthis.type = 'Path';\n\n\tthis.currentPoint = new Vector2();\n\n\tif ( points ) {\n\n\t\tthis.setFromPoints( points );\n\n\t}\n\n}\n\nPath.prototype = Object.assign( Object.create( CurvePath.prototype ), {\n\n\tconstructor: Path,\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.moveTo( points[ 0 ].x, points[ 0 ].y );\n\n\t\tfor ( var i = 1, l = points.length; i < l; i ++ ) {\n\n\t\t\tthis.lineTo( points[ i ].x, points[ i ].y );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPoint.set( x, y ); // TODO consider referencing vectors instead of copying?\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tvar curve = new LineCurve( this.currentPoint.clone(), new Vector2( x, y ) );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tvar curve = new QuadraticBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCPx, aCPy ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tvar curve = new CubicBezierCurve(\n\t\t\tthis.currentPoint.clone(),\n\t\t\tnew Vector2( aCP1x, aCP1y ),\n\t\t\tnew Vector2( aCP2x, aCP2y ),\n\t\t\tnew Vector2( aX, aY )\n\t\t);\n\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.set( aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts /*Array of Vector*/ ) {\n\n\t\tvar npts = [ this.currentPoint.clone() ].concat( pts );\n\n\t\tvar curve = new SplineCurve( npts );\n\t\tthis.curves.push( curve );\n\n\t\tthis.currentPoint.copy( pts[ pts.length - 1 ] );\n\n\t\treturn this;\n\n\t},\n\n\tarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absarc( aX + x0, aY + y0, aRadius,\n\t\t\taStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tabsarc: function ( aX, aY, aRadius, aStartAngle, aEndAngle, aClockwise ) {\n\n\t\tthis.absellipse( aX, aY, aRadius, aRadius, aStartAngle, aEndAngle, aClockwise );\n\n\t\treturn this;\n\n\t},\n\n\tellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar x0 = this.currentPoint.x;\n\t\tvar y0 = this.currentPoint.y;\n\n\t\tthis.absellipse( aX + x0, aY + y0, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\treturn this;\n\n\t},\n\n\tabsellipse: function ( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation ) {\n\n\t\tvar curve = new EllipseCurve( aX, aY, xRadius, yRadius, aStartAngle, aEndAngle, aClockwise, aRotation );\n\n\t\tif ( this.curves.length > 0 ) {\n\n\t\t\t// if a previous curve is present, attempt to join\n\t\t\tvar firstPoint = curve.getPoint( 0 );\n\n\t\t\tif ( ! firstPoint.equals( this.currentPoint ) ) {\n\n\t\t\t\tthis.lineTo( firstPoint.x, firstPoint.y );\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis.curves.push( curve );\n\n\t\tvar lastPoint = curve.getPoint( 1 );\n\t\tthis.currentPoint.copy( lastPoint );\n\n\t\treturn this;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tCurvePath.prototype.copy.call( this, source );\n\n\t\tthis.currentPoint.copy( source.currentPoint );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = CurvePath.prototype.toJSON.call( this );\n\n\t\tdata.currentPoint = this.currentPoint.toArray();\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tCurvePath.prototype.fromJSON.call( this, json );\n\n\t\tthis.currentPoint.fromArray( json.currentPoint );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * Defines a 2d shape plane using paths.\n **/\n\n// STEP 1 Create a path.\n// STEP 2 Turn path into shape.\n// STEP 3 ExtrudeGeometry takes in Shape/Shapes\n// STEP 3a - Extract points from each shape, turn to vertices\n// STEP 3b - Triangulate each shape, add faces.\n\nfunction Shape( points ) {\n\n\tPath.call( this, points );\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\tthis.type = 'Shape';\n\n\tthis.holes = [];\n\n}\n\nShape.prototype = Object.assign( Object.create( Path.prototype ), {\n\n\tconstructor: Shape,\n\n\tgetPointsHoles: function ( divisions ) {\n\n\t\tvar holesPts = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tholesPts[ i ] = this.holes[ i ].getPoints( divisions );\n\n\t\t}\n\n\t\treturn holesPts;\n\n\t},\n\n\t// get points of shape and holes (keypoints based on segments parameter)\n\n\textractPoints: function ( divisions ) {\n\n\t\treturn {\n\n\t\t\tshape: this.getPoints( divisions ),\n\t\t\tholes: this.getPointsHoles( divisions )\n\n\t\t};\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tPath.prototype.copy.call( this, source );\n\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = source.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = source.holes[ i ];\n\n\t\t\tthis.holes.push( hole.clone() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = Path.prototype.toJSON.call( this );\n\n\t\tdata.uuid = this.uuid;\n\t\tdata.holes = [];\n\n\t\tfor ( var i = 0, l = this.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = this.holes[ i ];\n\t\t\tdata.holes.push( hole.toJSON() );\n\n\t\t}\n\n\t\treturn data;\n\n\t},\n\n\tfromJSON: function ( json ) {\n\n\t\tPath.prototype.fromJSON.call( this, json );\n\n\t\tthis.uuid = json.uuid;\n\t\tthis.holes = [];\n\n\t\tfor ( var i = 0, l = json.holes.length; i < l; i ++ ) {\n\n\t\t\tvar hole = json.holes[ i ];\n\t\t\tthis.holes.push( new Path().fromJSON( hole ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Light( color, intensity ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Light';\n\n\tthis.color = new Color( color );\n\tthis.intensity = intensity !== undefined ? intensity : 1;\n\n\tthis.receiveShadow = undefined;\n\n}\n\nLight.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Light,\n\n\tisLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tObject3D.prototype.copy.call( this, source );\n\n\t\tthis.color.copy( source.color );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.color = this.color.getHex();\n\t\tdata.object.intensity = this.intensity;\n\n\t\tif ( this.groundColor !== undefined ) data.object.groundColor = this.groundColor.getHex();\n\n\t\tif ( this.distance !== undefined ) data.object.distance = this.distance;\n\t\tif ( this.angle !== undefined ) data.object.angle = this.angle;\n\t\tif ( this.decay !== undefined ) data.object.decay = this.decay;\n\t\tif ( this.penumbra !== undefined ) data.object.penumbra = this.penumbra;\n\n\t\tif ( this.shadow !== undefined ) data.object.shadow = this.shadow.toJSON();\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction HemisphereLight( skyColor, groundColor, intensity ) {\n\n\tLight.call( this, skyColor, intensity );\n\n\tthis.type = 'HemisphereLight';\n\n\tthis.castShadow = undefined;\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.groundColor = new Color( groundColor );\n\n}\n\nHemisphereLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: HemisphereLight,\n\n\tisHemisphereLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.groundColor.copy( source.groundColor );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction LightShadow( camera ) {\n\n\tthis.camera = camera;\n\n\tthis.bias = 0;\n\tthis.radius = 1;\n\n\tthis.mapSize = new Vector2( 512, 512 );\n\n\tthis.map = null;\n\tthis.mapPass = null;\n\tthis.matrix = new Matrix4();\n\n\tthis._frustum = new Frustum();\n\tthis._frameExtents = new Vector2( 1, 1 );\n\n\tthis._viewportCount = 1;\n\n\tthis._viewports = [\n\n\t\tnew Vector4( 0, 0, 1, 1 )\n\n\t];\n\n}\n\nObject.assign( LightShadow.prototype, {\n\n\t_projScreenMatrix: new Matrix4(),\n\n\t_lightPositionWorld: new Vector3(),\n\n\t_lookTarget: new Vector3(),\n\n\tgetViewportCount: function () {\n\n\t\treturn this._viewportCount;\n\n\t},\n\n\tgetFrustum: function () {\n\n\t\treturn this._frustum;\n\n\t},\n\n\tupdateMatrices: function ( light ) {\n\n\t\tvar shadowCamera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tprojScreenMatrix = this._projScreenMatrix,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tlightPositionWorld = this._lightPositionWorld;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tshadowCamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.setFromMatrixPosition( light.target.matrixWorld );\n\t\tshadowCamera.lookAt( lookTarget );\n\t\tshadowCamera.updateMatrixWorld();\n\n\t\tprojScreenMatrix.multiplyMatrices( shadowCamera.projectionMatrix, shadowCamera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t\tshadowMatrix.set(\n\t\t\t0.5, 0.0, 0.0, 0.5,\n\t\t\t0.0, 0.5, 0.0, 0.5,\n\t\t\t0.0, 0.0, 0.5, 0.5,\n\t\t\t0.0, 0.0, 0.0, 1.0\n\t\t);\n\n\t\tshadowMatrix.multiply( shadowCamera.projectionMatrix );\n\t\tshadowMatrix.multiply( shadowCamera.matrixWorldInverse );\n\n\t},\n\n\tgetViewport: function ( viewportIndex ) {\n\n\t\treturn this._viewports[ viewportIndex ];\n\n\t},\n\n\tgetFrameExtents: function () {\n\n\t\treturn this._frameExtents;\n\n\t},\n\n\tcopy: function ( source ) {\n\n\t\tthis.camera = source.camera.clone();\n\n\t\tthis.bias = source.bias;\n\t\tthis.radius = source.radius;\n\n\t\tthis.mapSize.copy( source.mapSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar object = {};\n\n\t\tif ( this.bias !== 0 ) object.bias = this.bias;\n\t\tif ( this.radius !== 1 ) object.radius = this.radius;\n\t\tif ( this.mapSize.x !== 512 || this.mapSize.y !== 512 ) object.mapSize = this.mapSize.toArray();\n\n\t\tobject.camera = this.camera.toJSON( false ).object;\n\t\tdelete object.camera.matrix;\n\n\t\treturn object;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction SpotLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 50, 1, 0.5, 500 ) );\n\n}\n\nSpotLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: SpotLightShadow,\n\n\tisSpotLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tvar camera = this.camera;\n\n\t\tvar fov = MathUtils.RAD2DEG * 2 * light.angle;\n\t\tvar aspect = this.mapSize.width / this.mapSize.height;\n\t\tvar far = light.distance || camera.far;\n\n\t\tif ( fov !== camera.fov || aspect !== camera.aspect || far !== camera.far ) {\n\n\t\t\tcamera.fov = fov;\n\t\t\tcamera.aspect = aspect;\n\t\t\tcamera.far = far;\n\t\t\tcamera.updateProjectionMatrix();\n\n\t\t}\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction SpotLight( color, intensity, distance, angle, penumbra, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'SpotLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (17) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / Math.PI;\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.angle = ( angle !== undefined ) ? angle : Math.PI / 3;\n\tthis.penumbra = ( penumbra !== undefined ) ? penumbra : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new SpotLightShadow();\n\n}\n\nSpotLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: SpotLight,\n\n\tisSpotLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.angle = source.angle;\n\t\tthis.penumbra = source.penumbra;\n\t\tthis.decay = source.decay;\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\nfunction PointLightShadow() {\n\n\tLightShadow.call( this, new PerspectiveCamera( 90, 1, 0.5, 500 ) );\n\n\tthis._frameExtents = new Vector2( 4, 2 );\n\n\tthis._viewportCount = 6;\n\n\tthis._viewports = [\n\t\t// These viewports map a cube-map onto a 2D texture with the\n\t\t// following orientation:\n\t\t//\n\t\t//  xzXZ\n\t\t//   y Y\n\t\t//\n\t\t// X - Positive x direction\n\t\t// x - Negative x direction\n\t\t// Y - Positive y direction\n\t\t// y - Negative y direction\n\t\t// Z - Positive z direction\n\t\t// z - Negative z direction\n\n\t\t// positive X\n\t\tnew Vector4( 2, 1, 1, 1 ),\n\t\t// negative X\n\t\tnew Vector4( 0, 1, 1, 1 ),\n\t\t// positive Z\n\t\tnew Vector4( 3, 1, 1, 1 ),\n\t\t// negative Z\n\t\tnew Vector4( 1, 1, 1, 1 ),\n\t\t// positive Y\n\t\tnew Vector4( 3, 0, 1, 1 ),\n\t\t// negative Y\n\t\tnew Vector4( 1, 0, 1, 1 )\n\t];\n\n\tthis._cubeDirections = [\n\t\tnew Vector3( 1, 0, 0 ), new Vector3( - 1, 0, 0 ), new Vector3( 0, 0, 1 ),\n\t\tnew Vector3( 0, 0, - 1 ), new Vector3( 0, 1, 0 ), new Vector3( 0, - 1, 0 )\n\t];\n\n\tthis._cubeUps = [\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ), new Vector3( 0, 1, 0 ),\n\t\tnew Vector3( 0, 1, 0 ), new Vector3( 0, 0, 1 ),\tnew Vector3( 0, 0, - 1 )\n\t];\n\n}\n\nPointLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: PointLightShadow,\n\n\tisPointLightShadow: true,\n\n\tupdateMatrices: function ( light, viewportIndex ) {\n\n\t\tif ( viewportIndex === undefined ) viewportIndex = 0;\n\n\t\tvar camera = this.camera,\n\t\t\tshadowMatrix = this.matrix,\n\t\t\tlightPositionWorld = this._lightPositionWorld,\n\t\t\tlookTarget = this._lookTarget,\n\t\t\tprojScreenMatrix = this._projScreenMatrix;\n\n\t\tlightPositionWorld.setFromMatrixPosition( light.matrixWorld );\n\t\tcamera.position.copy( lightPositionWorld );\n\n\t\tlookTarget.copy( camera.position );\n\t\tlookTarget.add( this._cubeDirections[ viewportIndex ] );\n\t\tcamera.up.copy( this._cubeUps[ viewportIndex ] );\n\t\tcamera.lookAt( lookTarget );\n\t\tcamera.updateMatrixWorld();\n\n\t\tshadowMatrix.makeTranslation( - lightPositionWorld.x, - lightPositionWorld.y, - lightPositionWorld.z );\n\n\t\tprojScreenMatrix.multiplyMatrices( camera.projectionMatrix, camera.matrixWorldInverse );\n\t\tthis._frustum.setFromProjectionMatrix( projScreenMatrix );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction PointLight( color, intensity, distance, decay ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'PointLight';\n\n\tObject.defineProperty( this, 'power', {\n\t\tget: function () {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\treturn this.intensity * 4 * Math.PI;\n\n\t\t},\n\t\tset: function ( power ) {\n\n\t\t\t// intensity = power per solid angle.\n\t\t\t// ref: equation (15) from https://seblagarde.files.wordpress.com/2015/07/course_notes_moving_frostbite_to_pbr_v32.pdf\n\t\t\tthis.intensity = power / ( 4 * Math.PI );\n\n\t\t}\n\t} );\n\n\tthis.distance = ( distance !== undefined ) ? distance : 0;\n\tthis.decay = ( decay !== undefined ) ? decay : 1;\t// for physically correct lights, should be 2.\n\n\tthis.shadow = new PointLightShadow();\n\n}\n\nPointLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: PointLight,\n\n\tisPointLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.distance = source.distance;\n\t\tthis.decay = source.decay;\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author arose / http://github.com/arose\n */\n\nfunction OrthographicCamera( left, right, top, bottom, near, far ) {\n\n\tCamera.call( this );\n\n\tthis.type = 'OrthographicCamera';\n\n\tthis.zoom = 1;\n\tthis.view = null;\n\n\tthis.left = ( left !== undefined ) ? left : - 1;\n\tthis.right = ( right !== undefined ) ? right : 1;\n\tthis.top = ( top !== undefined ) ? top : 1;\n\tthis.bottom = ( bottom !== undefined ) ? bottom : - 1;\n\n\tthis.near = ( near !== undefined ) ? near : 0.1;\n\tthis.far = ( far !== undefined ) ? far : 2000;\n\n\tthis.updateProjectionMatrix();\n\n}\n\nOrthographicCamera.prototype = Object.assign( Object.create( Camera.prototype ), {\n\n\tconstructor: OrthographicCamera,\n\n\tisOrthographicCamera: true,\n\n\tcopy: function ( source, recursive ) {\n\n\t\tCamera.prototype.copy.call( this, source, recursive );\n\n\t\tthis.left = source.left;\n\t\tthis.right = source.right;\n\t\tthis.top = source.top;\n\t\tthis.bottom = source.bottom;\n\t\tthis.near = source.near;\n\t\tthis.far = source.far;\n\n\t\tthis.zoom = source.zoom;\n\t\tthis.view = source.view === null ? null : Object.assign( {}, source.view );\n\n\t\treturn this;\n\n\t},\n\n\tsetViewOffset: function ( fullWidth, fullHeight, x, y, width, height ) {\n\n\t\tif ( this.view === null ) {\n\n\t\t\tthis.view = {\n\t\t\t\tenabled: true,\n\t\t\t\tfullWidth: 1,\n\t\t\t\tfullHeight: 1,\n\t\t\t\toffsetX: 0,\n\t\t\t\toffsetY: 0,\n\t\t\t\twidth: 1,\n\t\t\t\theight: 1\n\t\t\t};\n\n\t\t}\n\n\t\tthis.view.enabled = true;\n\t\tthis.view.fullWidth = fullWidth;\n\t\tthis.view.fullHeight = fullHeight;\n\t\tthis.view.offsetX = x;\n\t\tthis.view.offsetY = y;\n\t\tthis.view.width = width;\n\t\tthis.view.height = height;\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tclearViewOffset: function () {\n\n\t\tif ( this.view !== null ) {\n\n\t\t\tthis.view.enabled = false;\n\n\t\t}\n\n\t\tthis.updateProjectionMatrix();\n\n\t},\n\n\tupdateProjectionMatrix: function () {\n\n\t\tvar dx = ( this.right - this.left ) / ( 2 * this.zoom );\n\t\tvar dy = ( this.top - this.bottom ) / ( 2 * this.zoom );\n\t\tvar cx = ( this.right + this.left ) / 2;\n\t\tvar cy = ( this.top + this.bottom ) / 2;\n\n\t\tvar left = cx - dx;\n\t\tvar right = cx + dx;\n\t\tvar top = cy + dy;\n\t\tvar bottom = cy - dy;\n\n\t\tif ( this.view !== null && this.view.enabled ) {\n\n\t\t\tvar scaleW = ( this.right - this.left ) / this.view.fullWidth / this.zoom;\n\t\t\tvar scaleH = ( this.top - this.bottom ) / this.view.fullHeight / this.zoom;\n\n\t\t\tleft += scaleW * this.view.offsetX;\n\t\t\tright = left + scaleW * this.view.width;\n\t\t\ttop -= scaleH * this.view.offsetY;\n\t\t\tbottom = top - scaleH * this.view.height;\n\n\t\t}\n\n\t\tthis.projectionMatrix.makeOrthographic( left, right, top, bottom, this.near, this.far );\n\n\t\tthis.projectionMatrixInverse.getInverse( this.projectionMatrix );\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Object3D.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.zoom = this.zoom;\n\t\tdata.object.left = this.left;\n\t\tdata.object.right = this.right;\n\t\tdata.object.top = this.top;\n\t\tdata.object.bottom = this.bottom;\n\t\tdata.object.near = this.near;\n\t\tdata.object.far = this.far;\n\n\t\tif ( this.view !== null ) data.object.view = Object.assign( {}, this.view );\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction DirectionalLightShadow() {\n\n\tLightShadow.call( this, new OrthographicCamera( - 5, 5, 5, - 5, 0.5, 500 ) );\n\n}\n\nDirectionalLightShadow.prototype = Object.assign( Object.create( LightShadow.prototype ), {\n\n\tconstructor: DirectionalLightShadow,\n\n\tisDirectionalLightShadow: true,\n\n\tupdateMatrices: function ( light ) {\n\n\t\tLightShadow.prototype.updateMatrices.call( this, light );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction DirectionalLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'DirectionalLight';\n\n\tthis.position.copy( Object3D.DefaultUp );\n\tthis.updateMatrix();\n\n\tthis.target = new Object3D();\n\n\tthis.shadow = new DirectionalLightShadow();\n\n}\n\nDirectionalLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: DirectionalLight,\n\n\tisDirectionalLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.target = source.target.clone();\n\n\t\tthis.shadow = source.shadow.clone();\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AmbientLight( color, intensity ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'AmbientLight';\n\n\tthis.castShadow = undefined;\n\n}\n\nAmbientLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: AmbientLight,\n\n\tisAmbientLight: true\n\n} );\n\n/**\n * @author abelnation / http://github.com/abelnation\n */\n\nfunction RectAreaLight( color, intensity, width, height ) {\n\n\tLight.call( this, color, intensity );\n\n\tthis.type = 'RectAreaLight';\n\n\tthis.width = ( width !== undefined ) ? width : 10;\n\tthis.height = ( height !== undefined ) ? height : 10;\n\n}\n\nRectAreaLight.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: RectAreaLight,\n\n\tisRectAreaLight: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.width = source.width;\n\t\tthis.height = source.height;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\tdata.object.width = this.width;\n\t\tdata.object.height = this.height;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction MaterialLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n\tthis.textures = {};\n\n}\n\nMaterialLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: MaterialLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar textures = this.textures;\n\n\t\tfunction getTexture( name ) {\n\n\t\t\tif ( textures[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.MaterialLoader: Undefined texture', name );\n\n\t\t\t}\n\n\t\t\treturn textures[ name ];\n\n\t\t}\n\n\t\tvar material = new Materials[ json.type ]();\n\n\t\tif ( json.uuid !== undefined ) material.uuid = json.uuid;\n\t\tif ( json.name !== undefined ) material.name = json.name;\n\t\tif ( json.color !== undefined ) material.color.setHex( json.color );\n\t\tif ( json.roughness !== undefined ) material.roughness = json.roughness;\n\t\tif ( json.metalness !== undefined ) material.metalness = json.metalness;\n\t\tif ( json.sheen !== undefined ) material.sheen = new Color().setHex( json.sheen );\n\t\tif ( json.emissive !== undefined ) material.emissive.setHex( json.emissive );\n\t\tif ( json.specular !== undefined ) material.specular.setHex( json.specular );\n\t\tif ( json.shininess !== undefined ) material.shininess = json.shininess;\n\t\tif ( json.clearcoat !== undefined ) material.clearcoat = json.clearcoat;\n\t\tif ( json.clearcoatRoughness !== undefined ) material.clearcoatRoughness = json.clearcoatRoughness;\n\t\tif ( json.fog !== undefined ) material.fog = json.fog;\n\t\tif ( json.flatShading !== undefined ) material.flatShading = json.flatShading;\n\t\tif ( json.blending !== undefined ) material.blending = json.blending;\n\t\tif ( json.combine !== undefined ) material.combine = json.combine;\n\t\tif ( json.side !== undefined ) material.side = json.side;\n\t\tif ( json.opacity !== undefined ) material.opacity = json.opacity;\n\t\tif ( json.transparent !== undefined ) material.transparent = json.transparent;\n\t\tif ( json.alphaTest !== undefined ) material.alphaTest = json.alphaTest;\n\t\tif ( json.depthTest !== undefined ) material.depthTest = json.depthTest;\n\t\tif ( json.depthWrite !== undefined ) material.depthWrite = json.depthWrite;\n\t\tif ( json.colorWrite !== undefined ) material.colorWrite = json.colorWrite;\n\n\t\tif ( json.stencilWrite !== undefined ) material.stencilWrite = json.stencilWrite;\n\t\tif ( json.stencilWriteMask !== undefined ) material.stencilWriteMask = json.stencilWriteMask;\n\t\tif ( json.stencilFunc !== undefined ) material.stencilFunc = json.stencilFunc;\n\t\tif ( json.stencilRef !== undefined ) material.stencilRef = json.stencilRef;\n\t\tif ( json.stencilFuncMask !== undefined ) material.stencilFuncMask = json.stencilFuncMask;\n\t\tif ( json.stencilFail !== undefined ) material.stencilFail = json.stencilFail;\n\t\tif ( json.stencilZFail !== undefined ) material.stencilZFail = json.stencilZFail;\n\t\tif ( json.stencilZPass !== undefined ) material.stencilZPass = json.stencilZPass;\n\n\t\tif ( json.wireframe !== undefined ) material.wireframe = json.wireframe;\n\t\tif ( json.wireframeLinewidth !== undefined ) material.wireframeLinewidth = json.wireframeLinewidth;\n\t\tif ( json.wireframeLinecap !== undefined ) material.wireframeLinecap = json.wireframeLinecap;\n\t\tif ( json.wireframeLinejoin !== undefined ) material.wireframeLinejoin = json.wireframeLinejoin;\n\n\t\tif ( json.rotation !== undefined ) material.rotation = json.rotation;\n\n\t\tif ( json.linewidth !== 1 ) material.linewidth = json.linewidth;\n\t\tif ( json.dashSize !== undefined ) material.dashSize = json.dashSize;\n\t\tif ( json.gapSize !== undefined ) material.gapSize = json.gapSize;\n\t\tif ( json.scale !== undefined ) material.scale = json.scale;\n\n\t\tif ( json.polygonOffset !== undefined ) material.polygonOffset = json.polygonOffset;\n\t\tif ( json.polygonOffsetFactor !== undefined ) material.polygonOffsetFactor = json.polygonOffsetFactor;\n\t\tif ( json.polygonOffsetUnits !== undefined ) material.polygonOffsetUnits = json.polygonOffsetUnits;\n\n\t\tif ( json.skinning !== undefined ) material.skinning = json.skinning;\n\t\tif ( json.morphTargets !== undefined ) material.morphTargets = json.morphTargets;\n\t\tif ( json.morphNormals !== undefined ) material.morphNormals = json.morphNormals;\n\t\tif ( json.dithering !== undefined ) material.dithering = json.dithering;\n\n\t\tif ( json.vertexTangents !== undefined ) material.vertexTangents = json.vertexTangents;\n\n\t\tif ( json.visible !== undefined ) material.visible = json.visible;\n\n\t\tif ( json.toneMapped !== undefined ) material.toneMapped = json.toneMapped;\n\n\t\tif ( json.userData !== undefined ) material.userData = json.userData;\n\n\t\tif ( json.vertexColors !== undefined ) {\n\n\t\t\tif ( typeof json.vertexColors === 'number' ) {\n\n\t\t\t\tmaterial.vertexColors = ( json.vertexColors > 0 ) ? true : false;\n\n\t\t\t} else {\n\n\t\t\t\tmaterial.vertexColors = json.vertexColors;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Shader Material\n\n\t\tif ( json.uniforms !== undefined ) {\n\n\t\t\tfor ( var name in json.uniforms ) {\n\n\t\t\t\tvar uniform = json.uniforms[ name ];\n\n\t\t\t\tmaterial.uniforms[ name ] = {};\n\n\t\t\t\tswitch ( uniform.type ) {\n\n\t\t\t\t\tcase 't':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = getTexture( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'c':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Color().setHex( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v2':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector2().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector3().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'v4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Vector4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'm3':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix3().fromArray( uniform.value );\n\n\t\t\t\t\tcase 'm4':\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = new Matrix4().fromArray( uniform.value );\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\t\t\t\t\t\tmaterial.uniforms[ name ].value = uniform.value;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( json.defines !== undefined ) material.defines = json.defines;\n\t\tif ( json.vertexShader !== undefined ) material.vertexShader = json.vertexShader;\n\t\tif ( json.fragmentShader !== undefined ) material.fragmentShader = json.fragmentShader;\n\n\t\tif ( json.extensions !== undefined ) {\n\n\t\t\tfor ( var key in json.extensions ) {\n\n\t\t\t\tmaterial.extensions[ key ] = json.extensions[ key ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// Deprecated\n\n\t\tif ( json.shading !== undefined ) material.flatShading = json.shading === 1; // THREE.FlatShading\n\n\t\t// for PointsMaterial\n\n\t\tif ( json.size !== undefined ) material.size = json.size;\n\t\tif ( json.sizeAttenuation !== undefined ) material.sizeAttenuation = json.sizeAttenuation;\n\n\t\t// maps\n\n\t\tif ( json.map !== undefined ) material.map = getTexture( json.map );\n\t\tif ( json.matcap !== undefined ) material.matcap = getTexture( json.matcap );\n\n\t\tif ( json.alphaMap !== undefined ) material.alphaMap = getTexture( json.alphaMap );\n\n\t\tif ( json.bumpMap !== undefined ) material.bumpMap = getTexture( json.bumpMap );\n\t\tif ( json.bumpScale !== undefined ) material.bumpScale = json.bumpScale;\n\n\t\tif ( json.normalMap !== undefined ) material.normalMap = getTexture( json.normalMap );\n\t\tif ( json.normalMapType !== undefined ) material.normalMapType = json.normalMapType;\n\t\tif ( json.normalScale !== undefined ) {\n\n\t\t\tvar normalScale = json.normalScale;\n\n\t\t\tif ( Array.isArray( normalScale ) === false ) {\n\n\t\t\t\t// Blender exporter used to export a scalar. See #7459\n\n\t\t\t\tnormalScale = [ normalScale, normalScale ];\n\n\t\t\t}\n\n\t\t\tmaterial.normalScale = new Vector2().fromArray( normalScale );\n\n\t\t}\n\n\t\tif ( json.displacementMap !== undefined ) material.displacementMap = getTexture( json.displacementMap );\n\t\tif ( json.displacementScale !== undefined ) material.displacementScale = json.displacementScale;\n\t\tif ( json.displacementBias !== undefined ) material.displacementBias = json.displacementBias;\n\n\t\tif ( json.roughnessMap !== undefined ) material.roughnessMap = getTexture( json.roughnessMap );\n\t\tif ( json.metalnessMap !== undefined ) material.metalnessMap = getTexture( json.metalnessMap );\n\n\t\tif ( json.emissiveMap !== undefined ) material.emissiveMap = getTexture( json.emissiveMap );\n\t\tif ( json.emissiveIntensity !== undefined ) material.emissiveIntensity = json.emissiveIntensity;\n\n\t\tif ( json.specularMap !== undefined ) material.specularMap = getTexture( json.specularMap );\n\n\t\tif ( json.envMap !== undefined ) material.envMap = getTexture( json.envMap );\n\t\tif ( json.envMapIntensity !== undefined ) material.envMapIntensity = json.envMapIntensity;\n\n\t\tif ( json.reflectivity !== undefined ) material.reflectivity = json.reflectivity;\n\t\tif ( json.refractionRatio !== undefined ) material.refractionRatio = json.refractionRatio;\n\n\t\tif ( json.lightMap !== undefined ) material.lightMap = getTexture( json.lightMap );\n\t\tif ( json.lightMapIntensity !== undefined ) material.lightMapIntensity = json.lightMapIntensity;\n\n\t\tif ( json.aoMap !== undefined ) material.aoMap = getTexture( json.aoMap );\n\t\tif ( json.aoMapIntensity !== undefined ) material.aoMapIntensity = json.aoMapIntensity;\n\n\t\tif ( json.gradientMap !== undefined ) material.gradientMap = getTexture( json.gradientMap );\n\n\t\tif ( json.clearcoatNormalMap !== undefined ) material.clearcoatNormalMap = getTexture( json.clearcoatNormalMap );\n\t\tif ( json.clearcoatNormalScale !== undefined ) material.clearcoatNormalScale = new Vector2().fromArray( json.clearcoatNormalScale );\n\n\t\treturn material;\n\n\t},\n\n\tsetTextures: function ( value ) {\n\n\t\tthis.textures = value;\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Don McCurdy / https://www.donmccurdy.com\n */\n\nvar LoaderUtils = {\n\n\tdecodeText: function ( array ) {\n\n\t\tif ( typeof TextDecoder !== 'undefined' ) {\n\n\t\t\treturn new TextDecoder().decode( array );\n\n\t\t}\n\n\t\t// Avoid the String.fromCharCode.apply(null, array) shortcut, which\n\t\t// throws a \"maximum call stack size exceeded\" error for large arrays.\n\n\t\tvar s = '';\n\n\t\tfor ( var i = 0, il = array.length; i < il; i ++ ) {\n\n\t\t\t// Implicitly assumes little-endian.\n\t\t\ts += String.fromCharCode( array[ i ] );\n\n\t\t}\n\n\t\ttry {\n\n\t\t\t// merges multi-byte utf-8 characters.\n\n\t\t\treturn decodeURIComponent( escape( s ) );\n\n\t\t} catch ( e ) { // see #16358\n\n\t\t\treturn s;\n\n\t\t}\n\n\t},\n\n\textractUrlBase: function ( url ) {\n\n\t\tvar index = url.lastIndexOf( '/' );\n\n\t\tif ( index === - 1 ) return './';\n\n\t\treturn url.substr( 0, index + 1 );\n\n\t}\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferGeometry() {\n\n\tBufferGeometry.call( this );\n\n\tthis.type = 'InstancedBufferGeometry';\n\tthis.maxInstancedCount = undefined;\n\n}\n\nInstancedBufferGeometry.prototype = Object.assign( Object.create( BufferGeometry.prototype ), {\n\n\tconstructor: InstancedBufferGeometry,\n\n\tisInstancedBufferGeometry: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferGeometry.prototype.copy.call( this, source );\n\n\t\tthis.maxInstancedCount = source.maxInstancedCount;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\ttoJSON: function () {\n\n\t\tvar data = BufferGeometry.prototype.toJSON.call( this );\n\n\t\tdata.maxInstancedCount = this.maxInstancedCount;\n\n\t\tdata.isInstancedBufferGeometry = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedBufferAttribute( array, itemSize, normalized, meshPerAttribute ) {\n\n\tif ( typeof ( normalized ) === 'number' ) {\n\n\t\tmeshPerAttribute = normalized;\n\n\t\tnormalized = false;\n\n\t\tconsole.error( 'THREE.InstancedBufferAttribute: The constructor now expects normalized as the third argument.' );\n\n\t}\n\n\tBufferAttribute.call( this, array, itemSize, normalized );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedBufferAttribute.prototype = Object.assign( Object.create( BufferAttribute.prototype ), {\n\n\tconstructor: InstancedBufferAttribute,\n\n\tisInstancedBufferAttribute: true,\n\n\tcopy: function ( source ) {\n\n\t\tBufferAttribute.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ()\t{\n\n\t\tvar data = BufferAttribute.prototype.toJSON.call( this );\n\n\t\tdata.meshPerAttribute = this.meshPerAttribute;\n\n\t\tdata.isInstancedBufferAttribute = true;\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction BufferGeometryLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nBufferGeometryLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: BufferGeometryLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( scope.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tonLoad( scope.parse( JSON.parse( text ) ) );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\tvar geometry = json.isInstancedBufferGeometry ? new InstancedBufferGeometry() : new BufferGeometry();\n\n\t\tvar index = json.data.index;\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar typedArray = new TYPED_ARRAYS[ index.type ]( index.array );\n\t\t\tgeometry.setIndex( new BufferAttribute( typedArray, 1 ) );\n\n\t\t}\n\n\t\tvar attributes = json.data.attributes;\n\n\t\tfor ( var key in attributes ) {\n\n\t\t\tvar attribute = attributes[ key ];\n\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\t\t\tvar bufferAttributeConstr = attribute.isInstancedBufferAttribute ? InstancedBufferAttribute : BufferAttribute;\n\t\t\tvar bufferAttribute = new bufferAttributeConstr( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\tgeometry.setAttribute( key, bufferAttribute );\n\n\t\t}\n\n\t\tvar morphAttributes = json.data.morphAttributes;\n\n\t\tif ( morphAttributes ) {\n\n\t\t\tfor ( var key in morphAttributes ) {\n\n\t\t\t\tvar attributeArray = morphAttributes[ key ];\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, il = attributeArray.length; i < il; i ++ ) {\n\n\t\t\t\t\tvar attribute = attributeArray[ i ];\n\t\t\t\t\tvar typedArray = new TYPED_ARRAYS[ attribute.type ]( attribute.array );\n\n\t\t\t\t\tvar bufferAttribute = new BufferAttribute( typedArray, attribute.itemSize, attribute.normalized );\n\t\t\t\t\tif ( attribute.name !== undefined ) bufferAttribute.name = attribute.name;\n\t\t\t\t\tarray.push( bufferAttribute );\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.morphAttributes[ key ] = array;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar morphTargetsRelative = json.data.morphTargetsRelative;\n\n\t\tif ( morphTargetsRelative ) {\n\n\t\t\tgeometry.morphTargetsRelative = true;\n\n\t\t}\n\n\t\tvar groups = json.data.groups || json.data.drawcalls || json.data.offsets;\n\n\t\tif ( groups !== undefined ) {\n\n\t\t\tfor ( var i = 0, n = groups.length; i !== n; ++ i ) {\n\n\t\t\t\tvar group = groups[ i ];\n\n\t\t\t\tgeometry.addGroup( group.start, group.count, group.materialIndex );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar boundingSphere = json.data.boundingSphere;\n\n\t\tif ( boundingSphere !== undefined ) {\n\n\t\t\tvar center = new Vector3();\n\n\t\t\tif ( boundingSphere.center !== undefined ) {\n\n\t\t\t\tcenter.fromArray( boundingSphere.center );\n\n\t\t\t}\n\n\t\t\tgeometry.boundingSphere = new Sphere( center, boundingSphere.radius );\n\n\t\t}\n\n\t\tif ( json.name ) geometry.name = json.name;\n\t\tif ( json.userData ) geometry.userData = json.userData;\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\nvar TYPED_ARRAYS = {\n\tInt8Array: Int8Array,\n\tUint8Array: Uint8Array,\n\t// Workaround for IE11 pre KB2929437. See #11440\n\tUint8ClampedArray: typeof Uint8ClampedArray !== 'undefined' ? Uint8ClampedArray : Uint8Array,\n\tInt16Array: Int16Array,\n\tUint16Array: Uint16Array,\n\tInt32Array: Int32Array,\n\tUint32Array: Uint32Array,\n\tFloat32Array: Float32Array,\n\tFloat64Array: Float64Array\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction ObjectLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nObjectLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ObjectLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar path = ( this.path === '' ) ? LoaderUtils.extractUrlBase( url ) : this.path;\n\t\tthis.resourcePath = this.resourcePath || path;\n\n\t\tvar loader = new FileLoader( scope.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json = null;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( error ) {\n\n\t\t\t\tif ( onError !== undefined ) onError( error );\n\n\t\t\t\tconsole.error( 'THREE:ObjectLoader: Can\\'t parse ' + url + '.', error.message );\n\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tvar metadata = json.metadata;\n\n\t\t\tif ( metadata === undefined || metadata.type === undefined || metadata.type.toLowerCase() === 'geometry' ) {\n\n\t\t\t\tconsole.error( 'THREE.ObjectLoader: Can\\'t load ' + url );\n\t\t\t\treturn;\n\n\t\t\t}\n\n\t\t\tscope.parse( json, onLoad );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json, onLoad ) {\n\n\t\tvar shapes = this.parseShape( json.shapes );\n\t\tvar geometries = this.parseGeometries( json.geometries, shapes );\n\n\t\tvar images = this.parseImages( json.images, function () {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t} );\n\n\t\tvar textures = this.parseTextures( json.textures, images );\n\t\tvar materials = this.parseMaterials( json.materials, textures );\n\n\t\tvar object = this.parseObject( json.object, geometries, materials );\n\n\t\tif ( json.animations ) {\n\n\t\t\tobject.animations = this.parseAnimations( json.animations );\n\n\t\t}\n\n\t\tif ( json.images === undefined || json.images.length === 0 ) {\n\n\t\t\tif ( onLoad !== undefined ) onLoad( object );\n\n\t\t}\n\n\t\treturn object;\n\n\t},\n\n\tparseShape: function ( json ) {\n\n\t\tvar shapes = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar shape = new Shape().fromJSON( json[ i ] );\n\n\t\t\t\tshapes[ shape.uuid ] = shape;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn shapes;\n\n\t},\n\n\tparseGeometries: function ( json, shapes ) {\n\n\t\tvar geometries = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar bufferGeometryLoader = new BufferGeometryLoader();\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar geometry;\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tswitch ( data.type ) {\n\n\t\t\t\t\tcase 'PlaneGeometry':\n\t\t\t\t\tcase 'PlaneBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BoxGeometry':\n\t\t\t\t\tcase 'BoxBufferGeometry':\n\t\t\t\t\tcase 'CubeGeometry': // backwards compatible\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.width,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.depth,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.depthSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CircleGeometry':\n\t\t\t\t\tcase 'CircleBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'CylinderGeometry':\n\t\t\t\t\tcase 'CylinderBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radiusTop,\n\t\t\t\t\t\t\tdata.radiusBottom,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ConeGeometry':\n\t\t\t\t\tcase 'ConeBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.height,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.openEnded,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'SphereGeometry':\n\t\t\t\t\tcase 'SphereBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.widthSegments,\n\t\t\t\t\t\t\tdata.heightSegments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'DodecahedronGeometry':\n\t\t\t\t\tcase 'DodecahedronBufferGeometry':\n\t\t\t\t\tcase 'IcosahedronGeometry':\n\t\t\t\t\tcase 'IcosahedronBufferGeometry':\n\t\t\t\t\tcase 'OctahedronGeometry':\n\t\t\t\t\tcase 'OctahedronBufferGeometry':\n\t\t\t\t\tcase 'TetrahedronGeometry':\n\t\t\t\t\tcase 'TetrahedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.detail\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'RingGeometry':\n\t\t\t\t\tcase 'RingBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.innerRadius,\n\t\t\t\t\t\t\tdata.outerRadius,\n\t\t\t\t\t\t\tdata.thetaSegments,\n\t\t\t\t\t\t\tdata.phiSegments,\n\t\t\t\t\t\t\tdata.thetaStart,\n\t\t\t\t\t\t\tdata.thetaLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusGeometry':\n\t\t\t\t\tcase 'TorusBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.arc\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TorusKnotGeometry':\n\t\t\t\t\tcase 'TorusKnotBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.tube,\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.p,\n\t\t\t\t\t\t\tdata.q\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'TubeGeometry':\n\t\t\t\t\tcase 'TubeBufferGeometry':\n\n\t\t\t\t\t\t// This only works for built-in curves (e.g. CatmullRomCurve3).\n\t\t\t\t\t\t// User defined curves or instances of CurvePath will not be deserialized.\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tnew Curves[ data.path.type ]().fromJSON( data.path ),\n\t\t\t\t\t\t\tdata.tubularSegments,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.radialSegments,\n\t\t\t\t\t\t\tdata.closed\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'LatheGeometry':\n\t\t\t\t\tcase 'LatheBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.points,\n\t\t\t\t\t\t\tdata.segments,\n\t\t\t\t\t\t\tdata.phiStart,\n\t\t\t\t\t\t\tdata.phiLength\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'PolyhedronGeometry':\n\t\t\t\t\tcase 'PolyhedronBufferGeometry':\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tdata.vertices,\n\t\t\t\t\t\t\tdata.indices,\n\t\t\t\t\t\t\tdata.radius,\n\t\t\t\t\t\t\tdata.details\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'ShapeGeometry':\n\t\t\t\t\tcase 'ShapeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.curveSegments\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\n\t\t\t\t\tcase 'ExtrudeGeometry':\n\t\t\t\t\tcase 'ExtrudeBufferGeometry':\n\n\t\t\t\t\t\tvar geometryShapes = [];\n\n\t\t\t\t\t\tfor ( var j = 0, jl = data.shapes.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\t\tvar shape = shapes[ data.shapes[ j ] ];\n\n\t\t\t\t\t\t\tgeometryShapes.push( shape );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tvar extrudePath = data.options.extrudePath;\n\n\t\t\t\t\t\tif ( extrudePath !== undefined ) {\n\n\t\t\t\t\t\t\tdata.options.extrudePath = new Curves[ extrudePath.type ]().fromJSON( extrudePath );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tgeometry = new Geometries[ data.type ](\n\t\t\t\t\t\t\tgeometryShapes,\n\t\t\t\t\t\t\tdata.options\n\t\t\t\t\t\t);\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'BufferGeometry':\n\t\t\t\t\tcase 'InstancedBufferGeometry':\n\n\t\t\t\t\t\tgeometry = bufferGeometryLoader.parse( data );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tcase 'Geometry':\n\n\t\t\t\t\t\tconsole.error( 'THREE.ObjectLoader: Loading \"Geometry\" is not supported anymore.' );\n\n\t\t\t\t\t\tbreak;\n\n\t\t\t\t\tdefault:\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Unsupported geometry type \"' + data.type + '\"' );\n\n\t\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tgeometry.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) geometry.name = data.name;\n\t\t\t\tif ( geometry.isBufferGeometry === true && data.userData !== undefined ) geometry.userData = data.userData;\n\n\t\t\t\tgeometries[ data.uuid ] = geometry;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn geometries;\n\n\t},\n\n\tparseMaterials: function ( json, textures ) {\n\n\t\tvar cache = {}; // MultiMaterial\n\t\tvar materials = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tvar loader = new MaterialLoader();\n\t\t\tloader.setTextures( textures );\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.type === 'MultiMaterial' ) {\n\n\t\t\t\t\t// Deprecated\n\n\t\t\t\t\tvar array = [];\n\n\t\t\t\t\tfor ( var j = 0; j < data.materials.length; j ++ ) {\n\n\t\t\t\t\t\tvar material = data.materials[ j ];\n\n\t\t\t\t\t\tif ( cache[ material.uuid ] === undefined ) {\n\n\t\t\t\t\t\t\tcache[ material.uuid ] = loader.parse( material );\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t\tarray.push( cache[ material.uuid ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = array;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( cache[ data.uuid ] === undefined ) {\n\n\t\t\t\t\t\tcache[ data.uuid ] = loader.parse( data );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tmaterials[ data.uuid ] = cache[ data.uuid ];\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn materials;\n\n\t},\n\n\tparseAnimations: function ( json ) {\n\n\t\tvar animations = [];\n\n\t\tfor ( var i = 0; i < json.length; i ++ ) {\n\n\t\t\tvar data = json[ i ];\n\n\t\t\tvar clip = AnimationClip.parse( data );\n\n\t\t\tif ( data.uuid !== undefined ) clip.uuid = data.uuid;\n\n\t\t\tanimations.push( clip );\n\n\t\t}\n\n\t\treturn animations;\n\n\t},\n\n\tparseImages: function ( json, onLoad ) {\n\n\t\tvar scope = this;\n\t\tvar images = {};\n\n\t\tfunction loadImage( url ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\treturn loader.load( url, function () {\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, undefined, function () {\n\n\t\t\t\tscope.manager.itemError( url );\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t} );\n\n\t\t}\n\n\t\tif ( json !== undefined && json.length > 0 ) {\n\n\t\t\tvar manager = new LoadingManager( onLoad );\n\n\t\t\tvar loader = new ImageLoader( manager );\n\t\t\tloader.setCrossOrigin( this.crossOrigin );\n\n\t\t\tfor ( var i = 0, il = json.length; i < il; i ++ ) {\n\n\t\t\t\tvar image = json[ i ];\n\t\t\t\tvar url = image.url;\n\n\t\t\t\tif ( Array.isArray( url ) ) {\n\n\t\t\t\t\t// load array of images e.g CubeTexture\n\n\t\t\t\t\timages[ image.uuid ] = [];\n\n\t\t\t\t\tfor ( var j = 0, jl = url.length; j < jl; j ++ ) {\n\n\t\t\t\t\t\tvar currentUrl = url[ j ];\n\n\t\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( currentUrl ) ? currentUrl : scope.resourcePath + currentUrl;\n\n\t\t\t\t\t\timages[ image.uuid ].push( loadImage( path ) );\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// load single image\n\n\t\t\t\t\tvar path = /^(\\/\\/)|([a-z]+:(\\/\\/)?)/i.test( image.url ) ? image.url : scope.resourcePath + image.url;\n\n\t\t\t\t\timages[ image.uuid ] = loadImage( path );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn images;\n\n\t},\n\n\tparseTextures: function ( json, images ) {\n\n\t\tfunction parseConstant( value, type ) {\n\n\t\t\tif ( typeof value === 'number' ) return value;\n\n\t\t\tconsole.warn( 'THREE.ObjectLoader.parseTexture: Constant should be in numeric form.', value );\n\n\t\t\treturn type[ value ];\n\n\t\t}\n\n\t\tvar textures = {};\n\n\t\tif ( json !== undefined ) {\n\n\t\t\tfor ( var i = 0, l = json.length; i < l; i ++ ) {\n\n\t\t\t\tvar data = json[ i ];\n\n\t\t\t\tif ( data.image === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: No \"image\" specified for', data.uuid );\n\n\t\t\t\t}\n\n\t\t\t\tif ( images[ data.image ] === undefined ) {\n\n\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined image', data.image );\n\n\t\t\t\t}\n\n\t\t\t\tvar texture;\n\n\t\t\t\tif ( Array.isArray( images[ data.image ] ) ) {\n\n\t\t\t\t\ttexture = new CubeTexture( images[ data.image ] );\n\n\t\t\t\t} else {\n\n\t\t\t\t\ttexture = new Texture( images[ data.image ] );\n\n\t\t\t\t}\n\n\t\t\t\ttexture.needsUpdate = true;\n\n\t\t\t\ttexture.uuid = data.uuid;\n\n\t\t\t\tif ( data.name !== undefined ) texture.name = data.name;\n\n\t\t\t\tif ( data.mapping !== undefined ) texture.mapping = parseConstant( data.mapping, TEXTURE_MAPPING );\n\n\t\t\t\tif ( data.offset !== undefined ) texture.offset.fromArray( data.offset );\n\t\t\t\tif ( data.repeat !== undefined ) texture.repeat.fromArray( data.repeat );\n\t\t\t\tif ( data.center !== undefined ) texture.center.fromArray( data.center );\n\t\t\t\tif ( data.rotation !== undefined ) texture.rotation = data.rotation;\n\n\t\t\t\tif ( data.wrap !== undefined ) {\n\n\t\t\t\t\ttexture.wrapS = parseConstant( data.wrap[ 0 ], TEXTURE_WRAPPING );\n\t\t\t\t\ttexture.wrapT = parseConstant( data.wrap[ 1 ], TEXTURE_WRAPPING );\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.format !== undefined ) texture.format = data.format;\n\t\t\t\tif ( data.type !== undefined ) texture.type = data.type;\n\t\t\t\tif ( data.encoding !== undefined ) texture.encoding = data.encoding;\n\n\t\t\t\tif ( data.minFilter !== undefined ) texture.minFilter = parseConstant( data.minFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.magFilter !== undefined ) texture.magFilter = parseConstant( data.magFilter, TEXTURE_FILTER );\n\t\t\t\tif ( data.anisotropy !== undefined ) texture.anisotropy = data.anisotropy;\n\n\t\t\t\tif ( data.flipY !== undefined ) texture.flipY = data.flipY;\n\n\t\t\t\tif ( data.premultiplyAlpha !== undefined ) texture.premultiplyAlpha = data.premultiplyAlpha;\n\t\t\t\tif ( data.unpackAlignment !== undefined ) texture.unpackAlignment = data.unpackAlignment;\n\n\t\t\t\ttextures[ data.uuid ] = texture;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn textures;\n\n\t},\n\n\tparseObject: function ( data, geometries, materials ) {\n\n\t\tvar object;\n\n\t\tfunction getGeometry( name ) {\n\n\t\t\tif ( geometries[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined geometry', name );\n\n\t\t\t}\n\n\t\t\treturn geometries[ name ];\n\n\t\t}\n\n\t\tfunction getMaterial( name ) {\n\n\t\t\tif ( name === undefined ) return undefined;\n\n\t\t\tif ( Array.isArray( name ) ) {\n\n\t\t\t\tvar array = [];\n\n\t\t\t\tfor ( var i = 0, l = name.length; i < l; i ++ ) {\n\n\t\t\t\t\tvar uuid = name[ i ];\n\n\t\t\t\t\tif ( materials[ uuid ] === undefined ) {\n\n\t\t\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', uuid );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tarray.push( materials[ uuid ] );\n\n\t\t\t\t}\n\n\t\t\t\treturn array;\n\n\t\t\t}\n\n\t\t\tif ( materials[ name ] === undefined ) {\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader: Undefined material', name );\n\n\t\t\t}\n\n\t\t\treturn materials[ name ];\n\n\t\t}\n\n\t\tswitch ( data.type ) {\n\n\t\t\tcase 'Scene':\n\n\t\t\t\tobject = new Scene();\n\n\t\t\t\tif ( data.background !== undefined ) {\n\n\t\t\t\t\tif ( Number.isInteger( data.background ) ) {\n\n\t\t\t\t\t\tobject.background = new Color( data.background );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tif ( data.fog !== undefined ) {\n\n\t\t\t\t\tif ( data.fog.type === 'Fog' ) {\n\n\t\t\t\t\t\tobject.fog = new Fog( data.fog.color, data.fog.near, data.fog.far );\n\n\t\t\t\t\t} else if ( data.fog.type === 'FogExp2' ) {\n\n\t\t\t\t\t\tobject.fog = new FogExp2( data.fog.color, data.fog.density );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PerspectiveCamera':\n\n\t\t\t\tobject = new PerspectiveCamera( data.fov, data.aspect, data.near, data.far );\n\n\t\t\t\tif ( data.focus !== undefined ) object.focus = data.focus;\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.filmGauge !== undefined ) object.filmGauge = data.filmGauge;\n\t\t\t\tif ( data.filmOffset !== undefined ) object.filmOffset = data.filmOffset;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'OrthographicCamera':\n\n\t\t\t\tobject = new OrthographicCamera( data.left, data.right, data.top, data.bottom, data.near, data.far );\n\n\t\t\t\tif ( data.zoom !== undefined ) object.zoom = data.zoom;\n\t\t\t\tif ( data.view !== undefined ) object.view = Object.assign( {}, data.view );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'AmbientLight':\n\n\t\t\t\tobject = new AmbientLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'DirectionalLight':\n\n\t\t\t\tobject = new DirectionalLight( data.color, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointLight':\n\n\t\t\t\tobject = new PointLight( data.color, data.intensity, data.distance, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'RectAreaLight':\n\n\t\t\t\tobject = new RectAreaLight( data.color, data.intensity, data.width, data.height );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SpotLight':\n\n\t\t\t\tobject = new SpotLight( data.color, data.intensity, data.distance, data.angle, data.penumbra, data.decay );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'HemisphereLight':\n\n\t\t\t\tobject = new HemisphereLight( data.color, data.groundColor, data.intensity );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'SkinnedMesh':\n\n\t\t\t\tconsole.warn( 'THREE.ObjectLoader.parseObject() does not support SkinnedMesh yet.' );\n\n\t\t\tcase 'Mesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\n\t\t\t\tif ( geometry.bones && geometry.bones.length > 0 ) {\n\n\t\t\t\t\tobject = new SkinnedMesh( geometry, material );\n\n\t\t\t\t} else {\n\n\t\t\t\t\tobject = new Mesh( geometry, material );\n\n\t\t\t\t}\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'InstancedMesh':\n\n\t\t\t\tvar geometry = getGeometry( data.geometry );\n\t\t\t\tvar material = getMaterial( data.material );\n\t\t\t\tvar count = data.count;\n\t\t\t\tvar instanceMatrix = data.instanceMatrix;\n\n\t\t\t\tobject = new InstancedMesh( geometry, material, count );\n\t\t\t\tobject.instanceMatrix = new BufferAttribute( new Float32Array( instanceMatrix.array ), 16 );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LOD':\n\n\t\t\t\tobject = new LOD();\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Line':\n\n\t\t\t\tobject = new Line( getGeometry( data.geometry ), getMaterial( data.material ), data.mode );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineLoop':\n\n\t\t\t\tobject = new LineLoop( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'LineSegments':\n\n\t\t\t\tobject = new LineSegments( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'PointCloud':\n\t\t\tcase 'Points':\n\n\t\t\t\tobject = new Points( getGeometry( data.geometry ), getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Sprite':\n\n\t\t\t\tobject = new Sprite( getMaterial( data.material ) );\n\n\t\t\t\tbreak;\n\n\t\t\tcase 'Group':\n\n\t\t\t\tobject = new Group();\n\n\t\t\t\tbreak;\n\n\t\t\tdefault:\n\n\t\t\t\tobject = new Object3D();\n\n\t\t}\n\n\t\tobject.uuid = data.uuid;\n\n\t\tif ( data.name !== undefined ) object.name = data.name;\n\n\t\tif ( data.matrix !== undefined ) {\n\n\t\t\tobject.matrix.fromArray( data.matrix );\n\n\t\t\tif ( data.matrixAutoUpdate !== undefined ) object.matrixAutoUpdate = data.matrixAutoUpdate;\n\t\t\tif ( object.matrixAutoUpdate ) object.matrix.decompose( object.position, object.quaternion, object.scale );\n\n\t\t} else {\n\n\t\t\tif ( data.position !== undefined ) object.position.fromArray( data.position );\n\t\t\tif ( data.rotation !== undefined ) object.rotation.fromArray( data.rotation );\n\t\t\tif ( data.quaternion !== undefined ) object.quaternion.fromArray( data.quaternion );\n\t\t\tif ( data.scale !== undefined ) object.scale.fromArray( data.scale );\n\n\t\t}\n\n\t\tif ( data.castShadow !== undefined ) object.castShadow = data.castShadow;\n\t\tif ( data.receiveShadow !== undefined ) object.receiveShadow = data.receiveShadow;\n\n\t\tif ( data.shadow ) {\n\n\t\t\tif ( data.shadow.bias !== undefined ) object.shadow.bias = data.shadow.bias;\n\t\t\tif ( data.shadow.radius !== undefined ) object.shadow.radius = data.shadow.radius;\n\t\t\tif ( data.shadow.mapSize !== undefined ) object.shadow.mapSize.fromArray( data.shadow.mapSize );\n\t\t\tif ( data.shadow.camera !== undefined ) object.shadow.camera = this.parseObject( data.shadow.camera );\n\n\t\t}\n\n\t\tif ( data.visible !== undefined ) object.visible = data.visible;\n\t\tif ( data.frustumCulled !== undefined ) object.frustumCulled = data.frustumCulled;\n\t\tif ( data.renderOrder !== undefined ) object.renderOrder = data.renderOrder;\n\t\tif ( data.userData !== undefined ) object.userData = data.userData;\n\t\tif ( data.layers !== undefined ) object.layers.mask = data.layers;\n\n\t\tif ( data.children !== undefined ) {\n\n\t\t\tvar children = data.children;\n\n\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\tobject.add( this.parseObject( children[ i ], geometries, materials ) );\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( data.type === 'LOD' ) {\n\n\t\t\tif ( data.autoUpdate !== undefined ) object.autoUpdate = data.autoUpdate;\n\n\t\t\tvar levels = data.levels;\n\n\t\t\tfor ( var l = 0; l < levels.length; l ++ ) {\n\n\t\t\t\tvar level = levels[ l ];\n\t\t\t\tvar child = object.getObjectByProperty( 'uuid', level.object );\n\n\t\t\t\tif ( child !== undefined ) {\n\n\t\t\t\t\tobject.addLevel( child, level.distance );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn object;\n\n\t}\n\n} );\n\nvar TEXTURE_MAPPING = {\n\tUVMapping: UVMapping,\n\tCubeReflectionMapping: CubeReflectionMapping,\n\tCubeRefractionMapping: CubeRefractionMapping,\n\tEquirectangularReflectionMapping: EquirectangularReflectionMapping,\n\tEquirectangularRefractionMapping: EquirectangularRefractionMapping,\n\tSphericalReflectionMapping: SphericalReflectionMapping,\n\tCubeUVReflectionMapping: CubeUVReflectionMapping,\n\tCubeUVRefractionMapping: CubeUVRefractionMapping\n};\n\nvar TEXTURE_WRAPPING = {\n\tRepeatWrapping: RepeatWrapping,\n\tClampToEdgeWrapping: ClampToEdgeWrapping,\n\tMirroredRepeatWrapping: MirroredRepeatWrapping\n};\n\nvar TEXTURE_FILTER = {\n\tNearestFilter: NearestFilter,\n\tNearestMipmapNearestFilter: NearestMipmapNearestFilter,\n\tNearestMipmapLinearFilter: NearestMipmapLinearFilter,\n\tLinearFilter: LinearFilter,\n\tLinearMipmapNearestFilter: LinearMipmapNearestFilter,\n\tLinearMipmapLinearFilter: LinearMipmapLinearFilter\n};\n\n/**\n * @author thespite / http://clicktorelease.com/\n */\n\n\nfunction ImageBitmapLoader( manager ) {\n\n\tif ( typeof createImageBitmap === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: createImageBitmap() not supported.' );\n\n\t}\n\n\tif ( typeof fetch === 'undefined' ) {\n\n\t\tconsole.warn( 'THREE.ImageBitmapLoader: fetch() not supported.' );\n\n\t}\n\n\tLoader.call( this, manager );\n\n\tthis.options = undefined;\n\n}\n\nImageBitmapLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: ImageBitmapLoader,\n\n\tsetOptions: function setOptions( options ) {\n\n\t\tthis.options = options;\n\n\t\treturn this;\n\n\t},\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tif ( url === undefined ) url = '';\n\n\t\tif ( this.path !== undefined ) url = this.path + url;\n\n\t\turl = this.manager.resolveURL( url );\n\n\t\tvar scope = this;\n\n\t\tvar cached = Cache.get( url );\n\n\t\tif ( cached !== undefined ) {\n\n\t\t\tscope.manager.itemStart( url );\n\n\t\t\tsetTimeout( function () {\n\n\t\t\t\tif ( onLoad ) onLoad( cached );\n\n\t\t\t\tscope.manager.itemEnd( url );\n\n\t\t\t}, 0 );\n\n\t\t\treturn cached;\n\n\t\t}\n\n\t\tfetch( url ).then( function ( res ) {\n\n\t\t\treturn res.blob();\n\n\t\t} ).then( function ( blob ) {\n\n\t\t\tif ( scope.options === undefined ) {\n\n\t\t\t\t// Workaround for FireFox. It causes an error if you pass options.\n\t\t\t\treturn createImageBitmap( blob );\n\n\t\t\t} else {\n\n\t\t\t\treturn createImageBitmap( blob, scope.options );\n\n\t\t\t}\n\n\t\t} ).then( function ( imageBitmap ) {\n\n\t\t\tCache.add( url, imageBitmap );\n\n\t\t\tif ( onLoad ) onLoad( imageBitmap );\n\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} ).catch( function ( e ) {\n\n\t\t\tif ( onError ) onError( e );\n\n\t\t\tscope.manager.itemError( url );\n\t\t\tscope.manager.itemEnd( url );\n\n\t\t} );\n\n\t\tscope.manager.itemStart( url );\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * minimal class for proxing functions to Path. Replaces old \"extractSubpaths()\"\n **/\n\nfunction ShapePath() {\n\n\tthis.type = 'ShapePath';\n\n\tthis.color = new Color();\n\n\tthis.subPaths = [];\n\tthis.currentPath = null;\n\n}\n\nObject.assign( ShapePath.prototype, {\n\n\tmoveTo: function ( x, y ) {\n\n\t\tthis.currentPath = new Path();\n\t\tthis.subPaths.push( this.currentPath );\n\t\tthis.currentPath.moveTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tlineTo: function ( x, y ) {\n\n\t\tthis.currentPath.lineTo( x, y );\n\n\t\treturn this;\n\n\t},\n\n\tquadraticCurveTo: function ( aCPx, aCPy, aX, aY ) {\n\n\t\tthis.currentPath.quadraticCurveTo( aCPx, aCPy, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tbezierCurveTo: function ( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY ) {\n\n\t\tthis.currentPath.bezierCurveTo( aCP1x, aCP1y, aCP2x, aCP2y, aX, aY );\n\n\t\treturn this;\n\n\t},\n\n\tsplineThru: function ( pts ) {\n\n\t\tthis.currentPath.splineThru( pts );\n\n\t\treturn this;\n\n\t},\n\n\ttoShapes: function ( isCCW, noHoles ) {\n\n\t\tfunction toShapesNoHoles( inSubpaths ) {\n\n\t\t\tvar shapes = [];\n\n\t\t\tfor ( var i = 0, l = inSubpaths.length; i < l; i ++ ) {\n\n\t\t\t\tvar tmpPath = inSubpaths[ i ];\n\n\t\t\t\tvar tmpShape = new Shape();\n\t\t\t\ttmpShape.curves = tmpPath.curves;\n\n\t\t\t\tshapes.push( tmpShape );\n\n\t\t\t}\n\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tfunction isPointInsidePolygon( inPt, inPolygon ) {\n\n\t\t\tvar polyLen = inPolygon.length;\n\n\t\t\t// inPt on polygon contour => immediate success    or\n\t\t\t// toggling of inside/outside at every single! intersection point of an edge\n\t\t\t//  with the horizontal line through inPt, left of inPt\n\t\t\t//  not counting lowerY endpoints of edges and whole edges on that line\n\t\t\tvar inside = false;\n\t\t\tfor ( var p = polyLen - 1, q = 0; q < polyLen; p = q ++ ) {\n\n\t\t\t\tvar edgeLowPt = inPolygon[ p ];\n\t\t\t\tvar edgeHighPt = inPolygon[ q ];\n\n\t\t\t\tvar edgeDx = edgeHighPt.x - edgeLowPt.x;\n\t\t\t\tvar edgeDy = edgeHighPt.y - edgeLowPt.y;\n\n\t\t\t\tif ( Math.abs( edgeDy ) > Number.EPSILON ) {\n\n\t\t\t\t\t// not parallel\n\t\t\t\t\tif ( edgeDy < 0 ) {\n\n\t\t\t\t\t\tedgeLowPt = inPolygon[ q ]; edgeDx = - edgeDx;\n\t\t\t\t\t\tedgeHighPt = inPolygon[ p ]; edgeDy = - edgeDy;\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( ( inPt.y < edgeLowPt.y ) || ( inPt.y > edgeHighPt.y ) ) \t\tcontinue;\n\n\t\t\t\t\tif ( inPt.y === edgeLowPt.y ) {\n\n\t\t\t\t\t\tif ( inPt.x === edgeLowPt.x )\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\t// continue;\t\t\t\t// no intersection or edgeLowPt => doesn't count !!!\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tvar perpEdge = edgeDy * ( inPt.x - edgeLowPt.x ) - edgeDx * ( inPt.y - edgeLowPt.y );\n\t\t\t\t\t\tif ( perpEdge === 0 )\t\t\t\treturn\ttrue;\t\t// inPt is on contour ?\n\t\t\t\t\t\tif ( perpEdge < 0 ) \t\t\t\tcontinue;\n\t\t\t\t\t\tinside = ! inside;\t\t// true intersection left of inPt\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// parallel or collinear\n\t\t\t\t\tif ( inPt.y !== edgeLowPt.y ) \t\tcontinue;\t\t\t// parallel\n\t\t\t\t\t// edge lies on the same horizontal line as inPt\n\t\t\t\t\tif ( ( ( edgeHighPt.x <= inPt.x ) && ( inPt.x <= edgeLowPt.x ) ) ||\n\t\t\t\t\t\t ( ( edgeLowPt.x <= inPt.x ) && ( inPt.x <= edgeHighPt.x ) ) )\t\treturn\ttrue;\t// inPt: Point on contour !\n\t\t\t\t\t// continue;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\treturn\tinside;\n\n\t\t}\n\n\t\tvar isClockWise = ShapeUtils.isClockWise;\n\n\t\tvar subPaths = this.subPaths;\n\t\tif ( subPaths.length === 0 ) return [];\n\n\t\tif ( noHoles === true )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tvar solid, tmpPath, tmpShape, shapes = [];\n\n\t\tif ( subPaths.length === 1 ) {\n\n\t\t\ttmpPath = subPaths[ 0 ];\n\t\t\ttmpShape = new Shape();\n\t\t\ttmpShape.curves = tmpPath.curves;\n\t\t\tshapes.push( tmpShape );\n\t\t\treturn shapes;\n\n\t\t}\n\n\t\tvar holesFirst = ! isClockWise( subPaths[ 0 ].getPoints() );\n\t\tholesFirst = isCCW ? ! holesFirst : holesFirst;\n\n\t\t// console.log(\"Holes first\", holesFirst);\n\n\t\tvar betterShapeHoles = [];\n\t\tvar newShapes = [];\n\t\tvar newShapeHoles = [];\n\t\tvar mainIdx = 0;\n\t\tvar tmpPoints;\n\n\t\tnewShapes[ mainIdx ] = undefined;\n\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\tfor ( var i = 0, l = subPaths.length; i < l; i ++ ) {\n\n\t\t\ttmpPath = subPaths[ i ];\n\t\t\ttmpPoints = tmpPath.getPoints();\n\t\t\tsolid = isClockWise( tmpPoints );\n\t\t\tsolid = isCCW ? ! solid : solid;\n\n\t\t\tif ( solid ) {\n\n\t\t\t\tif ( ( ! holesFirst ) && ( newShapes[ mainIdx ] ) )\tmainIdx ++;\n\n\t\t\t\tnewShapes[ mainIdx ] = { s: new Shape(), p: tmpPoints };\n\t\t\t\tnewShapes[ mainIdx ].s.curves = tmpPath.curves;\n\n\t\t\t\tif ( holesFirst )\tmainIdx ++;\n\t\t\t\tnewShapeHoles[ mainIdx ] = [];\n\n\t\t\t\t//console.log('cw', i);\n\n\t\t\t} else {\n\n\t\t\t\tnewShapeHoles[ mainIdx ].push( { h: tmpPath, p: tmpPoints[ 0 ] } );\n\n\t\t\t\t//console.log('ccw', i);\n\n\t\t\t}\n\n\t\t}\n\n\t\t// only Holes? -> probably all Shapes with wrong orientation\n\t\tif ( ! newShapes[ 0 ] )\treturn\ttoShapesNoHoles( subPaths );\n\n\n\t\tif ( newShapes.length > 1 ) {\n\n\t\t\tvar ambiguous = false;\n\t\t\tvar toChange = [];\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tbetterShapeHoles[ sIdx ] = [];\n\n\t\t\t}\n\n\t\t\tfor ( var sIdx = 0, sLen = newShapes.length; sIdx < sLen; sIdx ++ ) {\n\n\t\t\t\tvar sho = newShapeHoles[ sIdx ];\n\n\t\t\t\tfor ( var hIdx = 0; hIdx < sho.length; hIdx ++ ) {\n\n\t\t\t\t\tvar ho = sho[ hIdx ];\n\t\t\t\t\tvar hole_unassigned = true;\n\n\t\t\t\t\tfor ( var s2Idx = 0; s2Idx < newShapes.length; s2Idx ++ ) {\n\n\t\t\t\t\t\tif ( isPointInsidePolygon( ho.p, newShapes[ s2Idx ].p ) ) {\n\n\t\t\t\t\t\t\tif ( sIdx !== s2Idx )\ttoChange.push( { froms: sIdx, tos: s2Idx, hole: hIdx } );\n\t\t\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\t\t\thole_unassigned = false;\n\t\t\t\t\t\t\t\tbetterShapeHoles[ s2Idx ].push( ho );\n\n\t\t\t\t\t\t\t} else {\n\n\t\t\t\t\t\t\t\tambiguous = true;\n\n\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif ( hole_unassigned ) {\n\n\t\t\t\t\t\tbetterShapeHoles[ sIdx ].push( ho );\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\t\t\t// console.log(\"ambiguous: \", ambiguous);\n\t\t\tif ( toChange.length > 0 ) {\n\n\t\t\t\t// console.log(\"to change: \", toChange);\n\t\t\t\tif ( ! ambiguous )\tnewShapeHoles = betterShapeHoles;\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar tmpHoles;\n\n\t\tfor ( var i = 0, il = newShapes.length; i < il; i ++ ) {\n\n\t\t\ttmpShape = newShapes[ i ].s;\n\t\t\tshapes.push( tmpShape );\n\t\t\ttmpHoles = newShapeHoles[ i ];\n\n\t\t\tfor ( var j = 0, jl = tmpHoles.length; j < jl; j ++ ) {\n\n\t\t\t\ttmpShape.holes.push( tmpHoles[ j ].h );\n\n\t\t\t}\n\n\t\t}\n\n\t\t//console.log(\"shape\", shapes);\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\n/**\n * @author zz85 / http://www.lab4games.net/zz85/blog\n * @author mrdoob / http://mrdoob.com/\n */\n\n\nfunction Font( data ) {\n\n\tthis.type = 'Font';\n\n\tthis.data = data;\n\n}\n\nObject.assign( Font.prototype, {\n\n\tisFont: true,\n\n\tgenerateShapes: function ( text, size ) {\n\n\t\tif ( size === undefined ) size = 100;\n\n\t\tvar shapes = [];\n\t\tvar paths = createPaths( text, size, this.data );\n\n\t\tfor ( var p = 0, pl = paths.length; p < pl; p ++ ) {\n\n\t\t\tArray.prototype.push.apply( shapes, paths[ p ].toShapes() );\n\n\t\t}\n\n\t\treturn shapes;\n\n\t}\n\n} );\n\nfunction createPaths( text, size, data ) {\n\n\tvar chars = Array.from ? Array.from( text ) : String( text ).split( '' ); // workaround for IE11, see #13988\n\tvar scale = size / data.resolution;\n\tvar line_height = ( data.boundingBox.yMax - data.boundingBox.yMin + data.underlineThickness ) * scale;\n\n\tvar paths = [];\n\n\tvar offsetX = 0, offsetY = 0;\n\n\tfor ( var i = 0; i < chars.length; i ++ ) {\n\n\t\tvar char = chars[ i ];\n\n\t\tif ( char === '\\n' ) {\n\n\t\t\toffsetX = 0;\n\t\t\toffsetY -= line_height;\n\n\t\t} else {\n\n\t\t\tvar ret = createPath( char, scale, offsetX, offsetY, data );\n\t\t\toffsetX += ret.offsetX;\n\t\t\tpaths.push( ret.path );\n\n\t\t}\n\n\t}\n\n\treturn paths;\n\n}\n\nfunction createPath( char, scale, offsetX, offsetY, data ) {\n\n\tvar glyph = data.glyphs[ char ] || data.glyphs[ '?' ];\n\n\tif ( ! glyph ) {\n\n\t\tconsole.error( 'THREE.Font: character \"' + char + '\" does not exists in font family ' + data.familyName + '.' );\n\n\t\treturn;\n\n\t}\n\n\tvar path = new ShapePath();\n\n\tvar x, y, cpx, cpy, cpx1, cpy1, cpx2, cpy2;\n\n\tif ( glyph.o ) {\n\n\t\tvar outline = glyph._cachedOutline || ( glyph._cachedOutline = glyph.o.split( ' ' ) );\n\n\t\tfor ( var i = 0, l = outline.length; i < l; ) {\n\n\t\t\tvar action = outline[ i ++ ];\n\n\t\t\tswitch ( action ) {\n\n\t\t\t\tcase 'm': // moveTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.moveTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'l': // lineTo\n\n\t\t\t\t\tx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\ty = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.lineTo( x, y );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'q': // quadraticCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.quadraticCurveTo( cpx1, cpy1, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'b': // bezierCurveTo\n\n\t\t\t\t\tcpx = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx1 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy1 = outline[ i ++ ] * scale + offsetY;\n\t\t\t\t\tcpx2 = outline[ i ++ ] * scale + offsetX;\n\t\t\t\t\tcpy2 = outline[ i ++ ] * scale + offsetY;\n\n\t\t\t\t\tpath.bezierCurveTo( cpx1, cpy1, cpx2, cpy2, cpx, cpy );\n\n\t\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\treturn { offsetX: glyph.ha * scale, path: path };\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction FontLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nFontLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: FontLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar scope = this;\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( text ) {\n\n\t\t\tvar json;\n\n\t\t\ttry {\n\n\t\t\t\tjson = JSON.parse( text );\n\n\t\t\t} catch ( e ) {\n\n\t\t\t\tconsole.warn( 'THREE.FontLoader: typeface.js support is being deprecated. Use typeface.json instead.' );\n\t\t\t\tjson = JSON.parse( text.substring( 65, text.length - 2 ) );\n\n\t\t\t}\n\n\t\t\tvar font = scope.parse( json );\n\n\t\t\tif ( onLoad ) onLoad( font );\n\n\t\t}, onProgress, onError );\n\n\t},\n\n\tparse: function ( json ) {\n\n\t\treturn new Font( json );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _context;\n\nvar AudioContext = {\n\n\tgetContext: function () {\n\n\t\tif ( _context === undefined ) {\n\n\t\t\t_context = new ( window.AudioContext || window.webkitAudioContext )();\n\n\t\t}\n\n\t\treturn _context;\n\n\t},\n\n\tsetContext: function ( value ) {\n\n\t\t_context = value;\n\n\t}\n\n};\n\n/**\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction AudioLoader( manager ) {\n\n\tLoader.call( this, manager );\n\n}\n\nAudioLoader.prototype = Object.assign( Object.create( Loader.prototype ), {\n\n\tconstructor: AudioLoader,\n\n\tload: function ( url, onLoad, onProgress, onError ) {\n\n\t\tvar loader = new FileLoader( this.manager );\n\t\tloader.setResponseType( 'arraybuffer' );\n\t\tloader.setPath( this.path );\n\t\tloader.load( url, function ( buffer ) {\n\n\t\t\t// Create a copy of the buffer. The `decodeAudioData` method\n\t\t\t// detaches the buffer when complete, preventing reuse.\n\t\t\tvar bufferCopy = buffer.slice( 0 );\n\n\t\t\tvar context = AudioContext.getContext();\n\t\t\tcontext.decodeAudioData( bufferCopy, function ( audioBuffer ) {\n\n\t\t\t\tonLoad( audioBuffer );\n\n\t\t\t} );\n\n\t\t}, onProgress, onError );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Primary reference:\n *   https://graphics.stanford.edu/papers/envmap/envmap.pdf\n *\n * Secondary reference:\n *   https://www.ppsloan.org/publications/StupidSH36.pdf\n */\n\n// 3-band SH defined by 9 coefficients\n\nfunction SphericalHarmonics3() {\n\n\tthis.coefficients = [];\n\n\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\tthis.coefficients.push( new Vector3() );\n\n\t}\n\n}\n\nObject.assign( SphericalHarmonics3.prototype, {\n\n\tisSphericalHarmonics3: true,\n\n\tset: function ( coefficients ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].copy( coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tzero: function () {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].set( 0, 0, 0 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// get the radiance in the direction of the normal\n\t// target is a Vector3\n\tgetAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.282095 );\n\n\t\t// band 1\n\t\ttarget.addScale( coeff[ 1 ], 0.488603 * y );\n\t\ttarget.addScale( coeff[ 2 ], 0.488603 * z );\n\t\ttarget.addScale( coeff[ 3 ], 0.488603 * x );\n\n\t\t// band 2\n\t\ttarget.addScale( coeff[ 4 ], 1.092548 * ( x * y ) );\n\t\ttarget.addScale( coeff[ 5 ], 1.092548 * ( y * z ) );\n\t\ttarget.addScale( coeff[ 6 ], 0.315392 * ( 3.0 * z * z - 1.0 ) );\n\t\ttarget.addScale( coeff[ 7 ], 1.092548 * ( x * z ) );\n\t\ttarget.addScale( coeff[ 8 ], 0.546274 * ( x * x - y * y ) );\n\n\t\treturn target;\n\n\t},\n\n\t// get the irradiance (radiance convolved with cosine lobe) in the direction of the normal\n\t// target is a Vector3\n\t// https://graphics.stanford.edu/papers/envmap/envmap.pdf\n\tgetIrradianceAt: function ( normal, target ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\tvar coeff = this.coefficients;\n\n\t\t// band 0\n\t\ttarget.copy( coeff[ 0 ] ).multiplyScalar( 0.886227 ); // π * 0.282095\n\n\t\t// band 1\n\t\ttarget.addScale( coeff[ 1 ], 2.0 * 0.511664 * y ); // ( 2 * π / 3 ) * 0.488603\n\t\ttarget.addScale( coeff[ 2 ], 2.0 * 0.511664 * z );\n\t\ttarget.addScale( coeff[ 3 ], 2.0 * 0.511664 * x );\n\n\t\t// band 2\n\t\ttarget.addScale( coeff[ 4 ], 2.0 * 0.429043 * x * y ); // ( π / 4 ) * 1.092548\n\t\ttarget.addScale( coeff[ 5 ], 2.0 * 0.429043 * y * z );\n\t\ttarget.addScale( coeff[ 6 ], 0.743125 * z * z - 0.247708 ); // ( π / 4 ) * 0.315392 * 3\n\t\ttarget.addScale( coeff[ 7 ], 2.0 * 0.429043 * x * z );\n\t\ttarget.addScale( coeff[ 8 ], 0.429043 * ( x * x - y * y ) ); // ( π / 4 ) * 0.546274\n\n\t\treturn target;\n\n\t},\n\n\tadd: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].add( sh.coefficients[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\n\tscale: function ( s ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].multiplyScalar( s );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tlerp: function ( sh, alpha ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tthis.coefficients[ i ].lerp( sh.coefficients[ i ], alpha );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( sh ) {\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tif ( ! this.coefficients[ i ].equals( sh.coefficients[ i ] ) ) {\n\n\t\t\t\treturn false;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn true;\n\n\t},\n\n\tcopy: function ( sh ) {\n\n\t\treturn this.set( sh.coefficients );\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tfromArray: function ( array, offset ) {\n\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].fromArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\ttoArray: function ( array, offset ) {\n\n\t\tif ( array === undefined ) array = [];\n\t\tif ( offset === undefined ) offset = 0;\n\n\t\tvar coefficients = this.coefficients;\n\n\t\tfor ( var i = 0; i < 9; i ++ ) {\n\n\t\t\tcoefficients[ i ].toArray( array, offset + ( i * 3 ) );\n\n\t\t}\n\n\t\treturn array;\n\n\t}\n\n} );\n\nObject.assign( SphericalHarmonics3, {\n\n\t// evaluate the basis functions\n\t// shBasis is an Array[ 9 ]\n\tgetBasisAt: function ( normal, shBasis ) {\n\n\t\t// normal is assumed to be unit length\n\n\t\tvar x = normal.x, y = normal.y, z = normal.z;\n\n\t\t// band 0\n\t\tshBasis[ 0 ] = 0.282095;\n\n\t\t// band 1\n\t\tshBasis[ 1 ] = 0.488603 * y;\n\t\tshBasis[ 2 ] = 0.488603 * z;\n\t\tshBasis[ 3 ] = 0.488603 * x;\n\n\t\t// band 2\n\t\tshBasis[ 4 ] = 1.092548 * x * y;\n\t\tshBasis[ 5 ] = 1.092548 * y * z;\n\t\tshBasis[ 6 ] = 0.315392 * ( 3 * z * z - 1 );\n\t\tshBasis[ 7 ] = 1.092548 * x * z;\n\t\tshBasis[ 8 ] = 0.546274 * ( x * x - y * y );\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n *\n * A LightProbe is a source of indirect-diffuse light\n */\n\nfunction LightProbe( sh, intensity ) {\n\n\tLight.call( this, undefined, intensity );\n\n\tthis.sh = ( sh !== undefined ) ? sh : new SphericalHarmonics3();\n\n}\n\nLightProbe.prototype = Object.assign( Object.create( Light.prototype ), {\n\n\tconstructor: LightProbe,\n\n\tisLightProbe: true,\n\n\tcopy: function ( source ) {\n\n\t\tLight.prototype.copy.call( this, source );\n\n\t\tthis.sh.copy( source.sh );\n\t\tthis.intensity = source.intensity;\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = Light.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction HemisphereLightProbe( skyColor, groundColor, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( skyColor );\n\tvar color2 = new Color().set( groundColor );\n\n\tvar sky = new Vector3( color1.r, color1.g, color1.b );\n\tvar ground = new Vector3( color2.r, color2.g, color2.b );\n\n\t// without extra factor of PI in the shader, should = 1 / Math.sqrt( Math.PI );\n\tvar c0 = Math.sqrt( Math.PI );\n\tvar c1 = c0 * Math.sqrt( 0.75 );\n\n\tthis.sh.coefficients[ 0 ].copy( sky ).add( ground ).multiplyScalar( c0 );\n\tthis.sh.coefficients[ 1 ].copy( sky ).sub( ground ).multiplyScalar( c1 );\n\n}\n\nHemisphereLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: HemisphereLightProbe,\n\n\tisHemisphereLightProbe: true,\n\n\tcopy: function ( source ) { // modifying colors not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction AmbientLightProbe( color, intensity ) {\n\n\tLightProbe.call( this, undefined, intensity );\n\n\tvar color1 = new Color().set( color );\n\n\t// without extra factor of PI in the shader, would be 2 / Math.sqrt( Math.PI );\n\tthis.sh.coefficients[ 0 ].set( color1.r, color1.g, color1.b ).multiplyScalar( 2 * Math.sqrt( Math.PI ) );\n\n}\n\nAmbientLightProbe.prototype = Object.assign( Object.create( LightProbe.prototype ), {\n\n\tconstructor: AmbientLightProbe,\n\n\tisAmbientLightProbe: true,\n\n\tcopy: function ( source ) { // modifying color not currently supported\n\n\t\tLightProbe.prototype.copy.call( this, source );\n\n\t\treturn this;\n\n\t},\n\n\ttoJSON: function ( meta ) {\n\n\t\tvar data = LightProbe.prototype.toJSON.call( this, meta );\n\n\t\t// data.sh = this.sh.toArray(); // todo\n\n\t\treturn data;\n\n\t}\n\n} );\n\nvar _eyeRight = new Matrix4();\nvar _eyeLeft = new Matrix4();\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction StereoCamera() {\n\n\tthis.type = 'StereoCamera';\n\n\tthis.aspect = 1;\n\n\tthis.eyeSep = 0.064;\n\n\tthis.cameraL = new PerspectiveCamera();\n\tthis.cameraL.layers.enable( 1 );\n\tthis.cameraL.matrixAutoUpdate = false;\n\n\tthis.cameraR = new PerspectiveCamera();\n\tthis.cameraR.layers.enable( 2 );\n\tthis.cameraR.matrixAutoUpdate = false;\n\n\tthis._cache = {\n\t\tfocus: null,\n\t\tfov: null,\n\t\taspect: null,\n\t\tnear: null,\n\t\tfar: null,\n\t\tzoom: null,\n\t\teyeSep: null\n\t};\n\n}\n\nObject.assign( StereoCamera.prototype, {\n\n\tupdate: function ( camera ) {\n\n\t\tvar cache = this._cache;\n\n\t\tvar needsUpdate = cache.focus !== camera.focus || cache.fov !== camera.fov ||\n\t\t\tcache.aspect !== camera.aspect * this.aspect || cache.near !== camera.near ||\n\t\t\tcache.far !== camera.far || cache.zoom !== camera.zoom || cache.eyeSep !== this.eyeSep;\n\n\t\tif ( needsUpdate ) {\n\n\t\t\tcache.focus = camera.focus;\n\t\t\tcache.fov = camera.fov;\n\t\t\tcache.aspect = camera.aspect * this.aspect;\n\t\t\tcache.near = camera.near;\n\t\t\tcache.far = camera.far;\n\t\t\tcache.zoom = camera.zoom;\n\t\t\tcache.eyeSep = this.eyeSep;\n\n\t\t\t// Off-axis stereoscopic effect based on\n\t\t\t// http://paulbourke.net/stereographics/stereorender/\n\n\t\t\tvar projectionMatrix = camera.projectionMatrix.clone();\n\t\t\tvar eyeSepHalf = cache.eyeSep / 2;\n\t\t\tvar eyeSepOnProjection = eyeSepHalf * cache.near / cache.focus;\n\t\t\tvar ymax = ( cache.near * Math.tan( MathUtils.DEG2RAD * cache.fov * 0.5 ) ) / cache.zoom;\n\t\t\tvar xmin, xmax;\n\n\t\t\t// translate xOffset\n\n\t\t\t_eyeLeft.elements[ 12 ] = - eyeSepHalf;\n\t\t\t_eyeRight.elements[ 12 ] = eyeSepHalf;\n\n\t\t\t// for left eye\n\n\t\t\txmin = - ymax * cache.aspect + eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect + eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraL.projectionMatrix.copy( projectionMatrix );\n\n\t\t\t// for right eye\n\n\t\t\txmin = - ymax * cache.aspect - eyeSepOnProjection;\n\t\t\txmax = ymax * cache.aspect - eyeSepOnProjection;\n\n\t\t\tprojectionMatrix.elements[ 0 ] = 2 * cache.near / ( xmax - xmin );\n\t\t\tprojectionMatrix.elements[ 8 ] = ( xmax + xmin ) / ( xmax - xmin );\n\n\t\t\tthis.cameraR.projectionMatrix.copy( projectionMatrix );\n\n\t\t}\n\n\t\tthis.cameraL.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeLeft );\n\t\tthis.cameraR.matrixWorld.copy( camera.matrixWorld ).multiply( _eyeRight );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction Clock( autoStart ) {\n\n\tthis.autoStart = ( autoStart !== undefined ) ? autoStart : true;\n\n\tthis.startTime = 0;\n\tthis.oldTime = 0;\n\tthis.elapsedTime = 0;\n\n\tthis.running = false;\n\n}\n\nObject.assign( Clock.prototype, {\n\n\tstart: function () {\n\n\t\tthis.startTime = ( typeof performance === 'undefined' ? Date : performance ).now(); // see #10732\n\n\t\tthis.oldTime = this.startTime;\n\t\tthis.elapsedTime = 0;\n\t\tthis.running = true;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis.getElapsedTime();\n\t\tthis.running = false;\n\t\tthis.autoStart = false;\n\n\t},\n\n\tgetElapsedTime: function () {\n\n\t\tthis.getDelta();\n\t\treturn this.elapsedTime;\n\n\t},\n\n\tgetDelta: function () {\n\n\t\tvar diff = 0;\n\n\t\tif ( this.autoStart && ! this.running ) {\n\n\t\t\tthis.start();\n\t\t\treturn 0;\n\n\t\t}\n\n\t\tif ( this.running ) {\n\n\t\t\tvar newTime = ( typeof performance === 'undefined' ? Date : performance ).now();\n\n\t\t\tdiff = ( newTime - this.oldTime ) / 1000;\n\t\t\tthis.oldTime = newTime;\n\n\t\t\tthis.elapsedTime += diff;\n\n\t\t}\n\n\t\treturn diff;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _position$2 = new Vector3();\nvar _quaternion$3 = new Quaternion();\nvar _scale$1 = new Vector3();\nvar _orientation = new Vector3();\n\nfunction AudioListener() {\n\n\tObject3D.call( this );\n\n\tthis.type = 'AudioListener';\n\n\tthis.context = AudioContext.getContext();\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( this.context.destination );\n\n\tthis.filter = null;\n\n\tthis.timeDelta = 0;\n\n\t// private\n\n\tthis._clock = new Clock();\n\n}\n\nAudioListener.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: AudioListener,\n\n\tgetInput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tremoveFilter: function ( ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\t\t\tthis.gain.connect( this.context.destination );\n\t\t\tthis.filter = null;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.filter;\n\n\t},\n\n\tsetFilter: function ( value ) {\n\n\t\tif ( this.filter !== null ) {\n\n\t\t\tthis.gain.disconnect( this.filter );\n\t\t\tthis.filter.disconnect( this.context.destination );\n\n\t\t} else {\n\n\t\t\tthis.gain.disconnect( this.context.destination );\n\n\t\t}\n\n\t\tthis.filter = value;\n\t\tthis.gain.connect( this.filter );\n\t\tthis.filter.connect( this.context.destination );\n\n\t\treturn this;\n\n\t},\n\n\tgetMasterVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetMasterVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tvar listener = this.context.listener;\n\t\tvar up = this.up;\n\n\t\tthis.timeDelta = this._clock.getDelta();\n\n\t\tthis.matrixWorld.decompose( _position$2, _quaternion$3, _scale$1 );\n\n\t\t_orientation.set( 0, 0, - 1 ).applyQuaternion( _quaternion$3 );\n\n\t\tif ( listener.positionX ) {\n\n\t\t\t// code path for Chrome (see #14393)\n\n\t\t\tvar endTime = this.context.currentTime + this.timeDelta;\n\n\t\t\tlistener.positionX.linearRampToValueAtTime( _position$2.x, endTime );\n\t\t\tlistener.positionY.linearRampToValueAtTime( _position$2.y, endTime );\n\t\t\tlistener.positionZ.linearRampToValueAtTime( _position$2.z, endTime );\n\t\t\tlistener.forwardX.linearRampToValueAtTime( _orientation.x, endTime );\n\t\t\tlistener.forwardY.linearRampToValueAtTime( _orientation.y, endTime );\n\t\t\tlistener.forwardZ.linearRampToValueAtTime( _orientation.z, endTime );\n\t\t\tlistener.upX.linearRampToValueAtTime( up.x, endTime );\n\t\t\tlistener.upY.linearRampToValueAtTime( up.y, endTime );\n\t\t\tlistener.upZ.linearRampToValueAtTime( up.z, endTime );\n\n\t\t} else {\n\n\t\t\tlistener.setPosition( _position$2.x, _position$2.y, _position$2.z );\n\t\t\tlistener.setOrientation( _orientation.x, _orientation.y, _orientation.z, up.x, up.y, up.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Reece Aaron Lecrivain / http://reecenotes.com/\n */\n\nfunction Audio( listener ) {\n\n\tObject3D.call( this );\n\n\tthis.type = 'Audio';\n\n\tthis.listener = listener;\n\tthis.context = listener.context;\n\n\tthis.gain = this.context.createGain();\n\tthis.gain.connect( listener.getInput() );\n\n\tthis.autoplay = false;\n\n\tthis.buffer = null;\n\tthis.detune = 0;\n\tthis.loop = false;\n\tthis.loopStart = 0;\n\tthis.loopEnd = 0;\n\tthis.offset = 0;\n\tthis.duration = undefined;\n\tthis.playbackRate = 1;\n\tthis.isPlaying = false;\n\tthis.hasPlaybackControl = true;\n\tthis.sourceType = 'empty';\n\n\tthis._startedAt = 0;\n\tthis._pausedAt = 0;\n\n\tthis.filters = [];\n\n}\n\nAudio.prototype = Object.assign( Object.create( Object3D.prototype ), {\n\n\tconstructor: Audio,\n\n\tgetOutput: function () {\n\n\t\treturn this.gain;\n\n\t},\n\n\tsetNodeSource: function ( audioNode ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'audioNode';\n\t\tthis.source = audioNode;\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaElementSource: function ( mediaElement ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaNode';\n\t\tthis.source = this.context.createMediaElementSource( mediaElement );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetMediaStreamSource: function ( mediaStream ) {\n\n\t\tthis.hasPlaybackControl = false;\n\t\tthis.sourceType = 'mediaStreamNode';\n\t\tthis.source = this.context.createMediaStreamSource( mediaStream );\n\t\tthis.connect();\n\n\t\treturn this;\n\n\t},\n\n\tsetBuffer: function ( audioBuffer ) {\n\n\t\tthis.buffer = audioBuffer;\n\t\tthis.sourceType = 'buffer';\n\n\t\tif ( this.autoplay ) this.play();\n\n\t\treturn this;\n\n\t},\n\n\tplay: function ( delay ) {\n\n\t\tif ( delay === undefined ) delay = 0;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: Audio is already playing.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._startedAt = this.context.currentTime + delay;\n\n\t\tvar source = this.context.createBufferSource();\n\t\tsource.buffer = this.buffer;\n\t\tsource.loop = this.loop;\n\t\tsource.loopStart = this.loopStart;\n\t\tsource.loopEnd = this.loopEnd;\n\t\tsource.onended = this.onEnded.bind( this );\n\t\tsource.start( this._startedAt, this._pausedAt + this.offset, this.duration );\n\n\t\tthis.isPlaying = true;\n\n\t\tthis.source = source;\n\n\t\tthis.setDetune( this.detune );\n\t\tthis.setPlaybackRate( this.playbackRate );\n\n\t\treturn this.connect();\n\n\t},\n\n\tpause: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis._pausedAt += Math.max( this.context.currentTime - this._startedAt, 0 ) * this.playbackRate;\n\n\t\t\tthis.source.stop();\n\t\t\tthis.source.onended = null;\n\n\t\t\tthis.isPlaying = false;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis._pausedAt = 0;\n\n\t\tthis.source.stop();\n\t\tthis.source.onended = null;\n\t\tthis.isPlaying = false;\n\n\t\treturn this;\n\n\t},\n\n\tconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.connect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].connect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].connect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.connect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tdisconnect: function () {\n\n\t\tif ( this.filters.length > 0 ) {\n\n\t\t\tthis.source.disconnect( this.filters[ 0 ] );\n\n\t\t\tfor ( var i = 1, l = this.filters.length; i < l; i ++ ) {\n\n\t\t\t\tthis.filters[ i - 1 ].disconnect( this.filters[ i ] );\n\n\t\t\t}\n\n\t\t\tthis.filters[ this.filters.length - 1 ].disconnect( this.getOutput() );\n\n\t\t} else {\n\n\t\t\tthis.source.disconnect( this.getOutput() );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetFilters: function () {\n\n\t\treturn this.filters;\n\n\t},\n\n\tsetFilters: function ( value ) {\n\n\t\tif ( ! value ) value = [];\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.disconnect();\n\t\t\tthis.filters = value;\n\t\t\tthis.connect();\n\n\t\t} else {\n\n\t\t\tthis.filters = value;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetDetune: function ( value ) {\n\n\t\tthis.detune = value;\n\n\t\tif ( this.source.detune === undefined ) return; // only set detune when available\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.detune.setTargetAtTime( this.detune, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetDetune: function () {\n\n\t\treturn this.detune;\n\n\t},\n\n\tgetFilter: function () {\n\n\t\treturn this.getFilters()[ 0 ];\n\n\t},\n\n\tsetFilter: function ( filter ) {\n\n\t\treturn this.setFilters( filter ? [ filter ] : [] );\n\n\t},\n\n\tsetPlaybackRate: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.playbackRate = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.playbackRate.setTargetAtTime( this.playbackRate, this.context.currentTime, 0.01 );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tgetPlaybackRate: function () {\n\n\t\treturn this.playbackRate;\n\n\t},\n\n\tonEnded: function () {\n\n\t\tthis.isPlaying = false;\n\n\t},\n\n\tgetLoop: function () {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn false;\n\n\t\t}\n\n\t\treturn this.loop;\n\n\t},\n\n\tsetLoop: function ( value ) {\n\n\t\tif ( this.hasPlaybackControl === false ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: this Audio has no playback control.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tthis.loop = value;\n\n\t\tif ( this.isPlaying === true ) {\n\n\t\t\tthis.source.loop = this.loop;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetLoopStart: function ( value ) {\n\n\t\tthis.loopStart = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoopEnd: function ( value ) {\n\n\t\tthis.loopEnd = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetVolume: function () {\n\n\t\treturn this.gain.gain.value;\n\n\t},\n\n\tsetVolume: function ( value ) {\n\n\t\tthis.gain.gain.setTargetAtTime( value, this.context.currentTime, 0.01 );\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nvar _position$3 = new Vector3();\nvar _quaternion$4 = new Quaternion();\nvar _scale$2 = new Vector3();\nvar _orientation$1 = new Vector3();\n\nfunction PositionalAudio( listener ) {\n\n\tAudio.call( this, listener );\n\n\tthis.panner = this.context.createPanner();\n\tthis.panner.panningModel = 'HRTF';\n\tthis.panner.connect( this.gain );\n\n}\n\nPositionalAudio.prototype = Object.assign( Object.create( Audio.prototype ), {\n\n\tconstructor: PositionalAudio,\n\n\tgetOutput: function () {\n\n\t\treturn this.panner;\n\n\t},\n\n\tgetRefDistance: function () {\n\n\t\treturn this.panner.refDistance;\n\n\t},\n\n\tsetRefDistance: function ( value ) {\n\n\t\tthis.panner.refDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetRolloffFactor: function () {\n\n\t\treturn this.panner.rolloffFactor;\n\n\t},\n\n\tsetRolloffFactor: function ( value ) {\n\n\t\tthis.panner.rolloffFactor = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetDistanceModel: function () {\n\n\t\treturn this.panner.distanceModel;\n\n\t},\n\n\tsetDistanceModel: function ( value ) {\n\n\t\tthis.panner.distanceModel = value;\n\n\t\treturn this;\n\n\t},\n\n\tgetMaxDistance: function () {\n\n\t\treturn this.panner.maxDistance;\n\n\t},\n\n\tsetMaxDistance: function ( value ) {\n\n\t\tthis.panner.maxDistance = value;\n\n\t\treturn this;\n\n\t},\n\n\tsetDirectionalCone: function ( coneInnerAngle, coneOuterAngle, coneOuterGain ) {\n\n\t\tthis.panner.coneInnerAngle = coneInnerAngle;\n\t\tthis.panner.coneOuterAngle = coneOuterAngle;\n\t\tthis.panner.coneOuterGain = coneOuterGain;\n\n\t\treturn this;\n\n\t},\n\n\tupdateMatrixWorld: function ( force ) {\n\n\t\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n\t\tif ( this.hasPlaybackControl === true && this.isPlaying === false ) return;\n\n\t\tthis.matrixWorld.decompose( _position$3, _quaternion$4, _scale$2 );\n\n\t\t_orientation$1.set( 0, 0, 1 ).applyQuaternion( _quaternion$4 );\n\n\t\tvar panner = this.panner;\n\n\t\tif ( panner.positionX ) {\n\n\t\t\t// code path for Chrome and Firefox (see #14393)\n\n\t\t\tvar endTime = this.context.currentTime + this.listener.timeDelta;\n\n\t\t\tpanner.positionX.linearRampToValueAtTime( _position$3.x, endTime );\n\t\t\tpanner.positionY.linearRampToValueAtTime( _position$3.y, endTime );\n\t\t\tpanner.positionZ.linearRampToValueAtTime( _position$3.z, endTime );\n\t\t\tpanner.orientationX.linearRampToValueAtTime( _orientation$1.x, endTime );\n\t\t\tpanner.orientationY.linearRampToValueAtTime( _orientation$1.y, endTime );\n\t\t\tpanner.orientationZ.linearRampToValueAtTime( _orientation$1.z, endTime );\n\n\t\t} else {\n\n\t\t\tpanner.setPosition( _position$3.x, _position$3.y, _position$3.z );\n\t\t\tpanner.setOrientation( _orientation$1.x, _orientation$1.y, _orientation$1.z );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AudioAnalyser( audio, fftSize ) {\n\n\tthis.analyser = audio.context.createAnalyser();\n\tthis.analyser.fftSize = fftSize !== undefined ? fftSize : 2048;\n\n\tthis.data = new Uint8Array( this.analyser.frequencyBinCount );\n\n\taudio.getOutput().connect( this.analyser );\n\n}\n\nObject.assign( AudioAnalyser.prototype, {\n\n\tgetFrequencyData: function () {\n\n\t\tthis.analyser.getByteFrequencyData( this.data );\n\n\t\treturn this.data;\n\n\t},\n\n\tgetAverageFrequency: function () {\n\n\t\tvar value = 0, data = this.getFrequencyData();\n\n\t\tfor ( var i = 0; i < data.length; i ++ ) {\n\n\t\t\tvalue += data[ i ];\n\n\t\t}\n\n\t\treturn value / data.length;\n\n\t}\n\n} );\n\n/**\n *\n * Buffered scene graph property that allows weighted accumulation.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction PropertyMixer( binding, typeName, valueSize ) {\n\n\tthis.binding = binding;\n\tthis.valueSize = valueSize;\n\n\tvar bufferType = Float64Array,\n\t\tmixFunction;\n\n\tswitch ( typeName ) {\n\n\t\tcase 'quaternion':\n\t\t\tmixFunction = this._slerp;\n\t\t\tbreak;\n\n\t\tcase 'string':\n\t\tcase 'bool':\n\t\t\tbufferType = Array;\n\t\t\tmixFunction = this._select;\n\t\t\tbreak;\n\n\t\tdefault:\n\t\t\tmixFunction = this._lerp;\n\n\t}\n\n\tthis.buffer = new bufferType( valueSize * 4 );\n\t// layout: [ incoming | accu0 | accu1 | orig ]\n\t//\n\t// interpolators can use .buffer as their .result\n\t// the data then goes to 'incoming'\n\t//\n\t// 'accu0' and 'accu1' are used frame-interleaved for\n\t// the cumulative result and are compared to detect\n\t// changes\n\t//\n\t// 'orig' stores the original state of the property\n\n\tthis._mixBufferRegion = mixFunction;\n\n\tthis.cumulativeWeight = 0;\n\n\tthis.useCount = 0;\n\tthis.referenceCount = 0;\n\n}\n\nObject.assign( PropertyMixer.prototype, {\n\n\t// accumulate data in the 'incoming' region into 'accu<i>'\n\taccumulate: function ( accuIndex, weight ) {\n\n\t\t// note: happily accumulating nothing when weight = 0, the caller knows\n\t\t// the weight and shouldn't have made the call in the first place\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tcurrentWeight = this.cumulativeWeight;\n\n\t\tif ( currentWeight === 0 ) {\n\n\t\t\t// accuN := incoming * weight\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ offset + i ] = buffer[ i ];\n\n\t\t\t}\n\n\t\t\tcurrentWeight = weight;\n\n\t\t} else {\n\n\t\t\t// accuN := accuN + incoming * weight\n\n\t\t\tcurrentWeight += weight;\n\t\t\tvar mix = weight / currentWeight;\n\t\t\tthis._mixBufferRegion( buffer, offset, 0, mix, stride );\n\n\t\t}\n\n\t\tthis.cumulativeWeight = currentWeight;\n\n\t},\n\n\t// apply the state of 'accu<i>' to the binding when accus differ\n\tapply: function ( accuIndex ) {\n\n\t\tvar stride = this.valueSize,\n\t\t\tbuffer = this.buffer,\n\t\t\toffset = accuIndex * stride + stride,\n\n\t\t\tweight = this.cumulativeWeight,\n\n\t\t\tbinding = this.binding;\n\n\t\tthis.cumulativeWeight = 0;\n\n\t\tif ( weight < 1 ) {\n\n\t\t\t// accuN := accuN + original * ( 1 - cumulativeWeight )\n\n\t\t\tvar originalValueOffset = stride * 3;\n\n\t\t\tthis._mixBufferRegion(\n\t\t\t\tbuffer, offset, originalValueOffset, 1 - weight, stride );\n\n\t\t}\n\n\t\tfor ( var i = stride, e = stride + stride; i !== e; ++ i ) {\n\n\t\t\tif ( buffer[ i ] !== buffer[ i + stride ] ) {\n\n\t\t\t\t// value has changed -> update scene graph\n\n\t\t\t\tbinding.setValue( buffer, offset );\n\t\t\t\tbreak;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remember the state of the bound property and copy it to both accus\n\tsaveOriginalState: function () {\n\n\t\tvar binding = this.binding;\n\n\t\tvar buffer = this.buffer,\n\t\t\tstride = this.valueSize,\n\n\t\t\toriginalValueOffset = stride * 3;\n\n\t\tbinding.getValue( buffer, originalValueOffset );\n\n\t\t// accu[0..1] := orig -- initially detect changes against the original\n\t\tfor ( var i = stride, e = originalValueOffset; i !== e; ++ i ) {\n\n\t\t\tbuffer[ i ] = buffer[ originalValueOffset + ( i % stride ) ];\n\n\t\t}\n\n\t\tthis.cumulativeWeight = 0;\n\n\t},\n\n\t// apply the state previously taken via 'saveOriginalState' to the binding\n\trestoreOriginalState: function () {\n\n\t\tvar originalValueOffset = this.valueSize * 3;\n\t\tthis.binding.setValue( this.buffer, originalValueOffset );\n\n\t},\n\n\n\t// mix functions\n\n\t_select: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tif ( t >= 0.5 ) {\n\n\t\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\t\tbuffer[ dstOffset + i ] = buffer[ srcOffset + i ];\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_slerp: function ( buffer, dstOffset, srcOffset, t ) {\n\n\t\tQuaternion.slerpFlat( buffer, dstOffset, buffer, dstOffset, buffer, srcOffset, t );\n\n\t},\n\n\t_lerp: function ( buffer, dstOffset, srcOffset, t, stride ) {\n\n\t\tvar s = 1 - t;\n\n\t\tfor ( var i = 0; i !== stride; ++ i ) {\n\n\t\t\tvar j = dstOffset + i;\n\n\t\t\tbuffer[ j ] = buffer[ j ] * s + buffer[ srcOffset + i ] * t;\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * A reference to a real property in the scene graph.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\n// Characters [].:/ are reserved for track binding syntax.\nvar _RESERVED_CHARS_RE = '\\\\[\\\\]\\\\.:\\\\/';\nvar _reservedRe = new RegExp( '[' + _RESERVED_CHARS_RE + ']', 'g' );\n\n// Attempts to allow node names from any language. ES5's `\\w` regexp matches\n// only latin characters, and the unicode \\p{L} is not yet supported. So\n// instead, we exclude reserved characters and match everything else.\nvar _wordChar = '[^' + _RESERVED_CHARS_RE + ']';\nvar _wordCharOrDot = '[^' + _RESERVED_CHARS_RE.replace( '\\\\.', '' ) + ']';\n\n// Parent directories, delimited by '/' or ':'. Currently unused, but must\n// be matched to parse the rest of the track name.\nvar _directoryRe = /((?:WC+[\\/:])*)/.source.replace( 'WC', _wordChar );\n\n// Target node. May contain word characters (a-zA-Z0-9_) and '.' or '-'.\nvar _nodeRe = /(WCOD+)?/.source.replace( 'WCOD', _wordCharOrDot );\n\n// Object on target node, and accessor. May not contain reserved\n// characters. Accessor may contain any character except closing bracket.\nvar _objectRe = /(?:\\.(WC+)(?:\\[(.+)\\])?)?/.source.replace( 'WC', _wordChar );\n\n// Property and accessor. May not contain reserved characters. Accessor may\n// contain any non-bracket characters.\nvar _propertyRe = /\\.(WC+)(?:\\[(.+)\\])?/.source.replace( 'WC', _wordChar );\n\nvar _trackRe = new RegExp( ''\n\t+ '^'\n\t+ _directoryRe\n\t+ _nodeRe\n\t+ _objectRe\n\t+ _propertyRe\n\t+ '$'\n);\n\nvar _supportedObjectNames = [ 'material', 'materials', 'bones' ];\n\nfunction Composite( targetGroup, path, optionalParsedPath ) {\n\n\tvar parsedPath = optionalParsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis._targetGroup = targetGroup;\n\tthis._bindings = targetGroup.subscribe_( path, parsedPath );\n\n}\n\nObject.assign( Composite.prototype, {\n\n\tgetValue: function ( array, offset ) {\n\n\t\tthis.bind(); // bind all binding\n\n\t\tvar firstValidIndex = this._targetGroup.nCachedObjects_,\n\t\t\tbinding = this._bindings[ firstValidIndex ];\n\n\t\t// and only call .getValue on the first\n\t\tif ( binding !== undefined ) binding.getValue( array, offset );\n\n\t},\n\n\tsetValue: function ( array, offset ) {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].setValue( array, offset );\n\n\t\t}\n\n\t},\n\n\tbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].bind();\n\n\t\t}\n\n\t},\n\n\tunbind: function () {\n\n\t\tvar bindings = this._bindings;\n\n\t\tfor ( var i = this._targetGroup.nCachedObjects_, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tbindings[ i ].unbind();\n\n\t\t}\n\n\t}\n\n} );\n\n\nfunction PropertyBinding( rootNode, path, parsedPath ) {\n\n\tthis.path = path;\n\tthis.parsedPath = parsedPath || PropertyBinding.parseTrackName( path );\n\n\tthis.node = PropertyBinding.findNode( rootNode, this.parsedPath.nodeName ) || rootNode;\n\n\tthis.rootNode = rootNode;\n\n}\n\nObject.assign( PropertyBinding, {\n\n\tComposite: Composite,\n\n\tcreate: function ( root, path, parsedPath ) {\n\n\t\tif ( ! ( root && root.isAnimationObjectGroup ) ) {\n\n\t\t\treturn new PropertyBinding( root, path, parsedPath );\n\n\t\t} else {\n\n\t\t\treturn new PropertyBinding.Composite( root, path, parsedPath );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Replaces spaces with underscores and removes unsupported characters from\n\t * node names, to ensure compatibility with parseTrackName().\n\t *\n\t * @param {string} name Node name to be sanitized.\n\t * @return {string}\n\t */\n\tsanitizeNodeName: function ( name ) {\n\n\t\treturn name.replace( /\\s/g, '_' ).replace( _reservedRe, '' );\n\n\t},\n\n\tparseTrackName: function ( trackName ) {\n\n\t\tvar matches = _trackRe.exec( trackName );\n\n\t\tif ( ! matches ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: Cannot parse trackName: ' + trackName );\n\n\t\t}\n\n\t\tvar results = {\n\t\t\t// directoryName: matches[ 1 ], // (tschw) currently unused\n\t\t\tnodeName: matches[ 2 ],\n\t\t\tobjectName: matches[ 3 ],\n\t\t\tobjectIndex: matches[ 4 ],\n\t\t\tpropertyName: matches[ 5 ], // required\n\t\t\tpropertyIndex: matches[ 6 ]\n\t\t};\n\n\t\tvar lastDot = results.nodeName && results.nodeName.lastIndexOf( '.' );\n\n\t\tif ( lastDot !== undefined && lastDot !== - 1 ) {\n\n\t\t\tvar objectName = results.nodeName.substring( lastDot + 1 );\n\n\t\t\t// Object names must be checked against a whitelist. Otherwise, there\n\t\t\t// is no way to parse 'foo.bar.baz': 'baz' must be a property, but\n\t\t\t// 'bar' could be the objectName, or part of a nodeName (which can\n\t\t\t// include '.' characters).\n\t\t\tif ( _supportedObjectNames.indexOf( objectName ) !== - 1 ) {\n\n\t\t\t\tresults.nodeName = results.nodeName.substring( 0, lastDot );\n\t\t\t\tresults.objectName = objectName;\n\n\t\t\t}\n\n\t\t}\n\n\t\tif ( results.propertyName === null || results.propertyName.length === 0 ) {\n\n\t\t\tthrow new Error( 'PropertyBinding: can not parse propertyName from trackName: ' + trackName );\n\n\t\t}\n\n\t\treturn results;\n\n\t},\n\n\tfindNode: function ( root, nodeName ) {\n\n\t\tif ( ! nodeName || nodeName === \"\" || nodeName === \".\" || nodeName === - 1 || nodeName === root.name || nodeName === root.uuid ) {\n\n\t\t\treturn root;\n\n\t\t}\n\n\t\t// search into skeleton bones.\n\t\tif ( root.skeleton ) {\n\n\t\t\tvar bone = root.skeleton.getBoneByName( nodeName );\n\n\t\t\tif ( bone !== undefined ) {\n\n\t\t\t\treturn bone;\n\n\t\t\t}\n\n\t\t}\n\n\t\t// search into node subtree.\n\t\tif ( root.children ) {\n\n\t\t\tvar searchNodeSubtree = function ( children ) {\n\n\t\t\t\tfor ( var i = 0; i < children.length; i ++ ) {\n\n\t\t\t\t\tvar childNode = children[ i ];\n\n\t\t\t\t\tif ( childNode.name === nodeName || childNode.uuid === nodeName ) {\n\n\t\t\t\t\t\treturn childNode;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tvar result = searchNodeSubtree( childNode.children );\n\n\t\t\t\t\tif ( result ) return result;\n\n\t\t\t\t}\n\n\t\t\t\treturn null;\n\n\t\t\t};\n\n\t\t\tvar subTreeNode = searchNodeSubtree( root.children );\n\n\t\t\tif ( subTreeNode ) {\n\n\t\t\t\treturn subTreeNode;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn null;\n\n\t}\n\n} );\n\nObject.assign( PropertyBinding.prototype, { // prototype, continued\n\n\t// these are used to \"bind\" a nonexistent property\n\t_getValue_unavailable: function () {},\n\t_setValue_unavailable: function () {},\n\n\tBindingType: {\n\t\tDirect: 0,\n\t\tEntireArray: 1,\n\t\tArrayElement: 2,\n\t\tHasFromToArray: 3\n\t},\n\n\tVersioning: {\n\t\tNone: 0,\n\t\tNeedsUpdate: 1,\n\t\tMatrixWorldNeedsUpdate: 2\n\t},\n\n\tGetterByBindingType: [\n\n\t\tfunction getValue_direct( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.node[ this.propertyName ];\n\n\t\t},\n\n\t\tfunction getValue_array( buffer, offset ) {\n\n\t\t\tvar source = this.resolvedProperty;\n\n\t\t\tfor ( var i = 0, n = source.length; i !== n; ++ i ) {\n\n\t\t\t\tbuffer[ offset ++ ] = source[ i ];\n\n\t\t\t}\n\n\t\t},\n\n\t\tfunction getValue_arrayElement( buffer, offset ) {\n\n\t\t\tbuffer[ offset ] = this.resolvedProperty[ this.propertyIndex ];\n\n\t\t},\n\n\t\tfunction getValue_toArray( buffer, offset ) {\n\n\t\t\tthis.resolvedProperty.toArray( buffer, offset );\n\n\t\t}\n\n\t],\n\n\tSetterByBindingTypeAndVersioning: [\n\n\t\t[\n\t\t\t// Direct\n\n\t\t\tfunction setValue_direct( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_direct_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.targetObject[ this.propertyName ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// EntireArray\n\n\t\t\tfunction setValue_array( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_array_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tvar dest = this.resolvedProperty;\n\n\t\t\t\tfor ( var i = 0, n = dest.length; i !== n; ++ i ) {\n\n\t\t\t\t\tdest[ i ] = buffer[ offset ++ ];\n\n\t\t\t\t}\n\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// ArrayElement\n\n\t\t\tfunction setValue_arrayElement( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_arrayElement_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty[ this.propertyIndex ] = buffer[ offset ];\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t], [\n\n\t\t\t// HasToFromArray\n\n\t\t\tfunction setValue_fromArray( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.needsUpdate = true;\n\n\t\t\t},\n\n\t\t\tfunction setValue_fromArray_setMatrixWorldNeedsUpdate( buffer, offset ) {\n\n\t\t\t\tthis.resolvedProperty.fromArray( buffer, offset );\n\t\t\t\tthis.targetObject.matrixWorldNeedsUpdate = true;\n\n\t\t\t}\n\n\t\t]\n\n\t],\n\n\tgetValue: function getValue_unbound( targetArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.getValue( targetArray, offset );\n\n\t\t// Note: This class uses a State pattern on a per-method basis:\n\t\t// 'bind' sets 'this.getValue' / 'setValue' and shadows the\n\t\t// prototype version of these methods with one that represents\n\t\t// the bound state. When the property is not found, the methods\n\t\t// become no-ops.\n\n\t},\n\n\tsetValue: function getValue_unbound( sourceArray, offset ) {\n\n\t\tthis.bind();\n\t\tthis.setValue( sourceArray, offset );\n\n\t},\n\n\t// create getter / setter pair for a property in the scene graph\n\tbind: function () {\n\n\t\tvar targetObject = this.node,\n\t\t\tparsedPath = this.parsedPath,\n\n\t\t\tobjectName = parsedPath.objectName,\n\t\t\tpropertyName = parsedPath.propertyName,\n\t\t\tpropertyIndex = parsedPath.propertyIndex;\n\n\t\tif ( ! targetObject ) {\n\n\t\t\ttargetObject = PropertyBinding.findNode( this.rootNode, parsedPath.nodeName ) || this.rootNode;\n\n\t\t\tthis.node = targetObject;\n\n\t\t}\n\n\t\t// set fail state so we can just 'return' on error\n\t\tthis.getValue = this._getValue_unavailable;\n\t\tthis.setValue = this._setValue_unavailable;\n\n\t\t// ensure there is a value node\n\t\tif ( ! targetObject ) {\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update node for track: ' + this.path + ' but it wasn\\'t found.' );\n\t\t\treturn;\n\n\t\t}\n\n\t\tif ( objectName ) {\n\n\t\t\tvar objectIndex = parsedPath.objectIndex;\n\n\t\t\t// special cases were we need to reach deeper into the hierarchy to get the face materials....\n\t\t\tswitch ( objectName ) {\n\n\t\t\t\tcase 'materials':\n\n\t\t\t\t\tif ( ! targetObject.material ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material as node does not have a material.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tif ( ! targetObject.material.materials ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject.material.materials;\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tcase 'bones':\n\n\t\t\t\t\tif ( ! targetObject.skeleton ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\t// potential future optimization: skip this if propertyIndex is already an integer\n\t\t\t\t\t// and convert the integer string to a true integer.\n\n\t\t\t\t\ttargetObject = targetObject.skeleton.bones;\n\n\t\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\t\tfor ( var i = 0; i < targetObject.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject[ i ].name === objectIndex ) {\n\n\t\t\t\t\t\t\tobjectIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbreak;\n\n\t\t\t\tdefault:\n\n\t\t\t\t\tif ( targetObject[ objectName ] === undefined ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to objectName of node undefined.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\ttargetObject = targetObject[ objectName ];\n\n\t\t\t}\n\n\n\t\t\tif ( objectIndex !== undefined ) {\n\n\t\t\t\tif ( targetObject[ objectIndex ] === undefined ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.', this, targetObject );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\ttargetObject = targetObject[ objectIndex ];\n\n\t\t\t}\n\n\t\t}\n\n\t\t// resolve property\n\t\tvar nodeProperty = targetObject[ propertyName ];\n\n\t\tif ( nodeProperty === undefined ) {\n\n\t\t\tvar nodeName = parsedPath.nodeName;\n\n\t\t\tconsole.error( 'THREE.PropertyBinding: Trying to update property for track: ' + nodeName +\n\t\t\t\t'.' + propertyName + ' but it wasn\\'t found.', targetObject );\n\t\t\treturn;\n\n\t\t}\n\n\t\t// determine versioning scheme\n\t\tvar versioning = this.Versioning.None;\n\n\t\tthis.targetObject = targetObject;\n\n\t\tif ( targetObject.needsUpdate !== undefined ) { // material\n\n\t\t\tversioning = this.Versioning.NeedsUpdate;\n\n\t\t} else if ( targetObject.matrixWorldNeedsUpdate !== undefined ) { // node transform\n\n\t\t\tversioning = this.Versioning.MatrixWorldNeedsUpdate;\n\n\t\t}\n\n\t\t// determine how the property gets bound\n\t\tvar bindingType = this.BindingType.Direct;\n\n\t\tif ( propertyIndex !== undefined ) {\n\n\t\t\t// access a sub element of the property array (only primitives are supported right now)\n\n\t\t\tif ( propertyName === \"morphTargetInfluences\" ) {\n\n\t\t\t\t// potential optimization, skip this if propertyIndex is already an integer, and convert the integer string to a true integer.\n\n\t\t\t\t// support resolving morphTarget names into indices.\n\t\t\t\tif ( ! targetObject.geometry ) {\n\n\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.', this );\n\t\t\t\t\treturn;\n\n\t\t\t\t}\n\n\t\t\t\tif ( targetObject.geometry.isBufferGeometry ) {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphAttributes ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphAttributes.position.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphAttributes.position[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\n\t\t\t\t} else {\n\n\t\t\t\t\tif ( ! targetObject.geometry.morphTargets ) {\n\n\t\t\t\t\t\tconsole.error( 'THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphTargets.', this );\n\t\t\t\t\t\treturn;\n\n\t\t\t\t\t}\n\n\t\t\t\t\tfor ( var i = 0; i < this.node.geometry.morphTargets.length; i ++ ) {\n\n\t\t\t\t\t\tif ( targetObject.geometry.morphTargets[ i ].name === propertyIndex ) {\n\n\t\t\t\t\t\t\tpropertyIndex = i;\n\t\t\t\t\t\t\tbreak;\n\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tbindingType = this.BindingType.ArrayElement;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\t\t\tthis.propertyIndex = propertyIndex;\n\n\t\t} else if ( nodeProperty.fromArray !== undefined && nodeProperty.toArray !== undefined ) {\n\n\t\t\t// must use copy for Object3D.Euler/Quaternion\n\n\t\t\tbindingType = this.BindingType.HasFromToArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else if ( Array.isArray( nodeProperty ) ) {\n\n\t\t\tbindingType = this.BindingType.EntireArray;\n\n\t\t\tthis.resolvedProperty = nodeProperty;\n\n\t\t} else {\n\n\t\t\tthis.propertyName = propertyName;\n\n\t\t}\n\n\t\t// select getter / setter\n\t\tthis.getValue = this.GetterByBindingType[ bindingType ];\n\t\tthis.setValue = this.SetterByBindingTypeAndVersioning[ bindingType ][ versioning ];\n\n\t},\n\n\tunbind: function () {\n\n\t\tthis.node = null;\n\n\t\t// back to the prototype version of getValue / setValue\n\t\t// note: avoiding to mutate the shape of 'this' via 'delete'\n\t\tthis.getValue = this._getValue_unbound;\n\t\tthis.setValue = this._setValue_unbound;\n\n\t}\n\n} );\n\n//!\\ DECLARE ALIAS AFTER assign prototype !\nObject.assign( PropertyBinding.prototype, {\n\n\t// initial state of these methods that calls 'bind'\n\t_getValue_unbound: PropertyBinding.prototype.getValue,\n\t_setValue_unbound: PropertyBinding.prototype.setValue,\n\n} );\n\n/**\n *\n * A group of objects that receives a shared animation state.\n *\n * Usage:\n *\n *  - Add objects you would otherwise pass as 'root' to the\n *    constructor or the .clipAction method of AnimationMixer.\n *\n *  - Instead pass this object as 'root'.\n *\n *  - You can also add and remove objects later when the mixer\n *    is running.\n *\n * Note:\n *\n *    Objects of this class appear as one object to the mixer,\n *    so cache control of the individual objects must be done\n *    on the group.\n *\n * Limitation:\n *\n *  - The animated properties must be compatible among the\n *    all objects in the group.\n *\n *  - A single property can either be controlled through a\n *    target group or directly, but not both.\n *\n * @author tschw\n */\n\nfunction AnimationObjectGroup() {\n\n\tthis.uuid = MathUtils.generateUUID();\n\n\t// cached objects followed by the active ones\n\tthis._objects = Array.prototype.slice.call( arguments );\n\n\tthis.nCachedObjects_ = 0; // threshold\n\t// note: read by PropertyBinding.Composite\n\n\tvar indices = {};\n\tthis._indicesByUUID = indices; // for bookkeeping\n\n\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\tindices[ arguments[ i ].uuid ] = i;\n\n\t}\n\n\tthis._paths = []; // inside: string\n\tthis._parsedPaths = []; // inside: { we don't care, here }\n\tthis._bindings = []; // inside: Array< PropertyBinding >\n\tthis._bindingsIndicesByPath = {}; // inside: indices in these arrays\n\n\tvar scope = this;\n\n\tthis.stats = {\n\n\t\tobjects: {\n\t\t\tget total() {\n\n\t\t\t\treturn scope._objects.length;\n\n\t\t\t},\n\t\t\tget inUse() {\n\n\t\t\t\treturn this.total - scope.nCachedObjects_;\n\n\t\t\t}\n\t\t},\n\t\tget bindingsPerObject() {\n\n\t\t\treturn scope._bindings.length;\n\n\t\t}\n\n\t};\n\n}\n\nObject.assign( AnimationObjectGroup.prototype, {\n\n\tisAnimationObjectGroup: true,\n\n\tadd: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tpaths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length,\n\t\t\tknownObject = undefined;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index === undefined ) {\n\n\t\t\t\t// unknown object -> add it to the ACTIVE region\n\n\t\t\t\tindex = nObjects ++;\n\t\t\t\tindicesByUUID[ uuid ] = index;\n\t\t\t\tobjects.push( object );\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tbindings[ j ].push( new PropertyBinding( object, paths[ j ], parsedPaths[ j ] ) );\n\n\t\t\t\t}\n\n\t\t\t} else if ( index < nCachedObjects ) {\n\n\t\t\t\tknownObject = objects[ index ];\n\n\t\t\t\t// move existing object to the ACTIVE region\n\n\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ];\n\n\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = firstActiveIndex;\n\t\t\t\tobjects[ firstActiveIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\n\t\t\t\t\tif ( binding === undefined ) {\n\n\t\t\t\t\t\t// since we do not bother to create new bindings\n\t\t\t\t\t\t// for objects that are cached, the binding may\n\t\t\t\t\t\t// or may not exist\n\n\t\t\t\t\t\tbinding = new PropertyBinding( object, paths[ j ], parsedPaths[ j ] );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t} else if ( objects[ index ] !== knownObject ) {\n\n\t\t\t\tconsole.error( 'THREE.AnimationObjectGroup: Different objects with the same UUID ' +\n\t\t\t\t\t'detected. Clean the caches or recreate your infrastructure when reloading scenes.' );\n\n\t\t\t} // else the object is already where we want it to be\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\tremove: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined && index >= nCachedObjects ) {\n\n\t\t\t\t// move existing object into the CACHED region\n\n\t\t\t\tvar lastCachedIndex = nCachedObjects ++,\n\t\t\t\t\tfirstActiveObject = objects[ lastCachedIndex ];\n\n\t\t\t\tindicesByUUID[ firstActiveObject.uuid ] = index;\n\t\t\t\tobjects[ index ] = firstActiveObject;\n\n\t\t\t\tindicesByUUID[ uuid ] = lastCachedIndex;\n\t\t\t\tobjects[ lastCachedIndex ] = object;\n\n\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\tfirstActive = bindingsForPath[ lastCachedIndex ],\n\t\t\t\t\t\tbinding = bindingsForPath[ index ];\n\n\t\t\t\t\tbindingsForPath[ index ] = firstActive;\n\t\t\t\t\tbindingsForPath[ lastCachedIndex ] = binding;\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// remove & forget\n\tuncache: function () {\n\n\t\tvar objects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tindicesByUUID = this._indicesByUUID,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = bindings.length;\n\n\t\tfor ( var i = 0, n = arguments.length; i !== n; ++ i ) {\n\n\t\t\tvar object = arguments[ i ],\n\t\t\t\tuuid = object.uuid,\n\t\t\t\tindex = indicesByUUID[ uuid ];\n\n\t\t\tif ( index !== undefined ) {\n\n\t\t\t\tdelete indicesByUUID[ uuid ];\n\n\t\t\t\tif ( index < nCachedObjects ) {\n\n\t\t\t\t\t// object is cached, shrink the CACHED region\n\n\t\t\t\t\tvar firstActiveIndex = -- nCachedObjects,\n\t\t\t\t\t\tlastCachedObject = objects[ firstActiveIndex ],\n\t\t\t\t\t\tlastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\t// last cached object takes this object's place\n\t\t\t\t\tindicesByUUID[ lastCachedObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastCachedObject;\n\n\t\t\t\t\t// last object goes to the activated slot and pop\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = firstActiveIndex;\n\t\t\t\t\tobjects[ firstActiveIndex ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ],\n\t\t\t\t\t\t\tlastCached = bindingsForPath[ firstActiveIndex ],\n\t\t\t\t\t\t\tlast = bindingsForPath[ lastIndex ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = lastCached;\n\t\t\t\t\t\tbindingsForPath[ firstActiveIndex ] = last;\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// object is active, just swap with the last and pop\n\n\t\t\t\t\tvar lastIndex = -- nObjects,\n\t\t\t\t\t\tlastObject = objects[ lastIndex ];\n\n\t\t\t\t\tindicesByUUID[ lastObject.uuid ] = index;\n\t\t\t\t\tobjects[ index ] = lastObject;\n\t\t\t\t\tobjects.pop();\n\n\t\t\t\t\t// accounting is done, now do the same for all bindings\n\n\t\t\t\t\tfor ( var j = 0, m = nBindings; j !== m; ++ j ) {\n\n\t\t\t\t\t\tvar bindingsForPath = bindings[ j ];\n\n\t\t\t\t\t\tbindingsForPath[ index ] = bindingsForPath[ lastIndex ];\n\t\t\t\t\t\tbindingsForPath.pop();\n\n\t\t\t\t\t}\n\n\t\t\t\t} // cached or active\n\n\t\t\t} // if object is known\n\n\t\t} // for arguments\n\n\t\tthis.nCachedObjects_ = nCachedObjects;\n\n\t},\n\n\t// Internal interface used by befriended PropertyBinding.Composite:\n\n\tsubscribe_: function ( path, parsedPath ) {\n\n\t\t// returns an array of bindings for the given path that is changed\n\t\t// according to the contained objects in the group\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ],\n\t\t\tbindings = this._bindings;\n\n\t\tif ( index !== undefined ) return bindings[ index ];\n\n\t\tvar paths = this._paths,\n\t\t\tparsedPaths = this._parsedPaths,\n\t\t\tobjects = this._objects,\n\t\t\tnObjects = objects.length,\n\t\t\tnCachedObjects = this.nCachedObjects_,\n\t\t\tbindingsForPath = new Array( nObjects );\n\n\t\tindex = bindings.length;\n\n\t\tindicesByPath[ path ] = index;\n\n\t\tpaths.push( path );\n\t\tparsedPaths.push( parsedPath );\n\t\tbindings.push( bindingsForPath );\n\n\t\tfor ( var i = nCachedObjects, n = objects.length; i !== n; ++ i ) {\n\n\t\t\tvar object = objects[ i ];\n\t\t\tbindingsForPath[ i ] = new PropertyBinding( object, path, parsedPath );\n\n\t\t}\n\n\t\treturn bindingsForPath;\n\n\t},\n\n\tunsubscribe_: function ( path ) {\n\n\t\t// tells the group to forget about a property path and no longer\n\t\t// update the array previously obtained with 'subscribe_'\n\n\t\tvar indicesByPath = this._bindingsIndicesByPath,\n\t\t\tindex = indicesByPath[ path ];\n\n\t\tif ( index !== undefined ) {\n\n\t\t\tvar paths = this._paths,\n\t\t\t\tparsedPaths = this._parsedPaths,\n\t\t\t\tbindings = this._bindings,\n\t\t\t\tlastBindingsIndex = bindings.length - 1,\n\t\t\t\tlastBindings = bindings[ lastBindingsIndex ],\n\t\t\t\tlastBindingsPath = path[ lastBindingsIndex ];\n\n\t\t\tindicesByPath[ lastBindingsPath ] = index;\n\n\t\t\tbindings[ index ] = lastBindings;\n\t\t\tbindings.pop();\n\n\t\t\tparsedPaths[ index ] = parsedPaths[ lastBindingsIndex ];\n\t\t\tparsedPaths.pop();\n\n\t\t\tpaths[ index ] = paths[ lastBindingsIndex ];\n\t\t\tpaths.pop();\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n *\n * Action provided by AnimationMixer for scheduling clip playback on specific\n * objects.\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n *\n */\n\nfunction AnimationAction( mixer, clip, localRoot ) {\n\n\tthis._mixer = mixer;\n\tthis._clip = clip;\n\tthis._localRoot = localRoot || null;\n\n\tvar tracks = clip.tracks,\n\t\tnTracks = tracks.length,\n\t\tinterpolants = new Array( nTracks );\n\n\tvar interpolantSettings = {\n\t\tendingStart: ZeroCurvatureEnding,\n\t\tendingEnd: ZeroCurvatureEnding\n\t};\n\n\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\tvar interpolant = tracks[ i ].createInterpolant( null );\n\t\tinterpolants[ i ] = interpolant;\n\t\tinterpolant.settings = interpolantSettings;\n\n\t}\n\n\tthis._interpolantSettings = interpolantSettings;\n\n\tthis._interpolants = interpolants; // bound by the mixer\n\n\t// inside: PropertyMixer (managed by the mixer)\n\tthis._propertyBindings = new Array( nTracks );\n\n\tthis._cacheIndex = null; // for the memory manager\n\tthis._byClipCacheIndex = null; // for the memory manager\n\n\tthis._timeScaleInterpolant = null;\n\tthis._weightInterpolant = null;\n\n\tthis.loop = LoopRepeat;\n\tthis._loopCount = - 1;\n\n\t// global mixer time when the action is to be started\n\t// it's set back to 'null' upon start of the action\n\tthis._startTime = null;\n\n\t// scaled local time of the action\n\t// gets clamped or wrapped to 0..clip.duration according to loop\n\tthis.time = 0;\n\n\tthis.timeScale = 1;\n\tthis._effectiveTimeScale = 1;\n\n\tthis.weight = 1;\n\tthis._effectiveWeight = 1;\n\n\tthis.repetitions = Infinity; // no. of repetitions when looping\n\n\tthis.paused = false; // true -> zero effective time scale\n\tthis.enabled = true; // false -> zero effective weight\n\n\tthis.clampWhenFinished = false;// keep feeding the last frame?\n\n\tthis.zeroSlopeAtStart = true;// for smooth interpolation w/o separate\n\tthis.zeroSlopeAtEnd = true;// clips for start, loop and end\n\n}\n\nObject.assign( AnimationAction.prototype, {\n\n\t// State & Scheduling\n\n\tplay: function () {\n\n\t\tthis._mixer._activateAction( this );\n\n\t\treturn this;\n\n\t},\n\n\tstop: function () {\n\n\t\tthis._mixer._deactivateAction( this );\n\n\t\treturn this.reset();\n\n\t},\n\n\treset: function () {\n\n\t\tthis.paused = false;\n\t\tthis.enabled = true;\n\n\t\tthis.time = 0; // restart clip\n\t\tthis._loopCount = - 1;// forget previous loops\n\t\tthis._startTime = null;// forget scheduling\n\n\t\treturn this.stopFading().stopWarping();\n\n\t},\n\n\tisRunning: function () {\n\n\t\treturn this.enabled && ! this.paused && this.timeScale !== 0 &&\n\t\t\tthis._startTime === null && this._mixer._isActiveAction( this );\n\n\t},\n\n\t// return true when play has been called\n\tisScheduled: function () {\n\n\t\treturn this._mixer._isActiveAction( this );\n\n\t},\n\n\tstartAt: function ( time ) {\n\n\t\tthis._startTime = time;\n\n\t\treturn this;\n\n\t},\n\n\tsetLoop: function ( mode, repetitions ) {\n\n\t\tthis.loop = mode;\n\t\tthis.repetitions = repetitions;\n\n\t\treturn this;\n\n\t},\n\n\t// Weight\n\n\t// set the weight stopping any scheduled fading\n\t// although .enabled = false yields an effective weight of zero, this\n\t// method does *not* change .enabled, because it would be confusing\n\tsetEffectiveWeight: function ( weight ) {\n\n\t\tthis.weight = weight;\n\n\t\t// note: same logic as when updated at runtime\n\t\tthis._effectiveWeight = this.enabled ? weight : 0;\n\n\t\treturn this.stopFading();\n\n\t},\n\n\t// return the weight considering fading and .enabled\n\tgetEffectiveWeight: function () {\n\n\t\treturn this._effectiveWeight;\n\n\t},\n\n\tfadeIn: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 0, 1 );\n\n\t},\n\n\tfadeOut: function ( duration ) {\n\n\t\treturn this._scheduleFading( duration, 1, 0 );\n\n\t},\n\n\tcrossFadeFrom: function ( fadeOutAction, duration, warp ) {\n\n\t\tfadeOutAction.fadeOut( duration );\n\t\tthis.fadeIn( duration );\n\n\t\tif ( warp ) {\n\n\t\t\tvar fadeInDuration = this._clip.duration,\n\t\t\t\tfadeOutDuration = fadeOutAction._clip.duration,\n\n\t\t\t\tstartEndRatio = fadeOutDuration / fadeInDuration,\n\t\t\t\tendStartRatio = fadeInDuration / fadeOutDuration;\n\n\t\t\tfadeOutAction.warp( 1.0, startEndRatio, duration );\n\t\t\tthis.warp( endStartRatio, 1.0, duration );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tcrossFadeTo: function ( fadeInAction, duration, warp ) {\n\n\t\treturn fadeInAction.crossFadeFrom( this, duration, warp );\n\n\t},\n\n\tstopFading: function () {\n\n\t\tvar weightInterpolant = this._weightInterpolant;\n\n\t\tif ( weightInterpolant !== null ) {\n\n\t\t\tthis._weightInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( weightInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Time Scale Control\n\n\t// set the time scale stopping any scheduled warping\n\t// although .paused = true yields an effective time scale of zero, this\n\t// method does *not* change .paused, because it would be confusing\n\tsetEffectiveTimeScale: function ( timeScale ) {\n\n\t\tthis.timeScale = timeScale;\n\t\tthis._effectiveTimeScale = this.paused ? 0 : timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\t// return the time scale considering warping and .paused\n\tgetEffectiveTimeScale: function () {\n\n\t\treturn this._effectiveTimeScale;\n\n\t},\n\n\tsetDuration: function ( duration ) {\n\n\t\tthis.timeScale = this._clip.duration / duration;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\tsyncWith: function ( action ) {\n\n\t\tthis.time = action.time;\n\t\tthis.timeScale = action.timeScale;\n\n\t\treturn this.stopWarping();\n\n\t},\n\n\thalt: function ( duration ) {\n\n\t\treturn this.warp( this._effectiveTimeScale, 0, duration );\n\n\t},\n\n\twarp: function ( startTimeScale, endTimeScale, duration ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._timeScaleInterpolant,\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._timeScaleInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\ttimes[ 1 ] = now + duration;\n\n\t\tvalues[ 0 ] = startTimeScale / timeScale;\n\t\tvalues[ 1 ] = endTimeScale / timeScale;\n\n\t\treturn this;\n\n\t},\n\n\tstopWarping: function () {\n\n\t\tvar timeScaleInterpolant = this._timeScaleInterpolant;\n\n\t\tif ( timeScaleInterpolant !== null ) {\n\n\t\t\tthis._timeScaleInterpolant = null;\n\t\t\tthis._mixer._takeBackControlInterpolant( timeScaleInterpolant );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Object Accessors\n\n\tgetMixer: function () {\n\n\t\treturn this._mixer;\n\n\t},\n\n\tgetClip: function () {\n\n\t\treturn this._clip;\n\n\t},\n\n\tgetRoot: function () {\n\n\t\treturn this._localRoot || this._mixer._root;\n\n\t},\n\n\t// Interna\n\n\t_update: function ( time, deltaTime, timeDirection, accuIndex ) {\n\n\t\t// called by the mixer\n\n\t\tif ( ! this.enabled ) {\n\n\t\t\t// call ._updateWeight() to update ._effectiveWeight\n\n\t\t\tthis._updateWeight( time );\n\t\t\treturn;\n\n\t\t}\n\n\t\tvar startTime = this._startTime;\n\n\t\tif ( startTime !== null ) {\n\n\t\t\t// check for scheduled start of action\n\n\t\t\tvar timeRunning = ( time - startTime ) * timeDirection;\n\t\t\tif ( timeRunning < 0 || timeDirection === 0 ) {\n\n\t\t\t\treturn; // yet to come / don't decide when delta = 0\n\n\t\t\t}\n\n\t\t\t// start\n\n\t\t\tthis._startTime = null; // unschedule\n\t\t\tdeltaTime = timeDirection * timeRunning;\n\n\t\t}\n\n\t\t// apply time scale and advance time\n\n\t\tdeltaTime *= this._updateTimeScale( time );\n\t\tvar clipTime = this._updateTime( deltaTime );\n\n\t\t// note: _updateTime may disable the action resulting in\n\t\t// an effective weight of 0\n\n\t\tvar weight = this._updateWeight( time );\n\n\t\tif ( weight > 0 ) {\n\n\t\t\tvar interpolants = this._interpolants;\n\t\t\tvar propertyMixers = this._propertyBindings;\n\n\t\t\tfor ( var j = 0, m = interpolants.length; j !== m; ++ j ) {\n\n\t\t\t\tinterpolants[ j ].evaluate( clipTime );\n\t\t\t\tpropertyMixers[ j ].accumulate( accuIndex, weight );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_updateWeight: function ( time ) {\n\n\t\tvar weight = 0;\n\n\t\tif ( this.enabled ) {\n\n\t\t\tweight = this.weight;\n\t\t\tvar interpolant = this._weightInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\tweight *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopFading();\n\n\t\t\t\t\tif ( interpolantValue === 0 ) {\n\n\t\t\t\t\t\t// faded out, disable\n\t\t\t\t\t\tthis.enabled = false;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveWeight = weight;\n\t\treturn weight;\n\n\t},\n\n\t_updateTimeScale: function ( time ) {\n\n\t\tvar timeScale = 0;\n\n\t\tif ( ! this.paused ) {\n\n\t\t\ttimeScale = this.timeScale;\n\n\t\t\tvar interpolant = this._timeScaleInterpolant;\n\n\t\t\tif ( interpolant !== null ) {\n\n\t\t\t\tvar interpolantValue = interpolant.evaluate( time )[ 0 ];\n\n\t\t\t\ttimeScale *= interpolantValue;\n\n\t\t\t\tif ( time > interpolant.parameterPositions[ 1 ] ) {\n\n\t\t\t\t\tthis.stopWarping();\n\n\t\t\t\t\tif ( timeScale === 0 ) {\n\n\t\t\t\t\t\t// motion has halted, pause\n\t\t\t\t\t\tthis.paused = true;\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\t// warp done - apply final time scale\n\t\t\t\t\t\tthis.timeScale = timeScale;\n\n\t\t\t\t\t}\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t}\n\n\t\tthis._effectiveTimeScale = timeScale;\n\t\treturn timeScale;\n\n\t},\n\n\t_updateTime: function ( deltaTime ) {\n\n\t\tvar time = this.time + deltaTime;\n\t\tvar duration = this._clip.duration;\n\t\tvar loop = this.loop;\n\t\tvar loopCount = this._loopCount;\n\n\t\tvar pingPong = ( loop === LoopPingPong );\n\n\t\tif ( deltaTime === 0 ) {\n\n\t\t\tif ( loopCount === - 1 ) return time;\n\n\t\t\treturn ( pingPong && ( loopCount & 1 ) === 1 ) ? duration - time : time;\n\n\t\t}\n\n\t\tif ( loop === LoopOnce ) {\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tthis._loopCount = 0;\n\t\t\t\tthis._setEndings( true, true, false );\n\n\t\t\t}\n\n\t\t\thandle_stop: {\n\n\t\t\t\tif ( time >= duration ) {\n\n\t\t\t\t\ttime = duration;\n\n\t\t\t\t} else if ( time < 0 ) {\n\n\t\t\t\t\ttime = 0;\n\n\t\t\t\t} else {\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tbreak handle_stop;\n\n\t\t\t\t}\n\n\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\telse this.enabled = false;\n\n\t\t\t\tthis.time = time;\n\n\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\tdirection: deltaTime < 0 ? - 1 : 1\n\t\t\t\t} );\n\n\t\t\t}\n\n\t\t} else { // repetitive Repeat or PingPong\n\n\t\t\tif ( loopCount === - 1 ) {\n\n\t\t\t\t// just started\n\n\t\t\t\tif ( deltaTime >= 0 ) {\n\n\t\t\t\t\tloopCount = 0;\n\n\t\t\t\t\tthis._setEndings( true, this.repetitions === 0, pingPong );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// when looping in reverse direction, the initial\n\t\t\t\t\t// transition through zero counts as a repetition,\n\t\t\t\t\t// so leave loopCount at -1\n\n\t\t\t\t\tthis._setEndings( this.repetitions === 0, true, pingPong );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tif ( time >= duration || time < 0 ) {\n\n\t\t\t\t// wrap around\n\n\t\t\t\tvar loopDelta = Math.floor( time / duration ); // signed\n\t\t\t\ttime -= duration * loopDelta;\n\n\t\t\t\tloopCount += Math.abs( loopDelta );\n\n\t\t\t\tvar pending = this.repetitions - loopCount;\n\n\t\t\t\tif ( pending <= 0 ) {\n\n\t\t\t\t\t// have to stop (switch state, clamp time, fire event)\n\n\t\t\t\t\tif ( this.clampWhenFinished ) this.paused = true;\n\t\t\t\t\telse this.enabled = false;\n\n\t\t\t\t\ttime = deltaTime > 0 ? duration : 0;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'finished', action: this,\n\t\t\t\t\t\tdirection: deltaTime > 0 ? 1 : - 1\n\t\t\t\t\t} );\n\n\t\t\t\t} else {\n\n\t\t\t\t\t// keep running\n\n\t\t\t\t\tif ( pending === 1 ) {\n\n\t\t\t\t\t\t// entering the last round\n\n\t\t\t\t\t\tvar atStart = deltaTime < 0;\n\t\t\t\t\t\tthis._setEndings( atStart, ! atStart, pingPong );\n\n\t\t\t\t\t} else {\n\n\t\t\t\t\t\tthis._setEndings( false, false, pingPong );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tthis._loopCount = loopCount;\n\n\t\t\t\t\tthis.time = time;\n\n\t\t\t\t\tthis._mixer.dispatchEvent( {\n\t\t\t\t\t\ttype: 'loop', action: this, loopDelta: loopDelta\n\t\t\t\t\t} );\n\n\t\t\t\t}\n\n\t\t\t} else {\n\n\t\t\t\tthis.time = time;\n\n\t\t\t}\n\n\t\t\tif ( pingPong && ( loopCount & 1 ) === 1 ) {\n\n\t\t\t\t// invert time for the \"pong round\"\n\n\t\t\t\treturn duration - time;\n\n\t\t\t}\n\n\t\t}\n\n\t\treturn time;\n\n\t},\n\n\t_setEndings: function ( atStart, atEnd, pingPong ) {\n\n\t\tvar settings = this._interpolantSettings;\n\n\t\tif ( pingPong ) {\n\n\t\t\tsettings.endingStart = ZeroSlopeEnding;\n\t\t\tsettings.endingEnd = ZeroSlopeEnding;\n\n\t\t} else {\n\n\t\t\t// assuming for LoopOnce atStart == atEnd == true\n\n\t\t\tif ( atStart ) {\n\n\t\t\t\tsettings.endingStart = this.zeroSlopeAtStart ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingStart = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t\tif ( atEnd ) {\n\n\t\t\t\tsettings.endingEnd = this.zeroSlopeAtEnd ? ZeroSlopeEnding : ZeroCurvatureEnding;\n\n\t\t\t} else {\n\n\t\t\t\tsettings.endingEnd \t = WrapAroundEnding;\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_scheduleFading: function ( duration, weightNow, weightThen ) {\n\n\t\tvar mixer = this._mixer, now = mixer.time,\n\t\t\tinterpolant = this._weightInterpolant;\n\n\t\tif ( interpolant === null ) {\n\n\t\t\tinterpolant = mixer._lendControlInterpolant();\n\t\t\tthis._weightInterpolant = interpolant;\n\n\t\t}\n\n\t\tvar times = interpolant.parameterPositions,\n\t\t\tvalues = interpolant.sampleValues;\n\n\t\ttimes[ 0 ] = now;\n\t\tvalues[ 0 ] = weightNow;\n\t\ttimes[ 1 ] = now + duration;\n\t\tvalues[ 1 ] = weightThen;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n *\n * Player for AnimationClips.\n *\n *\n * @author Ben Houston / http://clara.io/\n * @author David Sarno / http://lighthaus.us/\n * @author tschw\n */\n\nfunction AnimationMixer( root ) {\n\n\tthis._root = root;\n\tthis._initMemoryManager();\n\tthis._accuIndex = 0;\n\n\tthis.time = 0;\n\n\tthis.timeScale = 1.0;\n\n}\n\nAnimationMixer.prototype = Object.assign( Object.create( EventDispatcher.prototype ), {\n\n\tconstructor: AnimationMixer,\n\n\t_bindAction: function ( action, prototypeAction ) {\n\n\t\tvar root = action._localRoot || this._root,\n\t\t\ttracks = action._clip.tracks,\n\t\t\tnTracks = tracks.length,\n\t\t\tbindings = action._propertyBindings,\n\t\t\tinterpolants = action._interpolants,\n\t\t\trootUuid = root.uuid,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingsByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingsByName === undefined ) {\n\n\t\t\tbindingsByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingsByName;\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nTracks; ++ i ) {\n\n\t\t\tvar track = tracks[ i ],\n\t\t\t\ttrackName = track.name,\n\t\t\t\tbinding = bindingsByName[ trackName ];\n\n\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t} else {\n\n\t\t\t\tbinding = bindings[ i ];\n\n\t\t\t\tif ( binding !== undefined ) {\n\n\t\t\t\t\t// existing binding, make sure the cache knows\n\n\t\t\t\t\tif ( binding._cacheIndex === null ) {\n\n\t\t\t\t\t\t++ binding.referenceCount;\n\t\t\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\t\t}\n\n\t\t\t\t\tcontinue;\n\n\t\t\t\t}\n\n\t\t\t\tvar path = prototypeAction && prototypeAction.\n\t\t\t\t\t_propertyBindings[ i ].binding.parsedPath;\n\n\t\t\t\tbinding = new PropertyMixer(\n\t\t\t\t\tPropertyBinding.create( root, trackName, path ),\n\t\t\t\t\ttrack.ValueTypeName, track.getValueSize() );\n\n\t\t\t\t++ binding.referenceCount;\n\t\t\t\tthis._addInactiveBinding( binding, rootUuid, trackName );\n\n\t\t\t\tbindings[ i ] = binding;\n\n\t\t\t}\n\n\t\t\tinterpolants[ i ].resultBuffer = binding.buffer;\n\n\t\t}\n\n\t},\n\n\t_activateAction: function ( action ) {\n\n\t\tif ( ! this._isActiveAction( action ) ) {\n\n\t\t\tif ( action._cacheIndex === null ) {\n\n\t\t\t\t// this action has been forgotten by the cache, but the user\n\t\t\t\t// appears to be still using it -> rebind\n\n\t\t\t\tvar rootUuid = ( action._localRoot || this._root ).uuid,\n\t\t\t\t\tclipUuid = action._clip.uuid,\n\t\t\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\t\t\tthis._bindAction( action,\n\t\t\t\t\tactionsForClip && actionsForClip.knownActions[ 0 ] );\n\n\t\t\t\tthis._addInactiveAction( action, clipUuid, rootUuid );\n\n\t\t\t}\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// increment reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( binding.useCount ++ === 0 ) {\n\n\t\t\t\t\tthis._lendBinding( binding );\n\t\t\t\t\tbinding.saveOriginalState();\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._lendAction( action );\n\n\t\t}\n\n\t},\n\n\t_deactivateAction: function ( action ) {\n\n\t\tif ( this._isActiveAction( action ) ) {\n\n\t\t\tvar bindings = action._propertyBindings;\n\n\t\t\t// decrement reference counts / sort out state\n\t\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\t\tvar binding = bindings[ i ];\n\n\t\t\t\tif ( -- binding.useCount === 0 ) {\n\n\t\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\t\tthis._takeBackBinding( binding );\n\n\t\t\t\t}\n\n\t\t\t}\n\n\t\t\tthis._takeBackAction( action );\n\n\t\t}\n\n\t},\n\n\t// Memory manager\n\n\t_initMemoryManager: function () {\n\n\t\tthis._actions = []; // 'nActiveActions' followed by inactive ones\n\t\tthis._nActiveActions = 0;\n\n\t\tthis._actionsByClip = {};\n\t\t// inside:\n\t\t// {\n\t\t// \tknownActions: Array< AnimationAction > - used as prototypes\n\t\t// \tactionByRoot: AnimationAction - lookup\n\t\t// }\n\n\n\t\tthis._bindings = []; // 'nActiveBindings' followed by inactive ones\n\t\tthis._nActiveBindings = 0;\n\n\t\tthis._bindingsByRootAndName = {}; // inside: Map< name, PropertyMixer >\n\n\n\t\tthis._controlInterpolants = []; // same game as above\n\t\tthis._nActiveControlInterpolants = 0;\n\n\t\tvar scope = this;\n\n\t\tthis.stats = {\n\n\t\t\tactions: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._actions.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveActions;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tbindings: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._bindings.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveBindings;\n\n\t\t\t\t}\n\t\t\t},\n\t\t\tcontrolInterpolants: {\n\t\t\t\tget total() {\n\n\t\t\t\t\treturn scope._controlInterpolants.length;\n\n\t\t\t\t},\n\t\t\t\tget inUse() {\n\n\t\t\t\t\treturn scope._nActiveControlInterpolants;\n\n\t\t\t\t}\n\t\t\t}\n\n\t\t};\n\n\t},\n\n\t// Memory management for AnimationAction objects\n\n\t_isActiveAction: function ( action ) {\n\n\t\tvar index = action._cacheIndex;\n\t\treturn index !== null && index < this._nActiveActions;\n\n\t},\n\n\t_addInactiveAction: function ( action, clipUuid, rootUuid ) {\n\n\t\tvar actions = this._actions,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip === undefined ) {\n\n\t\t\tactionsForClip = {\n\n\t\t\t\tknownActions: [ action ],\n\t\t\t\tactionByRoot: {}\n\n\t\t\t};\n\n\t\t\taction._byClipCacheIndex = 0;\n\n\t\t\tactionsByClip[ clipUuid ] = actionsForClip;\n\n\t\t} else {\n\n\t\t\tvar knownActions = actionsForClip.knownActions;\n\n\t\t\taction._byClipCacheIndex = knownActions.length;\n\t\t\tknownActions.push( action );\n\n\t\t}\n\n\t\taction._cacheIndex = actions.length;\n\t\tactions.push( action );\n\n\t\tactionsForClip.actionByRoot[ rootUuid ] = action;\n\n\t},\n\n\t_removeInactiveAction: function ( action ) {\n\n\t\tvar actions = this._actions,\n\t\t\tlastInactiveAction = actions[ actions.length - 1 ],\n\t\t\tcacheIndex = action._cacheIndex;\n\n\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\tactions.pop();\n\n\t\taction._cacheIndex = null;\n\n\n\t\tvar clipUuid = action._clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ],\n\t\t\tknownActionsForClip = actionsForClip.knownActions,\n\n\t\t\tlastKnownAction =\n\t\t\t\tknownActionsForClip[ knownActionsForClip.length - 1 ],\n\n\t\t\tbyClipCacheIndex = action._byClipCacheIndex;\n\n\t\tlastKnownAction._byClipCacheIndex = byClipCacheIndex;\n\t\tknownActionsForClip[ byClipCacheIndex ] = lastKnownAction;\n\t\tknownActionsForClip.pop();\n\n\t\taction._byClipCacheIndex = null;\n\n\n\t\tvar actionByRoot = actionsForClip.actionByRoot,\n\t\t\trootUuid = ( action._localRoot || this._root ).uuid;\n\n\t\tdelete actionByRoot[ rootUuid ];\n\n\t\tif ( knownActionsForClip.length === 0 ) {\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t\tthis._removeInactiveBindingsForAction( action );\n\n\t},\n\n\t_removeInactiveBindingsForAction: function ( action ) {\n\n\t\tvar bindings = action._propertyBindings;\n\t\tfor ( var i = 0, n = bindings.length; i !== n; ++ i ) {\n\n\t\t\tvar binding = bindings[ i ];\n\n\t\t\tif ( -- binding.referenceCount === 0 ) {\n\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t_lendAction: function ( action ) {\n\n\t\t// [ active actions |  inactive actions  ]\n\t\t// [  active actions >| inactive actions ]\n\t\t//                 s        a\n\t\t//                  <-swap->\n\t\t//                 a        s\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveActions ++,\n\n\t\t\tfirstInactiveAction = actions[ lastActiveIndex ];\n\n\t\taction._cacheIndex = lastActiveIndex;\n\t\tactions[ lastActiveIndex ] = action;\n\n\t\tfirstInactiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = firstInactiveAction;\n\n\t},\n\n\t_takeBackAction: function ( action ) {\n\n\t\t// [  active actions  | inactive actions ]\n\t\t// [ active actions |< inactive actions  ]\n\t\t//        a        s\n\t\t//         <-swap->\n\t\t//        s        a\n\n\t\tvar actions = this._actions,\n\t\t\tprevIndex = action._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveActions,\n\n\t\t\tlastActiveAction = actions[ firstInactiveIndex ];\n\n\t\taction._cacheIndex = firstInactiveIndex;\n\t\tactions[ firstInactiveIndex ] = action;\n\n\t\tlastActiveAction._cacheIndex = prevIndex;\n\t\tactions[ prevIndex ] = lastActiveAction;\n\n\t},\n\n\t// Memory management for PropertyMixer objects\n\n\t_addInactiveBinding: function ( binding, rootUuid, trackName ) {\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tbindings = this._bindings;\n\n\t\tif ( bindingByName === undefined ) {\n\n\t\t\tbindingByName = {};\n\t\t\tbindingsByRoot[ rootUuid ] = bindingByName;\n\n\t\t}\n\n\t\tbindingByName[ trackName ] = binding;\n\n\t\tbinding._cacheIndex = bindings.length;\n\t\tbindings.push( binding );\n\n\t},\n\n\t_removeInactiveBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tpropBinding = binding.binding,\n\t\t\trootUuid = propBinding.rootNode.uuid,\n\t\t\ttrackName = propBinding.path,\n\t\t\tbindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ],\n\n\t\t\tlastInactiveBinding = bindings[ bindings.length - 1 ],\n\t\t\tcacheIndex = binding._cacheIndex;\n\n\t\tlastInactiveBinding._cacheIndex = cacheIndex;\n\t\tbindings[ cacheIndex ] = lastInactiveBinding;\n\t\tbindings.pop();\n\n\t\tdelete bindingByName[ trackName ];\n\n\t\tif ( Object.keys( bindingByName ).length === 0 ) {\n\n\t\t\tdelete bindingsByRoot[ rootUuid ];\n\n\t\t}\n\n\t},\n\n\t_lendBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tlastActiveIndex = this._nActiveBindings ++,\n\n\t\t\tfirstInactiveBinding = bindings[ lastActiveIndex ];\n\n\t\tbinding._cacheIndex = lastActiveIndex;\n\t\tbindings[ lastActiveIndex ] = binding;\n\n\t\tfirstInactiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = firstInactiveBinding;\n\n\t},\n\n\t_takeBackBinding: function ( binding ) {\n\n\t\tvar bindings = this._bindings,\n\t\t\tprevIndex = binding._cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveBindings,\n\n\t\t\tlastActiveBinding = bindings[ firstInactiveIndex ];\n\n\t\tbinding._cacheIndex = firstInactiveIndex;\n\t\tbindings[ firstInactiveIndex ] = binding;\n\n\t\tlastActiveBinding._cacheIndex = prevIndex;\n\t\tbindings[ prevIndex ] = lastActiveBinding;\n\n\t},\n\n\n\t// Memory management of Interpolants for weight and time scale\n\n\t_lendControlInterpolant: function () {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tlastActiveIndex = this._nActiveControlInterpolants ++,\n\t\t\tinterpolant = interpolants[ lastActiveIndex ];\n\n\t\tif ( interpolant === undefined ) {\n\n\t\t\tinterpolant = new LinearInterpolant(\n\t\t\t\tnew Float32Array( 2 ), new Float32Array( 2 ),\n\t\t\t\t1, this._controlInterpolantsResultBuffer );\n\n\t\t\tinterpolant.__cacheIndex = lastActiveIndex;\n\t\t\tinterpolants[ lastActiveIndex ] = interpolant;\n\n\t\t}\n\n\t\treturn interpolant;\n\n\t},\n\n\t_takeBackControlInterpolant: function ( interpolant ) {\n\n\t\tvar interpolants = this._controlInterpolants,\n\t\t\tprevIndex = interpolant.__cacheIndex,\n\n\t\t\tfirstInactiveIndex = -- this._nActiveControlInterpolants,\n\n\t\t\tlastActiveInterpolant = interpolants[ firstInactiveIndex ];\n\n\t\tinterpolant.__cacheIndex = firstInactiveIndex;\n\t\tinterpolants[ firstInactiveIndex ] = interpolant;\n\n\t\tlastActiveInterpolant.__cacheIndex = prevIndex;\n\t\tinterpolants[ prevIndex ] = lastActiveInterpolant;\n\n\t},\n\n\t_controlInterpolantsResultBuffer: new Float32Array( 1 ),\n\n\t// return an action for a clip optionally using a custom root target\n\t// object (this method allocates a lot of dynamic memory in case a\n\t// previously unknown clip/root combination is specified)\n\tclipAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject !== null ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ],\n\t\t\tprototypeAction = null;\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\tvar existingAction =\n\t\t\t\t\tactionsForClip.actionByRoot[ rootUuid ];\n\n\t\t\tif ( existingAction !== undefined ) {\n\n\t\t\t\treturn existingAction;\n\n\t\t\t}\n\n\t\t\t// we know the clip, so we don't have to parse all\n\t\t\t// the bindings again but can just copy\n\t\t\tprototypeAction = actionsForClip.knownActions[ 0 ];\n\n\t\t\t// also, take the clip from the prototype action\n\t\t\tif ( clipObject === null )\n\t\t\t\tclipObject = prototypeAction._clip;\n\n\t\t}\n\n\t\t// clip must be known when specified via string\n\t\tif ( clipObject === null ) return null;\n\n\t\t// allocate all resources required to run it\n\t\tvar newAction = new AnimationAction( this, clipObject, optionalRoot );\n\n\t\tthis._bindAction( newAction, prototypeAction );\n\n\t\t// and make the action known to the memory manager\n\t\tthis._addInactiveAction( newAction, clipUuid, rootUuid );\n\n\t\treturn newAction;\n\n\t},\n\n\t// get an existing action\n\texistingAction: function ( clip, optionalRoot ) {\n\n\t\tvar root = optionalRoot || this._root,\n\t\t\trootUuid = root.uuid,\n\n\t\t\tclipObject = typeof clip === 'string' ?\n\t\t\t\tAnimationClip.findByName( root, clip ) : clip,\n\n\t\t\tclipUuid = clipObject ? clipObject.uuid : clip,\n\n\t\t\tactionsForClip = this._actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\treturn actionsForClip.actionByRoot[ rootUuid ] || null;\n\n\t\t}\n\n\t\treturn null;\n\n\t},\n\n\t// deactivates all previously scheduled actions\n\tstopAllAction: function () {\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\t\t\tbindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tthis._nActiveActions = 0;\n\t\tthis._nActiveBindings = 0;\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tactions[ i ].reset();\n\n\t\t}\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].useCount = 0;\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// advance the time and update apply the animation\n\tupdate: function ( deltaTime ) {\n\n\t\tdeltaTime *= this.timeScale;\n\n\t\tvar actions = this._actions,\n\t\t\tnActions = this._nActiveActions,\n\n\t\t\ttime = this.time += deltaTime,\n\t\t\ttimeDirection = Math.sign( deltaTime ),\n\n\t\t\taccuIndex = this._accuIndex ^= 1;\n\n\t\t// run active actions\n\n\t\tfor ( var i = 0; i !== nActions; ++ i ) {\n\n\t\t\tvar action = actions[ i ];\n\n\t\t\taction._update( time, deltaTime, timeDirection, accuIndex );\n\n\t\t}\n\n\t\t// update scene graph\n\n\t\tvar bindings = this._bindings,\n\t\t\tnBindings = this._nActiveBindings;\n\n\t\tfor ( var i = 0; i !== nBindings; ++ i ) {\n\n\t\t\tbindings[ i ].apply( accuIndex );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\t// Allows you to seek to a specific time in an animation.\n\tsetTime: function ( timeInSeconds ) {\n\n\t\tthis.time = 0; // Zero out time attribute for AnimationMixer object;\n\t\tfor ( var i = 0; i < this._actions.length; i ++ ) {\n\n\t\t\tthis._actions[ i ].time = 0; // Zero out time attribute for all associated AnimationAction objects.\n\n\t\t}\n\n\t\treturn this.update( timeInSeconds ); // Update used to set exact time. Returns \"this\" AnimationMixer object.\n\n\t},\n\n\t// return this mixer's root target object\n\tgetRoot: function () {\n\n\t\treturn this._root;\n\n\t},\n\n\t// free all resources specific to a particular clip\n\tuncacheClip: function ( clip ) {\n\n\t\tvar actions = this._actions,\n\t\t\tclipUuid = clip.uuid,\n\t\t\tactionsByClip = this._actionsByClip,\n\t\t\tactionsForClip = actionsByClip[ clipUuid ];\n\n\t\tif ( actionsForClip !== undefined ) {\n\n\t\t\t// note: just calling _removeInactiveAction would mess up the\n\t\t\t// iteration state and also require updating the state we can\n\t\t\t// just throw away\n\n\t\t\tvar actionsToRemove = actionsForClip.knownActions;\n\n\t\t\tfor ( var i = 0, n = actionsToRemove.length; i !== n; ++ i ) {\n\n\t\t\t\tvar action = actionsToRemove[ i ];\n\n\t\t\t\tthis._deactivateAction( action );\n\n\t\t\t\tvar cacheIndex = action._cacheIndex,\n\t\t\t\t\tlastInactiveAction = actions[ actions.length - 1 ];\n\n\t\t\t\taction._cacheIndex = null;\n\t\t\t\taction._byClipCacheIndex = null;\n\n\t\t\t\tlastInactiveAction._cacheIndex = cacheIndex;\n\t\t\t\tactions[ cacheIndex ] = lastInactiveAction;\n\t\t\t\tactions.pop();\n\n\t\t\t\tthis._removeInactiveBindingsForAction( action );\n\n\t\t\t}\n\n\t\t\tdelete actionsByClip[ clipUuid ];\n\n\t\t}\n\n\t},\n\n\t// free all resources specific to a particular root target object\n\tuncacheRoot: function ( root ) {\n\n\t\tvar rootUuid = root.uuid,\n\t\t\tactionsByClip = this._actionsByClip;\n\n\t\tfor ( var clipUuid in actionsByClip ) {\n\n\t\t\tvar actionByRoot = actionsByClip[ clipUuid ].actionByRoot,\n\t\t\t\taction = actionByRoot[ rootUuid ];\n\n\t\t\tif ( action !== undefined ) {\n\n\t\t\t\tthis._deactivateAction( action );\n\t\t\t\tthis._removeInactiveAction( action );\n\n\t\t\t}\n\n\t\t}\n\n\t\tvar bindingsByRoot = this._bindingsByRootAndName,\n\t\t\tbindingByName = bindingsByRoot[ rootUuid ];\n\n\t\tif ( bindingByName !== undefined ) {\n\n\t\t\tfor ( var trackName in bindingByName ) {\n\n\t\t\t\tvar binding = bindingByName[ trackName ];\n\t\t\t\tbinding.restoreOriginalState();\n\t\t\t\tthis._removeInactiveBinding( binding );\n\n\t\t\t}\n\n\t\t}\n\n\t},\n\n\t// remove a targeted clip from the cache\n\tuncacheAction: function ( clip, optionalRoot ) {\n\n\t\tvar action = this.existingAction( clip, optionalRoot );\n\n\t\tif ( action !== null ) {\n\n\t\t\tthis._deactivateAction( action );\n\t\t\tthis._removeInactiveAction( action );\n\n\t\t}\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Uniform( value ) {\n\n\tif ( typeof value === 'string' ) {\n\n\t\tconsole.warn( 'THREE.Uniform: Type parameter is no longer needed.' );\n\t\tvalue = arguments[ 1 ];\n\n\t}\n\n\tthis.value = value;\n\n}\n\nUniform.prototype.clone = function () {\n\n\treturn new Uniform( this.value.clone === undefined ? this.value : this.value.clone() );\n\n};\n\n/**\n * @author benaadams / https://twitter.com/ben_a_adams\n */\n\nfunction InstancedInterleavedBuffer( array, stride, meshPerAttribute ) {\n\n\tInterleavedBuffer.call( this, array, stride );\n\n\tthis.meshPerAttribute = meshPerAttribute || 1;\n\n}\n\nInstancedInterleavedBuffer.prototype = Object.assign( Object.create( InterleavedBuffer.prototype ), {\n\n\tconstructor: InstancedInterleavedBuffer,\n\n\tisInstancedInterleavedBuffer: true,\n\n\tcopy: function ( source ) {\n\n\t\tInterleavedBuffer.prototype.copy.call( this, source );\n\n\t\tthis.meshPerAttribute = source.meshPerAttribute;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author bhouston / http://clara.io/\n * @author stephomi / http://stephaneginier.com/\n */\n\nfunction Raycaster( origin, direction, near, far ) {\n\n\tthis.ray = new Ray( origin, direction );\n\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\tthis.near = near || 0;\n\tthis.far = far || Infinity;\n\tthis.camera = null;\n\tthis.layers = new Layers();\n\n\tthis.params = {\n\t\tMesh: {},\n\t\tLine: { threshold: 1 },\n\t\tLOD: {},\n\t\tPoints: { threshold: 1 },\n\t\tSprite: {}\n\t};\n\n\tObject.defineProperties( this.params, {\n\t\tPointCloud: {\n\t\t\tget: function () {\n\n\t\t\t\tconsole.warn( 'THREE.Raycaster: params.PointCloud has been renamed to params.Points.' );\n\t\t\t\treturn this.Points;\n\n\t\t\t}\n\t\t}\n\t} );\n\n}\n\nfunction ascSort( a, b ) {\n\n\treturn a.distance - b.distance;\n\n}\n\nfunction intersectObject( object, raycaster, intersects, recursive ) {\n\n\tif ( object.layers.test( raycaster.layers ) ) {\n\n\t\tobject.raycast( raycaster, intersects );\n\n\t}\n\n\tif ( recursive === true ) {\n\n\t\tvar children = object.children;\n\n\t\tfor ( var i = 0, l = children.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( children[ i ], raycaster, intersects, true );\n\n\t\t}\n\n\t}\n\n}\n\nObject.assign( Raycaster.prototype, {\n\n\tset: function ( origin, direction ) {\n\n\t\t// direction is assumed to be normalized (for accurate distance calculations)\n\n\t\tthis.ray.set( origin, direction );\n\n\t},\n\n\tsetFromCamera: function ( coords, camera ) {\n\n\t\tif ( ( camera && camera.isPerspectiveCamera ) ) {\n\n\t\t\tthis.ray.origin.setFromMatrixPosition( camera.matrixWorld );\n\t\t\tthis.ray.direction.set( coords.x, coords.y, 0.5 ).unproject( camera ).sub( this.ray.origin ).normalize();\n\t\t\tthis.camera = camera;\n\n\t\t} else if ( ( camera && camera.isOrthographicCamera ) ) {\n\n\t\t\tthis.ray.origin.set( coords.x, coords.y, ( camera.near + camera.far ) / ( camera.near - camera.far ) ).unproject( camera ); // set origin in plane of camera\n\t\t\tthis.ray.direction.set( 0, 0, - 1 ).transformDirection( camera.matrixWorld );\n\t\t\tthis.camera = camera;\n\n\t\t} else {\n\n\t\t\tconsole.error( 'THREE.Raycaster: Unsupported camera type.' );\n\n\t\t}\n\n\t},\n\n\tintersectObject: function ( object, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tintersectObject( object, this, intersects, recursive );\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t},\n\n\tintersectObjects: function ( objects, recursive, optionalTarget ) {\n\n\t\tvar intersects = optionalTarget || [];\n\n\t\tif ( Array.isArray( objects ) === false ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster.intersectObjects: objects is not an Array.' );\n\t\t\treturn intersects;\n\n\t\t}\n\n\t\tfor ( var i = 0, l = objects.length; i < l; i ++ ) {\n\n\t\t\tintersectObject( objects[ i ], this, intersects, recursive );\n\n\t\t}\n\n\t\tintersects.sort( ascSort );\n\n\t\treturn intersects;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n * @author WestLangley / http://github.com/WestLangley\n *\n * Ref: https://en.wikipedia.org/wiki/Spherical_coordinate_system\n *\n * The polar angle (phi) is measured from the positive y-axis. The positive y-axis is up.\n * The azimuthal angle (theta) is measured from the positive z-axis.\n */\n\nfunction Spherical( radius, phi, theta ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0;\n\tthis.phi = ( phi !== undefined ) ? phi : 0; // polar angle\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // azimuthal angle\n\n\treturn this;\n\n}\n\nObject.assign( Spherical.prototype, {\n\n\tset: function ( radius, phi, theta ) {\n\n\t\tthis.radius = radius;\n\t\tthis.phi = phi;\n\t\tthis.theta = theta;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.phi = other.phi;\n\t\tthis.theta = other.theta;\n\n\t\treturn this;\n\n\t},\n\n\t// restrict phi to be betwee EPS and PI-EPS\n\tmakeSafe: function () {\n\n\t\tvar EPS = 0.000001;\n\t\tthis.phi = Math.max( EPS, Math.min( Math.PI - EPS, this.phi ) );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + y * y + z * z );\n\n\t\tif ( this.radius === 0 ) {\n\n\t\t\tthis.theta = 0;\n\t\t\tthis.phi = 0;\n\n\t\t} else {\n\n\t\t\tthis.theta = Math.atan2( x, z );\n\t\t\tthis.phi = Math.acos( MathUtils.clamp( y / this.radius, - 1, 1 ) );\n\n\t\t}\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author Mugen87 / https://github.com/Mugen87\n *\n * Ref: https://en.wikipedia.org/wiki/Cylindrical_coordinate_system\n *\n */\n\nfunction Cylindrical( radius, theta, y ) {\n\n\tthis.radius = ( radius !== undefined ) ? radius : 1.0; // distance from the origin to a point in the x-z plane\n\tthis.theta = ( theta !== undefined ) ? theta : 0; // counterclockwise angle in the x-z plane measured in radians from the positive z-axis\n\tthis.y = ( y !== undefined ) ? y : 0; // height above the x-z plane\n\n\treturn this;\n\n}\n\nObject.assign( Cylindrical.prototype, {\n\n\tset: function ( radius, theta, y ) {\n\n\t\tthis.radius = radius;\n\t\tthis.theta = theta;\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( other ) {\n\n\t\tthis.radius = other.radius;\n\t\tthis.theta = other.theta;\n\t\tthis.y = other.y;\n\n\t\treturn this;\n\n\t},\n\n\tsetFromVector3: function ( v ) {\n\n\t\treturn this.setFromCartesianCoords( v.x, v.y, v.z );\n\n\t},\n\n\tsetFromCartesianCoords: function ( x, y, z ) {\n\n\t\tthis.radius = Math.sqrt( x * x + z * z );\n\t\tthis.theta = Math.atan2( x, z );\n\t\tthis.y = y;\n\n\t\treturn this;\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _vector$7 = new Vector2();\n\nfunction Box2( min, max ) {\n\n\tthis.min = ( min !== undefined ) ? min : new Vector2( + Infinity, + Infinity );\n\tthis.max = ( max !== undefined ) ? max : new Vector2( - Infinity, - Infinity );\n\n}\n\nObject.assign( Box2.prototype, {\n\n\tset: function ( min, max ) {\n\n\t\tthis.min.copy( min );\n\t\tthis.max.copy( max );\n\n\t\treturn this;\n\n\t},\n\n\tsetFromPoints: function ( points ) {\n\n\t\tthis.makeEmpty();\n\n\t\tfor ( var i = 0, il = points.length; i < il; i ++ ) {\n\n\t\t\tthis.expandByPoint( points[ i ] );\n\n\t\t}\n\n\t\treturn this;\n\n\t},\n\n\tsetFromCenterAndSize: function ( center, size ) {\n\n\t\tvar halfSize = _vector$7.copy( size ).multiplyScalar( 0.5 );\n\t\tthis.min.copy( center ).sub( halfSize );\n\t\tthis.max.copy( center ).add( halfSize );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( box ) {\n\n\t\tthis.min.copy( box.min );\n\t\tthis.max.copy( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tmakeEmpty: function () {\n\n\t\tthis.min.x = this.min.y = + Infinity;\n\t\tthis.max.x = this.max.y = - Infinity;\n\n\t\treturn this;\n\n\t},\n\n\tisEmpty: function () {\n\n\t\t// this is a more robust check for empty than ( volume <= 0 ) because volume can get positive with two negative axes\n\n\t\treturn ( this.max.x < this.min.x ) || ( this.max.y < this.min.y );\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getCenter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.addVectors( this.min, this.max ).multiplyScalar( 0.5 );\n\n\t},\n\n\tgetSize: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getSize() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn this.isEmpty() ? target.set( 0, 0 ) : target.subVectors( this.max, this.min );\n\n\t},\n\n\texpandByPoint: function ( point ) {\n\n\t\tthis.min.min( point );\n\t\tthis.max.max( point );\n\n\t\treturn this;\n\n\t},\n\n\texpandByVector: function ( vector ) {\n\n\t\tthis.min.sub( vector );\n\t\tthis.max.add( vector );\n\n\t\treturn this;\n\n\t},\n\n\texpandByScalar: function ( scalar ) {\n\n\t\tthis.min.addScalar( - scalar );\n\t\tthis.max.addScalar( scalar );\n\n\t\treturn this;\n\n\t},\n\n\tcontainsPoint: function ( point ) {\n\n\t\treturn point.x < this.min.x || point.x > this.max.x ||\n\t\t\tpoint.y < this.min.y || point.y > this.max.y ? false : true;\n\n\t},\n\n\tcontainsBox: function ( box ) {\n\n\t\treturn this.min.x <= box.min.x && box.max.x <= this.max.x &&\n\t\t\tthis.min.y <= box.min.y && box.max.y <= this.max.y;\n\n\t},\n\n\tgetParameter: function ( point, target ) {\n\n\t\t// This can potentially have a divide by zero if the box\n\t\t// has a size dimension of 0.\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .getParameter() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.set(\n\t\t\t( point.x - this.min.x ) / ( this.max.x - this.min.x ),\n\t\t\t( point.y - this.min.y ) / ( this.max.y - this.min.y )\n\t\t);\n\n\t},\n\n\tintersectsBox: function ( box ) {\n\n\t\t// using 4 splitting planes to rule out intersections\n\n\t\treturn box.max.x < this.min.x || box.min.x > this.max.x ||\n\t\t\tbox.max.y < this.min.y || box.min.y > this.max.y ? false : true;\n\n\t},\n\n\tclampPoint: function ( point, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Box2: .clampPoint() target is now required' );\n\t\t\ttarget = new Vector2();\n\n\t\t}\n\n\t\treturn target.copy( point ).clamp( this.min, this.max );\n\n\t},\n\n\tdistanceToPoint: function ( point ) {\n\n\t\tvar clampedPoint = _vector$7.copy( point ).clamp( this.min, this.max );\n\t\treturn clampedPoint.sub( point ).length();\n\n\t},\n\n\tintersect: function ( box ) {\n\n\t\tthis.min.max( box.min );\n\t\tthis.max.min( box.max );\n\n\t\treturn this;\n\n\t},\n\n\tunion: function ( box ) {\n\n\t\tthis.min.min( box.min );\n\t\tthis.max.max( box.max );\n\n\t\treturn this;\n\n\t},\n\n\ttranslate: function ( offset ) {\n\n\t\tthis.min.add( offset );\n\t\tthis.max.add( offset );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( box ) {\n\n\t\treturn box.min.equals( this.min ) && box.max.equals( this.max );\n\n\t}\n\n} );\n\n/**\n * @author bhouston / http://clara.io\n */\n\nvar _startP = new Vector3();\nvar _startEnd = new Vector3();\n\nfunction Line3( start, end ) {\n\n\tthis.start = ( start !== undefined ) ? start : new Vector3();\n\tthis.end = ( end !== undefined ) ? end : new Vector3();\n\n}\n\nObject.assign( Line3.prototype, {\n\n\tset: function ( start, end ) {\n\n\t\tthis.start.copy( start );\n\t\tthis.end.copy( end );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t},\n\n\tcopy: function ( line ) {\n\n\t\tthis.start.copy( line.start );\n\t\tthis.end.copy( line.end );\n\n\t\treturn this;\n\n\t},\n\n\tgetCenter: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .getCenter() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.addVectors( this.start, this.end ).multiplyScalar( 0.5 );\n\n\t},\n\n\tdelta: function ( target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .delta() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn target.subVectors( this.end, this.start );\n\n\t},\n\n\tdistanceSq: function () {\n\n\t\treturn this.start.distanceToSquared( this.end );\n\n\t},\n\n\tdistance: function () {\n\n\t\treturn this.start.distanceTo( this.end );\n\n\t},\n\n\tat: function ( t, target ) {\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .at() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tclosestPointToPointParameter: function ( point, clampToLine ) {\n\n\t\t_startP.subVectors( point, this.start );\n\t\t_startEnd.subVectors( this.end, this.start );\n\n\t\tvar startEnd2 = _startEnd.dot( _startEnd );\n\t\tvar startEnd_startP = _startEnd.dot( _startP );\n\n\t\tvar t = startEnd_startP / startEnd2;\n\n\t\tif ( clampToLine ) {\n\n\t\t\tt = MathUtils.clamp( t, 0, 1 );\n\n\t\t}\n\n\t\treturn t;\n\n\t},\n\n\tclosestPointToPoint: function ( point, clampToLine, target ) {\n\n\t\tvar t = this.closestPointToPointParameter( point, clampToLine );\n\n\t\tif ( target === undefined ) {\n\n\t\t\tconsole.warn( 'THREE.Line3: .closestPointToPoint() target is now required' );\n\t\t\ttarget = new Vector3();\n\n\t\t}\n\n\t\treturn this.delta( target ).multiplyScalar( t ).add( this.start );\n\n\t},\n\n\tapplyMatrix4: function ( matrix ) {\n\n\t\tthis.start.applyMatrix4( matrix );\n\t\tthis.end.applyMatrix4( matrix );\n\n\t\treturn this;\n\n\t},\n\n\tequals: function ( line ) {\n\n\t\treturn line.start.equals( this.start ) && line.end.equals( this.end );\n\n\t}\n\n} );\n\n/**\n * @author alteredq / http://alteredqualia.com/\n */\n\nfunction ImmediateRenderObject( material ) {\n\n\tObject3D.call( this );\n\n\tthis.material = material;\n\tthis.render = function ( /* renderCallback */ ) {};\n\n}\n\nImmediateRenderObject.prototype = Object.create( Object3D.prototype );\nImmediateRenderObject.prototype.constructor = ImmediateRenderObject;\n\nImmediateRenderObject.prototype.isImmediateRenderObject = true;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _vector$8 = new Vector3();\n\nfunction SpotLightHelper( light, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new BufferGeometry();\n\n\tvar positions = [\n\t\t0, 0, 0, \t0, 0, 1,\n\t\t0, 0, 0, \t1, 0, 1,\n\t\t0, 0, 0,\t- 1, 0, 1,\n\t\t0, 0, 0, \t0, 1, 1,\n\t\t0, 0, 0, \t0, - 1, 1\n\t];\n\n\tfor ( var i = 0, j = 1, l = 32; i < l; i ++, j ++ ) {\n\n\t\tvar p1 = ( i / l ) * Math.PI * 2;\n\t\tvar p2 = ( j / l ) * Math.PI * 2;\n\n\t\tpositions.push(\n\t\t\tMath.cos( p1 ), Math.sin( p1 ), 1,\n\t\t\tMath.cos( p2 ), Math.sin( p2 ), 1\n\t\t);\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.cone = new LineSegments( geometry, material );\n\tthis.add( this.cone );\n\n\tthis.update();\n\n}\n\nSpotLightHelper.prototype = Object.create( Object3D.prototype );\nSpotLightHelper.prototype.constructor = SpotLightHelper;\n\nSpotLightHelper.prototype.dispose = function () {\n\n\tthis.cone.geometry.dispose();\n\tthis.cone.material.dispose();\n\n};\n\nSpotLightHelper.prototype.update = function () {\n\n\tthis.light.updateMatrixWorld();\n\n\tvar coneLength = this.light.distance ? this.light.distance : 1000;\n\tvar coneWidth = coneLength * Math.tan( this.light.angle );\n\n\tthis.cone.scale.set( coneWidth, coneWidth, coneLength );\n\n\t_vector$8.setFromMatrixPosition( this.light.target.matrixWorld );\n\n\tthis.cone.lookAt( _vector$8 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.cone.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.cone.material.color.copy( this.light.color );\n\n\t}\n\n};\n\n/**\n * @author Sean Griffin / http://twitter.com/sgrif\n * @author Michael Guerrero / http://realitymeltdown.com\n * @author mrdoob / http://mrdoob.com/\n * @author ikerr / http://verold.com\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar _vector$9 = new Vector3();\nvar _boneMatrix = new Matrix4();\nvar _matrixWorldInv = new Matrix4();\n\nfunction getBoneList( object ) {\n\n\tvar boneList = [];\n\n\tif ( object && object.isBone ) {\n\n\t\tboneList.push( object );\n\n\t}\n\n\tfor ( var i = 0; i < object.children.length; i ++ ) {\n\n\t\tboneList.push.apply( boneList, getBoneList( object.children[ i ] ) );\n\n\t}\n\n\treturn boneList;\n\n}\n\nfunction SkeletonHelper( object ) {\n\n\tvar bones = getBoneList( object );\n\n\tvar geometry = new BufferGeometry();\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar color1 = new Color( 0, 0, 1 );\n\tvar color2 = new Color( 0, 1, 0 );\n\n\tfor ( var i = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tvertices.push( 0, 0, 0 );\n\t\t\tcolors.push( color1.r, color1.g, color1.b );\n\t\t\tcolors.push( color2.r, color2.g, color2.b );\n\n\t\t}\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: true, depthTest: false, depthWrite: false, transparent: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.root = object;\n\tthis.bones = bones;\n\n\tthis.matrix = object.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n}\n\nSkeletonHelper.prototype = Object.create( LineSegments.prototype );\nSkeletonHelper.prototype.constructor = SkeletonHelper;\n\nSkeletonHelper.prototype.isSkeletonHelper = true;\n\nSkeletonHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar bones = this.bones;\n\n\tvar geometry = this.geometry;\n\tvar position = geometry.getAttribute( 'position' );\n\n\t_matrixWorldInv.getInverse( this.root.matrixWorld );\n\n\tfor ( var i = 0, j = 0; i < bones.length; i ++ ) {\n\n\t\tvar bone = bones[ i ];\n\n\t\tif ( bone.parent && bone.parent.isBone ) {\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.matrixWorld );\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\t_boneMatrix.multiplyMatrices( _matrixWorldInv, bone.parent.matrixWorld );\n\t\t\t_vector$9.setFromMatrixPosition( _boneMatrix );\n\t\t\tposition.setXYZ( j + 1, _vector$9.x, _vector$9.y, _vector$9.z );\n\n\t\t\tj += 2;\n\n\t\t}\n\n\t}\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction PointLightHelper( light, sphereSize, color ) {\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.color = color;\n\n\tvar geometry = new SphereBufferGeometry( sphereSize, 4, 2 );\n\tvar material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\n\tMesh.call( this, geometry, material );\n\n\tthis.matrix = this.light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n\n\t/*\n\tvar distanceGeometry = new THREE.IcosahedronBufferGeometry( 1, 2 );\n\tvar distanceMaterial = new THREE.MeshBasicMaterial( { color: hexColor, fog: false, wireframe: true, opacity: 0.1, transparent: true } );\n\n\tthis.lightSphere = new THREE.Mesh( bulbGeometry, bulbMaterial );\n\tthis.lightDistance = new THREE.Mesh( distanceGeometry, distanceMaterial );\n\n\tvar d = light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\n\tthis.add( this.lightDistance );\n\t*/\n\n}\n\nPointLightHelper.prototype = Object.create( Mesh.prototype );\nPointLightHelper.prototype.constructor = PointLightHelper;\n\nPointLightHelper.prototype.dispose = function () {\n\n\tthis.geometry.dispose();\n\tthis.material.dispose();\n\n};\n\nPointLightHelper.prototype.update = function () {\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.material.color.copy( this.light.color );\n\n\t}\n\n\t/*\n\tvar d = this.light.distance;\n\n\tif ( d === 0.0 ) {\n\n\t\tthis.lightDistance.visible = false;\n\n\t} else {\n\n\t\tthis.lightDistance.visible = true;\n\t\tthis.lightDistance.scale.set( d, d, d );\n\n\t}\n\t*/\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / https://github.com/Mugen87\n */\n\nvar _vector$a = new Vector3();\nvar _color1 = new Color();\nvar _color2 = new Color();\n\nfunction HemisphereLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tvar geometry = new OctahedronBufferGeometry( size );\n\tgeometry.rotateY( Math.PI * 0.5 );\n\n\tthis.material = new MeshBasicMaterial( { wireframe: true, fog: false } );\n\tif ( this.color === undefined ) this.material.vertexColors = true;\n\n\tvar position = geometry.getAttribute( 'position' );\n\tvar colors = new Float32Array( position.count * 3 );\n\n\tgeometry.setAttribute( 'color', new BufferAttribute( colors, 3 ) );\n\n\tthis.add( new Mesh( geometry, this.material ) );\n\n\tthis.update();\n\n}\n\nHemisphereLightHelper.prototype = Object.create( Object3D.prototype );\nHemisphereLightHelper.prototype.constructor = HemisphereLightHelper;\n\nHemisphereLightHelper.prototype.dispose = function () {\n\n\tthis.children[ 0 ].geometry.dispose();\n\tthis.children[ 0 ].material.dispose();\n\n};\n\nHemisphereLightHelper.prototype.update = function () {\n\n\tvar mesh = this.children[ 0 ];\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.material.color.set( this.color );\n\n\t} else {\n\n\t\tvar colors = mesh.geometry.getAttribute( 'color' );\n\n\t\t_color1.copy( this.light.color );\n\t\t_color2.copy( this.light.groundColor );\n\n\t\tfor ( var i = 0, l = colors.count; i < l; i ++ ) {\n\n\t\t\tvar color = ( i < ( l / 2 ) ) ? _color1 : _color2;\n\n\t\t\tcolors.setXYZ( i, color.r, color.g, color.b );\n\n\t\t}\n\n\t\tcolors.needsUpdate = true;\n\n\t}\n\n\tmesh.lookAt( _vector$a.setFromMatrixPosition( this.light.matrixWorld ).negate() );\n\n};\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction GridHelper( size, divisions, color1, color2 ) {\n\n\tsize = size || 10;\n\tdivisions = divisions || 10;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar center = divisions / 2;\n\tvar step = size / divisions;\n\tvar halfSize = size / 2;\n\n\tvar vertices = [], colors = [];\n\n\tfor ( var i = 0, j = 0, k = - halfSize; i <= divisions; i ++, k += step ) {\n\n\t\tvertices.push( - halfSize, 0, k, halfSize, 0, k );\n\t\tvertices.push( k, 0, - halfSize, k, 0, halfSize );\n\n\t\tvar color = i === center ? color1 : color2;\n\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\t\tcolor.toArray( colors, j ); j += 3;\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nGridHelper.prototype = Object.assign( Object.create( LineSegments.prototype ), {\n\n\tconstructor: GridHelper,\n\n\tcopy: function ( source ) {\n\n\t\tLineSegments.prototype.copy.call( this, source );\n\n\t\tthis.geometry.copy( source.geometry );\n\t\tthis.material.copy( source.material );\n\n\t\treturn this;\n\n\t},\n\n\tclone: function () {\n\n\t\treturn new this.constructor().copy( this );\n\n\t}\n\n} );\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n * @author Hectate / http://www.github.com/Hectate\n */\n\nfunction PolarGridHelper( radius, radials, circles, divisions, color1, color2 ) {\n\n\tradius = radius || 10;\n\tradials = radials || 16;\n\tcircles = circles || 8;\n\tdivisions = divisions || 64;\n\tcolor1 = new Color( color1 !== undefined ? color1 : 0x444444 );\n\tcolor2 = new Color( color2 !== undefined ? color2 : 0x888888 );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar x, z;\n\tvar v, i, j, r, color;\n\n\t// create the radials\n\n\tfor ( i = 0; i <= radials; i ++ ) {\n\n\t\tv = ( i / radials ) * ( Math.PI * 2 );\n\n\t\tx = Math.sin( v ) * radius;\n\t\tz = Math.cos( v ) * radius;\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tvertices.push( x, 0, z );\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tcolors.push( color.r, color.g, color.b );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t}\n\n\t// create the circles\n\n\tfor ( i = 0; i <= circles; i ++ ) {\n\n\t\tcolor = ( i & 1 ) ? color1 : color2;\n\n\t\tr = radius - ( radius / circles * i );\n\n\t\tfor ( j = 0; j < divisions; j ++ ) {\n\n\t\t\t// first vertex\n\n\t\t\tv = ( j / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t\t// second vertex\n\n\t\t\tv = ( ( j + 1 ) / divisions ) * ( Math.PI * 2 );\n\n\t\t\tx = Math.sin( v ) * r;\n\t\t\tz = Math.cos( v ) * r;\n\n\t\t\tvertices.push( x, 0, z );\n\t\t\tcolors.push( color.r, color.g, color.b );\n\n\t\t}\n\n\t}\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nPolarGridHelper.prototype = Object.create( LineSegments.prototype );\nPolarGridHelper.prototype.constructor = PolarGridHelper;\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author mrdoob / http://mrdoob.com/\n * @author WestLangley / http://github.com/WestLangley\n */\n\nvar _v1$5 = new Vector3();\nvar _v2$3 = new Vector3();\nvar _v3$1 = new Vector3();\n\nfunction DirectionalLightHelper( light, size, color ) {\n\n\tObject3D.call( this );\n\n\tthis.light = light;\n\tthis.light.updateMatrixWorld();\n\n\tthis.matrix = light.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.color = color;\n\n\tif ( size === undefined ) size = 1;\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [\n\t\t- size, size, 0,\n\t\tsize, size, 0,\n\t\tsize, - size, 0,\n\t\t- size, - size, 0,\n\t\t- size, size, 0\n\t], 3 ) );\n\n\tvar material = new LineBasicMaterial( { fog: false } );\n\n\tthis.lightPlane = new Line( geometry, material );\n\tthis.add( this.lightPlane );\n\n\tgeometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 0, 1 ], 3 ) );\n\n\tthis.targetLine = new Line( geometry, material );\n\tthis.add( this.targetLine );\n\n\tthis.update();\n\n}\n\nDirectionalLightHelper.prototype = Object.create( Object3D.prototype );\nDirectionalLightHelper.prototype.constructor = DirectionalLightHelper;\n\nDirectionalLightHelper.prototype.dispose = function () {\n\n\tthis.lightPlane.geometry.dispose();\n\tthis.lightPlane.material.dispose();\n\tthis.targetLine.geometry.dispose();\n\tthis.targetLine.material.dispose();\n\n};\n\nDirectionalLightHelper.prototype.update = function () {\n\n\t_v1$5.setFromMatrixPosition( this.light.matrixWorld );\n\t_v2$3.setFromMatrixPosition( this.light.target.matrixWorld );\n\t_v3$1.subVectors( _v2$3, _v1$5 );\n\n\tthis.lightPlane.lookAt( _v2$3 );\n\n\tif ( this.color !== undefined ) {\n\n\t\tthis.lightPlane.material.color.set( this.color );\n\t\tthis.targetLine.material.color.set( this.color );\n\n\t} else {\n\n\t\tthis.lightPlane.material.color.copy( this.light.color );\n\t\tthis.targetLine.material.color.copy( this.light.color );\n\n\t}\n\n\tthis.targetLine.lookAt( _v2$3 );\n\tthis.targetLine.scale.z = _v3$1.length();\n\n};\n\n/**\n * @author alteredq / http://alteredqualia.com/\n * @author Mugen87 / https://github.com/Mugen87\n *\n *\t- shows frustum, line of sight and up of the camera\n *\t- suitable for fast updates\n * \t- based on frustum visualization in lightgl.js shadowmap example\n *\t\thttp://evanw.github.com/lightgl.js/tests/shadowmap.html\n */\n\nvar _vector$b = new Vector3();\nvar _camera = new Camera();\n\nfunction CameraHelper( camera ) {\n\n\tvar geometry = new BufferGeometry();\n\tvar material = new LineBasicMaterial( { color: 0xffffff, vertexColors: true } );\n\n\tvar vertices = [];\n\tvar colors = [];\n\n\tvar pointMap = {};\n\n\t// colors\n\n\tvar colorFrustum = new Color( 0xffaa00 );\n\tvar colorCone = new Color( 0xff0000 );\n\tvar colorUp = new Color( 0x00aaff );\n\tvar colorTarget = new Color( 0xffffff );\n\tvar colorCross = new Color( 0x333333 );\n\n\t// near\n\n\taddLine( 'n1', 'n2', colorFrustum );\n\taddLine( 'n2', 'n4', colorFrustum );\n\taddLine( 'n4', 'n3', colorFrustum );\n\taddLine( 'n3', 'n1', colorFrustum );\n\n\t// far\n\n\taddLine( 'f1', 'f2', colorFrustum );\n\taddLine( 'f2', 'f4', colorFrustum );\n\taddLine( 'f4', 'f3', colorFrustum );\n\taddLine( 'f3', 'f1', colorFrustum );\n\n\t// sides\n\n\taddLine( 'n1', 'f1', colorFrustum );\n\taddLine( 'n2', 'f2', colorFrustum );\n\taddLine( 'n3', 'f3', colorFrustum );\n\taddLine( 'n4', 'f4', colorFrustum );\n\n\t// cone\n\n\taddLine( 'p', 'n1', colorCone );\n\taddLine( 'p', 'n2', colorCone );\n\taddLine( 'p', 'n3', colorCone );\n\taddLine( 'p', 'n4', colorCone );\n\n\t// up\n\n\taddLine( 'u1', 'u2', colorUp );\n\taddLine( 'u2', 'u3', colorUp );\n\taddLine( 'u3', 'u1', colorUp );\n\n\t// target\n\n\taddLine( 'c', 't', colorTarget );\n\taddLine( 'p', 'c', colorCross );\n\n\t// cross\n\n\taddLine( 'cn1', 'cn2', colorCross );\n\taddLine( 'cn3', 'cn4', colorCross );\n\n\taddLine( 'cf1', 'cf2', colorCross );\n\taddLine( 'cf3', 'cf4', colorCross );\n\n\tfunction addLine( a, b, color ) {\n\n\t\taddPoint( a, color );\n\t\taddPoint( b, color );\n\n\t}\n\n\tfunction addPoint( id, color ) {\n\n\t\tvertices.push( 0, 0, 0 );\n\t\tcolors.push( color.r, color.g, color.b );\n\n\t\tif ( pointMap[ id ] === undefined ) {\n\n\t\t\tpointMap[ id ] = [];\n\n\t\t}\n\n\t\tpointMap[ id ].push( ( vertices.length / 3 ) - 1 );\n\n\t}\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tLineSegments.call( this, geometry, material );\n\n\tthis.camera = camera;\n\tif ( this.camera.updateProjectionMatrix ) this.camera.updateProjectionMatrix();\n\n\tthis.matrix = camera.matrixWorld;\n\tthis.matrixAutoUpdate = false;\n\n\tthis.pointMap = pointMap;\n\n\tthis.update();\n\n}\n\nCameraHelper.prototype = Object.create( LineSegments.prototype );\nCameraHelper.prototype.constructor = CameraHelper;\n\nCameraHelper.prototype.update = function () {\n\n\tvar geometry = this.geometry;\n\tvar pointMap = this.pointMap;\n\n\tvar w = 1, h = 1;\n\n\t// we need just camera projection matrix inverse\n\t// world matrix must be identity\n\n\t_camera.projectionMatrixInverse.copy( this.camera.projectionMatrixInverse );\n\n\t// center / target\n\n\tsetPoint( 'c', pointMap, geometry, _camera, 0, 0, - 1 );\n\tsetPoint( 't', pointMap, geometry, _camera, 0, 0, 1 );\n\n\t// near\n\n\tsetPoint( 'n1', pointMap, geometry, _camera, - w, - h, - 1 );\n\tsetPoint( 'n2', pointMap, geometry, _camera, w, - h, - 1 );\n\tsetPoint( 'n3', pointMap, geometry, _camera, - w, h, - 1 );\n\tsetPoint( 'n4', pointMap, geometry, _camera, w, h, - 1 );\n\n\t// far\n\n\tsetPoint( 'f1', pointMap, geometry, _camera, - w, - h, 1 );\n\tsetPoint( 'f2', pointMap, geometry, _camera, w, - h, 1 );\n\tsetPoint( 'f3', pointMap, geometry, _camera, - w, h, 1 );\n\tsetPoint( 'f4', pointMap, geometry, _camera, w, h, 1 );\n\n\t// up\n\n\tsetPoint( 'u1', pointMap, geometry, _camera, w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u2', pointMap, geometry, _camera, - w * 0.7, h * 1.1, - 1 );\n\tsetPoint( 'u3', pointMap, geometry, _camera, 0, h * 2, - 1 );\n\n\t// cross\n\n\tsetPoint( 'cf1', pointMap, geometry, _camera, - w, 0, 1 );\n\tsetPoint( 'cf2', pointMap, geometry, _camera, w, 0, 1 );\n\tsetPoint( 'cf3', pointMap, geometry, _camera, 0, - h, 1 );\n\tsetPoint( 'cf4', pointMap, geometry, _camera, 0, h, 1 );\n\n\tsetPoint( 'cn1', pointMap, geometry, _camera, - w, 0, - 1 );\n\tsetPoint( 'cn2', pointMap, geometry, _camera, w, 0, - 1 );\n\tsetPoint( 'cn3', pointMap, geometry, _camera, 0, - h, - 1 );\n\tsetPoint( 'cn4', pointMap, geometry, _camera, 0, h, - 1 );\n\n\tgeometry.getAttribute( 'position' ).needsUpdate = true;\n\n};\n\nfunction setPoint( point, pointMap, geometry, camera, x, y, z ) {\n\n\t_vector$b.set( x, y, z ).unproject( camera );\n\n\tvar points = pointMap[ point ];\n\n\tif ( points !== undefined ) {\n\n\t\tvar position = geometry.getAttribute( 'position' );\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tposition.setXYZ( points[ i ], _vector$b.x, _vector$b.y, _vector$b.z );\n\n\t\t}\n\n\t}\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n * @author Mugen87 / http://github.com/Mugen87\n */\n\nvar _box$3 = new Box3();\n\nfunction BoxHelper( object, color ) {\n\n\tthis.object = object;\n\n\tif ( color === undefined ) color = 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\tvar positions = new Float32Array( 8 * 3 );\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\tgeometry.setAttribute( 'position', new BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.matrixAutoUpdate = false;\n\n\tthis.update();\n\n}\n\nBoxHelper.prototype = Object.create( LineSegments.prototype );\nBoxHelper.prototype.constructor = BoxHelper;\n\nBoxHelper.prototype.update = function ( object ) {\n\n\tif ( object !== undefined ) {\n\n\t\tconsole.warn( 'THREE.BoxHelper: .update() has no longer arguments.' );\n\n\t}\n\n\tif ( this.object !== undefined ) {\n\n\t\t_box$3.setFromObject( this.object );\n\n\t}\n\n\tif ( _box$3.isEmpty() ) return;\n\n\tvar min = _box$3.min;\n\tvar max = _box$3.max;\n\n\t/*\n\t  5____4\n\t1/___0/|\n\t| 6__|_7\n\t2/___3/\n\n\t0: max.x, max.y, max.z\n\t1: min.x, max.y, max.z\n\t2: min.x, min.y, max.z\n\t3: max.x, min.y, max.z\n\t4: max.x, max.y, min.z\n\t5: min.x, max.y, min.z\n\t6: min.x, min.y, min.z\n\t7: max.x, min.y, min.z\n\t*/\n\n\tvar position = this.geometry.attributes.position;\n\tvar array = position.array;\n\n\tarray[ 0 ] = max.x; array[ 1 ] = max.y; array[ 2 ] = max.z;\n\tarray[ 3 ] = min.x; array[ 4 ] = max.y; array[ 5 ] = max.z;\n\tarray[ 6 ] = min.x; array[ 7 ] = min.y; array[ 8 ] = max.z;\n\tarray[ 9 ] = max.x; array[ 10 ] = min.y; array[ 11 ] = max.z;\n\tarray[ 12 ] = max.x; array[ 13 ] = max.y; array[ 14 ] = min.z;\n\tarray[ 15 ] = min.x; array[ 16 ] = max.y; array[ 17 ] = min.z;\n\tarray[ 18 ] = min.x; array[ 19 ] = min.y; array[ 20 ] = min.z;\n\tarray[ 21 ] = max.x; array[ 22 ] = min.y; array[ 23 ] = min.z;\n\n\tposition.needsUpdate = true;\n\n\tthis.geometry.computeBoundingSphere();\n\n\n};\n\nBoxHelper.prototype.setFromObject = function ( object ) {\n\n\tthis.object = object;\n\tthis.update();\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.copy = function ( source ) {\n\n\tLineSegments.prototype.copy.call( this, source );\n\n\tthis.object = source.object;\n\n\treturn this;\n\n};\n\nBoxHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction Box3Helper( box, color ) {\n\n\tthis.type = 'Box3Helper';\n\n\tthis.box = box;\n\n\tcolor = color || 0xffff00;\n\n\tvar indices = new Uint16Array( [ 0, 1, 1, 2, 2, 3, 3, 0, 4, 5, 5, 6, 6, 7, 7, 4, 0, 4, 1, 5, 2, 6, 3, 7 ] );\n\n\tvar positions = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, - 1, - 1, 1, - 1, - 1, - 1, - 1, 1, - 1, - 1 ];\n\n\tvar geometry = new BufferGeometry();\n\n\tgeometry.setIndex( new BufferAttribute( indices, 1 ) );\n\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\n\tLineSegments.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\tthis.geometry.computeBoundingSphere();\n\n}\n\nBox3Helper.prototype = Object.create( LineSegments.prototype );\nBox3Helper.prototype.constructor = Box3Helper;\n\nBox3Helper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar box = this.box;\n\n\tif ( box.isEmpty() ) return;\n\n\tbox.getCenter( this.position );\n\n\tbox.getSize( this.scale );\n\n\tthis.scale.multiplyScalar( 0.5 );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n */\n\nfunction PlaneHelper( plane, size, hex ) {\n\n\tthis.type = 'PlaneHelper';\n\n\tthis.plane = plane;\n\n\tthis.size = ( size === undefined ) ? 1 : size;\n\n\tvar color = ( hex !== undefined ) ? hex : 0xffff00;\n\n\tvar positions = [ 1, - 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, - 1, 1, 1, 1, 1, 0, 0, 1, 0, 0, 0 ];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( positions, 3 ) );\n\tgeometry.computeBoundingSphere();\n\n\tLine.call( this, geometry, new LineBasicMaterial( { color: color } ) );\n\n\t//\n\n\tvar positions2 = [ 1, 1, 1, - 1, 1, 1, - 1, - 1, 1, 1, 1, 1, - 1, - 1, 1, 1, - 1, 1 ];\n\n\tvar geometry2 = new BufferGeometry();\n\tgeometry2.setAttribute( 'position', new Float32BufferAttribute( positions2, 3 ) );\n\tgeometry2.computeBoundingSphere();\n\n\tthis.add( new Mesh( geometry2, new MeshBasicMaterial( { color: color, opacity: 0.2, transparent: true, depthWrite: false } ) ) );\n\n}\n\nPlaneHelper.prototype = Object.create( Line.prototype );\nPlaneHelper.prototype.constructor = PlaneHelper;\n\nPlaneHelper.prototype.updateMatrixWorld = function ( force ) {\n\n\tvar scale = - this.plane.constant;\n\n\tif ( Math.abs( scale ) < 1e-8 ) scale = 1e-8; // sign does not matter\n\n\tthis.scale.set( 0.5 * this.size, 0.5 * this.size, scale );\n\n\tthis.children[ 0 ].material.side = ( scale < 0 ) ? BackSide : FrontSide; // renderer flips side when determinant < 0; flipping not wanted here\n\n\tthis.lookAt( this.plane.normal );\n\n\tObject3D.prototype.updateMatrixWorld.call( this, force );\n\n};\n\n/**\n * @author WestLangley / http://github.com/WestLangley\n * @author zz85 / http://github.com/zz85\n * @author bhouston / http://clara.io\n *\n * Creates an arrow for visualizing directions\n *\n * Parameters:\n *  dir - Vector3\n *  origin - Vector3\n *  length - Number\n *  color - color in hex value\n *  headLength - Number\n *  headWidth - Number\n */\n\nvar _axis = new Vector3();\nvar _lineGeometry, _coneGeometry;\n\nfunction ArrowHelper( dir, origin, length, color, headLength, headWidth ) {\n\n\t// dir is assumed to be normalized\n\n\tObject3D.call( this );\n\n\tif ( dir === undefined ) dir = new Vector3( 0, 0, 1 );\n\tif ( origin === undefined ) origin = new Vector3( 0, 0, 0 );\n\tif ( length === undefined ) length = 1;\n\tif ( color === undefined ) color = 0xffff00;\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tif ( _lineGeometry === undefined ) {\n\n\t\t_lineGeometry = new BufferGeometry();\n\t\t_lineGeometry.setAttribute( 'position', new Float32BufferAttribute( [ 0, 0, 0, 0, 1, 0 ], 3 ) );\n\n\t\t_coneGeometry = new CylinderBufferGeometry( 0, 0.5, 1, 5, 1 );\n\t\t_coneGeometry.translate( 0, - 0.5, 0 );\n\n\t}\n\n\tthis.position.copy( origin );\n\n\tthis.line = new Line( _lineGeometry, new LineBasicMaterial( { color: color } ) );\n\tthis.line.matrixAutoUpdate = false;\n\tthis.add( this.line );\n\n\tthis.cone = new Mesh( _coneGeometry, new MeshBasicMaterial( { color: color } ) );\n\tthis.cone.matrixAutoUpdate = false;\n\tthis.add( this.cone );\n\n\tthis.setDirection( dir );\n\tthis.setLength( length, headLength, headWidth );\n\n}\n\nArrowHelper.prototype = Object.create( Object3D.prototype );\nArrowHelper.prototype.constructor = ArrowHelper;\n\nArrowHelper.prototype.setDirection = function ( dir ) {\n\n\t// dir is assumed to be normalized\n\n\tif ( dir.y > 0.99999 ) {\n\n\t\tthis.quaternion.set( 0, 0, 0, 1 );\n\n\t} else if ( dir.y < - 0.99999 ) {\n\n\t\tthis.quaternion.set( 1, 0, 0, 0 );\n\n\t} else {\n\n\t\t_axis.set( dir.z, 0, - dir.x ).normalize();\n\n\t\tvar radians = Math.acos( dir.y );\n\n\t\tthis.quaternion.setFromAxisAngle( _axis, radians );\n\n\t}\n\n};\n\nArrowHelper.prototype.setLength = function ( length, headLength, headWidth ) {\n\n\tif ( headLength === undefined ) headLength = 0.2 * length;\n\tif ( headWidth === undefined ) headWidth = 0.2 * headLength;\n\n\tthis.line.scale.set( 1, Math.max( 0.0001, length - headLength ), 1 ); // see #17458\n\tthis.line.updateMatrix();\n\n\tthis.cone.scale.set( headWidth, headLength, headWidth );\n\tthis.cone.position.y = length;\n\tthis.cone.updateMatrix();\n\n};\n\nArrowHelper.prototype.setColor = function ( color ) {\n\n\tthis.line.material.color.set( color );\n\tthis.cone.material.color.set( color );\n\n};\n\nArrowHelper.prototype.copy = function ( source ) {\n\n\tObject3D.prototype.copy.call( this, source, false );\n\n\tthis.line.copy( source.line );\n\tthis.cone.copy( source.cone );\n\n\treturn this;\n\n};\n\nArrowHelper.prototype.clone = function () {\n\n\treturn new this.constructor().copy( this );\n\n};\n\n/**\n * @author sroucheray / http://sroucheray.org/\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction AxesHelper( size ) {\n\n\tsize = size || 1;\n\n\tvar vertices = [\n\t\t0, 0, 0,\tsize, 0, 0,\n\t\t0, 0, 0,\t0, size, 0,\n\t\t0, 0, 0,\t0, 0, size\n\t];\n\n\tvar colors = [\n\t\t1, 0, 0,\t1, 0.6, 0,\n\t\t0, 1, 0,\t0.6, 1, 0,\n\t\t0, 0, 1,\t0, 0.6, 1\n\t];\n\n\tvar geometry = new BufferGeometry();\n\tgeometry.setAttribute( 'position', new Float32BufferAttribute( vertices, 3 ) );\n\tgeometry.setAttribute( 'color', new Float32BufferAttribute( colors, 3 ) );\n\n\tvar material = new LineBasicMaterial( { vertexColors: true } );\n\n\tLineSegments.call( this, geometry, material );\n\n}\n\nAxesHelper.prototype = Object.create( LineSegments.prototype );\nAxesHelper.prototype.constructor = AxesHelper;\n\n/**\n * @author Emmett Lalish / elalish\n *\n * This class generates a Prefiltered, Mipmapped Radiance Environment Map\n * (PMREM) from a cubeMap environment texture. This allows different levels of\n * blur to be quickly accessed based on material roughness. It is packed into a\n * special CubeUV format that allows us to perform custom interpolation so that\n * we can support nonlinear formats such as RGBE. Unlike a traditional mipmap\n * chain, it only goes down to the LOD_MIN level (above), and then creates extra\n * even more filtered 'mips' at the same LOD_MIN resolution, associated with\n * higher roughness levels. In this way we maintain resolution to smoothly\n * interpolate diffuse lighting while limiting sampling computation.\n */\n\nvar LOD_MIN = 4;\nvar LOD_MAX = 8;\nvar SIZE_MAX = Math.pow( 2, LOD_MAX );\n// The standard deviations (radians) associated with the extra mips. These are\n// chosen to approximate a Trowbridge-Reitz distribution function times the\n// geometric shadowing function. These sigma values squared must match the\n// variance #defines in cube_uv_reflection_fragment.glsl.js.\nvar EXTRA_LOD_SIGMA = [ 0.125, 0.215, 0.35, 0.446, 0.526, 0.582 ];\nvar TOTAL_LODS = LOD_MAX - LOD_MIN + 1 + EXTRA_LOD_SIGMA.length;\n// The maximum length of the blur for loop. Smaller sigmas will use fewer\n// samples and exit early, but not recompile the shader.\nvar MAX_SAMPLES = 20;\nvar ENCODINGS = {\n\t[ LinearEncoding ]: 0,\n\t[ sRGBEncoding ]: 1,\n\t[ RGBEEncoding ]: 2,\n\t[ RGBM7Encoding ]: 3,\n\t[ RGBM16Encoding ]: 4,\n\t[ RGBDEncoding ]: 5,\n\t[ GammaEncoding ]: 6\n};\n\nvar _flatCamera = new OrthographicCamera();\nvar _blurMaterial = _getBlurShader( MAX_SAMPLES );\nvar _equirectShader = null;\nvar _cubemapShader = null;\n\nvar { _lodPlanes, _sizeLods, _sigmas } = _createPlanes();\nvar _pingPongRenderTarget = null;\nvar _renderer = null;\n\nvar _oldTarget = null;\n\n// Golden Ratio\nvar PHI = ( 1 + Math.sqrt( 5 ) ) / 2;\nvar INV_PHI = 1 / PHI;\n// Vertices of a dodecahedron (except the opposites, which represent the\n// same axis), used as axis directions evenly spread on a sphere.\nvar _axisDirections = [\n\tnew Vector3( 1, 1, 1 ),\n\tnew Vector3( - 1, 1, 1 ),\n\tnew Vector3( 1, 1, - 1 ),\n\tnew Vector3( - 1, 1, - 1 ),\n\tnew Vector3( 0, PHI, INV_PHI ),\n\tnew Vector3( 0, PHI, - INV_PHI ),\n\tnew Vector3( INV_PHI, 0, PHI ),\n\tnew Vector3( - INV_PHI, 0, PHI ),\n\tnew Vector3( PHI, INV_PHI, 0 ),\n\tnew Vector3( - PHI, INV_PHI, 0 ) ];\n\nfunction PMREMGenerator( renderer ) {\n\n\t_renderer = renderer;\n\t_compileMaterial( _blurMaterial );\n\n}\n\nPMREMGenerator.prototype = {\n\n\tconstructor: PMREMGenerator,\n\n\t/**\n\t * Generates a PMREM from a supplied Scene, which can be faster than using an\n\t * image if networking bandwidth is low. Optional sigma specifies a blur radius\n\t * in radians to be applied to the scene before PMREM generation. Optional near\n\t * and far planes ensure the scene is rendered in its entirety (the cubeCamera\n\t * is placed at the origin).\n\t */\n\tfromScene: function ( scene, sigma = 0, near = 0.1, far = 100 ) {\n\n\t\t_oldTarget = _renderer.getRenderTarget();\n\t\tvar cubeUVRenderTarget = _allocateTargets();\n\t\t_sceneToCubeUV( scene, near, far, cubeUVRenderTarget );\n\t\tif ( sigma > 0 ) {\n\n\t\t\t_blur( cubeUVRenderTarget, 0, 0, sigma );\n\n\t\t}\n\t\t_applyPMREM( cubeUVRenderTarget );\n\t\t_cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t/**\n\t * Generates a PMREM from an equirectangular texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input image size is 1k (1024 x 512),\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromEquirectangular: function ( equirectangular ) {\n\n\t\tequirectangular.magFilter = NearestFilter;\n\t\tequirectangular.minFilter = NearestFilter;\n\t\tequirectangular.generateMipmaps = false;\n\n\t\treturn this.fromCubemap( equirectangular );\n\n\t},\n\n\t/**\n\t * Generates a PMREM from an cubemap texture, which can be either LDR\n\t * (RGBFormat) or HDR (RGBEFormat). The ideal input cube size is 256 x 256,\n\t * as this matches best with the 256 x 256 cubemap output.\n\t */\n\tfromCubemap: function ( cubemap ) {\n\n\t\t_oldTarget = _renderer.getRenderTarget();\n\t\tvar cubeUVRenderTarget = _allocateTargets( cubemap );\n\t\t_textureToCubeUV( cubemap, cubeUVRenderTarget );\n\t\t_applyPMREM( cubeUVRenderTarget );\n\t\t_cleanup( cubeUVRenderTarget );\n\n\t\treturn cubeUVRenderTarget;\n\n\t},\n\n\t/**\n\t * Pre-compiles the cubemap shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileCubemapShader: function () {\n\n\t\tif ( _cubemapShader == null ) {\n\n\t\t\t_cubemapShader = _getCubemapShader();\n\t\t\t_compileMaterial( _cubemapShader );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Pre-compiles the equirectangular shader. You can get faster start-up by invoking this method during\n\t * your texture's network fetch for increased concurrency.\n\t */\n\tcompileEquirectangularShader: function () {\n\n\t\tif ( _equirectShader == null ) {\n\n\t\t\t_equirectShader = _getEquirectShader();\n\t\t\t_compileMaterial( _equirectShader );\n\n\t\t}\n\n\t},\n\n\t/**\n\t * Disposes of the PMREMGenerator's internal memory. Note that PMREMGenerator is a static class,\n\t * so you should not need more than one PMREMGenerator object. If you do, calling dispose() on\n\t * one of them will cause any others to also become unusable.\n\t */\n\tdispose: function () {\n\n\t\t_blurMaterial.dispose();\n\n\t\tif ( _cubemapShader != null ) _cubemapShader.dispose();\n\t\tif ( _equirectShader != null ) _equirectShader.dispose();\n\n\t\tfor ( var i = 0; i < _lodPlanes.length; i ++ ) {\n\n\t\t\t_lodPlanes[ i ].dispose();\n\n\t\t}\n\n\t},\n\n};\n\nfunction _createPlanes() {\n\n\tvar _lodPlanes = [];\n\tvar _sizeLods = [];\n\tvar _sigmas = [];\n\n\tvar lod = LOD_MAX;\n\tfor ( var i = 0; i < TOTAL_LODS; i ++ ) {\n\n\t\tvar sizeLod = Math.pow( 2, lod );\n\t\t_sizeLods.push( sizeLod );\n\t\tvar sigma = 1.0 / sizeLod;\n\t\tif ( i > LOD_MAX - LOD_MIN ) {\n\n\t\t\tsigma = EXTRA_LOD_SIGMA[ i - LOD_MAX + LOD_MIN - 1 ];\n\n\t\t} else if ( i == 0 ) {\n\n\t\t\tsigma = 0;\n\n\t\t}\n\t\t_sigmas.push( sigma );\n\n\t\tvar texelSize = 1.0 / ( sizeLod - 1 );\n\t\tvar min = - texelSize / 2;\n\t\tvar max = 1 + texelSize / 2;\n\t\tvar uv1 = [ min, min, max, min, max, max, min, min, max, max, min, max ];\n\n\t\tvar cubeFaces = 6;\n\t\tvar vertices = 6;\n\t\tvar positionSize = 3;\n\t\tvar uvSize = 2;\n\t\tvar faceIndexSize = 1;\n\n\t\tvar position = new Float32Array( positionSize * vertices * cubeFaces );\n\t\tvar uv = new Float32Array( uvSize * vertices * cubeFaces );\n\t\tvar faceIndex = new Float32Array( faceIndexSize * vertices * cubeFaces );\n\n\t\tfor ( var face = 0; face < cubeFaces; face ++ ) {\n\n\t\t\tvar x = ( face % 3 ) * 2 / 3 - 1;\n\t\t\tvar y = face > 2 ? 0 : - 1;\n\t\t\tvar coordinates = [\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y, 0,\n\t\t\t\tx + 2 / 3, y + 1, 0,\n\t\t\t\tx, y + 1, 0\n\t\t\t];\n\t\t\tposition.set( coordinates, positionSize * vertices * face );\n\t\t\tuv.set( uv1, uvSize * vertices * face );\n\t\t\tvar fill = [ face, face, face, face, face, face ];\n\t\t\tfaceIndex.set( fill, faceIndexSize * vertices * face );\n\n\t\t}\n\t\tvar planes = new BufferGeometry();\n\t\tplanes.setAttribute( 'position', new BufferAttribute( position, positionSize ) );\n\t\tplanes.setAttribute( 'uv', new BufferAttribute( uv, uvSize ) );\n\t\tplanes.setAttribute( 'faceIndex', new BufferAttribute( faceIndex, faceIndexSize ) );\n\t\t_lodPlanes.push( planes );\n\n\t\tif ( lod > LOD_MIN ) {\n\n\t\t\tlod --;\n\n\t\t}\n\n\t}\n\treturn { _lodPlanes, _sizeLods, _sigmas };\n\n}\n\nfunction _allocateTargets( equirectangular ) {\n\n\tvar params = {\n\t\tmagFilter: NearestFilter,\n\t\tminFilter: NearestFilter,\n\t\tgenerateMipmaps: false,\n\t\ttype: equirectangular ? equirectangular.type : UnsignedByteType,\n\t\tformat: equirectangular ? equirectangular.format : RGBEFormat,\n\t\tencoding: equirectangular ? equirectangular.encoding : RGBEEncoding,\n\t\tdepthBuffer: false,\n\t\tstencilBuffer: false\n\t};\n\tvar cubeUVRenderTarget = _createRenderTarget( params );\n\tcubeUVRenderTarget.depthBuffer = equirectangular ? false : true;\n\t_pingPongRenderTarget = _createRenderTarget( params );\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _cleanup( outputTarget ) {\n\n\t_pingPongRenderTarget.dispose();\n\t_renderer.setRenderTarget( _oldTarget );\n\toutputTarget.scissorTest = false;\n\t// reset viewport and scissor\n\toutputTarget.setSize( outputTarget.width, outputTarget.height );\n\n}\n\nfunction _sceneToCubeUV( scene, near, far, cubeUVRenderTarget ) {\n\n\tvar fov = 90;\n\tvar aspect = 1;\n\tvar cubeCamera = new PerspectiveCamera( fov, aspect, near, far );\n\tvar upSign = [ 1, 1, 1, 1, - 1, 1 ];\n\tvar forwardSign = [ 1, 1, - 1, - 1, - 1, 1 ];\n\n\tvar outputEncoding = _renderer.outputEncoding;\n\tvar toneMapping = _renderer.toneMapping;\n\tvar toneMappingExposure = _renderer.toneMappingExposure;\n\tvar clearColor = _renderer.getClearColor();\n\tvar clearAlpha = _renderer.getClearAlpha();\n\n\t_renderer.toneMapping = LinearToneMapping;\n\t_renderer.toneMappingExposure = 1.0;\n\t_renderer.outputEncoding = LinearEncoding;\n\tscene.scale.z *= - 1;\n\n\tvar background = scene.background;\n\tif ( background && background.isColor ) {\n\n\t\tbackground.convertSRGBToLinear();\n\t\t// Convert linear to RGBE\n\t\tvar maxComponent = Math.max( background.r, background.g, background.b );\n\t\tvar fExp = Math.min( Math.max( Math.ceil( Math.log2( maxComponent ) ), - 128.0 ), 127.0 );\n\t\tbackground = background.multiplyScalar( Math.pow( 2.0, - fExp ) );\n\t\tvar alpha = ( fExp + 128.0 ) / 255.0;\n\t\t_renderer.setClearColor( background, alpha );\n\t\tscene.background = null;\n\n\t}\n\n\tfor ( var i = 0; i < 6; i ++ ) {\n\n\t\tvar col = i % 3;\n\t\tif ( col == 0 ) {\n\n\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\tcubeCamera.lookAt( forwardSign[ i ], 0, 0 );\n\n\t\t} else if ( col == 1 ) {\n\n\t\t\tcubeCamera.up.set( 0, 0, upSign[ i ] );\n\t\t\tcubeCamera.lookAt( 0, forwardSign[ i ], 0 );\n\n\t\t} else {\n\n\t\t\tcubeCamera.up.set( 0, upSign[ i ], 0 );\n\t\t\tcubeCamera.lookAt( 0, 0, forwardSign[ i ] );\n\n\t\t}\n\t\t_setViewport( cubeUVRenderTarget,\n\t\t\tcol * SIZE_MAX, i > 2 ? SIZE_MAX : 0, SIZE_MAX, SIZE_MAX );\n\t\t_renderer.setRenderTarget( cubeUVRenderTarget );\n\t\t_renderer.render( scene, cubeCamera );\n\n\t}\n\n\t_renderer.toneMapping = toneMapping;\n\t_renderer.toneMappingExposure = toneMappingExposure;\n\t_renderer.outputEncoding = outputEncoding;\n\t_renderer.setClearColor( clearColor, clearAlpha );\n\tscene.scale.z *= - 1;\n\n}\n\nfunction _textureToCubeUV( texture, cubeUVRenderTarget ) {\n\n\tvar scene = new Scene();\n\tif ( texture.isCubeTexture ) {\n\n\t\tif ( _cubemapShader == null ) {\n\n\t\t\t_cubemapShader = _getCubemapShader();\n\n\t\t}\n\n\t} else {\n\n\t\tif ( _equirectShader == null ) {\n\n\t\t\t_equirectShader = _getEquirectShader();\n\n\t\t}\n\n\t}\n\tvar material = texture.isCubeTexture ? _cubemapShader : _equirectShader;\n\tscene.add( new Mesh( _lodPlanes[ 0 ], material ) );\n\tvar uniforms = material.uniforms;\n\n\tuniforms[ 'envMap' ].value = texture;\n\tif ( ! texture.isCubeTexture ) {\n\n\t\tuniforms[ 'texelSize' ].value.set( 1.0 / texture.image.width, 1.0 / texture.image.height );\n\n\t}\n\tuniforms[ 'inputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\tuniforms[ 'outputEncoding' ].value = ENCODINGS[ texture.encoding ];\n\n\t_setViewport( cubeUVRenderTarget, 0, 0, 3 * SIZE_MAX, 2 * SIZE_MAX );\n\t_renderer.setRenderTarget( cubeUVRenderTarget );\n\t_renderer.render( scene, _flatCamera );\n\n}\n\nfunction _compileMaterial( material ) {\n\n\tvar tmpScene = new Scene();\n\ttmpScene.add( new Mesh( _lodPlanes[ 0 ], material ) );\n\t_renderer.compile( tmpScene, _flatCamera );\n\n}\n\nfunction _createRenderTarget( params ) {\n\n\tvar cubeUVRenderTarget = new WebGLRenderTarget( 3 * SIZE_MAX, 3 * SIZE_MAX, params );\n\tcubeUVRenderTarget.texture.mapping = CubeUVReflectionMapping;\n\tcubeUVRenderTarget.texture.name = 'PMREM.cubeUv';\n\tcubeUVRenderTarget.scissorTest = true;\n\treturn cubeUVRenderTarget;\n\n}\n\nfunction _setViewport( target, x, y, width, height ) {\n\n\ttarget.viewport.set( x, y, width, height );\n\ttarget.scissor.set( x, y, width, height );\n\n}\n\nfunction _applyPMREM( cubeUVRenderTarget ) {\n\n\tvar autoClear = _renderer.autoClear;\n\t_renderer.autoClear = false;\n\n\tfor ( var i = 1; i < TOTAL_LODS; i ++ ) {\n\n\t\tvar sigma = Math.sqrt(\n\t\t\t_sigmas[ i ] * _sigmas[ i ] -\n\t\t_sigmas[ i - 1 ] * _sigmas[ i - 1 ] );\n\t\tvar poleAxis =\n\t\t_axisDirections[ ( i - 1 ) % _axisDirections.length ];\n\t\t_blur( cubeUVRenderTarget, i - 1, i, sigma, poleAxis );\n\n\t}\n\n\t_renderer.autoClear = autoClear;\n\n}\n\n/**\n * This is a two-pass Gaussian blur for a cubemap. Normally this is done\n * vertically and horizontally, but this breaks down on a cube. Here we apply\n * the blur latitudinally (around the poles), and then longitudinally (towards\n * the poles) to approximate the orthogonally-separable blur. It is least\n * accurate at the poles, but still does a decent job.\n */\nfunction _blur( cubeUVRenderTarget, lodIn, lodOut, sigma, poleAxis ) {\n\n\t_halfBlur(\n\t\tcubeUVRenderTarget,\n\t\t_pingPongRenderTarget,\n\t\tlodIn,\n\t\tlodOut,\n\t\tsigma,\n\t\t'latitudinal',\n\t\tpoleAxis );\n\n\t_halfBlur(\n\t\t_pingPongRenderTarget,\n\t\tcubeUVRenderTarget,\n\t\tlodOut,\n\t\tlodOut,\n\t\tsigma,\n\t\t'longitudinal',\n\t\tpoleAxis );\n\n}\n\nfunction _halfBlur( targetIn, targetOut, lodIn, lodOut, sigmaRadians, direction, poleAxis ) {\n\n\tif ( direction !== 'latitudinal' && direction !== 'longitudinal' ) {\n\n\t\tconsole.error(\n\t\t\t'blur direction must be either latitudinal or longitudinal!' );\n\n\t}\n\n\t// Number of standard deviations at which to cut off the discrete approximation.\n\tvar STANDARD_DEVIATIONS = 3;\n\n\tvar blurScene = new Scene();\n\tblurScene.add( new Mesh( _lodPlanes[ lodOut ], _blurMaterial ) );\n\tvar blurUniforms = _blurMaterial.uniforms;\n\n\tvar pixels = _sizeLods[ lodIn ] - 1;\n\tvar radiansPerPixel = isFinite( sigmaRadians ) ? Math.PI / ( 2 * pixels ) : 2 * Math.PI / ( 2 * MAX_SAMPLES - 1 );\n\tvar sigmaPixels = sigmaRadians / radiansPerPixel;\n\tvar samples = isFinite( sigmaRadians ) ? 1 + Math.floor( STANDARD_DEVIATIONS * sigmaPixels ) : MAX_SAMPLES;\n\n\tif ( samples > MAX_SAMPLES ) {\n\n\t\tconsole.warn( `sigmaRadians, ${\n\t\t\tsigmaRadians}, is too large and will clip, as it requested ${\n\t\t\tsamples} samples when the maximum is set to ${MAX_SAMPLES}` );\n\n\t}\n\n\tvar weights = [];\n\tvar sum = 0;\n\n\tfor ( var i = 0; i < MAX_SAMPLES; ++ i ) {\n\n\t\tvar x = i / sigmaPixels;\n\t\tvar weight = Math.exp( - x * x / 2 );\n\t\tweights.push( weight );\n\n\t\tif ( i == 0 ) {\n\n\t\t\tsum += weight;\n\n\t\t} else if ( i < samples ) {\n\n\t\t\tsum += 2 * weight;\n\n\t\t}\n\n\t}\n\n\tfor ( var i = 0; i < weights.length; i ++ ) {\n\n\t\tweights[ i ] = weights[ i ] / sum;\n\n\t}\n\n\tblurUniforms[ 'envMap' ].value = targetIn.texture;\n\tblurUniforms[ 'samples' ].value = samples;\n\tblurUniforms[ 'weights' ].value = weights;\n\tblurUniforms[ 'latitudinal' ].value = direction === 'latitudinal';\n\tif ( poleAxis ) {\n\n\t\tblurUniforms[ 'poleAxis' ].value = poleAxis;\n\n\t}\n\tblurUniforms[ 'dTheta' ].value = radiansPerPixel;\n\tblurUniforms[ 'mipInt' ].value = LOD_MAX - lodIn;\n\tblurUniforms[ 'inputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\tblurUniforms[ 'outputEncoding' ].value = ENCODINGS[ targetIn.texture.encoding ];\n\n\tvar outputSize = _sizeLods[ lodOut ];\n\tvar x = 3 * Math.max( 0, SIZE_MAX - 2 * outputSize );\n\tvar y = ( lodOut === 0 ? 0 : 2 * SIZE_MAX ) +\n\t2 * outputSize *\n\t\t( lodOut > LOD_MAX - LOD_MIN ? lodOut - LOD_MAX + LOD_MIN : 0 );\n\n\t_setViewport( targetOut, x, y, 3 * outputSize, 2 * outputSize );\n\t_renderer.setRenderTarget( targetOut );\n\t_renderer.render( blurScene, _flatCamera );\n\n}\n\nfunction _getBlurShader( maxSamples ) {\n\n\tvar weights = new Float32Array( maxSamples );\n\tvar poleAxis = new Vector3( 0, 1, 0 );\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tdefines: { 'n': maxSamples },\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'samples': { value: 1 },\n\t\t\t'weights': { value: weights },\n\t\t\t'latitudinal': { value: false },\n\t\t\t'dTheta': { value: 0 },\n\t\t\t'mipInt': { value: 0 },\n\t\t\t'poleAxis': { value: poleAxis },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform int samples;\nuniform float weights[n];\nuniform bool latitudinal;\nuniform float dTheta;\nuniform float mipInt;\nuniform vec3 poleAxis;\n\n${_getEncodings()}\n\n#define ENVMAP_TYPE_CUBE_UV\n#include <cube_uv_reflection_fragment>\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tfor (int i = 0; i < n; i++) {\n\t\tif (i >= samples)\n\t\t\tbreak;\n\t\tfor (int dir = -1; dir < 2; dir += 2) {\n\t\t\tif (i == 0 && dir == 1)\n\t\t\t\tcontinue;\n\t\t\tvec3 axis = latitudinal ? poleAxis : cross(poleAxis, vOutputDirection);\n\t\t\tif (all(equal(axis, vec3(0.0))))\n\t\t\t\taxis = cross(vec3(0.0, 1.0, 0.0), vOutputDirection);\n\t\t\taxis = normalize(axis);\n\t\t\tfloat theta = dTheta * float(dir * i);\n\t\t\tfloat cosTheta = cos(theta);\n\t\t\t// Rodrigues' axis-angle rotation\n\t\t\tvec3 sampleDirection = vOutputDirection * cosTheta\n\t\t\t\t\t+ cross(axis, vOutputDirection) * sin(theta)\n\t\t\t\t\t+ axis * dot(axis, vOutputDirection) * (1.0 - cosTheta);\n\t\t\tgl_FragColor.rgb +=\n\t\t\t\t\tweights[i] * bilinearCubeUV(envMap, sampleDirection, mipInt);\n\t\t}\n\t}\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'SphericalGaussianBlur';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getEquirectShader() {\n\n\tvar texelSize = new Vector2( 1, 1 );\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'texelSize': { value: texelSize },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform sampler2D envMap;\nuniform vec2 texelSize;\n\n${_getEncodings()}\n\n#define RECIPROCAL_PI 0.31830988618\n#define RECIPROCAL_PI2 0.15915494\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tvec3 outputDirection = normalize(vOutputDirection);\n\tvec2 uv;\n\tuv.y = asin(clamp(outputDirection.y, -1.0, 1.0)) * RECIPROCAL_PI + 0.5;\n\tuv.x = atan(outputDirection.z, outputDirection.x) * RECIPROCAL_PI2 + 0.5;\n\tvec2 f = fract(uv / texelSize - 0.5);\n\tuv -= f * texelSize;\n\tvec3 tl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x += texelSize.x;\n\tvec3 tr = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.y += texelSize.y;\n\tvec3 br = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tuv.x -= texelSize.x;\n\tvec3 bl = envMapTexelToLinear(texture2D(envMap, uv)).rgb;\n\tvec3 tm = mix(tl, tr, f.x);\n\tvec3 bm = mix(bl, br, f.x);\n\tgl_FragColor.rgb = mix(tm, bm, f.y);\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'EquirectangularToCubeUV';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCubemapShader() {\n\n\tvar shaderMaterial = new RawShaderMaterial( {\n\n\t\tuniforms: {\n\t\t\t'envMap': { value: null },\n\t\t\t'inputEncoding': { value: ENCODINGS[ LinearEncoding ] },\n\t\t\t'outputEncoding': { value: ENCODINGS[ LinearEncoding ] }\n\t\t},\n\n\t\tvertexShader: _getCommonVertexShader(),\n\n\t\tfragmentShader: `\nprecision mediump float;\nprecision mediump int;\nvarying vec3 vOutputDirection;\nuniform samplerCube envMap;\n\n${_getEncodings()}\n\nvoid main() {\n\tgl_FragColor = vec4(0.0);\n\tgl_FragColor.rgb = envMapTexelToLinear(textureCube(envMap, vec3( - vOutputDirection.x, vOutputDirection.yz ))).rgb;\n\tgl_FragColor = linearToOutputTexel(gl_FragColor);\n}\n\t\t`,\n\n\t\tblending: NoBlending,\n\t\tdepthTest: false,\n\t\tdepthWrite: false\n\n\t} );\n\n\tshaderMaterial.type = 'CubemapToCubeUV';\n\n\treturn shaderMaterial;\n\n}\n\nfunction _getCommonVertexShader() {\n\n\treturn `\nprecision mediump float;\nprecision mediump int;\nattribute vec3 position;\nattribute vec2 uv;\nattribute float faceIndex;\nvarying vec3 vOutputDirection;\nvec3 getDirection(vec2 uv, float face) {\n\tuv = 2.0 * uv - 1.0;\n\tvec3 direction = vec3(uv, 1.0);\n\tif (face == 0.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 1.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.z *= -1.0;\n\t} else if (face == 3.0) {\n\t\tdirection = direction.zyx;\n\t\tdirection.x *= -1.0;\n\t} else if (face == 4.0) {\n\t\tdirection = direction.xzy;\n\t\tdirection.y *= -1.0;\n\t} else if (face == 5.0) {\n\t\tdirection.xz *= -1.0;\n\t}\n\treturn direction;\n}\nvoid main() {\n\tvOutputDirection = getDirection(uv, faceIndex);\n\tgl_Position = vec4( position, 1.0 );\n}\n\t`;\n\n}\n\nfunction _getEncodings() {\n\n\treturn `\nuniform int inputEncoding;\nuniform int outputEncoding;\n\n#include <encodings_pars_fragment>\n\nvec4 inputTexelToLinear(vec4 value){\n\tif(inputEncoding == 0){\n\t\treturn value;\n\t}else if(inputEncoding == 1){\n\t\treturn sRGBToLinear(value);\n\t}else if(inputEncoding == 2){\n\t\treturn RGBEToLinear(value);\n\t}else if(inputEncoding == 3){\n\t\treturn RGBMToLinear(value, 7.0);\n\t}else if(inputEncoding == 4){\n\t\treturn RGBMToLinear(value, 16.0);\n\t}else if(inputEncoding == 5){\n\t\treturn RGBDToLinear(value, 256.0);\n\t}else{\n\t\treturn GammaToLinear(value, 2.2);\n\t}\n}\n\nvec4 linearToOutputTexel(vec4 value){\n\tif(outputEncoding == 0){\n\t\treturn value;\n\t}else if(outputEncoding == 1){\n\t\treturn LinearTosRGB(value);\n\t}else if(outputEncoding == 2){\n\t\treturn LinearToRGBE(value);\n\t}else if(outputEncoding == 3){\n\t\treturn LinearToRGBM(value, 7.0);\n\t}else if(outputEncoding == 4){\n\t\treturn LinearToRGBM(value, 16.0);\n\t}else if(outputEncoding == 5){\n\t\treturn LinearToRGBD(value, 256.0);\n\t}else{\n\t\treturn LinearToGamma(value, 2.2);\n\t}\n}\n\nvec4 envMapTexelToLinear(vec4 color) {\n\treturn inputTexelToLinear(color);\n}\n\t`;\n\n}\n\n/**\n * @author mrdoob / http://mrdoob.com/\n */\n\nfunction Face4( a, b, c, d, normal, color, materialIndex ) {\n\n\tconsole.warn( 'THREE.Face4 has been removed. A THREE.Face3 will be created instead.' );\n\treturn new Face3( a, b, c, normal, color, materialIndex );\n\n}\n\nvar LineStrip = 0;\nvar LinePieces = 1;\nvar NoColors = 0;\nvar FaceColors = 1;\nvar VertexColors = 2;\n\nfunction MeshFaceMaterial( materials ) {\n\n\tconsole.warn( 'THREE.MeshFaceMaterial has been removed. Use an Array instead.' );\n\treturn materials;\n\n}\n\nfunction MultiMaterial( materials ) {\n\n\tif ( materials === undefined ) materials = [];\n\n\tconsole.warn( 'THREE.MultiMaterial has been removed. Use an Array instead.' );\n\tmaterials.isMultiMaterial = true;\n\tmaterials.materials = materials;\n\tmaterials.clone = function () {\n\n\t\treturn materials.slice();\n\n\t};\n\treturn materials;\n\n}\n\nfunction PointCloud( geometry, material ) {\n\n\tconsole.warn( 'THREE.PointCloud has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction Particle( material ) {\n\n\tconsole.warn( 'THREE.Particle has been renamed to THREE.Sprite.' );\n\treturn new Sprite( material );\n\n}\n\nfunction ParticleSystem( geometry, material ) {\n\n\tconsole.warn( 'THREE.ParticleSystem has been renamed to THREE.Points.' );\n\treturn new Points( geometry, material );\n\n}\n\nfunction PointCloudMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.PointCloudMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleBasicMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleBasicMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction ParticleSystemMaterial( parameters ) {\n\n\tconsole.warn( 'THREE.ParticleSystemMaterial has been renamed to THREE.PointsMaterial.' );\n\treturn new PointsMaterial( parameters );\n\n}\n\nfunction Vertex( x, y, z ) {\n\n\tconsole.warn( 'THREE.Vertex has been removed. Use THREE.Vector3 instead.' );\n\treturn new Vector3( x, y, z );\n\n}\n\n//\n\nfunction DynamicBufferAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.DynamicBufferAttribute has been removed. Use new THREE.BufferAttribute().setUsage( THREE.DynamicDrawUsage ) instead.' );\n\treturn new BufferAttribute( array, itemSize ).setUsage( DynamicDrawUsage );\n\n}\n\nfunction Int8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int8Attribute has been removed. Use new THREE.Int8BufferAttribute() instead.' );\n\treturn new Int8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8Attribute has been removed. Use new THREE.Uint8BufferAttribute() instead.' );\n\treturn new Uint8BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint8ClampedAttribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint8ClampedAttribute has been removed. Use new THREE.Uint8ClampedBufferAttribute() instead.' );\n\treturn new Uint8ClampedBufferAttribute( array, itemSize );\n\n}\n\nfunction Int16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int16Attribute has been removed. Use new THREE.Int16BufferAttribute() instead.' );\n\treturn new Int16BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint16Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint16Attribute has been removed. Use new THREE.Uint16BufferAttribute() instead.' );\n\treturn new Uint16BufferAttribute( array, itemSize );\n\n}\n\nfunction Int32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Int32Attribute has been removed. Use new THREE.Int32BufferAttribute() instead.' );\n\treturn new Int32BufferAttribute( array, itemSize );\n\n}\n\nfunction Uint32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Uint32Attribute has been removed. Use new THREE.Uint32BufferAttribute() instead.' );\n\treturn new Uint32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float32Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float32Attribute has been removed. Use new THREE.Float32BufferAttribute() instead.' );\n\treturn new Float32BufferAttribute( array, itemSize );\n\n}\n\nfunction Float64Attribute( array, itemSize ) {\n\n\tconsole.warn( 'THREE.Float64Attribute has been removed. Use new THREE.Float64BufferAttribute() instead.' );\n\treturn new Float64BufferAttribute( array, itemSize );\n\n}\n\n//\n\nCurve.create = function ( construct, getPoint ) {\n\n\tconsole.log( 'THREE.Curve.create() has been deprecated' );\n\n\tconstruct.prototype = Object.create( Curve.prototype );\n\tconstruct.prototype.constructor = construct;\n\tconstruct.prototype.getPoint = getPoint;\n\n\treturn construct;\n\n};\n\n//\n\nObject.assign( CurvePath.prototype, {\n\n\tcreatePointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from path points (for Line or Points objects)\n\n\t\tvar pts = this.getPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateSpacedPointsGeometry: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createSpacedPointsGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\t// generate geometry from equidistant sampling along the path\n\n\t\tvar pts = this.getSpacedPoints( divisions );\n\t\treturn this.createGeometry( pts );\n\n\t},\n\n\tcreateGeometry: function ( points ) {\n\n\t\tconsole.warn( 'THREE.CurvePath: .createGeometry() has been removed. Use new THREE.Geometry().setFromPoints( points ) instead.' );\n\n\t\tvar geometry = new Geometry();\n\n\t\tfor ( var i = 0, l = points.length; i < l; i ++ ) {\n\n\t\t\tvar point = points[ i ];\n\t\t\tgeometry.vertices.push( new Vector3( point.x, point.y, point.z || 0 ) );\n\n\t\t}\n\n\t\treturn geometry;\n\n\t}\n\n} );\n\n//\n\nObject.assign( Path.prototype, {\n\n\tfromPoints: function ( points ) {\n\n\t\tconsole.warn( 'THREE.Path: .fromPoints() has been renamed to .setFromPoints().' );\n\t\treturn this.setFromPoints( points );\n\n\t}\n\n} );\n\n//\n\nfunction ClosedSplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.ClosedSplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\tthis.closed = true;\n\n}\n\nClosedSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction SplineCurve3( points ) {\n\n\tconsole.warn( 'THREE.SplineCurve3 has been deprecated. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSplineCurve3.prototype = Object.create( CatmullRomCurve3.prototype );\n\n//\n\nfunction Spline( points ) {\n\n\tconsole.warn( 'THREE.Spline has been removed. Use THREE.CatmullRomCurve3 instead.' );\n\n\tCatmullRomCurve3.call( this, points );\n\tthis.type = 'catmullrom';\n\n}\n\nSpline.prototype = Object.create( CatmullRomCurve3.prototype );\n\nObject.assign( Spline.prototype, {\n\n\tinitFromArray: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .initFromArray() has been removed.' );\n\n\t},\n\tgetControlPointsArray: function ( /* optionalTarget */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .getControlPointsArray() has been removed.' );\n\n\t},\n\treparametrizeByArcLength: function ( /* samplingCoef */ ) {\n\n\t\tconsole.error( 'THREE.Spline: .reparametrizeByArcLength() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nfunction AxisHelper( size ) {\n\n\tconsole.warn( 'THREE.AxisHelper has been renamed to THREE.AxesHelper.' );\n\treturn new AxesHelper( size );\n\n}\n\nfunction BoundingBoxHelper( object, color ) {\n\n\tconsole.warn( 'THREE.BoundingBoxHelper has been deprecated. Creating a THREE.BoxHelper instead.' );\n\treturn new BoxHelper( object, color );\n\n}\n\nfunction EdgesHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.EdgesHelper has been removed. Use THREE.EdgesGeometry instead.' );\n\treturn new LineSegments( new EdgesGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\nGridHelper.prototype.setColors = function () {\n\n\tconsole.error( 'THREE.GridHelper: setColors() has been deprecated, pass them in the constructor instead.' );\n\n};\n\nSkeletonHelper.prototype.update = function () {\n\n\tconsole.error( 'THREE.SkeletonHelper: update() no longer needs to be called.' );\n\n};\n\nfunction WireframeHelper( object, hex ) {\n\n\tconsole.warn( 'THREE.WireframeHelper has been removed. Use THREE.WireframeGeometry instead.' );\n\treturn new LineSegments( new WireframeGeometry( object.geometry ), new LineBasicMaterial( { color: hex !== undefined ? hex : 0xffffff } ) );\n\n}\n\n//\n\nObject.assign( Loader.prototype, {\n\n\textractUrlBase: function ( url ) {\n\n\t\tconsole.warn( 'THREE.Loader: .extractUrlBase() has been deprecated. Use THREE.LoaderUtils.extractUrlBase() instead.' );\n\t\treturn LoaderUtils.extractUrlBase( url );\n\n\t}\n\n} );\n\nLoader.Handlers = {\n\n\tadd: function ( /* regex, loader */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.add() has been removed. Use LoadingManager.addHandler() instead.' );\n\n\t},\n\n\tget: function ( /* file */ ) {\n\n\t\tconsole.error( 'THREE.Loader: Handlers.get() has been removed. Use LoadingManager.getHandler() instead.' );\n\n\t}\n\n};\n\nfunction XHRLoader( manager ) {\n\n\tconsole.warn( 'THREE.XHRLoader has been renamed to THREE.FileLoader.' );\n\treturn new FileLoader( manager );\n\n}\n\nfunction BinaryTextureLoader( manager ) {\n\n\tconsole.warn( 'THREE.BinaryTextureLoader has been renamed to THREE.DataTextureLoader.' );\n\treturn new DataTextureLoader( manager );\n\n}\n\nObject.assign( ObjectLoader.prototype, {\n\n\tsetTexturePath: function ( value ) {\n\n\t\tconsole.warn( 'THREE.ObjectLoader: .setTexturePath() has been renamed to .setResourcePath().' );\n\t\treturn this.setResourcePath( value );\n\n\t}\n\n} );\n\n//\n\nObject.assign( Box2.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box2: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box2: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box2: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nObject.assign( Box3.prototype, {\n\n\tcenter: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .center() has been renamed to .getCenter().' );\n\t\treturn this.getCenter( optionalTarget );\n\n\t},\n\tempty: function () {\n\n\t\tconsole.warn( 'THREE.Box3: .empty() has been renamed to .isEmpty().' );\n\t\treturn this.isEmpty();\n\n\t},\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Box3: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t},\n\tsize: function ( optionalTarget ) {\n\n\t\tconsole.warn( 'THREE.Box3: .size() has been renamed to .getSize().' );\n\t\treturn this.getSize( optionalTarget );\n\n\t}\n} );\n\nFrustum.prototype.setFromMatrix = function ( m ) {\n\n\tconsole.warn( 'THREE.Frustum: .setFromMatrix() has been renamed to .setFromProjectionMatrix().' );\n\treturn this.setFromProjectionMatrix( m );\n\n};\n\nLine3.prototype.center = function ( optionalTarget ) {\n\n\tconsole.warn( 'THREE.Line3: .center() has been renamed to .getCenter().' );\n\treturn this.getCenter( optionalTarget );\n\n};\n\nObject.assign( MathUtils, {\n\n\trandom16: function () {\n\n\t\tconsole.warn( 'THREE.Math: .random16() has been deprecated. Use Math.random() instead.' );\n\t\treturn Math.random();\n\n\t},\n\n\tnearestPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nearestPowerOfTwo() has been renamed to .floorPowerOfTwo().' );\n\t\treturn MathUtils.floorPowerOfTwo( value );\n\n\t},\n\n\tnextPowerOfTwo: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Math: .nextPowerOfTwo() has been renamed to .ceilPowerOfTwo().' );\n\t\treturn MathUtils.ceilPowerOfTwo( value );\n\n\t}\n\n} );\n\nObject.assign( Matrix3.prototype, {\n\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix3: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .multiplyVector3() has been removed. Use vector.applyMatrix3( matrix ) instead.' );\n\t\treturn vector.applyMatrix3( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .multiplyVector3Array() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix3: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix3( matrix ) instead.' );\n\t\treturn attribute.applyMatrix3( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix3: .applyToVector3Array() has been removed.' );\n\n\t}\n\n} );\n\nObject.assign( Matrix4.prototype, {\n\n\textractPosition: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .extractPosition() has been renamed to .copyPosition().' );\n\t\treturn this.copyPosition( m );\n\n\t},\n\tflattenToArrayOffset: function ( array, offset ) {\n\n\t\tconsole.warn( \"THREE.Matrix4: .flattenToArrayOffset() has been deprecated. Use .toArray() instead.\" );\n\t\treturn this.toArray( array, offset );\n\n\t},\n\tgetPosition: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .getPosition() has been removed. Use Vector3.setFromMatrixPosition( matrix ) instead.' );\n\t\treturn new Vector3().setFromMatrixColumn( this, 3 );\n\n\t},\n\tsetRotationFromQuaternion: function ( q ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .setRotationFromQuaternion() has been renamed to .makeRotationFromQuaternion().' );\n\t\treturn this.makeRotationFromQuaternion( q );\n\n\t},\n\tmultiplyToArray: function () {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyToArray() has been removed.' );\n\n\t},\n\tmultiplyVector3: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector3() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector4: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .multiplyVector4() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\tmultiplyVector3Array: function ( /* a */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .multiplyVector3Array() has been removed.' );\n\n\t},\n\trotateAxis: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .rotateAxis() has been removed. Use Vector3.transformDirection( matrix ) instead.' );\n\t\tv.transformDirection( this );\n\n\t},\n\tcrossVector: function ( vector ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .crossVector() has been removed. Use vector.applyMatrix4( matrix ) instead.' );\n\t\treturn vector.applyMatrix4( this );\n\n\t},\n\ttranslate: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .translate() has been removed.' );\n\n\t},\n\trotateX: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateX() has been removed.' );\n\n\t},\n\trotateY: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateY() has been removed.' );\n\n\t},\n\trotateZ: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateZ() has been removed.' );\n\n\t},\n\trotateByAxis: function () {\n\n\t\tconsole.error( 'THREE.Matrix4: .rotateByAxis() has been removed.' );\n\n\t},\n\tapplyToBufferAttribute: function ( attribute ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .applyToBufferAttribute() has been removed. Use attribute.applyMatrix4( matrix ) instead.' );\n\t\treturn attribute.applyMatrix4( this );\n\n\t},\n\tapplyToVector3Array: function ( /* array, offset, length */ ) {\n\n\t\tconsole.error( 'THREE.Matrix4: .applyToVector3Array() has been removed.' );\n\n\t},\n\tmakeFrustum: function ( left, right, bottom, top, near, far ) {\n\n\t\tconsole.warn( 'THREE.Matrix4: .makeFrustum() has been removed. Use .makePerspective( left, right, top, bottom, near, far ) instead.' );\n\t\treturn this.makePerspective( left, right, top, bottom, near, far );\n\n\t}\n\n} );\n\nPlane.prototype.isIntersectionLine = function ( line ) {\n\n\tconsole.warn( 'THREE.Plane: .isIntersectionLine() has been renamed to .intersectsLine().' );\n\treturn this.intersectsLine( line );\n\n};\n\nQuaternion.prototype.multiplyVector3 = function ( vector ) {\n\n\tconsole.warn( 'THREE.Quaternion: .multiplyVector3() has been removed. Use is now vector.applyQuaternion( quaternion ) instead.' );\n\treturn vector.applyQuaternion( this );\n\n};\n\nObject.assign( Ray.prototype, {\n\n\tisIntersectionBox: function ( box ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionBox() has been renamed to .intersectsBox().' );\n\t\treturn this.intersectsBox( box );\n\n\t},\n\tisIntersectionPlane: function ( plane ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionPlane() has been renamed to .intersectsPlane().' );\n\t\treturn this.intersectsPlane( plane );\n\n\t},\n\tisIntersectionSphere: function ( sphere ) {\n\n\t\tconsole.warn( 'THREE.Ray: .isIntersectionSphere() has been renamed to .intersectsSphere().' );\n\t\treturn this.intersectsSphere( sphere );\n\n\t}\n\n} );\n\nObject.assign( Triangle.prototype, {\n\n\tarea: function () {\n\n\t\tconsole.warn( 'THREE.Triangle: .area() has been renamed to .getArea().' );\n\t\treturn this.getArea();\n\n\t},\n\tbarycoordFromPoint: function ( point, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn this.getBarycoord( point, target );\n\n\t},\n\tmidpoint: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .midpoint() has been renamed to .getMidpoint().' );\n\t\treturn this.getMidpoint( target );\n\n\t},\n\tnormal: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn this.getNormal( target );\n\n\t},\n\tplane: function ( target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .plane() has been renamed to .getPlane().' );\n\t\treturn this.getPlane( target );\n\n\t}\n\n} );\n\nObject.assign( Triangle, {\n\n\tbarycoordFromPoint: function ( point, a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .barycoordFromPoint() has been renamed to .getBarycoord().' );\n\t\treturn Triangle.getBarycoord( point, a, b, c, target );\n\n\t},\n\tnormal: function ( a, b, c, target ) {\n\n\t\tconsole.warn( 'THREE.Triangle: .normal() has been renamed to .getNormal().' );\n\t\treturn Triangle.getNormal( a, b, c, target );\n\n\t}\n\n} );\n\nObject.assign( Shape.prototype, {\n\n\textractAllPoints: function ( divisions ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extractAllPoints() has been removed. Use .extractPoints() instead.' );\n\t\treturn this.extractPoints( divisions );\n\n\t},\n\textrude: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .extrude() has been removed. Use ExtrudeGeometry() instead.' );\n\t\treturn new ExtrudeGeometry( this, options );\n\n\t},\n\tmakeGeometry: function ( options ) {\n\n\t\tconsole.warn( 'THREE.Shape: .makeGeometry() has been removed. Use ShapeGeometry() instead.' );\n\t\treturn new ShapeGeometry( this, options );\n\n\t}\n\n} );\n\nObject.assign( Vector2.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector2: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector2: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector3.prototype, {\n\n\tsetEulerFromRotationMatrix: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromRotationMatrix() has been removed. Use Euler.setFromRotationMatrix() instead.' );\n\n\t},\n\tsetEulerFromQuaternion: function () {\n\n\t\tconsole.error( 'THREE.Vector3: .setEulerFromQuaternion() has been removed. Use Euler.setFromQuaternion() instead.' );\n\n\t},\n\tgetPositionFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getPositionFromMatrix() has been renamed to .setFromMatrixPosition().' );\n\t\treturn this.setFromMatrixPosition( m );\n\n\t},\n\tgetScaleFromMatrix: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getScaleFromMatrix() has been renamed to .setFromMatrixScale().' );\n\t\treturn this.setFromMatrixScale( m );\n\n\t},\n\tgetColumnFromMatrix: function ( index, matrix ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .getColumnFromMatrix() has been renamed to .setFromMatrixColumn().' );\n\t\treturn this.setFromMatrixColumn( matrix, index );\n\n\t},\n\tapplyProjection: function ( m ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .applyProjection() has been removed. Use .applyMatrix4( m ) instead.' );\n\t\treturn this.applyMatrix4( m );\n\n\t},\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tdistanceToManhattan: function ( v ) {\n\n\t\tconsole.warn( 'THREE.Vector3: .distanceToManhattan() has been renamed to .manhattanDistanceTo().' );\n\t\treturn this.manhattanDistanceTo( v );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector3: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\nObject.assign( Vector4.prototype, {\n\n\tfromAttribute: function ( attribute, index, offset ) {\n\n\t\tconsole.warn( 'THREE.Vector4: .fromAttribute() has been renamed to .fromBufferAttribute().' );\n\t\treturn this.fromBufferAttribute( attribute, index, offset );\n\n\t},\n\tlengthManhattan: function () {\n\n\t\tconsole.warn( 'THREE.Vector4: .lengthManhattan() has been renamed to .manhattanLength().' );\n\t\treturn this.manhattanLength();\n\n\t}\n\n} );\n\n//\n\nObject.assign( Geometry.prototype, {\n\n\tcomputeTangents: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeLineDistances: function () {\n\n\t\tconsole.error( 'THREE.Geometry: .computeLineDistances() has been removed. Use THREE.Line.computeLineDistances() instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Geometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.assign( Object3D.prototype, {\n\n\tgetChildByName: function ( name ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .getChildByName() has been renamed to .getObjectByName().' );\n\t\treturn this.getObjectByName( name );\n\n\t},\n\trenderDepth: function () {\n\n\t\tconsole.warn( 'THREE.Object3D: .renderDepth has been removed. Use .renderOrder, instead.' );\n\n\t},\n\ttranslate: function ( distance, axis ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .translate() has been removed. Use .translateOnAxis( axis, distance ) instead.' );\n\t\treturn this.translateOnAxis( axis, distance );\n\n\t},\n\tgetWorldRotation: function () {\n\n\t\tconsole.error( 'THREE.Object3D: .getWorldRotation() has been removed. Use THREE.Object3D.getWorldQuaternion( target ) instead.' );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.Object3D: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( Object3D.prototype, {\n\n\teulerOrder: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\treturn this.rotation.order;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .eulerOrder is now .rotation.order.' );\n\t\t\tthis.rotation.order = value;\n\n\t\t}\n\t},\n\tuseQuaternion: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Object3D: .useQuaternion has been removed. The library now uses quaternions by default.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( Mesh.prototype, {\n\n\tsetDrawMode: function () {\n\n\t\tconsole.error( 'THREE.Mesh: .setDrawMode() has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t},\n\n} );\n\nObject.defineProperties( Mesh.prototype, {\n\n\tdrawMode: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode.' );\n\t\t\treturn TrianglesDrawMode;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.error( 'THREE.Mesh: .drawMode has been removed. The renderer now always assumes THREE.TrianglesDrawMode. Transform your geometry via BufferGeometryUtils.toTrianglesDrawMode() if necessary.' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( LOD.prototype, {\n\n\tobjects: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.LOD: .objects has been renamed to .levels.' );\n\t\t\treturn this.levels;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperty( Skeleton.prototype, 'useVertexTexture', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t},\n\tset: function () {\n\n\t\tconsole.warn( 'THREE.Skeleton: useVertexTexture has been removed.' );\n\n\t}\n\n} );\n\nSkinnedMesh.prototype.initBones = function () {\n\n\tconsole.error( 'THREE.SkinnedMesh: initBones() has been removed.' );\n\n};\n\nObject.defineProperty( Curve.prototype, '__arcLengthDivisions', {\n\n\tget: function () {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\treturn this.arcLengthDivisions;\n\n\t},\n\tset: function ( value ) {\n\n\t\tconsole.warn( 'THREE.Curve: .__arcLengthDivisions is now .arcLengthDivisions.' );\n\t\tthis.arcLengthDivisions = value;\n\n\t}\n\n} );\n\n//\n\nPerspectiveCamera.prototype.setLens = function ( focalLength, filmGauge ) {\n\n\tconsole.warn( \"THREE.PerspectiveCamera.setLens is deprecated. \" +\n\t\t\t\"Use .setFocalLength and .filmGauge for a photographic setup.\" );\n\n\tif ( filmGauge !== undefined ) this.filmGauge = filmGauge;\n\tthis.setFocalLength( focalLength );\n\n};\n\n//\n\nObject.defineProperties( Light.prototype, {\n\tonlyShadow: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .onlyShadow has been removed.' );\n\n\t\t}\n\t},\n\tshadowCameraFov: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFov is now .shadow.camera.fov.' );\n\t\t\tthis.shadow.camera.fov = value;\n\n\t\t}\n\t},\n\tshadowCameraLeft: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraLeft is now .shadow.camera.left.' );\n\t\t\tthis.shadow.camera.left = value;\n\n\t\t}\n\t},\n\tshadowCameraRight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraRight is now .shadow.camera.right.' );\n\t\t\tthis.shadow.camera.right = value;\n\n\t\t}\n\t},\n\tshadowCameraTop: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraTop is now .shadow.camera.top.' );\n\t\t\tthis.shadow.camera.top = value;\n\n\t\t}\n\t},\n\tshadowCameraBottom: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraBottom is now .shadow.camera.bottom.' );\n\t\t\tthis.shadow.camera.bottom = value;\n\n\t\t}\n\t},\n\tshadowCameraNear: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraNear is now .shadow.camera.near.' );\n\t\t\tthis.shadow.camera.near = value;\n\n\t\t}\n\t},\n\tshadowCameraFar: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraFar is now .shadow.camera.far.' );\n\t\t\tthis.shadow.camera.far = value;\n\n\t\t}\n\t},\n\tshadowCameraVisible: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowCameraVisible has been removed. Use new THREE.CameraHelper( light.shadow.camera ) instead.' );\n\n\t\t}\n\t},\n\tshadowBias: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowBias is now .shadow.bias.' );\n\t\t\tthis.shadow.bias = value;\n\n\t\t}\n\t},\n\tshadowDarkness: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowDarkness has been removed.' );\n\n\t\t}\n\t},\n\tshadowMapWidth: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapWidth is now .shadow.mapSize.width.' );\n\t\t\tthis.shadow.mapSize.width = value;\n\n\t\t}\n\t},\n\tshadowMapHeight: {\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Light: .shadowMapHeight is now .shadow.mapSize.height.' );\n\t\t\tthis.shadow.mapSize.height = value;\n\n\t\t}\n\t}\n} );\n\n//\n\nObject.defineProperties( BufferAttribute.prototype, {\n\n\tlength: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .length has been deprecated. Use .count instead.' );\n\t\t\treturn this.array.length;\n\n\t\t}\n\t},\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.BufferAttribute: .dynamic has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( DynamicDrawUsage );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( BufferAttribute.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.BufferAttribute: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tcopyIndicesArray: function ( /* indices */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .copyIndicesArray() has been removed.' );\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.BufferAttribute: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\nObject.assign( BufferGeometry.prototype, {\n\n\taddIndex: function ( index ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addIndex() has been renamed to .setIndex().' );\n\t\tthis.setIndex( index );\n\n\t},\n\taddAttribute: function ( name, attribute ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() has been renamed to .setAttribute().' );\n\n\t\tif ( ! ( attribute && attribute.isBufferAttribute ) && ! ( attribute && attribute.isInterleavedBufferAttribute ) ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addAttribute() now expects ( name, attribute ).' );\n\n\t\t\treturn this.setAttribute( name, new BufferAttribute( arguments[ 1 ], arguments[ 2 ] ) );\n\n\t\t}\n\n\t\tif ( name === 'index' ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry.addAttribute: Use .setIndex() for index attribute.' );\n\t\t\tthis.setIndex( attribute );\n\n\t\t\treturn this;\n\n\t\t}\n\n\t\treturn this.setAttribute( name, attribute );\n\n\t},\n\taddDrawCall: function ( start, count, indexOffset ) {\n\n\t\tif ( indexOffset !== undefined ) {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() no longer supports indexOffset.' );\n\n\t\t}\n\t\tconsole.warn( 'THREE.BufferGeometry: .addDrawCall() is now .addGroup().' );\n\t\tthis.addGroup( start, count );\n\n\t},\n\tclearDrawCalls: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .clearDrawCalls() is now .clearGroups().' );\n\t\tthis.clearGroups();\n\n\t},\n\tcomputeTangents: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeTangents() has been removed.' );\n\n\t},\n\tcomputeOffsets: function () {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .computeOffsets() has been removed.' );\n\n\t},\n\tremoveAttribute: function ( name ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .removeAttribute() has been renamed to .deleteAttribute().' );\n\n\t\treturn this.deleteAttribute( name );\n\n\t},\n\tapplyMatrix: function ( matrix ) {\n\n\t\tconsole.warn( 'THREE.BufferGeometry: .applyMatrix() has been renamed to .applyMatrix4().' );\n\t\treturn this.applyMatrix4( matrix );\n\n\t}\n\n} );\n\nObject.defineProperties( BufferGeometry.prototype, {\n\n\tdrawcalls: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.BufferGeometry: .drawcalls has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t},\n\toffsets: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.BufferGeometry: .offsets has been renamed to .groups.' );\n\t\t\treturn this.groups;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( Raycaster.prototype, {\n\n\tlinePrecision: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\treturn this.params.Line.threshold;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.Raycaster: .linePrecision has been deprecated. Use .params.Line.threshold instead.' );\n\t\t\tthis.params.Line.threshold = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( InterleavedBuffer.prototype, {\n\n\tdynamic: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\treturn this.usage === DynamicDrawUsage;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.InterleavedBuffer: .length has been deprecated. Use .usage instead.' );\n\t\t\tthis.setUsage( value );\n\n\t\t}\n\t}\n\n} );\n\nObject.assign( InterleavedBuffer.prototype, {\n\tsetDynamic: function ( value ) {\n\n\t\tconsole.warn( 'THREE.InterleavedBuffer: .setDynamic() has been deprecated. Use .setUsage() instead.' );\n\t\tthis.setUsage( value === true ? DynamicDrawUsage : StaticDrawUsage );\n\t\treturn this;\n\n\t},\n\tsetArray: function ( /* array */ ) {\n\n\t\tconsole.error( 'THREE.InterleavedBuffer: .setArray has been removed. Use BufferGeometry .setAttribute to replace/resize attribute buffers' );\n\n\t}\n} );\n\n//\n\nObject.assign( ExtrudeBufferGeometry.prototype, {\n\n\tgetArrays: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .getArrays() has been removed.' );\n\n\t},\n\n\taddShapeList: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShapeList() has been removed.' );\n\n\t},\n\n\taddShape: function () {\n\n\t\tconsole.error( 'THREE.ExtrudeBufferGeometry: .addShape() has been removed.' );\n\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Uniform.prototype, {\n\n\tdynamic: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .dynamic has been removed. Use object.onBeforeRender() instead.' );\n\n\t\t}\n\t},\n\tonUpdate: {\n\t\tvalue: function () {\n\n\t\t\tconsole.warn( 'THREE.Uniform: .onUpdate() has been removed. Use object.onBeforeRender() instead.' );\n\t\t\treturn this;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Material.prototype, {\n\n\twrapAround: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapAround has been removed.' );\n\n\t\t}\n\t},\n\n\toverdraw: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .overdraw has been removed.' );\n\n\t\t}\n\t},\n\n\twrapRGB: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.Material: .wrapRGB has been removed.' );\n\t\t\treturn new Color();\n\n\t\t}\n\t},\n\n\tshading: {\n\t\tget: function () {\n\n\t\t\tconsole.error( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .shading has been removed. Use the boolean .flatShading instead.' );\n\t\t\tthis.flatShading = ( value === FlatShading );\n\n\t\t}\n\t},\n\n\tstencilMask: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\treturn this.stencilFuncMask;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.' + this.type + ': .stencilMask has been removed. Use .stencilFuncMask instead.' );\n\t\t\tthis.stencilFuncMask = value;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( MeshPhongMaterial.prototype, {\n\n\tmetal: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.MeshPhongMaterial: .metal has been removed. Use THREE.MeshStandardMaterial instead' );\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( ShaderMaterial.prototype, {\n\n\tderivatives: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\treturn this.extensions.derivatives;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE. ShaderMaterial: .derivatives has been moved to .extensions.derivatives.' );\n\t\t\tthis.extensions.derivatives = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.assign( WebGLRenderer.prototype, {\n\n\tclearTarget: function ( renderTarget, color, depth, stencil ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .clearTarget() has been deprecated. Use .setRenderTarget() and .clear() instead.' );\n\t\tthis.setRenderTarget( renderTarget );\n\t\tthis.clear( color, depth, stencil );\n\n\t},\n\tanimate: function ( callback ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .animate() is now .setAnimationLoop().' );\n\t\tthis.setAnimationLoop( callback );\n\n\t},\n\tgetCurrentRenderTarget: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getCurrentRenderTarget() is now .getRenderTarget().' );\n\t\treturn this.getRenderTarget();\n\n\t},\n\tgetMaxAnisotropy: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getMaxAnisotropy() is now .capabilities.getMaxAnisotropy().' );\n\t\treturn this.capabilities.getMaxAnisotropy();\n\n\t},\n\tgetPrecision: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getPrecision() is now .capabilities.precision.' );\n\t\treturn this.capabilities.precision;\n\n\t},\n\tresetGLState: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .resetGLState() is now .state.reset().' );\n\t\treturn this.state.reset();\n\n\t},\n\tsupportsFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsFloatTextures() is now .extensions.get( \\'OES_texture_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_float' );\n\n\t},\n\tsupportsHalfFloatTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsHalfFloatTextures() is now .extensions.get( \\'OES_texture_half_float\\' ).' );\n\t\treturn this.extensions.get( 'OES_texture_half_float' );\n\n\t},\n\tsupportsStandardDerivatives: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsStandardDerivatives() is now .extensions.get( \\'OES_standard_derivatives\\' ).' );\n\t\treturn this.extensions.get( 'OES_standard_derivatives' );\n\n\t},\n\tsupportsCompressedTextureS3TC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTextureS3TC() is now .extensions.get( \\'WEBGL_compressed_texture_s3tc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_s3tc' );\n\n\t},\n\tsupportsCompressedTexturePVRTC: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsCompressedTexturePVRTC() is now .extensions.get( \\'WEBGL_compressed_texture_pvrtc\\' ).' );\n\t\treturn this.extensions.get( 'WEBGL_compressed_texture_pvrtc' );\n\n\t},\n\tsupportsBlendMinMax: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsBlendMinMax() is now .extensions.get( \\'EXT_blend_minmax\\' ).' );\n\t\treturn this.extensions.get( 'EXT_blend_minmax' );\n\n\t},\n\tsupportsVertexTextures: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsVertexTextures() is now .capabilities.vertexTextures.' );\n\t\treturn this.capabilities.vertexTextures;\n\n\t},\n\tsupportsInstancedArrays: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .supportsInstancedArrays() is now .extensions.get( \\'ANGLE_instanced_arrays\\' ).' );\n\t\treturn this.extensions.get( 'ANGLE_instanced_arrays' );\n\n\t},\n\tenableScissorTest: function ( boolean ) {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .enableScissorTest() is now .setScissorTest().' );\n\t\tthis.setScissorTest( boolean );\n\n\t},\n\tinitMaterial: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .initMaterial() has been removed.' );\n\n\t},\n\taddPrePlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPrePlugin() has been removed.' );\n\n\t},\n\taddPostPlugin: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .addPostPlugin() has been removed.' );\n\n\t},\n\tupdateShadowMap: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .updateShadowMap() has been removed.' );\n\n\t},\n\tsetFaceCulling: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setFaceCulling() has been removed.' );\n\n\t},\n\tallocTextureUnit: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .allocTextureUnit() has been removed.' );\n\n\t},\n\tsetTexture: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture() has been removed.' );\n\n\t},\n\tsetTexture2D: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTexture2D() has been removed.' );\n\n\t},\n\tsetTextureCube: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .setTextureCube() has been removed.' );\n\n\t},\n\tgetActiveMipMapLevel: function () {\n\n\t\tconsole.warn( 'THREE.WebGLRenderer: .getActiveMipMapLevel() is now .getActiveMipmapLevel().' );\n\t\treturn this.getActiveMipmapLevel();\n\n\t}\n\n} );\n\nObject.defineProperties( WebGLRenderer.prototype, {\n\n\tshadowMapEnabled: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.enabled;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapEnabled is now .shadowMap.enabled.' );\n\t\t\tthis.shadowMap.enabled = value;\n\n\t\t}\n\t},\n\tshadowMapType: {\n\t\tget: function () {\n\n\t\t\treturn this.shadowMap.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapType is now .shadowMap.type.' );\n\t\t\tthis.shadowMap.type = value;\n\n\t\t}\n\t},\n\tshadowMapCullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* value */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMapCullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\tcontext: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .context has been removed. Use .getContext() instead.' );\n\t\t\treturn this.getContext();\n\n\t\t}\n\t},\n\tvr: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .vr has been renamed to .xr' );\n\t\t\treturn this.xr;\n\n\t\t}\n\t},\n\tgammaInput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaInput has been removed. Set the encoding for textures via Texture.encoding instead.' );\n\n\t\t}\n\t},\n\tgammaOutput: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\treturn false;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .gammaOutput has been removed. Set WebGLRenderer.outputEncoding instead.' );\n\t\t\tthis.outputEncoding = ( value === true ) ? sRGBEncoding : LinearEncoding;\n\n\t\t}\n\t}\n\n} );\n\nObject.defineProperties( WebGLShadowMap.prototype, {\n\n\tcullFace: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function ( /* cullFace */ ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.cullFace has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderReverseSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderReverseSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t},\n\trenderSingleSided: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\t\t\treturn undefined;\n\n\t\t},\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderer: .shadowMap.renderSingleSided has been removed. Set Material.shadowSide instead.' );\n\n\t\t}\n\t}\n\n} );\n\nfunction WebGLRenderTargetCube( width, height, options ) {\n\n\tconsole.warn( 'THREE.WebGLRenderTargetCube( width, height, options ) is now WebGLCubeRenderTarget( size, options ).' );\n\treturn new WebGLCubeRenderTarget( width, options );\n\n}\n\n//\n\nObject.defineProperties( WebGLRenderTarget.prototype, {\n\n\twrapS: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\treturn this.texture.wrapS;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapS is now .texture.wrapS.' );\n\t\t\tthis.texture.wrapS = value;\n\n\t\t}\n\t},\n\twrapT: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\treturn this.texture.wrapT;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .wrapT is now .texture.wrapT.' );\n\t\t\tthis.texture.wrapT = value;\n\n\t\t}\n\t},\n\tmagFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\treturn this.texture.magFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .magFilter is now .texture.magFilter.' );\n\t\t\tthis.texture.magFilter = value;\n\n\t\t}\n\t},\n\tminFilter: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\treturn this.texture.minFilter;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .minFilter is now .texture.minFilter.' );\n\t\t\tthis.texture.minFilter = value;\n\n\t\t}\n\t},\n\tanisotropy: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\treturn this.texture.anisotropy;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .anisotropy is now .texture.anisotropy.' );\n\t\t\tthis.texture.anisotropy = value;\n\n\t\t}\n\t},\n\toffset: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\treturn this.texture.offset;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .offset is now .texture.offset.' );\n\t\t\tthis.texture.offset = value;\n\n\t\t}\n\t},\n\trepeat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\treturn this.texture.repeat;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .repeat is now .texture.repeat.' );\n\t\t\tthis.texture.repeat = value;\n\n\t\t}\n\t},\n\tformat: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\treturn this.texture.format;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .format is now .texture.format.' );\n\t\t\tthis.texture.format = value;\n\n\t\t}\n\t},\n\ttype: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\treturn this.texture.type;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .type is now .texture.type.' );\n\t\t\tthis.texture.type = value;\n\n\t\t}\n\t},\n\tgenerateMipmaps: {\n\t\tget: function () {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\treturn this.texture.generateMipmaps;\n\n\t\t},\n\t\tset: function ( value ) {\n\n\t\t\tconsole.warn( 'THREE.WebGLRenderTarget: .generateMipmaps is now .texture.generateMipmaps.' );\n\t\t\tthis.texture.generateMipmaps = value;\n\n\t\t}\n\t}\n\n} );\n\n//\n\nObject.defineProperties( Audio.prototype, {\n\n\tload: {\n\t\tvalue: function ( file ) {\n\n\t\t\tconsole.warn( 'THREE.Audio: .load has been deprecated. Use THREE.AudioLoader instead.' );\n\t\t\tvar scope = this;\n\t\t\tvar audioLoader = new AudioLoader();\n\t\t\taudioLoader.load( file, function ( buffer ) {\n\n\t\t\t\tscope.setBuffer( buffer );\n\n\t\t\t} );\n\t\t\treturn this;\n\n\t\t}\n\t},\n\tstartTime: {\n\t\tset: function () {\n\n\t\t\tconsole.warn( 'THREE.Audio: .startTime is now .play( delay ).' );\n\n\t\t}\n\t}\n\n} );\n\nAudioAnalyser.prototype.getData = function () {\n\n\tconsole.warn( 'THREE.AudioAnalyser: .getData() is now .getFrequencyData().' );\n\treturn this.getFrequencyData();\n\n};\n\n//\n\nCubeCamera.prototype.updateCubeMap = function ( renderer, scene ) {\n\n\tconsole.warn( 'THREE.CubeCamera: .updateCubeMap() is now .update().' );\n\treturn this.update( renderer, scene );\n\n};\n\n//\n\nvar GeometryUtils = {\n\n\tmerge: function ( geometry1, geometry2, materialIndexOffset ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .merge() has been moved to Geometry. Use geometry.merge( geometry2, matrix, materialIndexOffset ) instead.' );\n\t\tvar matrix;\n\n\t\tif ( geometry2.isMesh ) {\n\n\t\t\tgeometry2.matrixAutoUpdate && geometry2.updateMatrix();\n\n\t\t\tmatrix = geometry2.matrix;\n\t\t\tgeometry2 = geometry2.geometry;\n\n\t\t}\n\n\t\tgeometry1.merge( geometry2, matrix, materialIndexOffset );\n\n\t},\n\n\tcenter: function ( geometry ) {\n\n\t\tconsole.warn( 'THREE.GeometryUtils: .center() has been moved to Geometry. Use geometry.center() instead.' );\n\t\treturn geometry.center();\n\n\t}\n\n};\n\nImageUtils.crossOrigin = undefined;\n\nImageUtils.loadTexture = function ( url, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTexture has been deprecated. Use THREE.TextureLoader() instead.' );\n\n\tvar loader = new TextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( url, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadTextureCube = function ( urls, mapping, onLoad, onError ) {\n\n\tconsole.warn( 'THREE.ImageUtils.loadTextureCube has been deprecated. Use THREE.CubeTextureLoader() instead.' );\n\n\tvar loader = new CubeTextureLoader();\n\tloader.setCrossOrigin( this.crossOrigin );\n\n\tvar texture = loader.load( urls, onLoad, undefined, onError );\n\n\tif ( mapping ) texture.mapping = mapping;\n\n\treturn texture;\n\n};\n\nImageUtils.loadCompressedTexture = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTexture has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\nImageUtils.loadCompressedTextureCube = function () {\n\n\tconsole.error( 'THREE.ImageUtils.loadCompressedTextureCube has been removed. Use THREE.DDSLoader instead.' );\n\n};\n\n//\n\nfunction CanvasRenderer() {\n\n\tconsole.error( 'THREE.CanvasRenderer has been removed' );\n\n}\n\n//\n\nfunction JSONLoader() {\n\n\tconsole.error( 'THREE.JSONLoader has been removed.' );\n\n}\n\n//\n\nvar SceneUtils = {\n\n\tcreateMultiMaterialObject: function ( /* geometry, materials */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tdetach: function ( /* child, parent, scene */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t},\n\n\tattach: function ( /* child, scene, parent */ ) {\n\n\t\tconsole.error( 'THREE.SceneUtils has been moved to /examples/jsm/utils/SceneUtils.js' );\n\n\t}\n\n};\n\n//\n\nfunction LensFlare() {\n\n\tconsole.error( 'THREE.LensFlare has been moved to /examples/jsm/objects/Lensflare.js' );\n\n}\n\nif ( typeof __THREE_DEVTOOLS__ !== 'undefined' ) {\n\n\t/* eslint-disable no-undef */\n\t__THREE_DEVTOOLS__.dispatchEvent( new CustomEvent( 'register', { detail: {\n\t\trevision: REVISION,\n\t} } ) );\n\t/* eslint-enable no-undef */\n\n}\n\nexport { ACESFilmicToneMapping, AddEquation, AddOperation, AdditiveBlending, AlphaFormat, AlwaysDepth, AlwaysStencilFunc, AmbientLight, AmbientLightProbe, AnimationClip, AnimationLoader, AnimationMixer, AnimationObjectGroup, AnimationUtils, ArcCurve, ArrayCamera, ArrowHelper, Audio, AudioAnalyser, AudioContext, AudioListener, AudioLoader, AxesHelper, AxisHelper, BackSide, BasicDepthPacking, BasicShadowMap, BinaryTextureLoader, Bone, BooleanKeyframeTrack, BoundingBoxHelper, Box2, Box3, Box3Helper, BoxBufferGeometry, BoxGeometry, BoxHelper, BufferAttribute, BufferGeometry, BufferGeometryLoader, ByteType, Cache, Camera, CameraHelper, CanvasRenderer, CanvasTexture, CatmullRomCurve3, CineonToneMapping, CircleBufferGeometry, CircleGeometry, ClampToEdgeWrapping, Clock, ClosedSplineCurve3, Color, ColorKeyframeTrack, CompressedTexture, CompressedTextureLoader, ConeBufferGeometry, ConeGeometry, CubeCamera, BoxGeometry as CubeGeometry, CubeReflectionMapping, CubeRefractionMapping, CubeTexture, CubeTextureLoader, CubeUVReflectionMapping, CubeUVRefractionMapping, CubicBezierCurve, CubicBezierCurve3, CubicInterpolant, CullFaceBack, CullFaceFront, CullFaceFrontBack, CullFaceNone, Curve, CurvePath, CustomBlending, CylinderBufferGeometry, CylinderGeometry, Cylindrical, DataTexture, DataTexture2DArray, DataTexture3D, DataTextureLoader, DecrementStencilOp, DecrementWrapStencilOp, DefaultLoadingManager, DepthFormat, DepthStencilFormat, DepthTexture, DirectionalLight, DirectionalLightHelper, DirectionalLightShadow, DiscreteInterpolant, DodecahedronBufferGeometry, DodecahedronGeometry, DoubleSide, DstAlphaFactor, DstColorFactor, DynamicBufferAttribute, DynamicCopyUsage, DynamicDrawUsage, DynamicReadUsage, EdgesGeometry, EdgesHelper, EllipseCurve, EqualDepth, EqualStencilFunc, EquirectangularReflectionMapping, EquirectangularRefractionMapping, Euler, EventDispatcher, ExtrudeBufferGeometry, ExtrudeGeometry, Face3, Face4, FaceColors, FileLoader, FlatShading, Float32Attribute, Float32BufferAttribute, Float64Attribute, Float64BufferAttribute, FloatType, Fog, FogExp2, Font, FontLoader, FrontFaceDirectionCCW, FrontFaceDirectionCW, FrontSide, Frustum, GammaEncoding, Geometry, GeometryUtils, GreaterDepth, GreaterEqualDepth, GreaterEqualStencilFunc, GreaterStencilFunc, GridHelper, Group, HalfFloatType, HemisphereLight, HemisphereLightHelper, HemisphereLightProbe, IcosahedronBufferGeometry, IcosahedronGeometry, ImageBitmapLoader, ImageLoader, ImageUtils, ImmediateRenderObject, IncrementStencilOp, IncrementWrapStencilOp, InstancedBufferAttribute, InstancedBufferGeometry, InstancedInterleavedBuffer, InstancedMesh, Int16Attribute, Int16BufferAttribute, Int32Attribute, Int32BufferAttribute, Int8Attribute, Int8BufferAttribute, IntType, InterleavedBuffer, InterleavedBufferAttribute, Interpolant, InterpolateDiscrete, InterpolateLinear, InterpolateSmooth, InvertStencilOp, JSONLoader, KeepStencilOp, KeyframeTrack, LOD, LatheBufferGeometry, LatheGeometry, Layers, LensFlare, LessDepth, LessEqualDepth, LessEqualStencilFunc, LessStencilFunc, Light, LightProbe, LightShadow, Line, Line3, LineBasicMaterial, LineCurve, LineCurve3, LineDashedMaterial, LineLoop, LinePieces, LineSegments, LineStrip, LinearEncoding, LinearFilter, LinearInterpolant, LinearMipMapLinearFilter, LinearMipMapNearestFilter, LinearMipmapLinearFilter, LinearMipmapNearestFilter, LinearToneMapping, Loader, LoaderUtils, LoadingManager, LogLuvEncoding, LoopOnce, LoopPingPong, LoopRepeat, LuminanceAlphaFormat, LuminanceFormat, MOUSE, Material, MaterialLoader, MathUtils as Math, MathUtils, Matrix3, Matrix4, MaxEquation, Mesh, MeshBasicMaterial, MeshDepthMaterial, MeshDistanceMaterial, MeshFaceMaterial, MeshLambertMaterial, MeshMatcapMaterial, MeshNormalMaterial, MeshPhongMaterial, MeshPhysicalMaterial, MeshStandardMaterial, MeshToonMaterial, MinEquation, MirroredRepeatWrapping, MixOperation, MultiMaterial, MultiplyBlending, MultiplyOperation, NearestFilter, NearestMipMapLinearFilter, NearestMipMapNearestFilter, NearestMipmapLinearFilter, NearestMipmapNearestFilter, NeverDepth, NeverStencilFunc, NoBlending, NoColors, NoToneMapping, NormalBlending, NotEqualDepth, NotEqualStencilFunc, NumberKeyframeTrack, Object3D, ObjectLoader, ObjectSpaceNormalMap, OctahedronBufferGeometry, OctahedronGeometry, OneFactor, OneMinusDstAlphaFactor, OneMinusDstColorFactor, OneMinusSrcAlphaFactor, OneMinusSrcColorFactor, OrthographicCamera, PCFShadowMap, PCFSoftShadowMap, PMREMGenerator, ParametricBufferGeometry, ParametricGeometry, Particle, ParticleBasicMaterial, ParticleSystem, ParticleSystemMaterial, Path, PerspectiveCamera, Plane, PlaneBufferGeometry, PlaneGeometry, PlaneHelper, PointCloud, PointCloudMaterial, PointLight, PointLightHelper, Points, PointsMaterial, PolarGridHelper, PolyhedronBufferGeometry, PolyhedronGeometry, PositionalAudio, PropertyBinding, PropertyMixer, QuadraticBezierCurve, QuadraticBezierCurve3, Quaternion, QuaternionKeyframeTrack, QuaternionLinearInterpolant, REVISION, RGBADepthPacking, RGBAFormat, RGBAIntegerFormat, RGBA_ASTC_10x10_Format, RGBA_ASTC_10x5_Format, RGBA_ASTC_10x6_Format, RGBA_ASTC_10x8_Format, RGBA_ASTC_12x10_Format, RGBA_ASTC_12x12_Format, RGBA_ASTC_4x4_Format, RGBA_ASTC_5x4_Format, RGBA_ASTC_5x5_Format, RGBA_ASTC_6x5_Format, RGBA_ASTC_6x6_Format, RGBA_ASTC_8x5_Format, RGBA_ASTC_8x6_Format, RGBA_ASTC_8x8_Format, RGBA_ETC2_EAC_Format, RGBA_PVRTC_2BPPV1_Format, RGBA_PVRTC_4BPPV1_Format, RGBA_S3TC_DXT1_Format, RGBA_S3TC_DXT3_Format, RGBA_S3TC_DXT5_Format, RGBDEncoding, RGBEEncoding, RGBEFormat, RGBFormat, RGBIntegerFormat, RGBM16Encoding, RGBM7Encoding, RGB_ETC1_Format, RGB_ETC2_Format, RGB_PVRTC_2BPPV1_Format, RGB_PVRTC_4BPPV1_Format, RGB_S3TC_DXT1_Format, RGFormat, RGIntegerFormat, RawShaderMaterial, Ray, Raycaster, RectAreaLight, RedFormat, RedIntegerFormat, ReinhardToneMapping, RepeatWrapping, ReplaceStencilOp, ReverseSubtractEquation, RingBufferGeometry, RingGeometry, SRGB8_ALPHA8_ASTC_10x10_Format, SRGB8_ALPHA8_ASTC_10x5_Format, SRGB8_ALPHA8_ASTC_10x6_Format, SRGB8_ALPHA8_ASTC_10x8_Format, SRGB8_ALPHA8_ASTC_12x10_Format, SRGB8_ALPHA8_ASTC_12x12_Format, SRGB8_ALPHA8_ASTC_4x4_Format, SRGB8_ALPHA8_ASTC_5x4_Format, SRGB8_ALPHA8_ASTC_5x5_Format, SRGB8_ALPHA8_ASTC_6x5_Format, SRGB8_ALPHA8_ASTC_6x6_Format, SRGB8_ALPHA8_ASTC_8x5_Format, SRGB8_ALPHA8_ASTC_8x6_Format, SRGB8_ALPHA8_ASTC_8x8_Format, Scene, SceneUtils, ShaderChunk, ShaderLib, ShaderMaterial, ShadowMaterial, Shape, ShapeBufferGeometry, ShapeGeometry, ShapePath, ShapeUtils, ShortType, Skeleton, SkeletonHelper, SkinnedMesh, SmoothShading, Sphere, SphereBufferGeometry, SphereGeometry, Spherical, SphericalHarmonics3, SphericalReflectionMapping, Spline, SplineCurve, SplineCurve3, SpotLight, SpotLightHelper, SpotLightShadow, Sprite, SpriteMaterial, SrcAlphaFactor, SrcAlphaSaturateFactor, SrcColorFactor, StaticCopyUsage, StaticDrawUsage, StaticReadUsage, StereoCamera, StreamCopyUsage, StreamDrawUsage, StreamReadUsage, StringKeyframeTrack, SubtractEquation, SubtractiveBlending, TOUCH, TangentSpaceNormalMap, TetrahedronBufferGeometry, TetrahedronGeometry, TextBufferGeometry, TextGeometry, Texture, TextureLoader, TorusBufferGeometry, TorusGeometry, TorusKnotBufferGeometry, TorusKnotGeometry, Triangle, TriangleFanDrawMode, TriangleStripDrawMode, TrianglesDrawMode, TubeBufferGeometry, TubeGeometry, UVMapping, Uint16Attribute, Uint16BufferAttribute, Uint32Attribute, Uint32BufferAttribute, Uint8Attribute, Uint8BufferAttribute, Uint8ClampedAttribute, Uint8ClampedBufferAttribute, Uncharted2ToneMapping, Uniform, UniformsLib, UniformsUtils, UnsignedByteType, UnsignedInt248Type, UnsignedIntType, UnsignedShort4444Type, UnsignedShort5551Type, UnsignedShort565Type, UnsignedShortType, VSMShadowMap, Vector2, Vector3, Vector4, VectorKeyframeTrack, Vertex, VertexColors, VideoTexture, WebGLCubeRenderTarget, WebGLMultisampleRenderTarget, WebGLRenderTarget, WebGLRenderTargetCube, WebGLRenderer, WebGLUtils, WireframeGeometry, WireframeHelper, WrapAroundEnding, XHRLoader, ZeroCurvatureEnding, ZeroFactor, ZeroSlopeEnding, ZeroStencilOp, sRGBEncoding };\n","var g;\n\n// This works in non-strict mode\ng = (function() {\n\treturn this;\n})();\n\ntry {\n\t// This works if eval is allowed (see CSP)\n\tg = g || new Function(\"return this\")();\n} catch (e) {\n\t// This works if the window reference is available\n\tif (typeof window === \"object\") g = window;\n}\n\n// g can still be undefined, but nothing to do about it...\n// We return undefined, instead of nothing here, so it's\n// easier to handle this case. if(!global) { ...}\n\nmodule.exports = g;\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\nimport * as is from \"./is\";\r\n\r\n/**\r\n * @class Array\r\n */\r\n\r\n/**\r\n * argumentsを配列に変換して返す\r\n * スライス位置を指定して切り取り可能\r\n * @static\r\n * @method argsToArray\r\n * @param {arguments} args arguments\r\n * @param {number} index スライスする切り取り開始位置\r\n * @param {number} lastIndex スライスする切り取り終了位置\r\n * @type {array} argumentsを配列に変換して返す\r\n */\r\nexport const argsToArray = (() => {\r\n\tlet slice = Array.prototype.slice;\r\n\r\n\treturn (args, index = 0, lastIndex) => {\r\n\t\tlastIndex = lastIndex || args.length;\r\n\t\treturn slice.call(args, index, lastIndex);\r\n\t};\r\n})();\r\n\r\n\r\n/**\r\n * each\r\n * @static\r\n * @method each\r\n * @param {Array|Object|Number} obj eachを行うオブジェクト、または回数\r\n * @param {function} callback イテレーション毎のコールバック関数\r\n * @return {object} 第一引数に渡されたオブジェクト\r\n */\r\nexport function each(obj, callback) {\r\n\tlet isContinue, i;\r\n\r\n\tif (is.isArray(obj)) {\r\n\t\tlet l = obj.length;\r\n\t\ti = 0;\r\n\t\tfor (; i < l; i += 1) {\r\n\t\t\tisContinue = callback.call(obj[i], obj[i], i, obj);\r\n\t\t\tif (isContinue === false) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} else if (is.isObject(obj) || is.isFunction(obj)) {\r\n\t\tfor (i in obj) {\r\n\t\t\tisContinue = callback.call(obj[i], obj[i], i, obj);\r\n\t\t\tif (isContinue === false) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t} else if (is.isNumber(obj)) {\r\n\t\ti = 0;\r\n\t\tfor (; i < obj; i += 1) {\r\n\t\t\tisContinue = callback.call(null, i, i, obj);\r\n\t\t\tif (isContinue === false) {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\treturn obj;\r\n};\r\n\r\n\r\n/**\r\n * 配列から最大値を探す\r\n * @static\r\n * @method findMax\r\n * @param  {array} nums 数値を格納した配列\r\n * @return {number}\r\n */\r\nexport function findMax(nums) {\r\n\treturn Math.max.apply(null, nums);\r\n};\r\n\r\n\r\n/**\r\n * 配列から最小値を探す\r\n * @static\r\n * @method findMin\r\n * @param  {array} nums 数値を格納した配列\r\n * @return {number}\r\n */\r\nexport function findMin(nums) {\r\n\treturn Math.min.apply(null, nums);\r\n};\r\n\r\n\r\n/**\r\n * 配列をシャッフルして返す\r\n * @static\r\n * @method shuffle\r\n * @param {array} ary シャッフルする配列\r\n * @return {array} 配列をシャッフルして返す\r\n */\r\nexport function shuffle(ary) {\r\n\treturn ary.sort(() => {\r\n\t\treturn Math.random() - 0.5;\r\n\t});\r\n};\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\n\r\n/**\r\n * @class Is\r\n * see: http://diveintohtml5.info/everything.html\r\n */\r\n\r\nlet object = {};\r\nlet toString = Object.prototype.toString\r\nlet getProto = Object.getPrototypeOf;\r\nlet hasOwn = object.hasOwnProperty;\r\n\r\n\r\n/**\r\n * ユーザーエージェント\r\n * @static\r\n * @property UA\r\n * @type {string}\r\n */\r\nexport const UA = navigator.userAgent;\r\n\r\n\r\n/**\r\n * ユーザーエージェント toLowerCase\r\n * @static\r\n * @property ua\r\n * @type {string}\r\n */\r\nexport const ua = UA.toLowerCase();\r\n\r\n\r\n/* isType\r\n-----------------------------------------------------------------*/\r\n/**\r\n * 配列型判定\r\n * @static\r\n * @method isArray\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport const isArray = Array.isArray || function (obj) {\r\n\treturn toString.call(obj) === \"[object Array]\";\r\n};\r\n\r\n\r\n/**\r\n * 真偽型判定\r\n * @static\r\n * @method isBoolean\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isBoolean(obj) {\r\n\treturn toString.call(obj) === \"[object Boolean]\";\r\n};\r\n\r\n\r\n/**\r\n * 関数型判定\r\n * @static\r\n * @method isFunction\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isFunction(obj) {\r\n\treturn toString.call(obj) === \"[object Function]\";\r\n};\r\n\r\n\r\n/**\r\n * 数値型判定\r\n * @static\r\n * @method isNumber\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isNumber(obj) {\r\n\treturn toString.call(obj) === \"[object Number]\";\r\n};\r\n\r\n\r\n/**\r\n * オブジェクト型判定\r\n * @static\r\n * @method isObject\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isObject(obj) {\r\n\treturn !!obj && toString.call(obj) === \"[object Object]\";\r\n};\r\n\r\n\r\n/**\r\n * プレーンオブジェクト判定\r\n * @static\r\n * @method isPlainObject\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isPlainObject(obj) {\r\n  // return isObject(obj) && Object.keys(obj).length === 0;\r\n  let proto, ctor;\r\n\r\n  if (!obj || toString.call(obj) !== \"[object Object]\") {\r\n    return false;\r\n  }\r\n\r\n  proto = getProto(obj);\r\n\r\n  if (!proto) {\r\n    return true;\r\n  }\r\n\r\n  ctor = hasOwn.call(proto, \"constructor\") && proto.constructor;\r\n\r\n  return typeof ctor === \"function\" && hasOwn.toString.call(ctor) === hasOwn.toString.call(Object);\r\n};\r\n\r\n\r\n/**\r\n * 文字列型判定\r\n * @static\r\n * @method isString\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isString(obj) {\r\n\treturn toString.call(obj) === \"[object String]\";\r\n};\r\n\r\n\r\n/**\r\n * 正規表現判定\r\n * @static\r\n * @method isRegexp\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isRegexp(obj) {\r\n\treturn toString.call(obj) === \"[object RegExp]\";\r\n};\r\n\r\n\r\n/**\r\n * undefined判定\r\n * @static\r\n * @method isUndefined\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isUndefined(obj) {\r\n\treturn obj === void 0;\r\n};\r\n\r\n\r\n/**\r\n * null判定\r\n * @static\r\n * @method isNull\r\n * @param {object} obj 判定するオブジェクト\r\n * @return {boolean}\r\n */\r\nexport function isNull(obj) {\r\n\treturn obj === null || toString.call(obj) === \"[object Null]\";\r\n};\r\n\r\n\r\n/**\r\n * マルチバイト文字列判定\r\n * @static\r\n * @method isMultibyte\r\n * @param  {string}  chara 一文字\r\n * @return {boolean}\r\n */\r\nexport function isMultibyte(chara) {\r\n\treturn ('!\"#$%&\\'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\\\]^_`abcdefghijklmnopqrstuvwxyz{|}~'.indexOf(chara) < 0);\r\n};\r\n\r\n\r\n/**\r\n * isEmail Email判定\r\n * @param  {string}  email メールアドレス\r\n * @return {boolean}\r\n */\r\nexport function isEmail(email) {\r\n\treturn email.match(/.+@.+\\..+/) !== null;\r\n};\r\n\r\n\r\n/* OS\r\n-----------------------------------------------------------------*/\r\n/**\r\n * OS判定\r\n * @static\r\n * @method isOS\r\n * @param {string} os OS名 [windows, mac, ios, android]\r\n * @param {String|Number} ver バージョンナンバー Android ios のみ有効\r\n * @return {boolean}\r\n */\r\nexport function isOS(os, ver) {\r\n\tlet _os = os.toLowerCase();\r\n\r\n\tswitch (_os) {\r\n\t\tcase \"windows\":\r\n\t\t\treturn isWindows(ver);\r\n\t\tcase \"mac\":\r\n\t\t\treturn isMac(ver);\r\n\t\tcase \"android\":\r\n\t\t\treturn isAndroid(ver);\r\n\t\tcase \"ios\":\r\n\t\t\treturn isIos(ver);\r\n\t\tdefault:\r\n\t\t\tthrow new Error(_os + \" is Invalid argument\");\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Windows判定\r\n * @static\r\n * @method isWindows\r\n * @param {Number|String} バージョン名[7, 8, 8.1, 10] 省略可\r\n * @return {boolean}\r\n */\r\nexport function isWindows(ver) {\r\n\tif (ver) {\r\n\t\t// NT Ver. プロダクト名\r\n\t\t// NT 6.1  Windows 7/Windows Server 2008 R2\r\n\t\t// NT 6.2  Windows 8/Windows Server 2012\r\n\t\t// NT 6.3  Windows 8.1/Windows Server 2012 R2\r\n\t\t// NT 10.0 Windows 10\r\n\r\n\t\tlet _ver = ua.split(\" windows nt \")[1].split(\";\")[0];\r\n\t\tver += \"\"; // cast String\r\n\r\n\t\tif (ver === \"7\") {\r\n\t\t\treturn _ver === \"6.1\";\r\n\t\t} else if (ver === \"8\") {\r\n\t\t\treturn _ver === \"6.2\";\r\n\t\t} else if (ver === \"8.1\") {\r\n\t\t\treturn _ver === \"6.3\";\r\n\t\t} else if (ver === \"10\") {\r\n\t\t\treturn _ver === \"10.0\";\r\n\t\t} else {\r\n\t\t\treturn false;\r\n\t\t}\r\n\t} else {\r\n\t\treturn ua.indexOf(\"windows\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Mac判定 ※isoは、含みません\r\n * @static\r\n * @method isMac\r\n * @param {Number|String} バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isMac(ver) {\r\n  if(isTouchScreen()){\r\n    return false;\r\n  }\r\n\tif (ver) {\r\n\t\tlet serial = (\"\" + ver).replace(/\\./g, \"_\");\r\n\t\treturn ua.indexOf(\"intel mac os x \" + serial) > -1;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"intel mac os x \") > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * ios判定\r\n * @static\r\n * @method isIos\r\n * @param {Number|String} バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isIos(ver) {\r\n\tif (ver) {\r\n\t\tlet serial = (\"\" + ver).replace(/\\./g, \"_\");\r\n\t\treturn ua.indexOf(\"like mac os x\") > -1 && ua.indexOf(\"mobile\") > -1 && ua.indexOf(\"os \" + serial) > -1;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"like mac os x\") > -1 && ua.indexOf(\"mobile\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Android判定\r\n * @static\r\n * @method isAndroid\r\n * @param {Number|String} バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isAndroid(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"android \" + ver) > -1;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"android\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/* Device\r\n-----------------------------------------------------------------*/\r\n/**\r\n * デバイス判定\r\n *\r\n * @static\r\n * @method isDevice\r\n * @param {string} device デバイス名<br>\r\n * デバイス名 | 引数文字列 <br>\r\n * PC (for Desktop) | pc <br>\r\n * Smart Device | sd, smartdevice <br>\r\n * Smart Phone | sp, smartphone <br>\r\n * Tablet | tb, tablet <br>\r\n * iPhone | iphone <br>\r\n * iPad | ipad <br>\r\n * iPod | ipod <br>\r\n * Android Phone | androidPhone <br>\r\n * Android Tablet | androidTablet\r\n * @return {boolean}\r\n */\r\nexport function isDevice(device) {\r\n\tlet _device = device.toLowerCase();\r\n\r\n\tif (_device === \"pc\") {\r\n\t\treturn isPC();\r\n\t} else if (_device === \"sd\" || _device === \"smartdevice\") {\r\n\t\treturn isSmartDevice();\r\n\t} else if (_device === \"sp\" || _device === \"smartphone\") {\r\n\t\treturn isSmartPhone();\r\n\t} else if (_device === \"tb\" || _device === \"tablet\") {\r\n\t\treturn isTablet();\r\n\t} else if (_device === \"iphone\") {\r\n\t\treturn isIPhone();\r\n\t} else if (_device === \"ipad\") {\r\n\t\treturn isIPad();\r\n\t} else if (_device === \"ipod\") {\r\n\t\treturn isIPod();\r\n\t} else if (_device === \"android\") {\r\n\t\treturn isAndroidPhone();\r\n\t} else if (_device === \"androidtablet\") {\r\n\t\treturn isAndroidTablet();\r\n\t} else {\r\n\t\tthrow new Error(_device + \" is Invalid argument\");\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * PC判定\r\n * @static\r\n * @method isPC\r\n * @return {boolean}\r\n */\r\nexport function isPC() {\r\n\treturn isWindows() || isMac();\r\n};\r\n\r\n\r\n/**\r\n * スマートデバイス判定\r\n * @static\r\n * @method isSmartDevice\r\n * @return {boolean}\r\n */\r\nexport function isSmartDevice() {\r\n\treturn isIos() || isAndroid();\r\n};\r\n\r\n\r\n/**\r\n * SmartPhone判定\r\n * @static\r\n * @method isSmartPhone\r\n * @return {boolean}\r\n */\r\nexport function isSmartPhone() {\r\n\treturn ua.indexOf(\"iphone\") > -1 || isAndroid() && ua.indexOf(\"mobile\") > -1;\r\n};\r\n\r\n\r\n/**\r\n * タブレット判定\r\n * @static\r\n * @method isTablet\r\n * @return {boolean}\r\n */\r\nexport function isTablet() {\r\n\treturn isIPad() || isAndroidTablet();\r\n};\r\n\r\n\r\n/**\r\n * iPhone判定\r\n * @static\r\n * @method isIPhone\r\n * @return {boolean}\r\n */\r\nexport function isIPhone() {\r\n\treturn ua.indexOf(\"iphone\") > -1;\r\n};\r\n\r\n\r\n/**\r\n * iPad判定\r\n * @static\r\n * @method isIPad\r\n * @return {boolean}\r\n */\r\nexport function isIPad() {\r\n  let _isIpad = ua.indexOf(\"ipad\") > -1;\r\n  if(!_isIpad){ // MacOsでタッチができる場合\r\n    _isIpad = isMac() && isTouchScreen();\r\n  }\r\n  return _isIpad;\r\n};\r\n\r\n\r\n/**\r\n * iPod判定\r\n * @static\r\n * @method isIPod\r\n * @return {boolean}\r\n */\r\nexport function isIPod() {\r\n\treturn ua.indexOf(\"ipod\") > -1;\r\n};\r\n\r\n\r\n/**\r\n * AndroidPhone判定\r\n * @static\r\n * @method isAndroidPhone\r\n * @return {boolean}\r\n */\r\nexport function isAndroidPhone() {\r\n\treturn isAndroid() && ua.indexOf(\"mobile\") > -1;\r\n};\r\n\r\n\r\n/**\r\n * AndroidTablet判定\r\n * @static\r\n * @method isAndroidTablet\r\n * @return {boolean}\r\n */\r\nexport function isAndroidTablet() {\r\n\treturn isAndroid() && ua.indexOf(\"mobile\") < 0;\r\n};\r\n\r\n\r\n/* Browser\r\n-----------------------------------------------------------------*/\r\n/**\r\n * ブラウザ判定\r\n * @static\r\n * @method isBrowser\r\n * @param {string} key ブラウザ名<br>\r\n * ブラウザ名 | 引数文字列 <br>\r\n * Microsoft Edge | edge <br>\r\n * Internet Explorer | ie <br>\r\n * Google Chrome for PC| chrome <br>\r\n * Firefox for PC| firefox <br>\r\n * Mac Safari (for Desktop) | safari <br>\r\n * Opera (for Desktop) | opera <br>\r\n * ios Safari | mobileSafari <br>\r\n * Android Browser | android <br>\r\n * Mobile Chrome | mobilechrome <br>\r\n * ios Chrome | ioschrome <br>\r\n * Android Chrome | androidchrome <br>\r\n * Webkit Browser | webkit\r\n * @param {String | Number} ver バージョン (ie, mobileSafari, android) 省略可\r\n * @return {boolean}\r\n */\r\nexport function isBrowser(browser, ver) {\r\n\tlet _browser = browser.toLowerCase();\r\n\r\n\tif (_browser === \"ie\") {\r\n\t\treturn isIE(ver);\r\n\t} else if (_browser === \"edge\") {\r\n\t\treturn isEdge(ver);\r\n\t} else if (_browser === \"chrome\") {\r\n\t\treturn isChrome(ver);\r\n\t} else if (_browser === \"firefox\") {\r\n\t\treturn isFirefox(ver);\r\n\t} else if (_browser === \"safari\") {\r\n\t\treturn isSafari(ver);\r\n\t} else if (_browser === \"mobilesafari\") {\r\n\t\treturn isMobileSafari(ver);\r\n\t} else if (_browser === \"android\") {\r\n\t\treturn isAndroidBrowser(ver);\r\n\t} else if (_browser === \"mobilechrome\") {\r\n\t\treturn isMobileChrome(ver);\r\n\t} else if (_browser === \"androidchrome\") {\r\n\t\treturn isAndroidChrome(ver);\r\n\t} else if (_browser === \"isochrome\") {\r\n\t\treturn isIosChrome(ver);\r\n\t} else if (_browser === \"webkit\") {\r\n\t\treturn isWebkit();\r\n\t} else {\r\n\t\tthrow new Error(_browser + \" is Invalid argument\");\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * IE判定\r\n * @static\r\n * @method isIE\r\n * @param {number}  ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isIE(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"msie \" + ver) > -1 || (ua.indexOf(\"trident\") > -1 && ua.indexOf(\"rv:\" + ver) > -1);\r\n\t} else {\r\n\t\treturn ua.indexOf(\"msie\") > -1 || ua.indexOf(\"trident\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n// NOTE: edgeがChromium採用予定なので判定処理をアップデート予定\r\n/**\r\n * Microsoft Edge判定\r\n * @static\r\n * @method isEdge\r\n * @param {Number|String}  ver バージョン名\r\n * @return {boolean}\r\n */\r\nexport function isEdge(ver) {\r\n\tver = ver || \"\";\r\n\treturn ua.indexOf(\"edge/\" + ver) > -1;\r\n};\r\n\r\n\r\n/**\r\n * PC版 Chrome判定\r\n * @static\r\n * @method isChrome\r\n * @return {boolean}\r\n */\r\nexport function isChrome(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"chrome/\" + ver) > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"chrome\") > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * PC版 Firefox判定\r\n * @static\r\n * @method isFirefox\r\n * @return {boolean}\r\n */\r\nexport function isFirefox(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"firefox/\" + ver) > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"firefox\") > -1 && ua.indexOf(\"mobile\") < 0;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * PC版 Safari判定\r\n * @static\r\n * @method isSafari\r\n * @return {boolean}\r\n */\r\nexport function isSafari(ver) {\r\n\tif (ver) {\r\n\t\treturn ua.indexOf(\"safari\") > -1 && ua.indexOf(\"mobile\") < 0 && !isChrome() && ua.indexOf(\"version/\" + ver) > - 1;\r\n\t} else {\r\n\t\treturn ua.indexOf(\"safari\") > -1 && ua.indexOf(\"mobile\") < 0 && !isChrome();\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * MobileSafari判定\r\n * @static\r\n * @method isMobileSafari\r\n * @param {Number|String} ver バージョンナンバー  省略可\r\n * @return {boolean}\r\n */\r\nexport function isMobileSafari(ver) {\r\n\tif (ver) {\r\n\t\treturn isIos(ver) && ua.indexOf(\"safari\") > -1;\r\n\t} else {\r\n\t\treturn isIos() && ua.indexOf(\"safari\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Android標準Browser判定\r\n * @static\r\n * @method isAndroidBrowser\r\n * @param {Number|String} ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isAndroidBrowser(ver) {\r\n\tif (ver) {\r\n\t\treturn isAndroid(ver) && ua.indexOf(\"safari\") > -1;\r\n\t} else {\r\n\t\treturn isAndroid() && ua.indexOf(\"safari\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Mobile Chrome判定\r\n * @static\r\n * @method isMobileChrome\r\n * @param {Number|String} ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isMobileChrome(ver) {\r\n\treturn isIosChrome(ver) || isAndroidChrome(ver);\r\n};\r\n\r\n\r\n/**\r\n * ios Chrome判定\r\n * @static\r\n * @method isIosChrome\r\n * @param {Number|String} ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isIosChrome(ver) {\r\n\tif (ver) {\r\n\t\treturn isIos() && ua.indexOf(\"crios/\" + ver) > -1;\r\n\t} else {\r\n\t\treturn isIos() && ua.indexOf(\"crios/\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * Android Chrome判定\r\n * @static\r\n * @method isAndroidChrome\r\n * @param {Number|String} ver バージョンナンバー 省略可\r\n * @return {boolean}\r\n */\r\nexport function isAndroidChrome(ver) {\r\n\tif (ver) {\r\n\t\treturn isAndroid() && ua.indexOf(\"chrome/\" + ver) > -1;\r\n\t} else {\r\n\t\treturn isAndroid() && ua.indexOf(\"chrome/\") > -1;\r\n\t}\r\n};\r\n\r\n\r\n/**\r\n * webkit ブラウザ判定\r\n * @static\r\n * @method isWebkit\r\n * @return {boolean}\r\n */\r\nexport function isWebkit() {\r\n\treturn ua.indexOf(\"webkit\") > -1;\r\n};\r\n\r\n\r\n/* Utility\r\n-----------------------------------------------------------------*/\r\n/**\r\n * File APIの有無\r\n * @static\r\n * @method isFileAPI\r\n * @return {boolean}\r\n */\r\nexport function isFileAPI() {\r\n\treturn !!(window.File && window.FileReader && window.FileList && window.Blob);\r\n};\r\n\r\n\r\n/**\r\n * RequestFileSystemの有無\r\n * @static\r\n * @method isRequestFileSystem\r\n * @return {boolean}\r\n */\r\nexport function isRequestFileSystem() {\r\n\treturn !!(window.requestFileSystem || window.webkitRequestFileSystem);\r\n};\r\n\r\n\r\n/**\r\n * Storage機能が使えるか判定\r\n * @static\r\n * @method isStorage\r\n * @return {boolean}\r\n */\r\nexport function isStorage() {\r\n\tlet isStorage = \"sessionStorage\" in window && \"localStorage\" in window;\r\n\r\n\tif (isStorage) {\r\n\t\ttry {\r\n\t\t\tlocalStorage.setItem(\"_INKJS_\", 1);\r\n\t\t} catch (err) {\r\n\t\t\tisStorage = false;\r\n\t\t}\r\n\t\tif (isStorage) {\r\n\t\t\tlocalStorage.removeItem(\"_INKJS_\");\r\n\t\t}\r\n\t}\r\n\treturn isStorage;\r\n};\r\n\r\n\r\n/**\r\n * TouchScreen判定\r\n * @static\r\n * @method isTouchScreen\r\n * @return {boolean}\r\n */\r\nexport const isTouchScreen = (() => {\r\n\tlet isTouchScreen,\r\n\t\tdiv = document.createElement(\"div\");\r\n\r\n\tdiv.setAttribute(\"ontouchstart\", \"return\");\r\n\tisTouchScreen = (typeof div.ontouchstart === \"function\");\r\n\r\n\treturn function () {\r\n\t\treturn isTouchScreen;\r\n\t};\r\n})();\r\n","/// INKjs Javascript Library\r\n/// The MIT License (MIT)\r\n/// Source https://github.com/yoshihitofujiwara/INKjs\r\n/// Author Yoshihito Fujiwara\r\n/// Copyright (c) 2012 Yoshihito Fujiwara\r\n\r\nimport * as is from \"./is\";\r\nimport * as array from \"./array\";\r\n\r\n/**\r\n * @class Utility\r\n */\r\n\r\n\r\n/**\r\n * NOTE: β.ver\r\n * base64画像のファイルサイズ取得(bytes)\r\n * 厳密なファイルサイズではありません。\r\n * デバッグ時におおよそのファイルサイズを見るために使用しますので多少誤差があります\r\n * @static\r\n * @method base64FileSize\r\n * @param  {Base64} base64 base64画像\r\n * @return {number} bytes\r\n */\r\nexport function base64FileSize(base64) {\r\n\tlet len = base64.indexOf(\";base64,\") + 8,\r\n\t\tbytes = (base64.length - len) * 3 / 4;\r\n\treturn bytes;\r\n};\r\n\r\n\r\n/**\r\n * 匿名関数名を返す\r\n * 無名関数はundefinedを返します\r\n * @static\r\n * @method getFunctionName\r\n * @param {function} fn 名前を取得したい関数\r\n * @return {string} 関数名\r\n */\r\nexport function getFunctionName(fn) {\r\n  if (is.isFunction(fn)) {\r\n    if (fn.prototype.constructor && fn.prototype.constructor.name) {\r\n      return fn.prototype.constructor.name;\r\n    } else {\r\n      return (\"\" + fn).replace(/^\\s*function\\s*([^\\(]*)[\\S\\s]+$/im, \"$1\");\r\n    }\r\n  }\r\n};\r\n\r\n\r\n/**\r\n * オブジェクトの拡張\r\n * @static\r\n * @method mixin\r\n * @param {boolean} isDeep ディープコピーするか 初期値: false 省略可\r\n * @param {object} arguments 拡張するオブジェクト\r\n * @return {object} 拡張したオブジェクトを返します\r\n */\r\nexport function mixin(isDeep, objA, objB) {\r\n  let options, name, src, copy, copyIsArray, clone,\r\n    target = arguments[0] || {},\r\n    i = 1,\r\n    length = arguments.length,\r\n    deep = false;\r\n\r\n  if (typeof target === \"boolean\") {\r\n    deep = target;\r\n    target = arguments[i] || {};\r\n    i++;\r\n  }\r\n\r\n  if (typeof target !== \"object\" && !is.isFunction(target)) {\r\n    target = {};\r\n  }\r\n\r\n  if (i === length) {\r\n    target = this;\r\n    i--;\r\n  }\r\n\r\n  for (; i < length; i++) {\r\n    if ((options = arguments[i]) != null) {\r\n\r\n      for (name in options) {\r\n        copy = options[name];\r\n\r\n        if (name === \"__proto__\" || target === copy) {\r\n          continue;\r\n        }\r\n\r\n        if (deep && copy && (is.isPlainObject(copy) ||\r\n          (copyIsArray = Array.isArray(copy)))) {\r\n          src = target[name];\r\n\r\n          if (copyIsArray && !Array.isArray(src)) {\r\n            clone = [];\r\n          } else if (!copyIsArray && !is.isPlainObject(src)) {\r\n            clone = {};\r\n          } else {\r\n            clone = src;\r\n          }\r\n          copyIsArray = false;\r\n\r\n          target[name] = mixin(deep, clone, copy);\r\n\r\n        } else if (copy !== undefined) {\r\n          target[name] = copy;\r\n        }\r\n      }\r\n    }\r\n  }\r\n\r\n  return target;\r\n};\r\n\r\n\r\n/**\r\n * 現在の日時情報を格納したオブジェクトを返す\r\n * @static\r\n * @method nowDate\r\n * @return {object}\r\n */\r\nexport function nowDate() {\r\n  let date = new Date();\r\n\r\n  return {\r\n    date: date,\r\n    year: date.getFullYear(),\r\n    month: date.getMonth() + 1,\r\n    day: date.getDay(),\r\n    date: date.getDate(),\r\n    hour: date.getHours(),\r\n    minute: date.getMinutes(),\r\n    second: date.getSeconds()\r\n  };\r\n};\r\n\r\n\r\n/**\r\n * NOTE: α.ver\r\n * spec - CPU性能を返す（だいたい）\r\n *\r\n * @export\r\n * @returns\r\n */\r\nexport function spec() {\r\n\tconst SPEED_CONSTANT = 8.9997e-9;\r\n\t//if speed=(c*a)/t, then constant=(s*t)/a and time=(a*c)/s\r\n\r\n\tconst START_TIME = performance.now();\r\n\tconst AMOUNT = 150000000;\r\n\tfor (let i = AMOUNT; i > 0; i--) { }\r\n\tconst END_TIME = performance.now();\r\n\tlet sub = (END_TIME - START_TIME) / 1000;\r\n\tlet speed = ((SPEED_CONSTANT * AMOUNT) / sub);\r\n\r\n\treturn {\r\n\t\tcore: navigator.hardwareConcurrency || \"Chrome Only\",\r\n\t\ttime: Math.round(sub * 1000) / 1000, // sec\r\n\t\tclock: Math.round(speed * 1000) / 1000 // GHZ\r\n\t}\r\n}\r\n\r\n\r\n/**\r\n * 空の関数\r\n * @static\r\n * @method noop\r\n * @return {function}\r\n */\r\nexport function noop() { };\r\n\r\n\r\n/**\r\n * コンソールログの出力\r\n * @static\r\n * @method log\r\n * @return {function}\r\n */\r\nexport function log() {\r\n\tif (!INK || INK.isDevelop) {\r\n\t\tconsole.log.apply(console, array.argsToArray(arguments));\r\n\t}\r\n};\r\n","import RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day001.frag\";\r\n\r\n\r\nexport default class Day001{\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag\r\n    });\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY\r\n    });\r\n  }\r\n}\r\n\r\n","import RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day002.frag\";\r\n\r\n\r\nexport default class Day002{\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag\r\n    });\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY\r\n    });\r\n  }\r\n}\r\n\r\n","import RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day003.frag\";\r\n\r\nimport { Vector2 } from \"three\";\r\n\r\nexport default class Day003{\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_rotate: { type: \"f\", value: 0.0 },\r\n        u_translate: { type: \"v2\", value: new Vector2(512*0.5, 512*0.5) },\r\n        u_scale: { type: \"v2\", value:  new Vector2(1, 1) },\r\n        u_vert: { type: \"i\", value: 6 },\r\n        u_radius: { type: \"f\", value: 0.25 },\r\n      }\r\n    });\r\n\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_translate.value, \"x\", 0, 512).name(\"translateX\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n    debug.gui.add(mesh.material.uniforms.u_translate.value, \"y\", 0, 512).name(\"translateY\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_scale.value, \"x\", 0, 2).name(\"scaleX\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n    debug.gui.add(mesh.material.uniforms.u_scale.value, \"y\", 0, 2).name(\"scaleY\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_rotate, \"value\", 0, Math.PI * 2, 0.01).name(\"rotate\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_vert, \"value\", 3, 36, 1).name(\"Vert\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_radius, \"value\", 0, 0.5).name(\"Radius\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY\r\n    });\r\n  }\r\n}\r\n\r\n","import RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day004.frag\";\r\n\r\nimport { Vector2 } from \"three\";\r\n\r\nexport default class Day004{\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_tile: { type: \"f\", value: 2 },\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_tile, \"value\", 1, 24, 1).name(\"tile\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY\r\n    });\r\n  }\r\n}\r\n\r\n","import { ImageUtils} from \"three\";\r\nimport RenderManager from \"$utils/RenderManager\";\r\nimport ShaderPlaneMesh from \"$utils/ShaderPlaneMesh\";\r\nimport Debug from '$utils/Debug';\r\nimport dayFrag from \"$shader/days/day005.frag\";\r\n\r\nimport { Vector2 } from \"three\";\r\n\r\nexport default class Day005{\r\n  constructor(){\r\n    let debug = new Debug();\r\n\r\n\r\n    let mesh = new ShaderPlaneMesh(null, {\r\n      fragmentShader: dayFrag,\r\n      uniforms: {\r\n        u_map1: {\r\n          type: \"t\",\r\n          value: ImageUtils.loadTexture(\"./assets/img/img01.jpg\")\r\n        },\r\n        u_zoom: { type: \"f\", value: 1.2},\r\n        u_vert: { type: \"i\", value: 6 },\r\n        u_radius: { type: \"f\", value: 0.3}\r\n      }\r\n    });\r\n\r\n    // @debug\r\n    debug.gui.add(mesh.material.uniforms.u_zoom, \"value\", 1, 10).name(\"Zoom\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_vert, \"value\", 3, 12, 1).name(\"Vert\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n    debug.gui.add(mesh.material.uniforms.u_radius, \"value\", 0.1, 0.5).name(\"Radius\").onChange(()=>{\r\n      mesh.material.uniformsNeedUpdate = true;\r\n    });\r\n\r\n\r\n\r\n    this.renderManager = new RenderManager(document.querySelector(\"#canvas\"));\r\n    this.renderManager.scene.add(mesh);\r\n\r\n    this.renderManager.start();\r\n\r\n    // @event\r\n    this.renderManager.addEventListener(\"update\", (params) => {\r\n      mesh.material.uniformsNeedUpdate = true;\r\n      mesh.material.uniforms.u_time.value = params.time;\r\n      debug.update();\r\n    });\r\n\r\n    this.renderManager.canvas.addEventListener(\"mousemove\", (e)=>{\r\n      mesh.material.uniforms.u_mouse.value.x = e.offsetX;\r\n      mesh.material.uniforms.u_mouse.value.y = e.offsetY;\r\n    });\r\n  }\r\n}\r\n\r\n","export { default as Day001 } from \"./Day001\";\r\nexport { default as Day002 } from \"./Day002\";\r\nexport { default as Day003 } from \"./Day003\";\r\nexport { default as Day004 } from \"./Day004\";\r\nexport { default as Day005 } from \"./Day005\";\r\n","import * as days from \"./days\";\r\n\r\nglobal.days = days;\r\n\r\n\r\nlet path = location.href.split(\"/\").find(item => -1 < item.indexOf(\".html\"));\r\n\r\nif(path){\r\n  // init\r\n  let fileName = path.replace(\".html\", \"\");\r\n  let className = fileName.charAt(0).toUpperCase() + fileName.slice(1);\r\n  new days[className]();\r\n\r\n  // parger\r\n  let current = +fileName.replace(\"day\", \"\");\r\n\r\n  document.getElementById(\"prev\").addEventListener(\"click\", ()=>{\r\n    let prev = current - 1;\r\n    let prevPage = \"./\";\r\n    if(prev){\r\n      let _prev = prev.toString();\r\n      prevPage = \"./day\" + (Math.pow(10,  (3 - _prev.length))).toString().slice(1) + _prev + \".html\";\r\n    }\r\n    location.href = prevPage;\r\n  });\r\n\r\n  document.getElementById(\"next\").addEventListener(\"click\", ()=>{\r\n    let next = current + 1;\r\n    let _next = next.toString();\r\n    let nextPage = \"./day\" + (Math.pow(10,  (3 - _next.length))).toString().slice(1) + _next + \".html\";\r\n    location.href = nextPage;\r\n  });\r\n}\r\n\r\n\r\n\r\n\r\n\r\n\r\n","import Stats from \"stats-js\";\r\nimport * as dat from \"dat.gui\";\r\n\r\n\r\nexport default class Debug{\r\n  constructor(){\r\n    this.gui = new dat.GUI();\r\n    this.stats =  new Stats();\r\n    document.body.appendChild(this.stats.dom);\r\n  }\r\n\r\n\r\n  update(){\r\n    this.stats.update();\r\n    // requestAnimationFrame(this.update.bind(this));\r\n  }\r\n}\r\n","import { EventDispatcher, WebGLRenderer, PerspectiveCamera, Scene} from \"three\";\r\n\r\n\r\nexport default class RenderManager extends EventDispatcher {\r\n\t/**\r\n\t * constructor\r\n\t * @param  {Object} oprions\r\n\t */\r\n\tconstructor(params) {\r\n    super();\r\n\r\n    this.params = {\r\n      width: 512,\r\n      height: 512,\r\n      isUpdate: false,\r\n      ...params\r\n    }\r\n\r\n\t\tthis.canvas = canvas;\r\n\r\n    // renderer\r\n\t\tthis.renderer = new WebGLRenderer({\r\n\t\t\tcanvas: this.canvas,\r\n\t\t\t// antialias: true,\r\n\t\t\talpha: true\r\n\t\t});\r\n\t\tthis.renderer.setClearColor(0xFFFFFF, 0);\r\n\t\t// this.renderer.setPixelRatio(window.devicePixelRatio);\r\n\t\tthis.renderer.setPixelRatio(1);\r\n\t\tthis.renderer.setSize(this.params.width, this.params.height);\r\n\r\n    // camera\r\n\t\tlet fov = 45;\r\n\t\tthis.camera = new PerspectiveCamera(fov, this.params.width / this.params.height, 1, 1000);\r\n\t\tthis.camera.position.z = this.params.height / (2 * Math.tan(fov * (Math.PI / 180) / 2));\r\n\r\n    // scene\r\n    this.scene = new Scene();\r\n\r\n    // private props\r\n    this._animationId = null;\r\n    this._startTime = null;\r\n\r\n\r\n    if(this.params.isUpdate){\r\n      this.params.isUpdate = false;\r\n      this.start();\r\n    }\r\n\t}\r\n\r\n  /*--------------------------------------------------------------------------\r\n    @method\r\n  --------------------------------------------------------------------------*/\r\n\t/**\r\n\t * start\r\n\t */\r\n\tstart() {\r\n    if(this.params.isUpdate){\r\n      return;\r\n    }\r\n    this.params.isUpdate = true;\r\n    this._startTime = performance.now() / 1000;\r\n    this.dispatchEvent({type: \"start\"});\r\n\t\tthis._update();\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * stop\r\n\t */\r\n\tstop() {\r\n    if(this.params.isUpdate){\r\n      this.dispatchEvent({type: \"stop\"});\r\n      cancelAnimationFrame(this._animationId);\r\n    }\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * update\r\n\t */\r\n\t_update() {\r\n\t\t// this.event.trigger('renderBefore', this);\r\n\t\t// this.event.trigger('renderAfter', this);\r\n\t\t// this.camera.lookAt(new THREE.Vector3(0, this.offsetY, 0));\r\n\r\n    this.dispatchEvent({\r\n      type: \"update\",\r\n      time: (performance.now() - this._startTime) / 1000\r\n    });\r\n\t\tthis.render();\r\n\r\n    if(this.params.isUpdate){\r\n  \t\tthis._animationId = requestAnimationFrame(this._update.bind(this));\r\n    }\r\n\t}\r\n\r\n\r\n\t/**\r\n\t * render\r\n\t */\r\n\trender() {\r\n\t\tthis.renderer.render(this.scene, this.camera);\r\n\t}\r\n}\r\n","import { PlaneBufferGeometry, ShaderMaterial, Mesh, Vector2 } from \"three\";\r\nimport { mixin } from \"$ink/utils/utility\";\r\n\r\n\r\nconst VERTEX_SHADER = `\r\nvarying vec2 vUv;\r\n\r\nvoid main() {\r\n  vUv = uv;\r\n  gl_Position = vec4( position, 1.0 );\r\n}`;\r\n\r\nconst FRAGMENT_SHADER = `\r\n// precision highp float;\r\nprecision mediump float;\r\n\r\nuniform vec2 u_resolution;\r\nuniform float u_time;\r\nuniform float u_mouse;\r\n\r\nvoid main() {\r\n  vec2 st = gl_FragCoord.xy/u_resolution.xy;\r\n  gl_FragColor=vec4(st.x, st.y, 0.0, 1.0);\r\n}`;\r\n\r\n\r\nexport default class ShaderPlaneMesh extends Mesh {\r\n\t/**\r\n\t * constructor\r\n\t * @param  {Object} geometryParams\r\n\t * @param  {Object} materialParams\r\n\t */\r\n\tconstructor(geometryParams, materialParams) {\r\n    let gParams = mixin(true, {\r\n        width: 2,\r\n        height : 2,\r\n        segX: 1,\r\n        segY: 1,\r\n      },\r\n      geometryParams\r\n    );\r\n    let geometry = new PlaneBufferGeometry(\r\n      gParams.width,\r\n      gParams.height,\r\n      gParams.segX,\r\n      gParams.segY\r\n    );\r\n\r\n    let mParams = mixin(true, {\r\n      uniforms: {\r\n        u_time: { type: \"f\", value: 1.0 },\r\n        u_resolution: { type: \"v2\", value: new Vector2(512, 512) },\r\n        u_mouse: { type: \"v2\", value: new Vector2(512 * 0.5, 512 * 0.5) }\r\n       },\r\n       vertexShader: VERTEX_SHADER,\r\n       fragmentShader: FRAGMENT_SHADER,\r\n        transparent: true\r\n      },\r\n      materialParams\r\n    );\r\n    let material = new ShaderMaterial(mParams);\r\n\r\n    super(geometry, material);\r\n\t}\r\n}\r\n","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nvarying vec2 vUv;\\n\\nvec4 circle(vec2 position, vec2 offset, float radius, vec4 color){\\n\\tfloat len=length(offset-position);\\n\\treturn vec4(color.rgb, color.a * (1.-step(radius,len)));\\n}\\n\\nbool inCircle(vec2 position,vec2 offset,float radius){\\n\\tfloat len=length(position-offset);\\n\\tif(len<radius){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\nvoid main(){\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\n\\t// circle\\n\\tgl_FragColor = circle(st, vec2(0.5), 0.3, vec4(0.3804, 0.7647, 0.8784, 1.0));\\n\\n\\t// inCircle\\n\\t// if(inCircle(st, vec2(.5), .5)){\\n\\t// \\tgl_FragColor = vec4(0.3804, 0.7647, 0.8784, 1.0);\\n\\t// }\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nvarying vec2 vUv;\\n\\nfloat PI2_0 = 6.283185307179586;\\nfloat antialias_0 = .005;\\n\\nvec4 polygon(vec2 position, vec2 offset, int vert, float radius, vec4 color){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2_0/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias_0,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\treturn color * vec4(1.0 - amount);\\n}\\n\\nfloat PI2_1 = 6.283185307179586;\\nfloat antialias_1 = .005;\\n\\nbool inPolygon(vec2 position, vec2 offset, int vert, float radius){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2_1/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias_1,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\tif(amount == 0.0){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\n// SEE: https://thndl.com/square-shaped-shaders.html\\n\\nvoid main(){\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\tvec2 c = (vec2(0.5) - st) * 2.0;\\n\\n\\t// polygon\\n\\t// gl_FragColor = polygon(st, vec2(0.5), 6, 0.3, vec4(0.3804, 0.7647, 0.8784, 1.0));\\n\\n\\t// inPolygon\\n\\tif(inPolygon(st, vec2(0.5), 6, 0.3)){\\n\\t\\tgl_FragColor = vec4(0.3804, 0.7647, 0.8784, 1.0);\\n\\t}\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\n\\nuniform vec2 u_translate;\\nuniform vec2 u_scale;\\nuniform float u_rotate;\\n\\nuniform int u_vert;\\nuniform float u_radius;\\n\\nvarying vec2 vUv;\\n\\nfloat PI2 = 6.283185307179586;\\nfloat antialias = .005;\\n\\nvec4 polygon(vec2 position, vec2 offset, int vert, float radius, vec4 color){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\treturn color * vec4(1.0 - amount);\\n}\\n\\nmat2 rotate(float radius){\\n\\tfloat c=cos(radius);\\n\\tfloat s=sin(radius);\\n\\treturn mat2(c,-s,s,c);\\n}\\n\\n// SEE: https://thndl.com/square-shaped-shaders.html\\n\\nvoid main(){\\n\\tvec4 color = vec4(0.3804, 0.7647, 0.8784, 1.0);\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\t// vec2 c = (vec2(0.5) - st) * 2.0;\\n\\n\\t// translate\\n\\tvec2 offset = u_translate/u_resolution;\\n\\toffset.y = 1.0 - offset.y;\\n\\n\\t// rotate\\n\\tst *= rotate(u_rotate);\\n\\toffset *= rotate(u_rotate);\\n\\n\\t// scale\\n\\tif(u_scale.x == 0.0 || u_scale.y == 0.0){\\n\\t\\tdiscard;\\n\\t}\\n\\tst /= u_scale;\\n\\toffset /= u_scale;\\n\\n\\t// polygon\\n\\tvec4 fColor = polygon(st, offset, u_vert, u_radius, color);\\n\\n\\tgl_FragColor = fColor;\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\nuniform float u_tile;\\n\\nvarying vec2 vUv;\\n\\nfloat PI2_0 = 6.283185307179586;\\nfloat antialias_0 = .005;\\n\\nvec4 polygon(vec2 position, vec2 offset, int vert, float radius, vec4 color){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2_0/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias_0,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\treturn color * vec4(1.0 - amount);\\n}\\n\\nfloat PI2_1 = 6.283185307179586;\\nfloat antialias_1 = .005;\\n\\nbool inPolygon(vec2 position, vec2 offset, int vert, float radius){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2_1/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias_1,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\tif(amount == 0.0){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\n// SEE: https://thndl.com/square-shaped-shaders.html\\n\\nvoid main(){\\n\\tvec4 color=vec4(.3804,.7647,.8784,1.);\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\tst *= vec2(u_tile);\\n\\tst = fract(st);\\n\\n\\tvec2 offset = vec2(.5);\\n\\n\\t// polygon\\n\\tgl_FragColor = polygon(st, offset, 6, 0.3, color);\\n}\\n\";","export default \"// precision highp float;\\nprecision mediump float;\\n#define GLSLIFY 1\\n\\nuniform vec2 u_resolution;\\nuniform float u_time;\\nuniform vec2 u_mouse;\\nuniform sampler2D u_map1;\\nuniform float u_zoom;\\nuniform int u_vert;\\nuniform float u_radius;\\n\\nvarying vec2 vUv;\\n\\nbool inCircle(vec2 position,vec2 offset,float radius){\\n\\tfloat len=length(position-offset);\\n\\tif(len<radius){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\nfloat PI2 = 6.283185307179586;\\nfloat antialias = .005;\\n\\nbool inPolygon(vec2 position, vec2 offset, int vert, float radius){\\n\\tvec2 p = offset-position;\\n\\tfloat a=atan(p.x, p.y);\\n\\tfloat b=PI2/float(vert);\\n\\n\\tfloat amount = smoothstep(\\n\\t\\tradius,\\n\\t\\tradius + antialias,\\n\\t\\tcos(floor(.5 + a/b) * b - a) * length(p.xy)\\n\\t);\\n\\n\\tif(amount == 0.0){\\n\\t\\treturn true;\\n\\t}\\n\\treturn false;\\n}\\n\\n// SEE: https://thndl.com/square-shaped-shaders.html\\n\\nvoid main(){\\n\\tvec4 color=vec4(.3804,.7647,.8784,1.);\\n\\tvec2 st=gl_FragCoord.xy/u_resolution.xy;\\n\\n\\tvec2 mouse=u_mouse.xy/u_resolution.xy;\\n\\tmouse.y = 1.0 - mouse.y;\\n\\n\\tif(inPolygon(st, mouse, u_vert, u_radius)){\\n\\t\\tvec2 zoomCoord = st - (mouse);\\n\\t\\tzoomCoord = zoomCoord / u_zoom + mouse;\\n\\t\\tgl_FragColor = texture2D(u_map1, zoomCoord);\\n\\t// }\\n\\t// if(inCircle(st, mouse, u_radius)){\\n\\t// \\tvec2 zoomCoord = st - (mouse);\\n\\t// \\tzoomCoord = zoomCoord / u_zoom + mouse;\\n\\t// \\tgl_FragColor = texture2D(u_map1, zoomCoord);\\n\\n\\t} else {\\n\\t\\tgl_FragColor = texture2D(u_map1, vUv);\\n\\t}\\n\\n}\\n\";"],"sourceRoot":""}